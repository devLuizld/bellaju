;/*FB_PKG_DELIM*/

__d("InstamadilloReplyAttachmentId",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(a==null)return;return(h||(h=d("I64"))).of_string(a.attachmentFbid)});return i.apply(this,arguments)}g.getReplyAttachmentId=a}),98);
__d("InstamadilloReplyAttachmentType",["LSIntEnum","LSReplyMessageAttachmentType","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e={},e[(f=c("MessagingAttachmentType")).STICKER]=(i=c("LSReplyMessageAttachmentType")).STICKER,e[f.SELFIE_STICKER]=i.STICKER,e[f.IMAGE]=i.PHOTO,e[f.ANIMATED_IMAGE]=i.GIF,e[f.VIDEO]=i.VIDEO,e[f.AUDIO]=i.AUDIO,e[f.XMA]=i.XMA,e[f.EPHEMERAL_IMAGE]=i.PERMANENT_RAVEN_PHOTO,e[f.EPHEMERAL_VIDEO]=i.PERMANENT_RAVEN_VIDEO,e[f.SOUND_BITE]=i.SOUND_BITE,e[f.POWER_UP]=i.POWER_UP,e[f.FILE]=i.OTHER,e[f.CATALOG_ITEM]=i.OTHER,e);function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(c("gkx")("2226")){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(e==null||e.length===0)return;if(e.length>1)return(h||(h=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO);else if(e.length===1)return l(e[0])}else{e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));if(e==null)return;return l(e)}});return k.apply(this,arguments)}function l(a){a=(h||(h=d("LSIntEnum"))).unwrapIntEnum(a.attachmentType);a=j[a];if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyAttachmentType=a}),98);
__d("InstamadilloReplySnippet",["CurrentMessengerUser","I64","LSMessagingThreadTypeUtil","PolarisDirectStrings"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c;d("PolarisDirectStrings").REPLIED_TO;a&&b?c=d("PolarisDirectStrings").YOU_REPLIED_TO_YOURSELF:b?c=d("PolarisDirectStrings").REPLIED_TO_YOU:a?c=d("PolarisDirectStrings").YOU_REPLIED:c=d("PolarisDirectStrings").REPLIED_TO_THEMSELVES;return c.toString()}function j(a,b,c,e,f){var g=d("PolarisDirectStrings").userRepliedToUser(f,e);b&&c?g=d("PolarisDirectStrings").YOU_REPLIED_TO_YOURSELF:c?g=d("PolarisDirectStrings").userRepliedToYou(f):b?g=d("PolarisDirectStrings").youRepliedToUser(e):a&&(g=d("PolarisDirectStrings").userRepliedToThemselves(f));return g.toString()}function a(a,b,c){var e=b.name,f=c.name,g=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getIDorEIMU()),k=h.equal(b.id,c.id);b=h.equal(b.id,g);c=h.equal(c.id,g);g=d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType);if(g)return i(b,c);else return j(k,b,c,f,e)}g.getReplySnippet=a}),98);
__d("InstamadilloReplySourceTypeV2",["LSIntEnum","LSMessageReplySourceTypeV2","LSXmaContentType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case c("LSXmaContentType").IG_STORY_PHOTO_SHARE:case c("LSXmaContentType").IG_STORY_VIDEO_SHARE:case c("LSXmaContentType").IG_STORY_PHOTO_MENTION:case c("LSXmaContentType").IG_STORY_VIDEO_MENTION:case c("LSXmaContentType").IG_STORY_PHOTO_HIGHLIGHT_SHARE:case c("LSXmaContentType").IG_STORY_VIDEO_HIGHLIGHT_SHARE:return!0;default:return!1}}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=c("LSMessageReplySourceTypeV2").MESSAGE;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)));b=a;if((b==null?void 0:b.xmaContentType)!=null){a=(h||(h=d("LSIntEnum"))).unwrapIntEnum(b.xmaContentType);i(a)&&(e=c("LSMessageReplySourceTypeV2").STORY);e=c("LSMessageReplySourceTypeV2").XMA}return(h||(h=d("LSIntEnum"))).ofNumber(e)});return j.apply(this,arguments)}g.getReplySourceTypeV2=a}),98);
__d("InstamadilloReplyStatus",["I64","LSIntEnum","LSReplyMessageStatus","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.isUnsent?c("LSReplyMessageStatus").DELETED:c("LSReplyMessageStatus").VALID;if(a.ephemeralExpirationTs!=null){a=(h||(h=d("I64"))).to_int32(h.sub(a.ephemeralExpirationTs,h.of_float(d("WATimeUtils").unixTime())));a<=0&&(b=c("LSReplyMessageStatus").EXPIRED)}return(i||(i=d("LSIntEnum"))).ofNumber(b)}g.getReplyStatusType=a}),98);
__d("InstamadilloReplyMessageParams",["InstamadilloReplyAttachmentId","InstamadilloReplyAttachmentType","InstamadilloReplySnippet","InstamadilloReplySourceTypeV2","InstamadilloReplyStatus","LSIntEnum","LSMessageReplySourceType","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){return{replyMessageText:void 0,replySnippet:void 0,replySourceId:void 0,replySourceType:void 0,replySourceTypeV2:void 0,replyStatus:void 0,replyToUserId:void 0}}function e(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){a=(yield (i||(i=b("Promise"))).all([g.threads.get(a),g.contacts.get(e),g.messages.index("messageId").get(f)]));e=a[0];var j=a[1];a=a[2];f={replySourceId:f};if(j==null||e==null||a==null)return f;f.replySourceId=a.messageId;f.replySourceTimestampMs=a.timestampMs;f.replyToUserId=a.senderId;f.replyMessageText=a.text;f.replyStatus=d("InstamadilloReplyStatus").getReplyStatusType(a);var k=(yield g.contacts.get(a.senderId));k!=null&&(f.replySnippet=d("InstamadilloReplySnippet").getReplySnippet(e,j,k));f.replySourceType=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE);e=(yield i.all([d("InstamadilloReplySourceTypeV2").getReplySourceTypeV2(g,a),d("InstamadilloReplyAttachmentType").getReplyAttachmentType(g,a),d("InstamadilloReplyAttachmentId").getReplyAttachmentId(g,a)]));j=e[0];k=e[1];g=e[2];f.replySourceTypeV2=j;f.replyAttachmentType=k;f.replyAttachmentId=g;return f});return j.apply(this,arguments)}g.getEmptyReplyMessageParams=a;g.getReplyMessageParams=e}),98);
__d("InstamadilloMessageFactory",["FBLogger","I64","InstamadilloMessageIdUtils","InstamadilloReplyMessageParams","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMessageRenderingType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSMessageThreadUnsendabilityStatus","LSQuickReplyType","MAWAuthor","MessagingAttachmentType","WAJids","WALongInt","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=a.externalId,c=d("WAJids").threadIdForChatJid(a.chat);a=(h||(h=d("I64"))).of_string(d("WAJids").threadIdForChatJid(a.chat));c=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(c,b);return{messageId:c,threadKey:a}}function k(a,b,e,f){return{attachmentFbid:a,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE),authorityLevel:h.of_int32(c("LSAuthorityLevel").AUTHORITATIVE),hasMedia:!0,hasXma:!1,isPreviewImage:!1,isSharable:!1,messageId:b,threadKey:e,timestampMs:f,transportKey:"Instamadillo",xmaLayoutType:h.zero,xmasTemplateType:h.zero}}function a(a,b){var c=j(a),d=c.messageId;c=c.threadKey;return k(a.externalId,d,c,b)}function e(a,b,c){a=j(a);var d=a.messageId;a=a.threadKey;return k(b,d,a,c)}function f(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d("I64"))).zero,ctaId:h.zero,messageId:c,threadKey:b,title:""};return a}function l(a){var b=j(a),c=b.messageId;b=b.threadKey;a={attachmentFbid:a.externalId,attachmentIndex:(h||(h=d("I64"))).zero,defaultActionEnableExtensions:!1,messageId:c,threadKey:b};return a}function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=d("MAWAuthor").getAuthorUserJid(b.author);if(g==null)return c("FBLogger")("igd_web_on_msgr").warn("Skip createBaseInstamadilloMessage: a message cannot exist without an author");var i=b.externalId;g=(h||(h=d("I64"))).of_string(d("WAJids").userIdFromJid(g));b=j(b);var k=b.messageId;b=b.threadKey;a=(yield o(a,{messageId:k,offlineThreadingId:i,senderId:g,threadKey:b,timestampMs:e},f));return a});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g,j=b.authorityLevel,k=b.messageId,l=b.offlineThreadingId,m=b.senderId,n=b.threadKey;b=b.timestampMs;var o=(yield a.threads.get(n));o=(o=o==null?void 0:o.cannotUnsendReason)!=null?o:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND);var p={};f=e==null?void 0:(f=e.repliedToMessage)==null?void 0:f.repliedToMessageOtid;f!=null&&(p=(yield d("InstamadilloReplyMessageParams").getReplyMessageParams(n,m,d("InstamadilloMessageIdUtils").toInstamadilloMessageId(n,f),a)));a=e==null?void 0:(a=e.forwardingParams)==null?void 0:a.forwardedThreadId;a=a!=null;var q,r,s=!1;(e==null?void 0:(g=e.ephemeralityParams)==null?void 0:g.ephemeralDurationSec)!=null&&(b==null?s=!0:(q=d("WALongInt").maybeNumberOrThrowIfTooLarge(e.ephemeralityParams.ephemeralDurationSec),r=q!=null?d("WATimeUtils").futureUnixTime(q,d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(b))):void 0,s=r!=null&&r<d("WATimeUtils").unixTime()));e=babelHelpers["extends"]({authorityLevel:(g=j)!=null?g:(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:o,displayedContentTypes:d("LSBitFlag").empty,editCount:(h||(h=d("I64"))).zero,ephemeralDurationInSec:q!=null?(h||(h=d("I64"))).of_float(q):void 0,ephemeralExpirationTs:r!=null?(h||(h=d("I64"))).of_float(r):void 0,hasQuickReplies:f!=null,isAdminMessage:!1,isCollapsed:!1,isExpired:s,isForwarded:a,isUnsent:!1,messageId:k,messageRenderingType:h.of_int32(c("LSMessageRenderingType").DEFAULT),offlineThreadingId:l,primarySortKey:b,quickReplyType:h.of_int32(c("LSQuickReplyType").NONE),replyAttachmentType:void 0,replySourceTypeV2:a?(h||(h=d("I64"))).of_int32(c("LSMessageReplySourceTypeV2").FORWARD):void 0,replyStatus:void 0,secondarySortKey:void 0,senderId:m,sendStatus:h.of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:h.of_int32(2),threadKey:n,timestampMs:b,transportKey:"Instamadillo",unsentTimestampMs:void 0,viewFlags:h.zero},p);return e});return p.apply(this,arguments)}g.getThreadAndMessageId=j;g.createBaseAttachmentWithProtocolMsgId=a;g.createBaseAttachmentWithMediaId=e;g.createBaseAttachmentCta=f;g.createBaseAttachmentItem=l;g.createBaseMessageForProtocolMsgId=m;g.createBaseMessage=o}),98);
__d("InstamadilloTextMessageUtils",["MWLinkRegex","URLMatcher","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("isStringNullOrEmpty")(a)?!1:c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getLinkRegex()).length>0&&c("URLMatcher").multiMatchToPattern(a,d("MWLinkRegex").getEmailRegex()).length===0}g.textHasLinks=a}),98);
__d("LSBumpThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.i64.eq(a[1],b.i64.cast([0,1]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,2]))?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}):b.i64.eq(a[1],b.i64.cast([0,3]))?b.db.table(9).fetch([[[a[2]]]]).next().then(function(c,d){var e=c.done;c=c.value;return e?0:(d=c.item,b.i64.le(d.lastActivityTimestampMs,d.lastReadWatermarkTimestampMs)?b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0],lastActivityTimestampMs:a[0]})}):b.forEach(b.db.table(9).fetch([[[a[2]]]]),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:a[0]})}))}):b.resolve(0)},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxBumpThreadStoredProcedure";e.exports=a}),null);
__d("LSBumpThreadStoredProcedure",["LSBumpThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.bumpTimestampMs;d[1]=b.readStateEffect;d[2]=b.threadKey;return c("LSBumpThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSFetchInstamadilloMessage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("offline_threading_id",a[1]),d[0].set("timestamp_sec",a[2]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,60012]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchInstamadilloMessageStoredProcedure";e.exports=a}),null);
__d("LSUpdateThreadSnippet",["LSGetThreadParticipantDisplayName"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.resolve((d[1]="",d[0]=d[1]===""?void 0:d[1]))},function(e){return d[0]!==void 0?c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[0],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})}):a[7]?c.sequence([function(e){return c.i64.neq(a[3],void 0)?c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[3]).then(function(a){return a=a,d[2]=a[0],a})},function(b){return a[1]!==void 0?(d[2]!==void 0?d[4]=[d[2],": ",a[1]].join(""):d[4]=a[1],d[3]=d[4]):d[3]=void 0,d[1]=d[3]}]):c.resolve(d[1]=a[1])},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:d[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}]):c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({snippet:a[1],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,isAdminSnippet:a[2],snippetSenderContactId:a[3],snippetHasEmoji:a[4],viewedPluginKey:a[5],viewedPluginContext:a[6]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateThreadSnippetStoredProcedure";e.exports=a}),null);
__d("LSUpdateThreadSnippetFromLastMessageV2",["LSGetThreadParticipantDisplayName","LSGetViewerFBID","LSUpdateThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetchDesc([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.sequence([function(a){return d[5]=f.text,d[4]=f.threadKey,d[7]=c.i64.cast([0,0]),d[8]=f.messageId,d[3]=f.senderId,d[6]=f.stickerId,d[2]=f.isAdminMessage,d[0]=!0,d[2]||!d[0]?c.resolve(d[1]=d[5]==null?"":d[5]):c.sequence([function(a){return f.isUnsent?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[10]=a[0],a})},function(a){return c.i64.eq(d[10],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2375715979]),void 0).then(function(a){return d[15]=a})},function(a){return d[11]=d[15]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[16]=c.createArray(),d[18]=(d[16].push(d[15]),d[16]),c.localizeV2Async(c.i64.cast([0,3810165735]),d[16]).then(function(a){return d[17]=a})},function(a){return d[11]=d[17]}])},function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=!1:(e=b.item,d[12]=[c.i64.cast([0,23]),c.i64.cast([0,21]),c.i64.cast([0,18]),c.i64.cast([0,26])].some(function(a){return c.i64.eq(e.threadType,a)}))})},function(a){return d[12]?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[15]=a[0],d[16]=a[1],d[17]=a[2],d[18]=a[3],d[19]=a[4],a)})},function(a){return d[18]!==void 0?d[21]=d[18]:d[21]=d[11],d[14]=d[21]}]):c.resolve(d[14]=d[11])},function(a){return d[9]=d[14]}]):c.sequence([function(a){return c.sequence([function(a){return c.i64.eq(f.replyType,c.i64.cast([0,1]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.i64.eq(d[12],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1899892426]),void 0).then(function(a){return d[14]=a})},function(a){return d[13]=d[14]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[15]=c.createArray(),d[17]=(d[15].push(d[14]),d[15]),c.localizeV2Async(c.i64.cast([0,3287869262]),d[15]).then(function(a){return d[16]=a})},function(a){return d[13]=d[16]}])},function(a){return d[11]=d[13]}]):c.sequence([function(a){return d[5]!==void 0&&d[5]!==""?c.sequence([function(a){return d[15]=d[5]==null?"":d[5],c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return c.i64.eq(d[13],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[16]=a})},function(a){return d[14]=[d[16],": ",d[15]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[16]=!1:(e=b.item,d[16]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[16]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[18]=[d[19],": ",d[15]].join("")}]):c.resolve(d[18]=d[15])},function(a){return d[14]=d[18]}])},function(a){return d[12]=d[14]}]):c.sequence([function(a){return c.i64.neq(d[6],void 0)&&[c.i64.cast([53057,267535043]),c.i64.cast([85970,924785702]),c.i64.cast([85970,1004785694]),c.i64.cast([85970,1044785690])].some(function(a){return c.i64.eq(d[6],a)})?c.sequence([function(a){return d[16]="\udb80\udc00",c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return c.i64.eq(d[14],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1890485478]),void 0).then(function(a){return d[17]=a})},function(a){return d[15]=[d[17],": ",d[16]].join("")}]):c.sequence([function(a){return c.db.table(9).fetch([[[d[4]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[17]=!1:(e=b.item,d[17]=c.i64.eq(e.threadType,c.i64.cast([0,2])))})},function(a){return d[17]||!1?c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[19]=[d[20],": ",d[16]].join("")}]):c.resolve(d[19]=d[16])},function(a){return d[15]=d[19]}])},function(a){return d[13]=d[15]}]):c.sequence([function(a){return c.i64.neq(d[6],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return c.i64.eq(d[15],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[17]=a})},function(a){return d[16]=d[17]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[18]=c.createArray(),d[20]=(d[18].push(d[17]),d[18]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[18]).then(function(a){return d[19]=a})},function(a){return d[16]=d[19]}])},function(a){return d[14]=d[16]}]):c.sequence([function(a){return c.count(c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]})).then(function(a){return d[15]=a})},function(a){return c.i64.eq(d[15],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return c.i64.eq(d[17],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[19]=a})},function(a){return d[18]=d[19]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=c.createArray(),d[22]=(d[20].push(d[19]),d[20]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[20]).then(function(a){return d[21]=a})},function(a){return d[18]=d[21]}])},function(a){return d[16]=d[18]}]):c.sequence([function(a){return c.i64.eq(d[15],c.i64.cast([0,1]))?c.sequence([function(a){return c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}).next().then(function(b,e){var a=b.done;b=b.value;return a?(a=[c.i64.cast([0,0]),void 0,void 0,void 0,void 0],d[18]=a[0],d[19]=a[1],d[20]=a[2],d[21]=a[3],d[22]=a[4],a):(e=b.item,a=[e.attachmentType,e.attributionAppName,e.defaultCtaType,e.descriptionText,e.xmaContentType],d[18]=a[0],d[19]=a[1],d[20]=a[2],d[21]=a[3],d[22]=a[4],a)})},function(a){return d[24]=void 0,d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,1]))||c.i64.eq(d[18],c.i64.cast([0,15])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1299547062]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,3621454483]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,2]))||c.i64.eq(d[18],c.i64.cast([0,8])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2106510577]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,3960370133]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,3]))?c.sequence([function(a){return d[19]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[3])?c.sequence([function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[19]),d[32]),c.localizeV2Async(c.i64.cast([0,3798396796]),d[32]).then(function(a){return d[33]=a})},function(a){return d[31]=d[33]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),d[35]=(d[33].push(d[19]),d[33]),c.localizeV2Async(c.i64.cast([0,3388601579]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[29]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.i64.eq(d[30],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1556712457]),void 0).then(function(a){return d[32]=a})},function(a){return d[31]=d[32]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.createArray(),d[35]=(d[33].push(d[32]),d[33]),c.localizeV2Async(c.i64.cast([0,3601791933]),d[33]).then(function(a){return d[34]=a})},function(a){return d[31]=d[34]}])},function(a){return d[29]=d[31]}])},function(a){return d[24]=d[29]}]):c.resolve()},function(a){return d[24]===void 0&&(c.i64.eq(d[18],c.i64.cast([0,4]))||c.i64.eq(d[18],c.i64.cast([0,9])))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3759817031]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,2934729541]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,5]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,392493418]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,4085467454]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,10]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2738683656]),void 0).then(function(a){return d[31]=a})},function(a){return d[30]=d[31]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[32]=c.createArray(),d[34]=(d[32].push(d[31]),d[32]),c.localizeV2Async(c.i64.cast([0,2996525642]),d[32]).then(function(a){return d[33]=a})},function(a){return d[30]=d[33]}])},function(a){return d[24]=d[30]}]):c.resolve()},function(a){return c.i64.neq(d[22],void 0)?d[25]=d[22]:(d[20]==="xma_live_location_sharing"?d[29]=c.i64.cast([0,7e3]):d[29]=void 0,d[25]=d[29]),c.i64.neq(d[25],void 0)?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.i64.eq(d[25],c.i64.cast([-1,4294967295]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.i64.eq(d[31],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[33]=a})},function(a){return d[32]=d[33]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=c.createArray(),d[36]=(d[34].push(d[33]),d[34]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[34]).then(function(a){return d[35]=a})},function(a){return d[32]=d[35]}])},function(a){return d[30]=d[32]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,0]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.i64.eq(d[32],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[34]=a})},function(a){return d[33]=d[34]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.createArray(),d[37]=(d[35].push(d[34]),d[35]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[35]).then(function(a){return d[36]=a})},function(a){return d[33]=d[36]}])},function(a){return d[31]=d[33]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.i64.eq(d[33],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[35]=a})},function(a){return d[34]=d[35]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[36]=c.createArray(),d[38]=(d[36].push(d[35]),d[36]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[36]).then(function(a){return d[37]=a})},function(a){return d[34]=d[37]}])},function(a){return d[32]=d[34]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.i64.eq(d[34],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[36]=a})},function(a){return d[35]=d[36]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[37]=c.createArray(),d[39]=(d[37].push(d[36]),d[37]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[37]).then(function(a){return d[38]=a})},function(a){return d[35]=d[38]}])},function(a){return d[33]=d[35]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.i64.eq(d[35],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[37]=a})},function(a){return d[36]=d[37]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[38]=c.createArray(),d[40]=(d[38].push(d[37]),d[38]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[38]).then(function(a){return d[39]=a})},function(a){return d[36]=d[39]}])},function(a){return d[34]=d[36]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.i64.eq(d[36],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[38]=a})},function(a){return d[37]=d[38]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=c.createArray(),d[41]=(d[39].push(d[38]),d[39]),c.localizeV2Async(c.i64.cast([0,284944921]),d[39]).then(function(a){return d[40]=a})},function(a){return d[37]=d[40]}])},function(a){return d[35]=d[37]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.i64.eq(d[37],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[39]=a})},function(a){return d[40]=c.createArray(),d[42]=(d[40].push(d[39]),d[40]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[40]).then(function(a){return d[41]=a})},function(a){return d[38]=d[41]}]):c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[39]=a})},function(a){return d[38]=d[39]}])},function(a){return d[36]=d[38]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.i64.eq(d[38],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3557790945]),void 0).then(function(a){return d[40]=a})},function(a){return d[39]=d[40]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[41]=c.createArray(),d[43]=(d[41].push(d[40]),d[41]),c.localizeV2Async(c.i64.cast([0,3756846086]),d[41]).then(function(a){return d[42]=a})},function(a){return d[39]=d[42]}])},function(a){return d[37]=d[39]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.i64.eq(d[39],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[41]=a})},function(a){return d[40]=d[41]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[42]=c.createArray(),d[44]=(d[42].push(d[41]),d[42]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[42]).then(function(a){return d[43]=a})},function(a){return d[40]=d[43]}])},function(a){return d[38]=d[40]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.i64.eq(d[40],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[42]=a})},function(a){return d[41]=d[42]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[43]=c.createArray(),d[45]=(d[43].push(d[42]),d[43]),c.localizeV2Async(c.i64.cast([0,284944921]),d[43]).then(function(a){return d[44]=a})},function(a){return d[41]=d[44]}])},function(a){return d[39]=d[41]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.i64.eq(d[41],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[43]=a})},function(a){return d[42]=d[43]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[44]=c.createArray(),d[46]=(d[44].push(d[43]),d[44]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[44]).then(function(a){return d[45]=a})},function(a){return d[42]=d[45]}])},function(a){return d[40]=d[42]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.i64.eq(d[42],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,780378803]),void 0).then(function(a){return d[44]=a})},function(a){return d[43]=d[44]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=c.createArray(),d[47]=(d[45].push(d[44]),d[45]),c.localizeV2Async(c.i64.cast([0,3918212613]),d[45]).then(function(a){return d[46]=a})},function(a){return d[43]=d[46]}])},function(a){return d[41]=d[43]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.i64.eq(d[43],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3161890215]),void 0).then(function(a){return d[45]=a})},function(a){return d[44]=d[45]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[46]=c.createArray(),d[48]=(d[46].push(d[45]),d[46]),c.localizeV2Async(c.i64.cast([0,863428456]),d[46]).then(function(a){return d[47]=a})},function(a){return d[44]=d[47]}])},function(a){return d[42]=d[44]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.i64.eq(d[44],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2716405471]),void 0).then(function(a){return d[46]=a})},function(a){return d[45]=d[46]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[47]=c.createArray(),d[49]=(d[47].push(d[46]),d[47]),c.localizeV2Async(c.i64.cast([0,3909474073]),d[47]).then(function(a){return d[48]=a})},function(a){return d[45]=d[48]}])},function(a){return d[43]=d[45]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.i64.eq(d[45],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[47]=a})},function(a){return d[46]=d[47]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[48]=c.createArray(),d[50]=(d[48].push(d[47]),d[48]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[48]).then(function(a){return d[49]=a})},function(a){return d[46]=d[49]}])},function(a){return d[44]=d[46]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1013]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.i64.eq(d[46],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,1522141193]),void 0).then(function(a){return d[48]=a})},function(a){return d[47]=d[48]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return d[49]=c.createArray(),d[51]=(d[49].push(d[48]),d[49]),c.localizeV2Async(c.i64.cast([0,2804766375]),d[49]).then(function(a){return d[50]=a})},function(a){return d[47]=d[50]}])},function(a){return d[45]=d[47]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1014]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.i64.eq(d[47],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[49]=a})},function(a){return d[50]=c.createArray(),d[52]=(d[50].push(d[49]),d[50]),c.localizeV2Async(c.i64.cast([0,3322002377]),d[50]).then(function(a){return d[51]=a})},function(a){return d[48]=d[51]}]):c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2486550278]),void 0).then(function(a){return d[49]=a})},function(a){return d[48]=d[49]}])},function(a){return d[46]=d[48]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.i64.eq(d[48],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[50]=a})},function(a){return d[49]=d[50]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[51]=c.createArray(),d[53]=(d[51].push(d[50]),d[51]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[51]).then(function(a){return d[52]=a})},function(a){return d[49]=d[52]}])},function(a){return d[47]=d[49]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.i64.eq(d[49],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[51]=a})},function(a){return d[50]=d[51]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return d[52]=c.createArray(),d[54]=(d[52].push(d[51]),d[52]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[52]).then(function(a){return d[53]=a})},function(a){return d[50]=d[53]}])},function(a){return d[48]=d[50]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.i64.eq(d[50],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[52]=a})},function(a){return d[51]=d[52]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[53]=c.createArray(),d[55]=(d[53].push(d[52]),d[53]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[53]).then(function(a){return d[54]=a})},function(a){return d[51]=d[54]}])},function(a){return d[49]=d[51]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1018]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.i64.eq(d[51],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[53]=a})},function(a){return d[52]=d[53]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[54]=c.createArray(),d[56]=(d[54].push(d[53]),d[54]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[54]).then(function(a){return d[55]=a})},function(a){return d[52]=d[55]}])},function(a){return d[50]=d[52]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1019]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.i64.eq(d[52],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[54]=a})},function(a){return d[53]=d[54]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[55]=c.createArray(),d[57]=(d[55].push(d[54]),d[55]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[55]).then(function(a){return d[56]=a})},function(a){return d[53]=d[56]}])},function(a){return d[51]=d[53]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,1020]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.i64.eq(d[53],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[55]=a})},function(a){return d[54]=d[55]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[56]=c.createArray(),d[58]=(d[56].push(d[55]),d[56]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[56]).then(function(a){return d[57]=a})},function(a){return d[54]=d[57]}])},function(a){return d[52]=d[54]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2e3]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.i64.eq(d[55],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[57]=a})},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=c.createArray(),d[60]=(d[58].push(d[57]),d[58]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[58]).then(function(a){return d[59]=a})},function(a){return d[56]=d[59]}])},function(a){return d[54]=d[56]}])},function(a){return d[53]=d[54]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.i64.eq(d[55],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285746939]),void 0).then(function(a){return d[57]=a})},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[58]=c.createArray(),d[60]=(d[58].push(d[57]),d[58]),c.localizeV2Async(c.i64.cast([0,3759448420]),d[58]).then(function(a){return d[59]=a})},function(a){return d[56]=d[59]}])},function(a){return d[54]=d[56]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.i64.eq(d[56],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3719716921]),void 0).then(function(a){return d[58]=a})},function(a){return d[57]=d[58]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return d[59]=c.createArray(),d[61]=(d[59].push(d[58]),d[59]),c.localizeV2Async(c.i64.cast([0,284944921]),d[59]).then(function(a){return d[60]=a})},function(a){return d[57]=d[60]}])},function(a){return d[55]=d[57]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2003]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.i64.eq(d[58],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[60]=a})},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[61]=c.createArray(),d[63]=(d[61].push(d[60]),d[61]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[61]).then(function(a){return d[62]=a})},function(a){return d[59]=d[62]}])},function(a){return d[57]=d[59]}])},function(a){return d[56]=d[57]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.i64.eq(d[58],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2326868239]),void 0).then(function(a){return d[60]=a})},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[61]=c.createArray(),d[63]=(d[61].push(d[60]),d[61]),c.localizeV2Async(c.i64.cast([0,1001986796]),d[61]).then(function(a){return d[62]=a})},function(a){return d[59]=d[62]}])},function(a){return d[57]=d[59]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.i64.eq(d[59],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,772459202]),void 0).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),c.localizeV2Async(c.i64.cast([0,3546068912]),d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[58]=d[60]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2006]))?c.sequence([function(a){return c.i64.eq(d[29],d[3])?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2459540079]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async(c.i64.cast([0,1596311291]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.i64.eq(d[61],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2253698324]),void 0).then(function(a){return d[63]=a})},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[63]=a[0],a})},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async(c.i64.cast([0,4269602817]),d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[60]=d[62]}])},function(a){return d[59]=d[60]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2007]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[64]=a})},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[64]),d[65]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[65]).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}])},function(a){return d[61]=d[63]}])},function(a){return d[60]=d[61]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.i64.eq(d[62],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[64]=a})},function(a){return d[63]=d[64]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[64]=a[0],a})},function(a){return d[65]=c.createArray(),d[67]=(d[65].push(d[64]),d[65]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[65]).then(function(a){return d[66]=a})},function(a){return d[63]=d[66]}])},function(a){return d[61]=d[63]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2009]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}])},function(a){return d[62]=d[63]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2010]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.i64.eq(d[64],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[66]=a})},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[66]=a[0],a})},function(a){return d[67]=c.createArray(),d[69]=(d[67].push(d[66]),d[67]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[67]).then(function(a){return d[68]=a})},function(a){return d[65]=d[68]}])},function(a){return d[63]=d[65]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,2011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.i64.eq(d[65],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[67]=a})},function(a){return d[66]=d[67]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[68]=c.createArray(),d[70]=(d[68].push(d[67]),d[68]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[68]).then(function(a){return d[69]=a})},function(a){return d[66]=d[69]}])},function(a){return d[64]=d[66]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3e3]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.i64.eq(d[67],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[69]=a})},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[70]=c.createArray(),d[72]=(d[70].push(d[69]),d[70]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[70]).then(function(a){return d[71]=a})},function(a){return d[68]=d[71]}])},function(a){return d[66]=d[68]}])},function(a){return d[65]=d[66]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.i64.eq(d[67],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[69]=a})},function(a){return d[68]=d[69]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return d[70]=c.createArray(),d[72]=(d[70].push(d[69]),d[70]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[70]).then(function(a){return d[71]=a})},function(a){return d[68]=d[71]}])},function(a){return d[66]=d[68]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.i64.eq(d[68],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[70]=a})},function(a){return d[69]=d[70]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[71]=c.createArray(),d[73]=(d[71].push(d[70]),d[71]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[71]).then(function(a){return d[72]=a})},function(a){return d[69]=d[72]}])},function(a){return d[67]=d[69]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.i64.eq(d[69],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2973334239]),void 0).then(function(a){return d[71]=a})},function(a){return d[70]=d[71]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return d[72]=c.createArray(),d[74]=(d[72].push(d[71]),d[72]),c.localizeV2Async(c.i64.cast([0,3616471048]),d[72]).then(function(a){return d[73]=a})},function(a){return d[70]=d[73]}])},function(a){return d[68]=d[70]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.i64.eq(d[70],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[72]=a})},function(a){return d[71]=d[72]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return d[73]=c.createArray(),d[75]=(d[73].push(d[72]),d[73]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[73]).then(function(a){return d[74]=a})},function(a){return d[71]=d[74]}])},function(a){return d[69]=d[71]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.i64.eq(d[71],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[73]=a})},function(a){return d[72]=d[73]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[74]=c.createArray(),d[76]=(d[74].push(d[73]),d[74]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[74]).then(function(a){return d[75]=a})},function(a){return d[72]=d[75]}])},function(a){return d[70]=d[72]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.i64.eq(d[72],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[74]=a})},function(a){return d[73]=d[74]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[75]=c.createArray(),d[77]=(d[75].push(d[74]),d[75]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[75]).then(function(a){return d[76]=a})},function(a){return d[73]=d[76]}])},function(a){return d[71]=d[73]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.i64.eq(d[73],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[75]=a})},function(a){return d[74]=d[75]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return d[76]=c.createArray(),d[78]=(d[76].push(d[75]),d[76]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[76]).then(function(a){return d[77]=a})},function(a){return d[74]=d[77]}])},function(a){return d[72]=d[74]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3008]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.i64.eq(d[74],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[76]=a})},function(a){return d[75]=d[76]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return d[77]=c.createArray(),d[79]=(d[77].push(d[76]),d[77]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[77]).then(function(a){return d[78]=a})},function(a){return d[75]=d[78]}])},function(a){return d[73]=d[75]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3009]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.i64.eq(d[75],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[77]=a})},function(a){return d[76]=d[77]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[77]=a[0],a})},function(a){return d[78]=c.createArray(),d[80]=(d[78].push(d[77]),d[78]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[78]).then(function(a){return d[79]=a})},function(a){return d[76]=d[79]}])},function(a){return d[74]=d[76]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3010]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[79]=a})},function(a){return d[78]=d[79]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[80]=c.createArray(),d[82]=(d[80].push(d[79]),d[80]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[80]).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}])},function(a){return d[76]=d[78]}])},function(a){return d[75]=d[76]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3011]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[77]=a[0],a})},function(a){return c.i64.eq(d[77],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[79]=a})},function(a){return d[78]=d[79]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[79]=a[0],a})},function(a){return d[80]=c.createArray(),d[82]=(d[80].push(d[79]),d[80]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[80]).then(function(a){return d[81]=a})},function(a){return d[78]=d[81]}])},function(a){return d[76]=d[78]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3012]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[78]=a[0],a})},function(a){return c.i64.eq(d[78],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[80]=a})},function(a){return d[79]=d[80]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[80]=a[0],a})},function(a){return d[81]=c.createArray(),d[83]=(d[81].push(d[80]),d[81]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[81]).then(function(a){return d[82]=a})},function(a){return d[79]=d[82]}])},function(a){return d[77]=d[79]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3013]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[79]=a[0],a})},function(a){return c.i64.eq(d[79],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[81]=a})},function(a){return d[80]=d[81]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[81]=a[0],a})},function(a){return d[82]=c.createArray(),d[84]=(d[82].push(d[81]),d[82]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[82]).then(function(a){return d[83]=a})},function(a){return d[80]=d[83]}])},function(a){return d[78]=d[80]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3014]))?c.sequence([function(a){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.i64.eq(d[81],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[83]=a})},function(a){return d[82]=d[83]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[84]=c.createArray(),d[86]=(d[84].push(d[83]),d[84]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[84]).then(function(a){return d[85]=a})},function(a){return d[82]=d[85]}])},function(a){return d[80]=d[82]}])},function(a){return d[79]=d[80]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3015]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[81]=a[0],a})},function(a){return c.i64.eq(d[81],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3471188061]),void 0).then(function(a){return d[83]=a})},function(a){return d[82]=d[83]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[83]=a[0],a})},function(a){return d[84]=c.createArray(),d[86]=(d[84].push(d[83]),d[84]),c.localizeV2Async(c.i64.cast([0,2776822462]),d[84]).then(function(a){return d[85]=a})},function(a){return d[82]=d[85]}])},function(a){return d[80]=d[82]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3016]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[82]=a[0],a})},function(a){return c.i64.eq(d[82],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[84]=a})},function(a){return d[83]=d[84]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[84]=a[0],a})},function(a){return d[85]=c.createArray(),d[87]=(d[85].push(d[84]),d[85]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[85]).then(function(a){return d[86]=a})},function(a){return d[83]=d[86]}])},function(a){return d[81]=d[83]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3017]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[83]=a[0],a})},function(a){return c.i64.eq(d[83],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[85]=a})},function(a){return d[84]=d[85]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[85]=a[0],a})},function(a){return d[86]=c.createArray(),d[88]=(d[86].push(d[85]),d[86]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[86]).then(function(a){return d[87]=a})},function(a){return d[84]=d[87]}])},function(a){return d[82]=d[84]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3018]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[84]=a[0],a})},function(a){return c.i64.eq(d[84],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[86]=a})},function(a){return d[85]=d[86]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[86]=a[0],a})},function(a){return d[87]=c.createArray(),d[89]=(d[87].push(d[86]),d[87]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[87]).then(function(a){return d[88]=a})},function(a){return d[85]=d[88]}])},function(a){return d[83]=d[85]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3019]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[85]=a[0],a})},function(a){return c.i64.eq(d[85],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[87]=a})},function(a){return d[86]=d[87]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[87]=a[0],a})},function(a){return d[88]=c.createArray(),d[90]=(d[88].push(d[87]),d[88]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[88]).then(function(a){return d[89]=a})},function(a){return d[86]=d[89]}])},function(a){return d[84]=d[86]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3020]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[86]=a[0],a})},function(a){return c.i64.eq(d[86],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[88]=a})},function(a){return d[87]=d[88]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[88]=a[0],a})},function(a){return d[89]=c.createArray(),d[91]=(d[89].push(d[88]),d[89]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[89]).then(function(a){return d[90]=a})},function(a){return d[87]=d[90]}])},function(a){return d[85]=d[87]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3021]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[87]=a[0],a})},function(a){return c.i64.eq(d[87],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[89]=a})},function(a){return d[88]=d[89]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[89]=a[0],a})},function(a){return d[90]=c.createArray(),d[92]=(d[90].push(d[89]),d[90]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[90]).then(function(a){return d[91]=a})},function(a){return d[88]=d[91]}])},function(a){return d[86]=d[88]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3022]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[88]=a[0],a})},function(a){return c.i64.eq(d[88],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[90]=a})},function(a){return d[89]=d[90]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[90]=a[0],a})},function(a){return d[91]=c.createArray(),d[93]=(d[91].push(d[90]),d[91]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[91]).then(function(a){return d[92]=a})},function(a){return d[89]=d[92]}])},function(a){return d[87]=d[89]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3023]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[89]=a[0],a})},function(a){return c.i64.eq(d[89],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[91]=a})},function(a){return d[90]=d[91]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[91]=a[0],a})},function(a){return d[92]=c.createArray(),d[94]=(d[92].push(d[91]),d[92]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[92]).then(function(a){return d[93]=a})},function(a){return d[90]=d[93]}])},function(a){return d[88]=d[90]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3024]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[90]=a[0],a})},function(a){return c.i64.eq(d[90],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[92]=a})},function(a){return d[91]=d[92]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[92]=a[0],a})},function(a){return d[93]=c.createArray(),d[95]=(d[93].push(d[92]),d[93]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[93]).then(function(a){return d[94]=a})},function(a){return d[91]=d[94]}])},function(a){return d[89]=d[91]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3025]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[91]=a[0],a})},function(a){return c.i64.eq(d[91],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[93]=a})},function(a){return d[92]=d[93]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[93]=a[0],a})},function(a){return d[94]=c.createArray(),d[96]=(d[94].push(d[93]),d[94]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[94]).then(function(a){return d[95]=a})},function(a){return d[92]=d[95]}])},function(a){return d[90]=d[92]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3026]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[92]=a[0],a})},function(a){return c.i64.eq(d[92],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[94]=a})},function(a){return d[93]=d[94]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[94]=a[0],a})},function(a){return d[95]=c.createArray(),d[97]=(d[95].push(d[94]),d[95]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[95]).then(function(a){return d[96]=a})},function(a){return d[93]=d[96]}])},function(a){return d[91]=d[93]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3027]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[93]=a[0],a})},function(a){return c.i64.eq(d[93],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[95]=a})},function(a){return d[94]=d[95]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[95]=a[0],a})},function(a){return d[96]=c.createArray(),d[98]=(d[96].push(d[95]),d[96]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[96]).then(function(a){return d[97]=a})},function(a){return d[94]=d[97]}])},function(a){return d[92]=d[94]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,3028]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[94]=a[0],a})},function(a){return c.i64.eq(d[94],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[96]=a})},function(a){return d[95]=d[96]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[96]=a[0],a})},function(a){return d[97]=c.createArray(),d[99]=(d[97].push(d[96]),d[97]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[97]).then(function(a){return d[98]=a})},function(a){return d[95]=d[98]}])},function(a){return d[93]=d[95]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[95]=a[0],a})},function(a){return c.i64.eq(d[95],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[99]=a})},function(a){return d[96]=d[99]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[99]=a[0],a})},function(a){return d[96]=d[99]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[97]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1739999037]),void 0).then(function(a){return d[98]=a})},function(a){return d[94]=d[98]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4001]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[96]=a[0],a})},function(a){return c.i64.eq(d[96],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[100]=a})},function(a){return d[97]=d[100]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[100]=a[0],a})},function(a){return d[97]=d[100]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[98]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3373597599]),void 0).then(function(a){return d[99]=a})},function(a){return d[95]=d[99]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4002]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[97]=a[0],a})},function(a){return c.i64.eq(d[97],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[101]=a})},function(a){return d[98]=d[101]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[101]=a[0],a})},function(a){return d[98]=d[101]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[99]=a[0],a})},function(a){return c.i64.eq(d[99],d[3])?c.sequence([function(a){return d[101]=c.createArray(),d[103]=(d[101].push(d[98]),d[101]),c.localizeV2Async(c.i64.cast([0,259473449]),d[101]).then(function(a){return d[102]=a})},function(a){return d[100]=d[102]}]):c.sequence([function(a){return d[101]=c.createArray(),d[103]=(d[101].push(d[98]),d[101]),c.localizeV2Async(c.i64.cast([0,1338912959]),d[101]).then(function(a){return d[102]=a})},function(a){return d[100]=d[102]}])},function(a){return d[96]=d[100]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4003]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[98]=a[0],a})},function(a){return c.i64.eq(d[98],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[102]=a})},function(a){return d[99]=d[102]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[102]=a[0],a})},function(a){return d[99]=d[102]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[100]=a[0],a})},function(a){return c.i64.eq(d[100],d[3])?c.sequence([function(a){return d[102]=c.createArray(),d[104]=(d[102].push(d[99]),d[102]),c.localizeV2Async(c.i64.cast([0,812940701]),d[102]).then(function(a){return d[103]=a})},function(a){return d[101]=d[103]}]):c.sequence([function(a){return d[102]=c.createArray(),d[104]=(d[102].push(d[99]),d[102]),c.localizeV2Async(c.i64.cast([0,1099878966]),d[102]).then(function(a){return d[103]=a})},function(a){return d[101]=d[103]}])},function(a){return d[97]=d[101]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4004]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[99]=a[0],a})},function(a){return c.i64.eq(d[99],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[103]=a})},function(a){return d[100]=d[103]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[103]=a[0],a})},function(a){return d[100]=d[103]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[101]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,3443782102]),void 0).then(function(a){return d[102]=a})},function(a){return d[98]=d[102]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4005]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[100]=a[0],a})},function(a){return c.i64.eq(d[100],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[104]=a})},function(a){return d[101]=d[104]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[104]=a[0],a})},function(a){return d[101]=d[104]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[102]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,618905030]),void 0).then(function(a){return d[103]=a})},function(a){return d[99]=d[103]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4006]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[101]=a[0],a})},function(a){return c.i64.eq(d[101],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[105]=a})},function(a){return d[102]=d[105]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[105]=a[0],a})},function(a){return d[102]=d[105]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[103]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,2470414797]),void 0).then(function(a){return d[104]=a})},function(a){return d[100]=d[104]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,4007]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[102]=a[0],a})},function(a){return c.i64.eq(d[102],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[106]=a})},function(a){return d[103]=d[106]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[106]=a[0],a})},function(a){return d[103]=d[106]}])},function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[104]=a[0],a})},function(a){return c.localizeV2Async(c.i64.cast([0,1306024833]),void 0).then(function(a){return d[105]=a})},function(a){return d[101]=d[105]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,5e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[103]=a[0],a})},function(a){return c.i64.eq(d[103],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[105]=a})},function(a){return d[104]=d[105]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[105]=a[0],a})},function(a){return d[106]=c.createArray(),d[108]=(d[106].push(d[105]),d[106]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[106]).then(function(a){return d[107]=a})},function(a){return d[104]=d[107]}])},function(a){return d[102]=d[104]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,6e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[104]=a[0],a})},function(a){return c.i64.eq(d[104],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[106]=a})},function(a){return d[105]=d[106]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[106]=a[0],a})},function(a){return d[107]=c.createArray(),d[109]=(d[107].push(d[106]),d[107]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[107]).then(function(a){return d[108]=a})},function(a){return d[105]=d[108]}])},function(a){return d[103]=d[105]}]):c.sequence([function(a){return c.i64.eq(d[25],c.i64.cast([0,7e3]))?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[105]=a[0],a})},function(a){return c.i64.eq(d[105],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2135145355]),void 0).then(function(a){return d[107]=a})},function(a){return d[106]=d[107]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[107]=a[0],a})},function(a){return d[108]=c.createArray(),d[110]=(d[108].push(d[107]),d[108]),c.localizeV2Async(c.i64.cast([0,3603511704]),d[108]).then(function(a){return d[109]=a})},function(a){return d[106]=d[109]}])},function(a){return d[104]=d[106]}]):c.resolve(d[104]=void 0)},function(a){return d[103]=d[104]}])},function(a){return d[102]=d[103]}])},function(a){return d[101]=d[102]}])},function(a){return d[100]=d[101]}])},function(a){return d[99]=d[100]}])},function(a){return d[98]=d[99]}])},function(a){return d[97]=d[98]}])},function(a){return d[96]=d[97]}])},function(a){return d[95]=d[96]}])},function(a){return d[94]=d[95]}])},function(a){return d[93]=d[94]}])},function(a){return d[92]=d[93]}])},function(a){return d[91]=d[92]}])},function(a){return d[90]=d[91]}])},function(a){return d[89]=d[90]}])},function(a){return d[88]=d[89]}])},function(a){return d[87]=d[88]}])},function(a){return d[86]=d[87]}])},function(a){return d[85]=d[86]}])},function(a){return d[84]=d[85]}])},function(a){return d[83]=d[84]}])},function(a){return d[82]=d[83]}])},function(a){return d[81]=d[82]}])},function(a){return d[80]=d[81]}])},function(a){return d[79]=d[80]}])},function(a){return d[78]=d[79]}])},function(a){return d[77]=d[78]}])},function(a){return d[76]=d[77]}])},function(a){return d[75]=d[76]}])},function(a){return d[74]=d[75]}])},function(a){return d[73]=d[74]}])},function(a){return d[72]=d[73]}])},function(a){return d[71]=d[72]}])},function(a){return d[70]=d[71]}])},function(a){return d[69]=d[70]}])},function(a){return d[68]=d[69]}])},function(a){return d[67]=d[68]}])},function(a){return d[66]=d[67]}])},function(a){return d[65]=d[66]}])},function(a){return d[64]=d[65]}])},function(a){return d[63]=d[64]}])},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[48]=d[49]}])},function(a){return d[47]=d[48]}])},function(a){return d[46]=d[47]}])},function(a){return d[45]=d[46]}])},function(a){return d[44]=d[45]}])},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[30]=d[31]}])},function(a){return d[26]=d[30]}]):c.resolve(d[26]=void 0)},function(a){return d[24]===void 0&&c.i64.eq(d[18],c.i64.cast([0,7]))&&d[26]!==void 0?d[24]=d[26]:0,c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.i64.eq(d[27],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3948960063]),void 0).then(function(a){return d[29]=a})},function(a){return d[28]=d[29]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[30]=c.createArray(),d[32]=(d[30].push(d[29]),d[30]),c.localizeV2Async(c.i64.cast([0,1249692047]),d[30]).then(function(a){return d[31]=a})},function(a){return d[28]=d[31]}])},function(a){return d[17]=d[24]==null?d[28]:d[24]}]):c.sequence([function(a){return d[18]=!0,c.forEach(c.filter(c.db.table(16).fetch([[[d[4],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),d[7])&&a.messageId===d[8]}),function(a){a=a.item;return c.i64.eq(a.attachmentType,c.i64.cast([0,2]))?0:d[18]=!1})},function(a){return d[18]?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[3])?c.sequence([function(a){return d[22]=c.createArray(),d[24]=(d[22].push(d[15]),d[22]),c.localizeV2Async(c.i64.cast([0,705614308]),d[22]).then(function(a){return d[23]=a})},function(a){return d[21]=d[23]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),d[25]=(d[23].push(d[15]),d[23]),c.localizeV2Async(c.i64.cast([0,313217698]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.i64.eq(d[20],d[3])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,3558654267]),void 0).then(function(a){return d[22]=a})},function(a){return d[21]=d[22]}]):c.sequence([function(a){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),d[4],d[3]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[23]=c.createArray(),d[25]=(d[23].push(d[22]),d[23]),c.localizeV2Async(c.i64.cast([0,3422266740]),d[23]).then(function(a){return d[24]=a})},function(a){return d[21]=d[24]}])},function(a){return d[19]=d[21]}])},function(a){return d[17]=d[19]}])},function(a){return d[16]=d[17]}])},function(a){return d[14]=d[16]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}])},function(a){return d[11]=d[12]}])},function(a){return d[10]=d[11]}])},function(a){return d[9]=d[10]}])},function(a){return d[1]=d[9]}])},function(e){return c.storedProcedure(b("LSUpdateThreadSnippet"),a[0],d[1],d[2],d[3],c.like(d[1],"%\udb80\udc00%"),void 0,void 0,!1)}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateThreadSnippetFromLastMessageV2StoredProcedure";e.exports=a}),null);
__d("LSUpdateThreadSnippetFromLastMessageV2StoredProcedure",["LSUpdateThreadSnippetFromLastMessageV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSUpdateThreadSnippetFromLastMessageV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MessageThreadReadState",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({KEEP_AS_IS:3,MARK_READ:1,MARK_UNREAD:2});b=a;f["default"]=b}),66);
__d("PolarisBaseGraphQLEventHandler",[],(function(a,b,c,d,e,f){"use strict";var g="1/graphqlsubscriptions/",h=Object.freeze({BD_CHALLENGE:"BdChallenge",NONE:"",PINNED_QUESTION:"PinnedQuestion",QUESTION_STATUS:"QuestionStatus",WAVE:"Wave"});a=function(){function a(){}var b=a.prototype;b.processEventMessage=function(a){return};b.getSubTopic=function(){return null};b.getGraphQLSubsciptionPrefix=function(){return g};b.getType=function(){return h.NONE};return a}();f.GRAPH_QL_EVENT_TYPES=h;f.BaseGraphQLEventHandler=a}),66);
__d("PolarisBdChallengeGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisDirectLogger","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="17935802131473058";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$BdChallengeGraphQLEventHandler$p_1=new(d("PolarisDirectLogger").DirectLogger)("BDChallengeGraphQLEventHandler",b);e.$BdChallengeGraphQLEventHandler$p_1.debugTrace("bd_challenge_gql_handler_init");e.$BdChallengeGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+h+"/"+JSON.stringify({input_data:{client_subscription_id:c("uuidv4")()}});return e}var e=b.prototype;e.processEventMessage=function(a){a=a.bd_challenge_event;if(a==null){this.$BdChallengeGraphQLEventHandler$p_1.debugTrace("parsed_message_bad_data");return}};e.getSubTopic=function(){return this.$BdChallengeGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.BdChallengeGraphQLEventHandler=a}),98);
__d("PolarisChannelClientID",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")();a={getID:function(){return h}};b=a;g["default"]=b}),98);
__d("PolarisDesktopPostLoadingShimmer.react",["cx","PolarisIGTheme.react","PolarisReactRedux.react","PolarisSizing","polarisPostModalHelpers","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b,c=j(15),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;var h=a!=null&&a>d("PolarisSizing").MEDIUM_SCREEN_MIN;b=(b=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getPostOrNullById(a,(a=f)!=null?a:"")}))==null?void 0:b.isSponsored;g=(g=g)!=null?g:0;a=(a=a)!=null?a:0;var i;c[0]!==e||c[1]!==b||c[2]!==h||c[3]!==g||c[4]!==a?(i=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:e,hasFooter:b,hasSidebarInRedesign:h,viewportHeight:g,viewportWidth:a}),c[0]=e,c[1]=b,c[2]=h,c[3]=g,c[4]=a,c[5]=i):i=c[5];b=i;c[6]!==h||c[7]!==e?(g="_aas3"+(h&&e!=null&&e.width>=e.height?" _aas4":""),c[6]=h,c[7]=e,c[8]=g):g=c[8];c[9]!==e?(a=k.jsx(m,{dimensions:e}),c[9]=e,c[10]=a):a=c[10];c[11]!==g||c[12]!==b||c[13]!==a?(i=k.jsx("div",babelHelpers["extends"]({className:g},b,{children:a})),c[11]=g,c[12]=b,c[13]=a,c[14]=i):i=c[14];return i}function m(a){a=a.dimensions;var b={},c=d("PolarisIGTheme.react").useTheme();a&&(b.paddingBottom=d("PolarisSizing").getHeightPercent(a)+"%");return k.jsx("div",{className:"_aas5"+(c.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?" _aas6":""),style:b})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=j(5),c=a.dimensions,d=a.postId,e=a.viewportHeight;a=a.viewportWidth;var f;b[0]!==c||b[1]!==d||b[2]!==e||b[3]!==a?(f=k.jsx(l,{dimensions:c,postId:d,viewportHeight:e,viewportWidth:a}),b[0]=c,b[1]=d,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}function a(a){var b=j(12),c=a.dimensions,d=a.postId,e=a.viewportHeight;a=a.viewportWidth;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];f=f;if(c){var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={flexDirection:"row"},b[1]=g):g=b[1];f=g}b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g="_aas7",b[2]=g):g=b[2];var h;b[3]!==c||b[4]!==d||b[5]!==e||b[6]!==a?(h=k.jsx(n,{dimensions:c,postId:d,viewportHeight:e,viewportWidth:a}),b[3]=c,b[4]=d,b[5]=e,b[6]=a,b[7]=h):h=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(c=k.jsxs("div",{className:"_aas8",children:[k.jsxs("div",{className:"_aas9",children:[k.jsx("div",{className:"_aasa"}),k.jsxs("div",{className:"_aasb",children:[k.jsx("div",{className:"_aasc"}),k.jsx("div",{className:"_aasd"})]})]}),k.jsxs("div",{className:"_aase",children:[k.jsx("div",{className:"_aasf"}),k.jsx("div",{className:"_aasg"}),k.jsx("div",{className:"_aash"})]})]}),b[8]=c):c=b[8];b[9]!==f||b[10]!==h?(d=k.jsxs("div",{className:g,style:f,children:[h,c]}),b[9]=f,b[10]=h,b[11]=d):d=b[11];return d}g.SIDEBAR_VARIANT_CUTOFF=d("PolarisSizing").MEDIUM_SCREEN_MIN;g.DesktopPostLoadingShimmer=a}),98);
__d("PolarisDirectBaseSubscription",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){var e=this;this.$5=function(a){e.$4.debugTrace("message_received");var b=e.parsePayload(a);if(b==null)return;if(a.length===0){e.$4.logError("empty_message");return}else a[a.length-1]==="\0"?(b=a.substring(0,a.length-1),e.$4.debugTrace("trimmed_null_char")):b=a;var c={};try{c=JSON.parse(b)}catch(c){typeof c.message==="string"&&c.message.includes("Unexpected token")&&(c.jsonFirstChars=typeof b==="string"?b.substr(0,3):null);e.$4.logError("Cannot parse message "+a,c);return}e.processMessage(c)};this.$1=a;this.$2=b;this.$3=c;this.$4=d;this.$4.debugTrace("ctor")}var b=a.prototype;b.parsePayload=function(a){return a};b.processMessage=function(a){return};b.$6=function(a){var b;return JSON.stringify((b={},b[a]=this.getSubTopics(),b))};b.subscribe=function(){var a=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_subscribe");return}this.$4.debugTrace("subscribe_start");this.unsubscribe();this.$3.subscribe(this.$1,this.$5);this.$3.publish(this.$1,this.$6("sub"))["catch"](function(b){return a.$4.logError(b,b==null?void 0:b.message)});this.$4.debugTrace("subscribe_end")};b.unsubscribe=function(){var a=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_unsubscribe");return}this.$4.debugTrace("unsubscribe_start");this.$3.publish(this.$1,this.$6("unsub"))["catch"](function(b){return a.$4.logError(b,b==null?void 0:b.message)});this.$3.unsubscribe(this.$1);this.$4.debugTrace("unsubscribe_end")};b.updateSubTopics=function(a){this.$2=a};b.getSubTopics=function(){return this.$2};return a}();f.DirectBaseSubscription=a}),66);
__d("PolarisDirectDeltaHandlers",["invariant","PolarisDirectLogger","memoize"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return i(a)}function b(a){return i(a)}function e(a){return i(a)}function i(a){if(a==null)return null;if(typeof a!=="string")return a;var b;a;try{b=j(a)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.stringify_ids_error",{errorMessage:c.message}),b=a}try{b=JSON.parse(b)}catch(c){d("PolarisDirectLogger").DirectLogger.logError("DirectDeltaHandlers","parse_delta_item.parse_json_error",{errorMessage:c.message}),b=JSON.parse(a)}return b}function j(a){var b=Array.from(a.matchAll(/(id\":)\s*([0-9]+)/gi)),c=0;return b.reduce(function(a,b){var d=new RegExp(b[0]);d.lastIndex=c;a=a.replace(d,b[1]+' "'+b[2]+'"');c=b.index;return a},a)}function f(a){var b=parseInt(a,10);isNaN(b)&&h(0,61446,a);return isNaN(b)?0:b}var k=function(a,b){var e=this;this.$3=c("memoize")(function(){return[{listeners:{replace:e.$1.onHasSeen},regex:/^\/direct_v2\/threads\/(.+)\/participants\/(.+)\/has_seen$/},{listeners:{add:e.$1.onMakeAdmin,remove:e.$1.onRemoveAdmin},regex:/^\/direct_v2\/threads\/(\d+)\/admin_user_ids\/(\d+)$/},{listeners:{add:e.$1.onIndicateTypingActivity},regex:/^\/direct_v2\/threads\/(.+)\/activity_indicator_id\/(.+)$/},{listeners:{add:e.$1.onUpdateEmoji,remove:e.$1.onRemoveEmoji,replace:e.$1.onUpdateEmoji},regex:/^\/direct_v2\/threads\/(\d+)\/items\/(\d+)\/reactions\/likes\/(\d+)$/},{listeners:{add:e.$1.onNewMessage,remove:e.$1.onRemoveMessage,replace:e.$1.onUpdatedMessage},regex:/^\/direct_v2\/threads\/(.+)\/items\/(\d+)$/},{listeners:{replace:e.$1.onUpdateDMSettings},regex:/^\/direct_v2\/threads\/(.+)\/dm_settings$/},{listeners:{remove:e.$1.onRemoveThread,replace:e.$1.onNewThread},regex:/^\/direct_v2\/inbox\/threads\/(.+)$/},{listeners:{replace:e.$1.onUnseenCountChange},regex:/^\/direct_v2\/inbox\/unseen_count$/}]});this.handleDelta=function(a,b){var c=a.op,d=a.path;a=a.value;e.$2.debugTrace("handle_delta_start",{mutationToken:b,op:c,path:d});for(var f=e.$3(),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i.listeners[c];if(j){i=i.regex.exec(d);i&&(e.$2.debugTrace("handle_delta_match"),j.apply(void 0,[a,b].concat(i.slice(1))))}}e.$2.debugTrace("handle_delta_end")};this.onSeqIdUpdated=function(a){e.$1.onSeqIdUpdated&&e.$1.onSeqIdUpdated(a)};this.onMqttConnectivityChanged=function(a){e.$1.onMqttConnectivityChanged&&e.$1.onMqttConnectivityChanged(a)};this.onIrisConnectivityChanged=function(a,b){e.$1.onIrisConnectivityChanged&&e.$1.onIrisConnectivityChanged(a,b)};this.onResnapshotRequested=function(a){e.$1.onResnapshotRequested&&e.$1.onResnapshotRequested(a)};this.$1=a;this.$2=new(d("PolarisDirectLogger").DirectLogger)("DirectDeltaHandlers",b)};g.parsePartialDeltaEmoji=a;g.parseDMSettings=b;g.parseDeltaItem=e;g.stringifyIds=j;g.parseDeltaNumber=f;g.DirectDeltaHandlers=k}),98);
__d("PolarisPinnedQuestionGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="PINNED_QUESTION",i="18005526940184517";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$PinnedQuestionGraphQLEventHandler$p_1=b;e.$PinnedQuestionGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(d.id),client_subscription_id:c("uuidv4")()}});return e}var e=b.prototype;e.processEventMessage=function(a){a=a.live_active_question_event;if(a==null)return;a={question:a,type:h};this.$PinnedQuestionGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$PinnedQuestionGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.PinnedQuestionGraphQLEventHandler=a}),98);
__d("PolarisQuestionStatusGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="QUESTION_STATUS",i="18027779584026952";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$QuestionStatusGraphQLEventHandler$p_1=b;e.$QuestionStatusGraphQLEventHandler$p_2=e.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(d.id),client_subscription_id:c("uuidv4")()}});return e}var e=b.prototype;e.processEventMessage=function(a){a=a.live_question_submission_status_event;if(a==null)return;a={status:a,type:h};this.$QuestionStatusGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$QuestionStatusGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.QuestionStatusGraphQLEventHandler=a}),98);
__d("PolarisWaveGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisConfig","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="LIVE_WAVE",i="17882305414154951";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e){var f;f=a.call(this)||this;f.$WaveGraphQLEventHandler$p_1=b;f.$WaveGraphQLEventHandler$p_2=f.getGraphQLSubsciptionPrefix()+i+"/"+JSON.stringify({input_data:{broadcast_id:String(e.id),client_subscription_id:c("uuidv4")(),receiver_id:d("PolarisConfig").getViewerId()},publish_data:{broadcast_id:String(e.id),receiver_id:d("PolarisConfig").getViewerId(),waver_id:String(e.broadcast_owner)}});return f}var e=b.prototype;e.processEventMessage=function(a){a=a.live_video_wave_event;if(a==null)return;a={type:h,wave:a};this.$WaveGraphQLEventHandler$p_1.eventHandler(a)};e.getSubTopic=function(){return this.$WaveGraphQLEventHandler$p_2};e.getType=function(){return d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE};return b}(d("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);g.WaveGraphQLEventHandler=a}),98);
__d("PolarisDirectGraphQLSubscription",["PolarisBaseGraphQLEventHandler","PolarisBdChallengeGraphQLEventHandler","PolarisDirectBaseSubscription","PolarisDirectLogger","PolarisPinnedQuestionGraphQLEventHandler","PolarisQuestionStatusGraphQLEventHandler","PolarisWaveGraphQLEventHandler","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h="/ig_realtime_sub";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){e=new(d("PolarisDirectLogger").DirectLogger)("DirectGraphQLSubscription",e);c=a.call(this,h,[],c,e)||this;c.$DirectGraphQLSubscription$p_2=e;c.$DirectGraphQLSubscription$p_1=b;c.$DirectGraphQLSubscription$p_3=new Map();c.$DirectGraphQLSubscription$p_4();c.getSubTopics();return c}var e=b.prototype;e.$DirectGraphQLSubscription$p_4=function(){var a=Object.keys(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES);for(var b=0;b<a.length;b++){var c=a[b];d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[c]!==d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE&&d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[c]!==d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION&&!this.$DirectGraphQLSubscription$p_5(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[c])&&this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type")}};e.getSubTopics=function(){var a=[];for(var b=this.$DirectGraphQLSubscription$p_3,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];f=f.getSubTopic();c("isStringNullOrEmpty")(f)||a.push(f)}this.updateSubTopics(a);return a};e.processMessage=function(b){for(var c=this.$DirectGraphQLSubscription$p_3,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];f.processEventMessage(b)}a.prototype.processMessage.call(this,b)};e.enableOrDisableEventHandlerByType=function(a,b){b?this.$DirectGraphQLSubscription$p_5(a)||this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type"):this.$DirectGraphQLSubscription$p_3["delete"](a);return this};e.$DirectGraphQLSubscription$p_5=function(a){this.$DirectGraphQLSubscription$p_3||(this.$DirectGraphQLSubscription$p_3=new Map());var b=this.$DirectGraphQLSubscription$p_6(a);if(b!=null){this.$DirectGraphQLSubscription$p_3.set(a,b);return!0}return!1};e.$DirectGraphQLSubscription$p_6=function(a){switch(a){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE:return new(d("PolarisBdChallengeGraphQLEventHandler").BdChallengeGraphQLEventHandler)(this.$DirectGraphQLSubscription$p_2.getDebugId());default:return null}};e.enableLiveEventHandler=function(a,b,c){switch(c){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,new(d("PolarisWaveGraphQLEventHandler").WaveGraphQLEventHandler)(b,a));return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION,new(d("PolarisPinnedQuestionGraphQLEventHandler").PinnedQuestionGraphQLEventHandler)(b,a));return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:this.$DirectGraphQLSubscription$p_3.set(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS,new(d("PolarisQuestionStatusGraphQLEventHandler").QuestionStatusGraphQLEventHandler)(b,a));return this;default:return this}};e.disableLiveEventHandler=function(a){switch(a){case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE);return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION);return this;case d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:this.$DirectGraphQLSubscription$p_3["delete"](d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS);return this;default:return this}};e.unsubscribeGraphQL=function(){this.unsubscribe(),this.enableOrDisableEventHandlerByType(d("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,!1)};return b}(d("PolarisDirectBaseSubscription").DirectBaseSubscription);g.DirectGraphQLSubscription=a}),98);
__d("PolarisDirectIrisSubscription",["FBLogger","PolarisDirectLogger","isObject"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i=2,j=1e3,k=64e3;a=function(){function a(a,b,e,f){var g=this;this.$7=function(){g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"attempt",attempt_reason:"mqtt-connected"}));g.$1.onIrisConnectivityChanged("Subscribing");var a=JSON.stringify(g.$2);g.$3.publish("/ig_sub_iris",a)["catch"](function(a){g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"error",error:JSON.stringify(a)})),g.$1.onIrisConnectivityChanged("Unsubscribed")})};this.$8=function(a){var b;if(typeof a==="string"||a instanceof String)try{b=JSON.parse(a)}catch(a){var e="Could not parse sub iris response $(response)";g.$6.logError(e,a);c("FBLogger")("ig_web").mustfix(e);b=a}else c("isObject")(a)?b=a:(c("FBLogger")("ig_web").mustfix("Unknown sub iris response $(response)"),b={succeeded:!1});if(b.succeeded===!0)g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,{action:"success"})),g.$1.onIrisConnectivityChanged("Subscribed",g.$2.subscription_type);else{g.$6.logDirectClientEvent("ig_direct_iris_subscription",d("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers["extends"]({},g.$2,b,{action:"error"}));g.$1.onIrisConnectivityChanged("Unsubscribed");if(b.error_type===h)g.$1.onResnapshotRequested(g.$2);else if(b.error_type===i){e=g.$4+Math.floor(Math.random()*1e3);window.setTimeout(g.$7,e);g.$4=Math.min(g.$4*2,k)}}};this.$6=new(d("PolarisDirectLogger").DirectLogger)("DirectIrisSubscription",f);this.$6.debugTrace("ctor",b);this.$1=a;this.$2=b;this.$3=e;this.$4=j}var b=a.prototype;b.subscribe=function(){this.$6.debugTrace("subscribe_start"),this.unsubscribe(),this.$3.subscribe("/ig_sub_iris_response",this.$8),this.$7(),this.$6.debugTrace("subscribe_end")};b.unsubscribe=function(){this.$6.debugTrace("unsubscribe_start"),this.$5&&(window.clearTimeout(this.$5),this.$5=null),this.$3.unsubscribe("/ig_sub_iris_response"),this.$1.onIrisConnectivityChanged("Unsubscribed"),this.$6.debugTrace("unsubscribe_end")};return a}();g.DirectIrisSubscription=a}),98);
__d("PolarisDirectSkywalkerSubscription",["PolarisConfig","PolarisDirectBaseSubscription","PolarisDirectLogger","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="/pubsub";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){f=new(d("PolarisDirectLogger").DirectLogger)("DirectSkywalkerSubscription",f);e=a.call(this,h,["ig/u/v1/"+c("nullthrows")(d("PolarisConfig").getViewerId())],e,f)||this;e.$DirectSkywalkerSubscription$p_2=f;e.$DirectSkywalkerSubscription$p_1=b;return e}var e=b.prototype;e.parsePayload=function(b){if(b.indexOf("/activity_indicator_id/")===-1){this.$DirectSkywalkerSubscription$p_2.debugTrace("not_activity_indicator_message");return null}return a.prototype.parsePayload.call(this,b)};e.processMessage=function(b){var c=b.data,d=b.event;if(d!=="patch"){this.$DirectSkywalkerSubscription$p_2.debugTrace("skipped_message",{event:d});return}if(!Array.isArray(c)){this.$DirectSkywalkerSubscription$p_2.debugTrace("parsed_message_bad_data",typeof c);return}for(var d=c,c=Array.isArray(d),e=0,d=c?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;this.$DirectSkywalkerSubscription$p_1.handleDelta(f,"")}a.prototype.processMessage.call(this,b)};return b}(d("PolarisDirectBaseSubscription").DirectBaseSubscription);g.DirectSkywalkerSubscription=a}),98);
__d("PolarisLiveDeltaHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(a){this.eventHandler=a};f["default"]=a}),66);
__d("PolarisMqttEnv",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({messenger_uses_mqtt_rollout:2,mqtt_ep_with_sid:0,mqtt_fast_lp:11,mqtt_lp_use_fetch:9,mqtt_waterfall_log_client_sampling:1,mqtt_ws_forced_polling_only:4,mqtt_ws_polling_enabled:3,mqtt_ws_reconnect_reset:7});b=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}window.clearTimeout(a)};a.setTimeout=function(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return this.$4!=null?this.$4.apply(null,arguments):window.setTimeout.apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():g.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):new WebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var g=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){a.attemptNumber,a.connectionStatus,a.duration,a.errorCode,a.errorMessage,a.failTotal,a.hostname,a.publishes,a.sessionID,a.subscribedTopics,a.successTotal};b.eventLogPull=function(a){a.duration,a.errorMessage,a.hostname,a.pullEventName,a.sessionID,a.status};b.eventLogDisconnect=function(a){a.duration,a.errorCode,a.errorMessage,a.sessionID};b.eventLogPublish=function(a){a.connectionStatus,a.publishStatus,a.sessionID,a.topic};b.eventLogMiscellaneousError=function(a){a.errorMessage};b.logError=function(a,b){};b.logErrorWarn=function(a,b){};b.logWarn=function(a,b){};b.debugTrace=function(a,b){};b.bumpCounter=function(a){};return a}();c={Env:new b(),MqttGkNames:a};f["default"]=c}),66);
__d("PolarisIrisSubscribeChecker",["PolarisMqttEnv"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env,h=b("PolarisMqttEnv").MqttGkNames;a=function(){function a(a){this.$1=g.getLoggerInstance();this.$2=null;this.$3=!1;this.$4=!1;this.$5=!1;this.$6=!0;this.$7=0;this.$8=a;if(typeof window!=="undefined"){a=window.location.hostname;(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")&&(this.$6=!1)}g.genGk(h.messenger_uses_mqtt_rollout)||(this.$6=!1)}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=g.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7===1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$1.eventLogMiscellaneousError({errorMessage:a});this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();e.exports=a}),null);
__d("PolarisMqttAnalyticsHook",["InstagramODS","PolarisMqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=c("PolarisMqttEnv").Env.getLoggerInstance(),this.$2=0,this.$3=0,this.$4=0,this.$5=0,c("InstagramODS").incr("web.mqtt.session_start"),c("PolarisMqttEnv").Env.isUserLoggedInNow()||c("InstagramODS").incr("web.mqtt.session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){c("InstagramODS").incr("web.mqtt.ws_connect_attempt")};b.onConnectFailure=function(){this.$3++,c("InstagramODS").incr("web.mqtt.ws_connect_failure")};b.onConnected=function(){c("InstagramODS").incr("web.mqtt.ws_connect_connected")};b.onConnectSuccess=function(){this.$2===0&&c("InstagramODS").incr("web.mqtt.ws_connect_first_success"),this.$2++,c("InstagramODS").incr("web.mqtt.ws_connect_success")};b.onConnectionLost=function(){c("InstagramODS").incr("web.mqtt.ws_disconnect")};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){c("InstagramODS").incr("web.mqtt.ws_publish")};b.onMessage=function(a){c("InstagramODS").incr("web.mqtt.message_arrived")};b.onWSFatal=function(){c("InstagramODS").incr("web.mqtt.ws_fatal")};b.onPollRequestSent=function(){c("InstagramODS").incr("web.mqtt.polling_request_send")};b.onPollRequestSuccess=function(){c("InstagramODS").incr("web.mqtt.polling_request_succeed"),this.$4===0&&c("InstagramODS").incr("web.mqtt.polling_first_success"),this.$4++};b.onPollResponse=function(){c("InstagramODS").incr("web.mqtt.lp.message_arrived")};b.onPollFinish=function(){};b.onPollRequestFailed=function(){c("InstagramODS").incr("web.mqtt.polling_request_failed"),this.$5++};return a}();g["default"]=a}),98);
__d("PolarisMqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("PolarisMqttProtocolUtils",["PolarisMqttEnv"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env;function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function c(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function d(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function f(a,b){return 256*a[b]+a[b+1]}function i(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function j(a,b,c,d){d=h(b,c,d);k(a,c,d);return d+b}function k(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function l(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}b=function(){function a(a,b,c){this.$1=a*1e3,this.$4=b,this.$5=c,this.$3=!1}var b=a.prototype;b.$6=function(){var a=this;this.$3?(this.$3=!1,this.$4(),this.$2=g.setTimeout(function(){a.$6()},this.$1)):this.$5()};b.reset=function(){var a=this;this.$3=!0;this.$2&&(g.clearTimeout(this.$2),this.$2=null);this.$1>0&&(this.$2=g.setTimeout(function(){a.$6()},this.$1))};b.cancel=function(){this.$2&&(g.clearTimeout(this.$2),this.$2=null)};return a}();e.exports={Pinger:b,UTF8Length:i,concatBuffers:a,convertStringToUTF8:k,convertUTF8ToString:l,decodeMultiByteInt:c,encodeMultiByteInt:d,readUInt16BE:f,writeString:j,writeUInt16BE:h}}),null);
__d("PolarisMqttUtils",["PolarisMqttEnv","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={endpointWithExtraParameter:function(a,b,c){return a.indexOf("?")>0?a+"&"+b+"="+c:a+"?"+b+"="+c},endpointWithExtraParameters:function(a,b){var c=a;b.forEach(function(a,b){c=h.endpointWithExtraParameter(c,b,a)});return c},endpointWithSessionId:function(a,b){return!c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ep_with_sid)?a:h.endpointWithExtraParameter(a,"sid",b.toString())},generateSessionId:function(){return Math.floor(c("PolarisMqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)},hasWSSupport:function(){return"WebSocket"in a&&a.WebSocket!==null},promiseDone:function(a,b,d){var e=arguments.length>1?a.then(b,d):a;c("promiseDone")(e.then(null,function(a){c("PolarisMqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw c("err")("promiseDone")},0)}))},sprintf:function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}};b=h;g["default"]=b}),98);
__d("PolarisMqttProtocolCodec",["PolarisMqttProtocolUtils","PolarisMqttUtils"],(function(a,b,c,d,e,f){"use strict";var g=(c=b("PolarisMqttProtocolUtils")).UTF8Length,h=c.convertStringToUTF8,i=c.convertUTF8ToString,j=c.decodeMultiByteInt,k=c.encodeMultiByteInt,l=c.readUInt16BE,m=c.writeString,n=c.writeUInt16BE,o=b("PolarisMqttUtils").sprintf,p=Object.freeze({CONNACK:2,CONNECT:1,DISCONNECT:14,PINGREQ:12,PINGRESP:13,PUBACK:4,PUBLISH:3,SUBACK:9,SUBSCRIBE:8,UNSUBACK:11,UNSUBSCRIBE:10}),q=[0,6,77,81,73,115,100,112,3];function r(a,b){b=b;var c=b,d=a[b],e=d>>4;b+=1;var f=j(a,b);if(f==null)return{position:c,wireMessage:null};b=f.offset;f=b+f.value;if(f>a.length)return{position:c,wireMessage:null};var g;switch(e){case p.CONNACK:c=a[b++];c=!!(c&1);var h=a[b++];g=new u(c,h);break;case p.PUBLISH:c=d&15;h=c>>1&3;d=l(a,b);b+=2;var k=i(a,b,d);b+=d;d=null;h===1&&(d=l(a,b),b+=2);var m=w.createWithBytes(a.subarray(b,f)),n=(c&1)===1;c=(c&8)===8;g=new x(k,m,h,d,n,c);break;case p.PINGREQ:g=new s("PINGREQ");break;case p.PINGRESP:g=new s("PINGRESP");break;case p.PUBACK:case p.UNSUBACK:k=l(a,b);g=new v(e===p.PUBACK?"PUBACK":"UNSUBACK",k);break;case p.SUBACK:m=l(a,b);b+=2;h=a.subarray(b,f);g=new t(m,h);break;default:throw new Error(o("Invalid MQTT message type %s.",e))}return{position:f,wireMessage:g}}function a(a){var b=[],c=0;while(c<a.length){var d=r(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}d=function(){function a(a){this.messageType=p[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var s=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(d);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(k(0),1);return b};return b}(d);var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(d),u=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(d),v=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=k(b),d=c.length+1;b=new ArrayBuffer(b+d);var e=new Uint8Array(b);e[0]=a;e.set(c,1);d=n(this.messageIdentifier,e,d);return b};return a}(d);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=q.length+3;b+=g(this.clientId)+2;b+=g(this.connectOptions.userName)+2;var c=k(b);b=new ArrayBuffer(1+c.length+b);var d=new Uint8Array(b);d[0]=a;a=1;d.set(c,1);a+=c.length;d.set(q,a);a+=q.length;c=2|128;d[a++]=c;a=n(this.connectOptions.keepAliveInterval,d,a);a=m(this.clientId,g(this.clientId),d,a);a=m(this.connectOptions.userName,g(this.connectOptions.userName),d,a);return b};return b}(d);b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this,b)||this;f.topic=c;if(d<0&&d>1||d===1&&e==null)throw new TypeError(o("Argument Invalid. qos: %s messageType: %s.",d,b));f.qos=d;f.messageIdentifier=e;return f}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=g(this.topic),c=2+b+2;this.messageType===p.SUBSCRIBE&&(c+=1);var d=k(c);c=new ArrayBuffer(1+d.length+c);var e=new Uint8Array(c);e[0]=a;a=1;e.set(d,1);a+=d.length;this.messageIdentifier!=null&&(a=n(this.messageIdentifier,e,a));a=m(this.topic,b,e,a);this.messageType===p.SUBSCRIBE&&this.qos!=null&&(e[a++]=this.qos);return c};return b}(d);var w=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(g(b)));h(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=0,d=b.length;while(c<b.length&&b[c]!==123&&b[c]!==91)c++,d--;var e=i(b,c,d);b=b.subarray(c,d);return new a(e,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),x=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&(a|=1);var b=g(this.topic),c=b+2;c+=this.messageIdentifier==null?0:2;var d=this.payloadMessage.bytes();c+=d.byteLength;var e=k(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;f.set(e,1);a=1+e.length;a=m(this.topic,b,f,a);this.messageIdentifier!=null&&(a=n(this.messageIdentifier,f,a));f.set(d,a);return c};return a}(d);e.exports={MESSAGE_TYPE:p,WireMessage:{Base:d,ConnAck:u,Connect:c,Disconnect:f,Ping:s,PubAckUnsubAck:v,Publish:x,Subscription:b},createMessageWithString:w.createWithString,decodeByteMessages:a,decodeMessage:r}}),null);
__d("PolarisMqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){this.errorCode=a,this.errorMessage=b};b=function(a,b){this.mqttError=a,this.connAck=b};c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));e.exports={ConnectFailure:b,MqttChannelError:c,MqttError:a}}),null);
__d("PolarisMqttProtocolClient",["PolarisMqttEnv","PolarisMqttProtocolCodec","PolarisMqttProtocolUtils","PolarisMqttTypes"],(function(a,b,c,d,e,f){"use strict";var g=b("PolarisMqttEnv").Env,h=(a=b("PolarisMqttProtocolCodec")).MESSAGE_TYPE,i=a.WireMessage,j=a.createMessageWithString,k=a.decodeByteMessages,l=b("PolarisMqttProtocolUtils").Pinger,m=b("PolarisMqttProtocolUtils").concatBuffers,n=b("PolarisMqttTypes").ConnectFailure;c=b("PolarisMqttTypes").MqttError;var o=30,p=6e4,q={APP_DISCONNECT:new c(7,"Disconnect initiated by app"),CONNACK_FAILURE:new c(5,"Connection failure due to connack"),CONNECT_TIMEOUT:new c(4,"Connect timed out"),INVALID_DATA_TYPE:new c(3,"Received non-arraybuffer from socket."),PING_TIMEOUT:new c(6,"Ping timeout"),SERVER_DISCONNECT:new c(8,"Disconnect message sent my server"),SOCKET_CLOSE:new c(9,"Socket connection closed"),SOCKET_ERROR:new c(1,"Socket error"),SOCKET_MESSAGE:new c(2,"Unable to parse invalid socket message")};d=function(){function a(a){var b=this;this.$11=function(a,c){var d=b.$5,e=b.$2,f=e.onConnectFailure,h=e.onConnectionLost;b.setConnected(!1);d?g.scheduleCallback(function(){h(a)}):g.scheduleCallback(function(){f(new n(a,c!=null?c:-1))});b.$13()};this.$12=function(a){var c=b.$6;if(c==null)return;if(c.readyState!==c.OPEN)return;c.send(a.encode())};this.handleMessage=function(a){switch(a.messageType){case h.CONNACK:b.$7!=null&&(g.clearTimeout(b.$7),b.$7=null);if(a instanceof i.ConnAck){var c=a;if(c.returnCode!==0){b.$9.bumpCounter("protocol.error.connack.invalidreturncode");b.setConnected(!1);b.$11(q.CONNACK_FAILURE,c.returnCode);return}g.scheduleCallback(function(){b.$2.onConnectSuccess()});b.$8!=null&&b.$8.reset()}break;case h.PUBLISH:if(a instanceof i.Publish){var d=a;g.scheduleCallback(function(){b.$2.onMessageArrived(d.topic,d.payloadMessage.payloadString)});c=d.messageIdentifier;b.$9.bumpCounter("protocol.publish.received");if(d.qos===1&&c!=null){c=new i.PubAckUnsubAck("PUBACK",c);b.$12(c)}}break;case h.PUBACK:if(a instanceof i.PubAckUnsubAck){c=a;var e=c.messageIdentifier;b.$9.bumpCounter("protocol.puback.received");g.scheduleCallback(function(){b.$2.onMessageDelivered(e)})}break;case h.PINGRESP:b.$8!=null&&b.$8.reset();break;case h.DISCONNECT:b.$11(q.SERVER_DISCONNECT);break;case h.SUBACK:b.$9.bumpCounter("protocol.suback.received");break;case h.UNSUBACK:b.$9.bumpCounter("protocol.unsuback.received");break;default:b.$9.logError(new Error("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");b.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};this.$3=a;this.$2={ignoreSubProtocol:!1,keepAliveInterval:10,mqttVersion:3,onConnectFailure:function(a){},onConnection:function(){},onConnectionError:function(a){},onConnectionLost:function(a){},onConnectSuccess:function(){},onMessageArrived:function(a,b){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=g.getLoggerInstance()}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw new Error("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(g.clearTimeout(this.$7),this.$7=null);this.$7=g.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$11(q.CONNECT_TIMEOUT)},o*1e3);this.$6=g.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$12(new i.Connect(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$11(q.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=m(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=k(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,q.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$11(q.SOCKET_MESSAGE)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket"),b.$11(q.SOCKET_ERROR)};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),b.$11(q.SOCKET_CLOSE)};this.$8!=null&&this.$8.cancel();this.$8=new l(a.keepAliveInterval,this.$12.bind(this,new i.Ping("PINGREQ")),this.$11.bind(this,q.PING_TIMEOUT))};b.$13=function(){this.setConnected(!1),this.$8!=null&&this.$8.cancel(),this.$7!=null&&(g.clearTimeout(this.$7),this.$7=null),this.$6!=null&&(this.$6.onopen=function(a){},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(a){},this.$6.readyState===this.$6.OPEN&&this.$6.close(),delete this.$6,this.$6=null),this.$2.onConnectSuccess=function(){},this.$2.onConnectFailure=function(a){},this.$2.onConnection=function(){},this.$2.onConnectionError=function(a){},this.$2.onConnectionLost=function(a){},this.$2.onMessageArrived=function(a,b){},this.$2.onMessageDelivered=function(a){}};b.disconnect=function(){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$13();return}this.$12(new i.Disconnect());this.$9.bumpCounter("protocol.debug.disconnect");this.$11(q.APP_DISCONNECT)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw new Error("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new i.Subscription("SUBSCRIBE",a,0,this.$14());this.$12(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw new Error("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new i.Subscription("UNSUBSCRIBE",a,0,this.$14());this.$12(a)};b.publish=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var d=this.$14();a=new i.Publish(a,j(b),c,d);this.$12(a);return d};b.$14=function(){++this.$4===p&&(this.$4=1);return this.$4};return a}();e.exports=d}),null);
__d("PolarisMqttUserName",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$8=g,this.$7=typeof document==="object"&&document&&document.hasFocus()}var b=a.prototype;b.gen=function(a,b,c){c={a:navigator.userAgent,aid:this.$5,asi:void 0,chat_on:this.$6,cp:this.$3,ct:"cookie_auth",d:this.$4,dc:"",ecp:this.$2,fg:this.$7,mqtt_sid:"",no_auto_fg:!0,pm:c,s:a,st:b,u:this.$1};this.$8&&this.$8.appSpecificInfo&&(c.asi=this.$8.appSpecificInfo);return JSON.stringify(c)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};return a}();f["default"]=a}),66);
__d("PolarisMqttConnection",["InstagramODS","PolarisMqttConnectionHookCollection","PolarisMqttEnv","PolarisMqttProtocolClient","PolarisMqttTypes","PolarisMqttUserName","PolarisMqttUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=10,j="publish",k="subscribe",l="unsubscribe";function m(a){}var n=18e4,o=5*1e3,p=15,q=21;a=function(){function a(a){this.$8=!1;this.$10=c("PolarisMqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$14=new Set();this.$15=new Map();this.$17=0;this.$18=0;this.$12=0;this.$13=0;this.$8=!1;this.$5="";this.$6=new(c("PolarisMqttUserName"))("0",0,1,"",0,!0);this.$9=0;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$19=new(c("PolarisMqttConnectionHookCollection"))();this.$4=function(){return[]};this.$16=a}var d=a.prototype;d.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$12=0;this.$2=f||m;a&&a.forEach(function(a){return b.$14.add(a)});this.$4=d;this.$20()};d.shutdown=function(){this.$21(),this.$22("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};d.subscribe=function(a){this.$14.add(a);this.ensureConnected(k)&&this.$23(a);return!0};d.publish=function(a,c,d){var e={reject:function(a){},resolve:function(){}},f=new(h||(h=b("Promise")))(function(a,b){e.resolve=a,e.reject=b}),g=this.ensureConnected(j),i="connection_unknown";if(!g)i="connection_not_connected",e.reject(new Error("Client disconnected"));else{c=this.$24(a,c,d,e);i=c===!0?"connection_published":"connection_failed"}this.$10.eventLogPublish({connectionStatus:g,publishStatus:i,sessionID:this.$9,topic:a});return f};d.unsubscribe=function(a){this.$14["delete"](a);this.ensureConnected(l)&&this.$25(a);return!0};d.addHook=function(a){this.$19.addHook(a)};d.removeHook=function(a){this.$19.removeHook(a)};d.isRunning=function(){return this.$8};d.getSessionId=function(){return this.$9};d.ensureConnected=function(a){if(!this.$8){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called when not running");return!1}if(this.$7==null){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called when not connected, ignored");return!1}var b=this.$7.isConnected();if(!b){this.$10.debugTrace("ensureConnected","Mqtt connection: "+a+" called with client not connected");return!1}return!0};d.connectionState=function(){return this.$11};d.testOnlyGetSubscribedTopics=function(){return this.$14};d.$21=function(){this.$8&&this.$7!=null&&(this.$26("Disconnected"),this.$7!=null&&this.$7.disconnect(),this.$7=null)};d.$26=function(a){a!==this.$11&&(this.$11=a,this.$1(a))};d.$20=function(){var a=this;if(!this.$8)return;this.$26("Connecting");var b=Date.now();this.$9=c("PolarisMqttUtils").generateSessionId();var d=Array.from(this.$14),e=c("PolarisMqttUtils").endpointWithSessionId(this.$5,this.$9);try{this.$7=new(c("PolarisMqttProtocolClient"))(e);var f=this.$27(),g=f.map(function(a){return a.topic});e=this.$6.gen(this.$9,d,f);this.$7!=null&&(this.$7.connect({ignoreSubProtocol:!0,keepAliveInterval:i,mqttVersion:3,onConnectFailure:function(c){return a.$28(c,b,d,g)},onConnection:function(){return a.$29(f,d)},onConnectionError:function(b){return a.$30(b)},onConnectionLost:function(b){return a.$31(b)},onConnectSuccess:function(){return a.$32(b,d,g)},onMessageArrived:function(b,c){return a.$33(b,c)},onMessageDelivered:function(b){return a.$34(b)},userName:e}),c("InstagramODS").incr("web.mqtt.protocol.connectattempt"),this.$19.onConnectAttempt())}catch(a){c("InstagramODS").incr("web.mqtt.js_error_in_init_exception"),this.$26("Disconnected"),this.$35(!1,b,d,[],14,a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$19.onWSFatal(),this.$36(new(c("PolarisMqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};d.$27=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};d.$23=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$19.onSubscribe(a);c("InstagramODS").incr("web.mqtt.protocol.subscribe");return!0}}catch(a){this.$10.logError(a,"Exception subscribing"),c("InstagramODS").incr("web.mqtt.subscribe_exception"),c("InstagramODS").incr("web.mqtt.protocol.subscribe.error")}return!1};d.$25=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$19.onUnsubscribe(a);c("InstagramODS").incr("web.mqtt.protocol.unsubscribe");return!0}}catch(a){this.$10.logError(a,"Exception unsubscribing"),c("InstagramODS").incr("web.mqtt.unsubscribe_exception"),c("InstagramODS").incr("web.mqtt.protocol.unsubscribe.error")}return!1};d.$24=function(a,b,d,e){if(this.$7!=null)try{b=this.$7.publish(a,b,d);c("InstagramODS").incr("web.mqtt.protocol.publish");var f=b!=null?b:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+f+" qos:"+d);this.$19.onPublish(a);b!=null?this.$15.set(b,e):e.resolve();return!0}catch(a){this.$10.logError(a,"Exception publishing");c("InstagramODS").incr("web.mqtt.publish_exception");e.reject(a);c("InstagramODS").incr("web.mqtt.protocol.publish.error");return!1}else return!1};d.$37=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$21();this.$22("reconnect");this.$38();this.$9=-1;this.$13=0;a=a!=null?a:Math.pow(2,Math.min(this.$12,6))*(1e3+c("PolarisMqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");c("PolarisMqttEnv").Env.setTimeout(function(){b.$20()},a);this.$12+=1};d.$38=function(){if(!c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset))return;var a=Date.now()-this.$13,b=this.$13!==0&&a>o,d=this.$12>p;(b||d)&&(this.$12=0);this.$13!==0&&a<=o&&c("InstagramODS").incr("web.mqtt.short_lived_session");d&&c("InstagramODS").incr("web.mqtt.connection_attempt_limit")};d.$35=function(a,b,c,d,e,f){a===!0?this.$18++:this.$17++,this.$10.eventLogConnect({attemptNumber:this.$12,connectionStatus:a,duration:Date.now()-b,errorCode:e,errorMessage:f,failTotal:this.$17,hostname:this.$5,publishes:d,sessionID:this.$9,subscribedTopics:c,successTotal:this.$18})};d.$28=function(a,b,d,e){var f=a.mqttError,g=f.errorMessage;this.$10.debugTrace("connect","Connect failed "+g);c("InstagramODS").incr("web.mqtt.protocol.onconnectfailure");this.$19.onConnectFailure();this.$35(!1,b,d,e,f.errorCode,g);if(a.connAck!=null){c("InstagramODS").incr("web.mqtt.protocol.connect_failure");if(a.connAck===q){this.$37(n);return}}this.$37()};d.$29=function(a,b){var d=this;c("InstagramODS").incr("web.mqtt.protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$19.onConnected();b.forEach(function(a){d.$19.onSubscribe(a)});a.forEach(function(a){d.$19.onPublish(a.topic)});this.$26("TransportConnected")};d.$32=function(a,b,d){c("InstagramODS").incr("web.mqtt.protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$19.onConnectSuccess(),this.$35(!0,a,b,d),this.$26("Connected"),this.$39(b),c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset)||(this.$12=0),this.$13=Date.now()};d.$31=function(a){c("InstagramODS").incr("web.mqtt.protocol.onconnectionlost"),a.errorCode&&this.$10.eventLogDisconnect({duration:Date.now()-this.$13,errorCode:a.errorCode,errorMessage:a.errorMessage,sessionID:this.$9}),this.$10.debugTrace("connect","connection lost"),this.$19.onConnectionLost(),this.$37()};d.$30=function(a){};d.$33=function(a,b){c("InstagramODS").incr("web.mqtt.protocol.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$19.onMessage(a);try{this.$3(a,b)}catch(a){this.$10.logError(a,"Listener threw error"),c("InstagramODS").incr("web.mqtt.listener_error")}};d.$34=function(a){c("InstagramODS").incr("web.mqtt.protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$15.get(a);if(b==null)return;this.$15["delete"](a);b.resolve()};d.$22=function(a){this.$15.forEach(function(b,c,d){b.reject(new Error(a))}),this.$15.clear()};d.$39=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$14.has(a)||b.unsubscribe(a)});a=new Set(this.$14);a.forEach(function(a){c.has(a)||b.subscribe(a)})};d.$36=function(a,b){try{c("InstagramODS").incr("web.mqtt.js_error_in_init");var d=a?a.message:"error";this.$10.debugTrace("onError",b+": "+d);this.$2(a)}catch(a){c("InstagramODS").incr("web.mqtt.js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};return a}();g["default"]=a}),98);
__d("PolarisMqttChannel",["FBLogger","InstagramODS","PolarisChannelClientID","PolarisIrisSubscribeChecker","PolarisMqttAnalyticsHook","PolarisMqttConnection","PolarisMqttEnv","PolarisMqttUserName","PolarisMqttUtils","Promise","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60*1e3;a=function(){function a(a){var b=this,d=a.appId,e=a.capabilities,f=a.chatVisibility;f=f===void 0?!0:f;var g=a.clientCapabilities,h=a.endpoint,i=a.igSpecificOptions,j=a.initialSubscribedTopics,k=a.observer;a=a.userFbid;this.$8=c("PolarisMqttEnv").Env.getLoggerInstance();this.$8.setAppId(d);this.$9=new(c("PolarisMqttUserName"))(a,e,g,c("PolarisChannelClientID").getID(),d,f,i);this.$1=h;this.$5="Disconnected";this.$2=[k];this.$4=new Set();this.$6=new Map();this.$7=new(c("PolarisMqttConnection"))(i);(i==null?void 0:i.deviceId)!=null?this.$3=i.deviceId:this.$3=c("uuidv4")();this.$13=new(c("PolarisMqttAnalyticsHook"))();this.$7.addHook(this.$13);this.$7.addHook(new(c("PolarisIrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$10=!1;this.$12=new Map();this.$11=[];this.$14(j)}var d=a.prototype;d.$14=function(a){var b=this;if(this.$7.isRunning()){this.$15("run","Connection started calling run again");return}if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_forced_polling_only)){this.$15("MqttChannel","Websocket disabled, will do long polling only");return}else if(!c("PolarisMqttUtils").hasWSSupport()){this.$15("MqttChannel","Websocket Unavailable, will do long polling only");c("InstagramODS").incr("web.mqtt.ws_unavailable_polling");return}this.$7.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$16()},mqttUserName:this.$9,onJSError:function(a){b.$17(a)},onMessageReceived:function(a,c){b.$18(a,c)},onStateChange:function(a){b.$19(a)},subscribedTopics:a})};d.shutdown=function(){this.$7&&this.$7.shutdown()};d.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return c.qos===0?this.$20(a,b):this.$21(a,b,c)};d.$20=function(a,b){return this.$7.publish(a,b,0)};d.$21=function(a,d,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=c("PolarisMqttEnv").Env.random();d={ack:f,options:e,payload:d,publishToken:i,timeoutId:null,topic:a};e.skipBuffer?this.$7.connectionState()==="Connecting"?this.$11.push(d):this.$22(d):(d.timeoutId=this.$23(i),this.$12.set(i,d),this.$24(d));return g};d.$22=function(a){c("PolarisMqttUtils").promiseDone(this.$7.publish(a.topic,a.payload,a.options.qos),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};d.$24=function(a){var b=this;c("PolarisMqttUtils").promiseDone(this.$7.publish(a.topic,a.payload,a.options.qos),function(){return b.$25(a)},function(){})};d.subscribe=function(a,b){this.$7.subscribe(a);var c=this.$6.get(a);!c?(c=[b],this.$6.set(a,c)):c.push(b)};d.subscribeChannelEvents=function(a){this.$2.push(a)};d.registerExtraConnectPayloadProvider=function(a){var b=this;this.$4.add(a);if(this.$7.isRunning()){a=a.getPublishMessages();a.forEach(function(a){b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})["catch"](function(a){return b.$8.logError(a,a==null?void 0:a.message)})})}};d.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};d.unsubscribe=function(a){this.$7.unsubscribe(a),this.$6["delete"](a)};d.getConnectionState=function(){return this.$5};d.getEndpoint=function(){return this.$1};d.addHook=function(a){this.$7.addHook(a)};d.removeHook=function(a){this.$7.removeHook(a)};d.testOnlyMessageReceived=function(a,b){this.$18(a,b)};d.$26=function(a){var b=this.$12.get(a);b!=null&&b.timeoutId!=null&&c("PolarisMqttEnv").Env.clearTimeout(b.timeoutId);this.$12["delete"](a)};d.$23=function(a){var b=this;return c("PolarisMqttEnv").Env.setTimeout(function(a){var d=b.$12.get(a);if(!d)return;var e=d.topic;c("InstagramODS").incr("web.mqtt.publish_timeout");b.$8.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$26(a);d.ack.reject(new Error("Publish Timed Out"))},i,a)};d.$25=function(a){var b=a.publishToken,d=this.$12.get(b);if(!d)return;this.$26(b);a.ack.resolve();this.$8.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);c("InstagramODS").incr("web.mqtt.publish_success")};d.$18=function(a,b){var d=this.$6.get(a);if(!d)this.$8.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var a=d,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;try{f(b)}catch(a){this.$8.logError(a,"Listener exception"),c("InstagramODS").incr("web.mqtt.listener_error")}}};d.$17=function(a){if(c("PolarisMqttEnv").Env.genGk(c("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?c("InstagramODS").incr("web.mqtt.recoverable_error_skipped"):c("InstagramODS").incr("web.mqtt.unrecoverable_error_skipped");return}a.isRecoverable?c("InstagramODS").incr("web.mqtt.recoverable_error_not_skipped"):c("InstagramODS").incr("web.mqtt.unrecoverable_error_not_skipped");a.isRecoverable||(this.$10=!0);this.$27(a)};d.$27=function(a){for(var b=this.$2,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};d.$19=function(a){var b=this;a==="Connecting"?(this.$11.forEach(function(a){a.ack.reject(new Error("Client Reconnecting"))}),this.$11=[]):a==="TransportConnected"&&(this.$11.forEach(function(a){b.$22(a)}),this.$11=[],this.$12.forEach(function(a,c,d){b.$24(a)}));this.$5=this.$28(a);this.$15("_changeState","Connection state = "+a);this.$29()};d.$28=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("FBLogger")("ig_web").mustfixThrow("Unknown state "+a)};d.$29=function(){for(var a=this.$2,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.onMQTTStateChanged(this.$5)}};d.$16=function(){var a=this,b=[];this.$4.forEach(function(d){try{d=d.getPublishMessages();Array.prototype.push.apply(b,d)}catch(b){a.$8.logError(b,"ConnectPayload provider exception"),c("InstagramODS").incr("web.mqtt.connectPayloadProvider_error")}});return b};d.$15=function(a,b){this.$8.debugTrace(a,"Mqtt channel: "+b)};d.setForegroundState=function(a){this.$9&&this.$9.setForegroundState(a)};d.setChatVisibility=function(a){this.$9&&this.$9.setChatVisibility(a)};return a}();g["default"]=a}),98);
__d("PolarisMqttLogger",["InstagramODS","PolarisChannelClientID","PolarisDirectLogger","PolarisMqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a="mqtt_client";var h=null,i=new(d("PolarisDirectLogger").DirectLogger)(a,c("PolarisChannelClientID").getID()),j={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish"};b=function(){a.getInstance=function(){h||(h=new a());return h};function a(){this.$1=0,this.$2=Date.now(),this.$3=c("PolarisChannelClientID").getID()}var b=a.prototype;b.setAppId=function(a){this.$1===0&&(this.$1=a)};b.eventLogConnect=function(a){var b=a.attemptNumber,d=a.connectionStatus,e=a.duration,f=a.errorCode,g=a.errorMessage;a.failTotal;var h=a.hostname,i=a.publishes,k=a.sessionID,l=a.subscribedTopics;a.successTotal;d?c("InstagramODS").incr("web.mqtt.mqtt_client_connect.success"):c("InstagramODS").incr("web.mqtt.mqtt_client_connect.failed");a={attempt_number:b,connection_status:d,device_id:this.$3,duration:e,error_code:f,error_message:g,hostname:h,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),publishes:i,session_id:k,subscribed_topics:l};this.$4(j.CONNECT,a)};b.eventLogPull=function(a){var b=a.duration,d=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$3,duration:b,error_message:d,hostname:e,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$4(f,a)};b.eventLogDisconnect=function(a){var b=a.duration,d=a.errorCode,e=a.errorMessage;a=a.sessionID;c("InstagramODS").incr("web.mqtt.mqtt_client_disconnect");b={device_id:this.$3,duration:b,error_code:d,error_message:e,href:window.location.hostname,session_id:a};this.$4(j.DISCONNECT,b)};b.eventLogPublish=function(a){a.connectionStatus;a.publishStatus;a.sessionID;a=a.topic;c("InstagramODS").incr("web.mqtt.mqtt_client_publish");c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.mqtt.mqtt_client_publish."+a)};b.logError=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.logError(b,a)})};b.eventLogMiscellaneousError=function(a){a=a.errorMessage;a={device_id:this.$3,error_message:a,href:window.location.hostname,logged_in:c("PolarisMqttEnv").Env.isUserLoggedInNow(),time_passed:Date.now()-this.$2};this.$4(j.CLIENT_ERROR,a)};b.logErrorWarn=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.logError(b,a)})};b.logWarn=function(a,b){};b.debugTrace=function(a,b){c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){i.debugTrace(a,b)})};b.bumpCounter=function(a){};b.$4=function(a,b){var d=this;c("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a,b.app_id=d.$1,b.online=d.$5(),i.logDirectEvent(a,b)})};b.$5=function(){return window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!1};return a}();g["default"]=b}),98);
__d("polarisSetTimeoutAcrossTransitions",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return setTimeout.apply(void 0,[a,b].concat(d))}f["default"]=a}),66);
__d("PolarisMqttEnvInitializer",["PolarisConfig","PolarisMqttEnv","PolarisMqttLogger","PolarisWebStorage","polarisSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h="mqtt:";a={initialize:function(){c("PolarisMqttEnv").Env.initialize(null,d("PolarisConfig").isLoggedIn,null,c("polarisSetTimeoutAcrossTransitions"),function(){return c("PolarisMqttLogger").getInstance()},null,null,null,null,function(a,b){var d=c("PolarisWebStorage").getLocalStorage();if(d){d=d.getItem(h+a);if(d!=null)return d}return b},function(a,b){var d=c("PolarisWebStorage").getLocalStorage();d&&(b==null?d.removeItem(h+a):d.setItem(h+a,b))})}};b=a;g["default"]=b}),98);
__d("polarisArraySplitChunks",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=[];for(var d=0;d<a.length;d+=b)c.push(a.slice(d,d+b));return c}f["default"]=a}),66);
__d("polarisNextTick",[],(function(a,b,c,d,e,f){"use strict";process&&typeof process.nextTick==="function"?a=function(a){process.nextTick(a)}:typeof setImmediate==="function"?a=function(a){setImmediate(a)}:typeof window.setTimeout==="function"?a=function(a){window.setTimeout(a,0)}:a=function(a){a()};b=a;f["default"]=b}),66);
__d("polarisForEachAsync",["Promise","polarisNextTick"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d){return new(h||(h=b("Promise")))(function(b,e){var f=0;if(a.length===0){b();return}function g(){try{d(a[f])}catch(a){e(a);return}f++;f>=a.length?b():c("polarisNextTick")(g)}g()})}g["default"]=a}),98);
__d("PolarisDirectMQTT",["InstagramODS","PolarisCallGatingHelpers","PolarisConfig","PolarisDeviceOrMachineId","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectGraphQLSubscription","PolarisDirectIrisSubscription","PolarisDirectLogger","PolarisDirectSkywalkerSubscription","PolarisLiveDeltaHandler","PolarisLocales","PolarisMediaOverlayInfoTypes","PolarisMqttChannel","PolarisMqttEnvInitializer","PolarisReactRedux.react","nullthrows","polarisArraySplitChunks","polarisDeveloperSettings","polarisForEachAsync","polarisGenerateOfflineThreadingId","randomInt"],(function(a,b,c,d,e,f,g){"use strict";var h=20;a=function(){function a(a,b){var e=this;this.$8=0;this.$14=function(a){var b;try{b=JSON.parse(a.substr(0,a.length-1))}catch(a){e.$4.logError("Could not parse mqttMessages",a);return}a=b.payload.header;if(a.type===4&&a.conferenceName.includes("ROOM")){var d,f;d=((d=b.payload.body)==null?void 0:(d=d.ringRequest)==null?void 0:d.ringType)%2===1;f=(f=b.payload.body)==null?void 0:(f=f.ringRequest)==null?void 0:(f=f.appMessages)==null?void 0:f.find(function(a){return a.body.genericMessage.topic==="ring_data"});var g="",h="",i="",j=[];if(f){f=JSON.parse(f==null?void 0:(f=f.body)==null?void 0:(f=f.genericMessage)==null?void 0:f.data);var k=f.display_name,l=f.display_uri,m=f.group_name,n=f.ig_thread_id;f=f.participant_usernames;g=n;i=k;j.push(l);if(m)h=m;else{n=f;try{n=JSON.parse(f)}catch(a){}h=Array.isArray(n)?[k].concat(n).join(", "):k}}e.$6(a.type,a.serverInfoData,g,d,h,j,i);c("InstagramODS").incr("web.rtc.ack_ring_message");e.$15(a.conferenceName,a.sequenceNumber,a.serverInfoData,a.transactionId,a.type,a.conferenceType)}else a.type===5&&a.conferenceName.includes("ROOM")?(e.$6(a.type,a.serverInfoData,"",!1,"",[],""),c("InstagramODS").incr("web.rtc.ack_dismiss_message"),e.$15(a.conferenceName,a.sequenceNumber,a.serverInfoData,a.transactionId,a.type,a.conferenceType)):c("InstagramODS").incr("web.rtc.rtc_message_ignored")};this.$16=function(a){var b=c("nullthrows")(e.$1),f;try{f=JSON.parse(a)}catch(a){e.$4.logError("Could not parse mqttMessages",a);return}if(!Array.isArray(f)){e.$4.debugTrace("parsed_message_not_array",typeof f);return}c("polarisForEachAsync")(c("polarisArraySplitChunks")(f,h),function(a){d("PolarisReactRedux.react").batch(function(){for(var c=a,d=Array.isArray(c),f=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(d){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;var h=g.data,i=g.event,j=g.mutation_token;g=g.seq_id;e.$4.debugTrace("parsed_message",{event:i,mutation_token:j});if(i!=="patch"){e.$4.debugTrace("skipped_message",{event:i});return}if(!Array.isArray(h)){e.$4.debugTrace("parsed_message_bad_operations",typeof h);return}for(var i=h,h=Array.isArray(i),k=0,i=h?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(h){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;b.handleDelta(l,j)}if(g){l=e.$2.subscription_type;e.$4.debugTrace("seq_id",{seq_id:g,subscriptionType:l});l==="message"&&b.onSeqIdUpdated(g)}}})})};this.$17=function(a){try{a=JSON.parse(a);if(a.status==="ok"){var b;(a==null?void 0:(b=a.payload)==null?void 0:b.activity_status)==null?e.$4.logDirectEvent("send_message_response_success"):e.$4.logDirectEvent("send_activity_response_success")}else{(a==null?void 0:(b=a.payload)==null?void 0:b.activity_status)==null?e.$4.logError("send_message_response_failed"):e.$4.logDirectEvent("send_activity_response_failed")}}catch(a){e.$4.logError("send_message_response_parse_failed",a)}};this.$18=function(a){e.$4.debugTrace("state_changed",a);var b=c("nullthrows")(e.$1);if(a==="Connected"){var f=c("nullthrows")(e.$5);f.subscribe("/ig_message_sync",e.$16);f.subscribe("/ig_send_message_response",e.$17);d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!d("PolarisCallGatingHelpers").isZenonIncomingRingEnabled()&&f.subscribe("/pubsub",e.$14);e.$3||(e.$3=new(d("PolarisDirectIrisSubscription").DirectIrisSubscription)(b,e.$2,f,e.$4.getDebugId()));e.$3.subscribe();e.$10||(e.$10=new(d("PolarisDirectGraphQLSubscription").DirectGraphQLSubscription)(b,f,e.$4.getDebugId()));e.$2.subscription_type==="message"?(e.$9||(e.$9=new(d("PolarisDirectSkywalkerSubscription").DirectSkywalkerSubscription)(b,f,e.$4.getDebugId())),e.$9.subscribe()):e.$4.debugTrace("skip_skywalker",e.$2);e.$10&&e.$10.subscribe()}else if(a==="Disconnected"){e.$3&&(e.$3.unsubscribe(),e.$3=null);e.$9&&(e.$9.unsubscribe(),e.$9=null);e.$10&&(e.$10.unsubscribeGraphQL(),e.$10=null);f=e.$5;f&&(f.unsubscribe("/ig_message_sync"),f.unsubscribe("/ig_send_message_response"),d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!d("PolarisCallGatingHelpers").isZenonIncomingRingEnabled()&&f.unsubscribe("/pubsub"))}b.onMqttConnectivityChanged(a)};this.$4=new(d("PolarisDirectLogger").DirectLogger)("DirectMQTT",b);this.$4.debugTrace("ctor",a);this.$1=null;this.$2=a;this.$3=null;this.$5=null;this.$9=null;this.$10=null}var b=a.prototype;b.$11=function(){return c("nullthrows")(d("PolarisConfig").getViewerId())};b.$12=function(){return parseInt(d("PolarisConfig").getIGAppID(),10)};b.$13=function(){return d("PolarisDeviceOrMachineId").getDeviceOrMachineId()};b.$15=function(a,b,d,e,f,g){var h=this;if(this.$7==null){var i=c("randomInt")(0,4294967294)+1;this.$7=String(i)}i={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{ringResponse:{deviceCapabilities:[],deviceStatus:0}},header:{clientSessionId:this.$7,clientStack:5,conferenceName:a,conferenceType:g,messageTags:[],responseStatusCode:200,retryCount:0,sequenceNumber:b,serverInfoData:d,transactionId:e,type:f}}};c("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(i))["catch"](function(a){var b;f===4?c("InstagramODS").incr("web.rtc.ack_ring_message_failed"):f===5?c("InstagramODS").incr("web.rtc.ack_dismiss_message_failed"):c("InstagramODS").incr("web.rtc.ack_message_failed");b=(b=(b=h.$5)==null?void 0:b.getConnectionState())!=null?b:"Unknown";h.$4.logError("ack_rtc_message_failed",a,{conference_type:g,message_type:f,mqtt_state:b});throw a})};b.$19=function(a){var b=this;this.$4.logDirectEvent("send_attempt",{action:a.action,type:a.item_type||""});return c("nullthrows")(this.$5).publish("/ig_send_message",JSON.stringify(babelHelpers["extends"]({client_context:c("polarisGenerateOfflineThreadingId")(),device_id:this.$13()},a)))["catch"](function(a){b.$4.logError("send_message_failed",a);throw a})};b.sendRtcHangupRequest=function(a){var b=this;a={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{hangupRequest:{detailedReasonString:"",reason:0}},header:{clientSessionId:this.$7,clientStack:5,messageTags:[],retryCount:0,sequenceNumber:this.$8++,serverInfoData:a,transactionId:String(c("randomInt")(0,4294967294)+1),type:2}}};return c("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(a))["catch"](function(a){b.$4.logError("send_rtc_hangup_message_failed",a);throw a})};b.sendTextMessage=function(a,b,c,e,f){return this.$19({action:"send_item",item_type:d("PolarisDirectConstants").ThreadItemType.TEXT,mutation_token:c,replied_to_client_context:f,replied_to_item_id:e,text:b,thread_id:a})};b.sendMediaShare=function(a,b,c,e){var f=d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE;e==="clips"&&(f=d("PolarisDirectConstants").ThreadItemType.CLIP_SHARE);return(c==null?void 0:c.overlay_layout)===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER||(c==null?void 0:c.overlay_layout)===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER_WITH_BOTTOM_BANNER?this.$19({action:"send_item",item_type:f,media_id:b,share_treatment_title:d("PolarisDirectConstants").InformTreatmentTitleValues.FALLBACK,share_treatment_type:d("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS,thread_id:a}):this.$19({action:"send_item",item_type:f,media_id:b,thread_id:a})};b.sendLike=function(a,b){return this.$19({action:"send_item",item_type:d("PolarisDirectConstants").ThreadItemType.LIKE,mutation_token:b,thread_id:a})};b.indicateTypingActivity=function(a,b){return this.$19({action:"indicate_activity",activity_status:a,thread_id:b})};b.markVisualItemSeen=function(a,b){return this.$19({action:"mark_visual_item_seen",item_ids:JSON.stringify([a]),target_item_type:"voice_media",thread_id:b})};b.modifyLikeReaction=function(a,b,c,d,e){return this.$19({action:"send_item",emoji:(e=e)!=null?e:"",item_id:a,item_type:"reaction",node_type:"item",reaction_status:d,reaction_type:"like",target_item_type:b,thread_id:c})};b.disconnect=function(){this.$4.debugTrace("disconnect_start"),this.$3?(this.$4.debugTrace("unsubscribe_iris"),c("nullthrows")(this.$3).unsubscribe(),this.$3=null):this.$4.debugTrace("no_iris"),this.$9?(this.$4.debugTrace("unsubscribe_skywalker"),this.$9=null):this.$4.debugTrace("no_skywalker"),this.$10?(this.$4.debugTrace("unsubscribe_graphql"),this.$10=null):this.$4.debugTrace("no_graphql"),this.$5?(this.$4.debugTrace("shutdown_channel"),c("nullthrows")(this.$5).shutdown(),this.$5=null):this.$4.debugTrace("no_channel"),this.$1&&(this.$1=null),this.$4.debugTrace("disconnect_end")};b.connect=function(a,b){var e=this;this.$4.debugTrace("connect_start");this.disconnect();this.$1=new(d("PolarisDirectDeltaHandlers").DirectDeltaHandlers)(a,this.$4.getDebugId());this.$6=b;a={onJSError:function(a){e.$4.logError("mqtt_js_error",a)},onMQTTStateChanged:this.$18};b={appSpecificInfo:{},deviceId:this.$13()};var f=c("PolarisLocales").language_code;f!=null&&(b.appSpecificInfo["Accept-Language"]=f);c("PolarisMqttEnvInitializer").initialize();f={appId:this.$12(),capabilities:0,chatVisibility:!0,clientCapabilities:1,endpoint:d("PolarisDirectConstants").PROD_MQTT_GATEWAY,igSpecificOptions:b,initialSubscribedTopics:[],observer:a,userFbid:this.$11()};this.$5=new(c("PolarisMqttChannel"))(f);this.$4.debugTrace("connect_end")};b.subscribeToLiveEvent=function(a,b,d){var e=this.$10;if(e==null)return;b=new(c("PolarisLiveDeltaHandler"))(b);e.enableLiveEventHandler(a,b,d);e.subscribe()};b.unsubscribeToLiveEvent=function(a){var b=this.$10;if(b==null)return;b.disableLiveEventHandler(a);b.subscribe()};b.getLogger=function(){return this.$4};return a}();g.DirectMQTT=a}),98);
__d("PolarisPostModalLoading.react",["IGDSBox.react","IGDSSpinner.react","PolarisDesktopPostLoadingShimmer.react","PolarisPostConstants","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(6),e=a.dimensions,f=a.postId,g=a.viewportHeight;a=a.viewportWidth;if(d("PolarisUA").isDesktop()&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF){var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=j.jsx(d("PolarisDesktopPostLoadingShimmer.react").DesktopPostLoadingShimmer,{dimensions:e,postId:f,viewportHeight:g,viewportWidth:a}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:j.jsx(c("IGDSSpinner.react"),{color:"light",size:"medium"})}),b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("PolarisPostModalPaginationArrow.react",["cx","IGDSChevronIcon.react","Locale","PolarisGenericStrings","PolarisIGCoreSVGIconButton.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(12),e=a.direction;a=a.onClick;var f;if(b[0]!==e){var g=c("Locale").isRTL();f=e==="back"&&!g||e==="next"&&g;g=e==="next"&&!g||e==="back"&&g;g=(f?"_aaqf":"")+(g?" _aaqg":"")+" _aaqh";b[0]=e;b[1]=f;b[2]=g}else f=b[1],g=b[2];f=f?d("PolarisGenericStrings").GO_BACK:d("PolarisGenericStrings").NEXT;var h;b[3]!==f||b[4]!==e?(h=k.jsx(c("IGDSChevronIcon.react"),{alt:f,color:"web-always-black",direction:e,size:16}),b[3]=f,b[4]=e,b[5]=h):h=b[5];b[6]!==a||b[7]!==h?(f=k.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:a,children:h}),b[6]=a,b[7]=h,b[8]=f):f=b[8];b[9]!==g||b[10]!==f?(e=k.jsx("div",{className:g,children:f}),b[9]=g,b[10]=f,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("PolarisPostModalInternal.react",["cx","IGCoreModal.react","IGCoreModalLocation.react","PolarisAutoplayViewpointManager.react","PolarisConfig","PolarisDOMListener.react","PolarisLogger","PolarisPostActionLoadPost","PolarisPostModalLoading.react","PolarisPostModalPaginationArrow.react","PolarisPostModalRenderingContext.react","PolarisReactRedux.react","PolarisRoutes","PolarisThreadedCommentActions","getPolarisKeyCommandConfig","nullthrows","polarisPostModalHelpers","polarisPostSelectors","react","useGlobalKeyCommands","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useRef,o={isInModal:!0};function a(a){var b=a.analyticsContext,e=a.children,f=a.combinedPostIds,g=f===void 0?[]:f;f=a["data-testid"];f=a.dimensions;var h=a.mediaLinkBuilder,i=a.modalEntryPath;i=i===void 0?d("PolarisRoutes").FEED_PATH:i;var p=a.onClose,q=a.onlyReplaceModalHistory,r=a.onOpen,s=a.postCode,t=a.postId,u=a.postModalMediaUFI,v=a.showLoadingShimmer,w=a.skipMediaInfo,x=d("PolarisReactRedux.react").useDispatch(),y=n(null);a=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getAreCommentsFetched(a,t)});var z=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getIsPostDataFetched(a,s)}),A=d("PolarisConfig").isLoggedIn()===!0?z:z&&a;z=k(function(){if(!A)if(w===!0)x(d("PolarisThreadedCommentActions").requestInitialComments(t));else{var a;x(d("PolarisPostActionLoadPost").loadPost(s,(a=u)!=null?a:t))}},[w,A,x,s,u,t]);l(z,[z]);var B=g.findIndex(function(a){return a===t}),C=k(function(a){return a>=0&&a<g.length},[g.length]),D=k(function(a){a=B+a;C(a)&&r&&r(c("nullthrows")(g[a]),a,u)},[g,B,C,r,u]),E=k(function(a){p(a),y.current!=null&&y.current.returnToEntry()},[p]);a=m(function(){return[d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateLeft",function(){D(d("polarisPostModalHelpers").LEFT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","navigateRight",function(){D(d("polarisPostModalHelpers").RIGHT_DELTA)}),d("getPolarisKeyCommandConfig").getPolarisKeyCommandConfig("postModal","exit",function(){E()})]},[D,E]);c("useGlobalKeyCommands")(a);z=function(a){return function(b){if(b.metaKey||b.ctrlKey)return;b.preventDefault();b.stopPropagation();D(a);d("PolarisLogger").logAction("postModalArrowClick")}};a=k(function(){var a=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(b);a.length>0&&d("PolarisLogger").logPageView(a,{page_id:a,post_id:t})},[b,t]);var F=C(B-1),G=C(B+1);F=j.jsx("div",{className:"_aeap _aeaq",children:j.jsxs("div",{className:"_aear",children:[F&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"back",onClick:z(d("polarisPostModalHelpers").LEFT_DELTA)}),G&&j.jsx(c("PolarisPostModalPaginationArrow.react"),{direction:"next",onClick:z(d("polarisPostModalHelpers").RIGHT_DELTA)})]})});G=c("usePolarisDisplayProperties")();z=G.viewportHeight;G=G.viewportWidth;v=j.jsx(j.Fragment,{children:!A&&v?j.jsx(c("PolarisPostModalLoading.react"),{dimensions:f,postId:t,viewportHeight:z,viewportWidth:G}):e});f=j.jsx(c("IGCoreModal.react"),{aboveContent:F,backgroundColor:"DEPRECATED_transparent",closeButtonPosition:"background","data-testid":void 0,onClose:E,size:"fullscreenResponsive",children:v});return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisAutoplayViewpointManager.react").FullscreenAutoplayViewpointClipRegion,{id:"postModal"}),j.jsx(c("IGCoreModalLocation.react"),{entryPath:i,nativeReplace:!0,onlyReplaceModalHistory:q,onUpdateHistory:a,pageID:"postPage",parentModule:"PolarisPostModal",path:h(s),ref:y}),j.jsx(c("PolarisDOMListener.react"),{event:"popstate",handler:E,once:!0,target:window}),j.jsx(d("PolarisPostModalRenderingContext.react").PolarisPostModalRenderingContext.Provider,{value:o,children:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisProfileTabTaggedPhotosConstants",[],(function(a,b,c,d,e,f){"use strict";a="tagged";f.TAGGED_TAB_ID=a}),66);
__d("PolarisInstantPostModal.react",["PolarisPostModalInternal.react","PolarisProfileTabTaggedPhotosConstants","polarisPostModalHelpers","polarisPostSelectors","react","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b,e=i(6),f=!1,g=d("polarisPostModalHelpers").getModalPageIdFromAnalyticsContext(a.analyticsContext)==="profilePageModal";b=((b=a.modalEntryPath)==null?void 0:b.endsWith("/"+d("PolarisProfileTabTaggedPhotosConstants").TAGGED_TAB_ID+"/"))===!0;g=g&&!b;var h;e[0]!==a.postId?(h=function(b){return d("polarisPostSelectors").getPostOrNullById(b,a.postId)},e[0]=a.postId,e[1]=h):h=e[1];h=c("usePolarisSelector")(h);(h==null||b&&h.isVideo===!0)&&(f=!0);e[2]!==a||e[3]!==f||e[4]!==g?(b=j.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:f,skipMediaInfo:g})),e[2]=a,e[3]=f,e[4]=g,e[5]=b):b=e[5];return b}g["default"]=a}),98);
__d("PolarisMediaBrowserPostModal.react",["invariant","PolarisInstantPostModal.react","PolarisIsLoggedInDesktop","PolarisPost.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRoutes","isStringNullOrEmpty","nullthrows","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c;function a(a){var b=l(28),e=a.analyticsContext,f=a.combinedPosts,g=a.mediaLinkBuilder,i=a.modalEntryPath,o=a.onClose,p=a.onOpen,q=a.postId,r=d("PolarisReactRedux.react").useSelector(n);b[0]!==f?(a=f.map(m),b[0]=f,b[1]=a):a=b[1];f=a;b[2]!==q?(a=function(a){return d("polarisPostSelectors").getPostOrNullById(a,q)},b[2]=q,b[3]=a):a=b[3];var s=d("PolarisReactRedux.react").useSelector(a),t;b[4]!==s||b[5]!==r||b[6]!==q||b[7]!==o?(a=function(){s==null&&(r.includes(q)||h(0,51476),o())},t=[r,o,s,q],b[4]=s,b[5]=r,b[6]=q,b[7]=o,b[8]=a,b[9]=t):(a=b[8],t=b[9]);k(a,t);if(s==null)return null;a=s.dimensions;t=c("isStringNullOrEmpty")(i)?d("PolarisRoutes").FEED_PATH:i;b[10]!==s.code?(i=c("nullthrows")(s.code),b[10]=s.code,b[11]=i):i=b[11];var u=e+"Modal",v;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(v=d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),b[12]=v):v=b[12];b[13]!==u||b[14]!==q||b[15]!==s.code?(v=j.jsx(c("PolarisPost.react"),{analyticsContext:u,autoplay:v,id:q,isVisible:!0,shortcode:s.code,testid:void 0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0}),b[13]=u,b[14]=q,b[15]=s.code,b[16]=v):v=b[16];b[17]!==e||b[18]!==f||b[19]!==s.dimensions||b[20]!==g||b[21]!==t||b[22]!==o||b[23]!==p||b[24]!==i||b[25]!==q||b[26]!==v?(u=j.jsx(c("PolarisInstantPostModal.react"),{analyticsContext:e,combinedPostIds:f,dimensions:a,mediaLinkBuilder:g,modalEntryPath:t,onClose:o,onOpen:p,postCode:i,postId:q,children:v}),b[17]=e,b[18]=f,b[19]=s.dimensions,b[20]=g,b[21]=t,b[22]=o,b[23]=p,b[24]=i,b[25]=q,b[26]=v,b[27]=u):u=b[27];return u}function m(a){return a.id}function n(a){return d("polarisPostSelectors").getDeletedIds(a)}g["default"]=a}),98);
__d("PolarisPostModal.react",["PolarisPostModalInternal.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("PolarisPostModalInternal.react"),babelHelpers["extends"]({},a,{showLoadingShimmer:!0})),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("instamadilloBumpThread",["FBLogger","I64","LSBumpThreadStoredProcedure","LSFactory","LSIntEnum","MAWAuthor","MAWCurrentUser","MessageThreadReadState","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("MAWAuthor").getAuthorUserJid(b.author);if(f==null)return c("FBLogger")("igd_web_on_msgr").warn("Skip instamadilloBumpThread: a message cannot exist without an author");f=(h||(h=d("I64"))).of_string(d("WAJids").userIdFromJid(f));b=h.of_string(d("WAJids").threadIdForChatJid(b.chat));var g=(yield a.threads.get(b));f=h.equal(f,h.of_string(d("MAWCurrentUser").getID()));f=(i||(i=d("LSIntEnum"))).ofNumber(f?c("MessageThreadReadState").KEEP_AS_IS:c("MessageThreadReadState").MARK_UNREAD);g=g==null?void 0:g.lastActivityTimestampMs;g!=null&&(h||(h=d("I64"))).ge(e,g)&&(yield c("LSBumpThreadStoredProcedure")(c("LSFactory")(a),{bumpTimestampMs:e,readStateEffect:f,threadKey:b}))});return j.apply(this,arguments)}g["default"]=a}),98);
__d("instamadilloReplyMessageUtils",["InstamadilloMessageIdUtils","InstamadilloReplyMessageParams","LSFactory","LSFetchInstamadilloMessage","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(c)));e=e.map(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield j(a,b,c)});return function(a){return d.apply(this,arguments)}}());yield (h||(h=b("Promise"))).all(e)});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=(yield d("InstamadilloReplyMessageParams").getReplyMessageParams(b.threadKey,b.senderId,c,a));yield a.messages.put(babelHelpers["extends"]({},b,c))});return k.apply(this,arguments)}function e(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=e==null?void 0:e.repliedToMessageOtid;e=e==null?void 0:e.repliedToMessageWaServerTimeSec;if(f==null||e==null)return;var g=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(b,f);g=(yield a.messages.index("messageId").get(g));if(g!=null)return;yield c("LSFetchInstamadilloMessage")(b,f,e,c("LSFactory")(a))});return l.apply(this,arguments)}g.updateAllRepliesTxn=a;g.fetchReplySourceMessage=e}),98);
__d("handleInstamadilloReceiverFetchContent",["I64","IGDXMAAttachmentUtil","InstamadilloMessageFactory","InstamadilloTextMessageUtils","LSAuthorityLevel","LSFactory","LSIntEnum","LSUpdateThreadSnippetFromLastMessageV2StoredProcedure","LSVerifyThreadRowExistsV2StoredProcedure","MAWExternalId","MNLSXMALayoutType","MessagingAttachmentType","WAResultOrError","asyncToGeneratorRuntime","instamadilloBumpThread","instamadilloReplyMessageUtils","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g,h,i){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m){j=(yield d("InstamadilloMessageFactory").createBaseMessageForProtocolMsgId(a,b,e,j));if(j==null)return d("WAResultOrError").makeResult({reason:"cannot_create_base_message",result:"skip"});var n=j.threadKey;g=JSON.stringify(g);yield c("LSVerifyThreadRowExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),syncGroup:(i||(i=d("I64"))).of_int32(1),threadKey:n,threadType:i.of_int32(1)});var o=8;c("isStringNullOrEmpty")(f.text)||(o+=1);yield a.messages.put(babelHelpers["extends"]({},j,{displayedContentTypes:i.of_int32(o),text:f.text,textHasLinks:d("InstamadilloTextMessageUtils").textHasLinks(f.text),xmaReceiverFetchParams:g},m));var p;o=l==null?void 0:l.type_;if(o!=null){f=(i||(i=d("I64"))).of_string(d("MAWExternalId").generateExternalId());p=babelHelpers["extends"]({},d("InstamadilloMessageFactory").createBaseAttachmentCta(b),{ctaId:f,type_:o},l);yield a.attachment_ctas.put(p)}yield a.attachments.put(babelHelpers["extends"]({},d("InstamadilloMessageFactory").createBaseAttachmentWithProtocolMsgId(b,e),{attachmentType:h.ofNumber(c("MessagingAttachmentType").XMA),defaultCtaId:(g=p)==null?void 0:g.ctaId,defaultCtaTitle:(m=p)==null?void 0:m.title,defaultCtaType:(f=p)==null?void 0:f.type_,faviconUrl:d("IGDXMAAttachmentUtil").DEFAULT_PROFILE_URL,hasXma:!0,isSharable:!0,xmaLayoutType:h.ofNumber(c("MNLSXMALayoutType").SINGLE)},k));yield d("instamadilloReplyMessageUtils").updateAllRepliesTxn(a,j.messageId);yield c("instamadilloBumpThread")(a,b,e);yield c("LSUpdateThreadSnippetFromLastMessageV2StoredProcedure")(c("LSFactory")(a),{threadKey:n});return d("WAResultOrError").makeResult({result:"handled"})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("issueSendInstamadilloXMAReceiverFetch",["IGDBridgedAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("IGDBridgedAPI").sendXmaReceiverFetch(a)}g["default"]=a}),98);
__d("renderInstamadilloOptimisticXmaReceiverFetch",["I64","MAWCurrentUser","OfflineThreadingId","Promise","WAJids","WAStanzaUtils","asyncToGeneratorRuntime","handleInstamadilloReceiverFetchContent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("renderInstamadilloOptimisticXmaReceiverFetch");function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k,l){var m=d("OfflineThreadingId").createOfflineThreadingID(),n=d("WAJids").toMsgrUserJid(d("MAWCurrentUser").getID()),o=(i||(i=d("I64"))).of_float(Date.now()),p={author:n,chat:d("WAJids").toMsgrUserJid(a),externalId:d("WAStanzaUtils").toStanzaId(m)};n=(yield j.load());a=(yield n());yield a.runInTransaction(function(a){return c("handleInstamadilloReceiverFetchContent")(a,p,o,e,f,{},g,k,l)},"readwrite");return(h||(h=b("Promise"))).resolve(m)});return k.apply(this,arguments)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWUnsafeCoerce",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.unsafeCoerce=a}),66);
__d("WAAssertUnreachable",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("WAErr")("Impossible value, the default statement should never be reached for value: "+a)}g["default"]=a}),98);
__d("WAJids",["WAAssertUnreachable","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i="@me",j="@system",k="status@broadcast",aa="0@s.whatsapp.net",l="@g.us",m=/^([1-9][0-9]{0,19}|(?!10)[1-9][0-9]{4,19}-[1-9][0-9]{9})@g.us$/,ba="@call",n="@msgr",ca="msgr",o="@interop",da="interop",p=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,q=/^([1-9][0-9]{0,2}-[1-9][0-9]{0,14}(:[0])?)@interop$/,r=/^([1-9][0-9]{0,19}(:[1-9][0-9]{0,2})?)@msgr$/,s=/^([1-9][0-9]{0,19})@msgr$/,t=/^([1-9][0-9]{0,19})(:0)?@msgr$/,ea="@s.whatsapp.net",fa="s.whatsapp.net",u="@s.whatsapp.net",v="s.whatsapp.net",w="lid",x="@newsletter",y=/^([1-9][0-9]{0,19})@newsletter$/,z=/^(0|((?!10)[1-9][0-9]{4,19}(\.[0-9]{1,2})?(:[0-9]{1,2})))@s.whatsapp.net$/,A=/^(0|((?!10)[1-9][0-9]{4,19})(\.[0-9]{1,2})?)@s.whatsapp.net$/,B="@lid",ga="lid",C=/^([1-9][0-9]{0,14})@lid$/,D=/^([1-9][0-9]{0,14}(:[0-9]{1,2})?)@lid$/,ha="@broadcast",E=/^(status|location|[1-9][0-9]{0,19})@broadcast$/,F=/^([0-9a-fA-F]{18,32})@call$/,G="@hosted",H="hosted",I=/^(((?!10)[1-9][0-9]{4,19})):99@hosted$/,J="@hosted.lid",K="hosted.lid",L=/^([1-9][0-9]{0,14}):99@hosted.lid$/,M="@bot",ia=/^[1-9][0-9]{0,19}(:0)?@bot$/,ja="16505361212"+u,ka=/([0-9a-zA-Z-:]+)@(g\.us|call|s\.whatsapp\.net|broadcast|msgr|lid)/g;function a(a){return""+a+u}function b(a){return""+a+B}function N(a){return""+a+n}function d(a){return a.endsWith(l)?a:""+a+l}function e(a){return a.endsWith(x)?a:""+a+x}function f(a){return a.endsWith(G)?a:""+a+G}function la(a){return a.endsWith(J)?a:""+a+J}function ma(){return l}function O(a){if(a.endsWith(u))return a.slice(0,-u.length);else if(a.endsWith(n))return a.slice(0,-n.length);else if(a.endsWith(o))return a.slice(0,-o.length);else if(a.endsWith(B))return a.slice(0,-B.length);else if(a.endsWith(M))return a.slice(0,-M.length);else throw c("WAErr")('userIdFromJid called with non-user jid "'+a+'"')}function na(a,b){return Y(O(a)+":"+b+u)}function oa(a,b){return Z(O(a)+":"+b+n)}function pa(a,b){return xb(P(a)+":"+b+B)}function qa(a,b){return X(O(a)+":"+b+W(a))}function ra(a){return""+a+ha}function sa(a){return a.split("@")[0]}function ta(a){a=a.split("@")[0];a=a.split(":");var b=a[0];a=a[1];a=parseInt(a,10);return{userId:b,deviceID:a}}function ua(a){a=ta(a);return a.deviceID}function va(a,b){if(a===i||a===j)return b;else return sa(a)}function wa(a){return a===i||a===j?null:a}function xa(a){if(a===i||a===j)return null;return!a.endsWith(u)?null:a}function ya(a){if(!a.endsWith(u))throw c("WAErr")('phoneNumberFromJid called with non-user jid "'+a+'"');return a.slice(0,-u.length)}function za(a){if(a.endsWith(u))return ya(a);else if(a.endsWith(B))return P(a);throw c("WAErr")('lidOrPhoneFromUserJid called with non phone or lid jid "'+a+'"')}function Aa(a){return a.endsWith(u)||a.endsWith(o)||a.endsWith(n)||a.endsWith(B)?a:null}function Ba(a){return a.endsWith(u)?a:null}function Ca(a){return a===k?null:$(a)}function Da(a){return a===k?null:$(a)}function Ea(a){return a===k?k:null}function P(a){if(!a.endsWith(B))throw c("WAErr")('lidFromLidUserJid called with non-LidUserJid "'+a+'"');return a.slice(0,-B.length)}function Q(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":")[0];b=b.split(".")[0];a===H&&(a=v);a===K&&(a=w);return yb(b+"@"+a)}function Fa(a){return Q(a)}function Ga(a){return Q(a)}function Ha(a){if(a.jidType==="phoneDevice")return a.deviceJid;else if(a.jidType==="interopDevice")return a.deviceJid;else if(a.jidType==="lidDevice")return a.deviceJid;else if(a.jidType==="msgrDevice")return a.deviceJid;else if(a.jidType==="lidUser")return a.userJid;else if(a.jidType==="interopUser")return a.userJid;else if(a.jidType==="msgrUser")return a.userJid;else if(a.jidType==="phoneUser")return a.userJid;else if(a.jidType==="group")return a.groupJid;else if(a.jidType==="status")return a.statusJid;else if(a.jidType==="call")return a.callJid;else if(a.jidType==="newsletter")return a.newsletterJid;else if(a.jidType==="hosted")return a.hostedDeviceJid;else if(a.jidType==="hostedLid")return a.hostedLidDeviceJid;else if(a.jidType==="bot")return a.userJid;else{a.jidType;return a.broadcastJid}}function Ia(a){return Y(O(a)+":"+h+u)}function Ja(a){return Z(O(a)+":"+h+n)}function Ka(a){return pa(a,h)}function La(a){return ua(a)===h}function Ma(a){return Cb(a)}function Na(a){return a}function R(a){a=a.split("@");var b=a[0];a=a[1];b=b.split(":");var c=b[0];b=b[1];c=c.split(".");var d=c[0];c=c[1];return{user:d,device:b,agent:c,server:a}}function Oa(a){a=R(a);var b=a.user,c=a.agent;c=c===void 0?"0":c;var d=a.device;d=d===void 0?"0":d;a=a.server;return b+"."+c+":"+d+"@"+a}function Pa(a){switch(a.jidType){case"interopUser":return a.userJid;case"lidUser":return a.userJid;case"msgrUser":return a.userJid;case"phoneUser":return a.userJid;case"group":return a.groupJid;case"status":return a.statusJid;case"interopDevice":return a.deviceJid;case"lidDevice":return a.deviceJid;case"msgrDevice":return a.deviceJid;case"phoneDevice":return a.deviceJid;case"broadcast":return a.broadcastJid;case"call":return a.callJid;case"newsletter":return a.newsletterJid;case"hosted":return a.hostedDeviceJid;case"hostedLid":return a.hostedLidDeviceJid;case"bot":return a.userJid;default:return c("WAAssertUnreachable")(a.jidType)}}function Qa(a){if(a===k)return{jidType:"status",statusJid:k};else if(A.test(a))return{jidType:"phoneUser",userJid:zb(a)};else if(q.test(a))return{jidType:"interopUser",userJid:Ab(a)};else if(s.test(a))return{jidType:"msgrUser",userJid:Bb(a)};else if(t.test(a)){var b=a.substr(0,a.indexOf(":"));return{jidType:"msgrUser",userJid:N(b)}}else if(z.test(a))return{jidType:"phoneDevice",deviceJid:Y(a)};else if(p.test(a))return{jidType:"interopDevice",deviceJid:wb(a)};else if(r.test(a))return{jidType:"msgrDevice",deviceJid:Z(a)};else if(m.test(a))return{jidType:"group",groupJid:a.endsWith(l)?a:""+a+l};else if(E.test(a))return{jidType:"broadcast",broadcastJid:a};else if(F.test(a))return{jidType:"call",callJid:a};else if(C.test(a))return{jidType:"lidUser",userJid:a};else if(D.test(a))return{jidType:"lidDevice",deviceJid:a};else if(y.test(a))return{jidType:"newsletter",newsletterJid:a};else if(I.test(a))return{jidType:"hosted",hostedDeviceJid:a};else if(L.test(a))return{jidType:"hostedLid",hostedLidDeviceJid:a};else if(ia.test(a))return{jidType:"bot",userJid:a};else return{jidType:"unknown"}}function Ra(a){return a==="status@broadcast"?a:null}function Sa(a){if(A.test(a)||q.test(a)||s.test(a)||C.test(a))return a;else if(t.test(a)){a=a.substr(0,a.indexOf(":"));return N(a)}else return null}function Ta(a){return E.test(a)?a:null}function Ua(a){if(z.test(a)||r.test(a)||p.test(a)||D.test(a)||I.test(a)||L.test(a))return a;if(A.test(a))return sb(a);return ia.test(a)?tb(a):null}function Va(a){return p.test(a)?a:null}function S(a){return m.test(a)?a:null}function Wa(a){return Ra(a)||S(a)||Ta(a)?a:null}function Xa(a){return F.test(a)?a:null}function Ya(a){return a==="s.whatsapp.net"||a==="g.us"||a==="call"?a:null}function Za(a){return Sa(a)||S(a)}function $a(a){return y.test(a)?a:null}function ab(a){return I.test(a)?a:null}function bb(a){return L.test(a)?a:null}function cb(a){return Aa(a)==null?$(a):null}function db(a){a=R(a);var b=a.user,c=a.device;c=c===void 0?"0":c;a=a.server;return Y(b+":"+c+"@"+a)}function eb(a){if(a.endsWith(l))return a.slice(0,-l.length);else throw c("WAErr")('groupId called with non-group jid "'+a+'"')}function fb(a){var b=Qa(a);if(b.jidType==="unknown")return a;if(b.jidType==="status")return b.statusJid;b.jidType;return Pa(b).replace(/^([^@]*)([^@][^@][^@][^@])@(.*)$/,"...$2@$3")}function gb(a){return!a.includes("@")?a:a.replace(ka,fb)}function T(a){if(a.endsWith(l))return $(a);else return null}function U(a,b){if(a.endsWith(u))return b.phoneUser(a);else if(a.endsWith(n))return b.msgrUser(a);else if(a.endsWith(o))return b.interopUser(a);else if(a.endsWith(B))return b.lidUser(a);else if(T(a)!=null)return b.group($(a));throw c("WAErr")("Can not switch on chat jid "+a)}function hb(a,b){if(a.endsWith(n))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function V(a,b){if(a.endsWith(u))return b.user(a);else if(T(a)!=null)return b.group(a);throw c("WAErr")("Can not switch on chat jid "+a)}function ib(a,b){return U(a,{lidUser:function(a){return b.user(a)},interopUser:function(a){return b.user(a)},msgrUser:function(a){return b.user(a)},phoneUser:function(a){return b.user(a)},group:function(a){return b.group(a)}})}function jb(a,b){return a===k?b.status():V(a,{user:b.user,group:b.group})}function kb(a,b){return a===k?b.status():U(a,{interopUser:b.interopUser,phoneUser:b.phoneUser,msgrUser:b.msgrUser,lidUser:b.lidUser,group:b.group})}function lb(a,b){return a===k?b.multicast(k):V(a,{user:b.user,group:b.multicast})}function mb(a){return a.endsWith(B)}function nb(a){return a==="@me"}function ob(a){return a==="@system"}function pb(){return n}function qb(){return u}function rb(){return ea}function W(a){if(a.endsWith(u))return u;else if(a.endsWith(n))return n;else if(a.endsWith(B))return B;else if(a.endsWith(M))return M;else throw c("WAErr")('userDomainFromJid called with non-user jid "'+a+'"')}function sb(a){return X(O(a)+":"+h+W(a))}function tb(a){return X(""+O(a)+W(a))}function ub(a){a=a.platform;var b=a==="msgr"?n:u;function c(a){return""+a+b}function d(){return b}return{toUserJid:c,getUserDomain:d}}function vb(a){return a}function X(a){return a}function Y(a){return a}function Z(a){return a}function wb(a){return a}function xb(a){return a}function yb(a){return a}function zb(a){return a}function Ab(a){return a}function Bb(a){return a}function $(a){return a}function Cb(a){return a}function Db(a){return a}function Eb(a){return a}function Fb(a){return a}function Gb(a){return U(a,{group:function(a){return eb(a)},lidUser:function(a){return O(a)},interopUser:function(a){return O(a)},phoneUser:function(a){return O(a)},msgrUser:function(a){return O(a)}})}function Hb(){return ba}g.DEFAULT_DEVICE_ID=h;g.AUTHOR_ME=i;g.AUTHOR_SYSTEM=j;g.STATUS_JID=k;g.PSA_JID=aa;g.MSGR_USER_DOMAIN=n;g.MSGR_USER_JID_SUFFIX=ca;g.INTEROP_DOMAIN=o;g.INTEROP_USER_JID_SUFFIX=da;g.WA_SERVER_JID_SUFFIX=fa;g.WA_USER_DOMAIN=u;g.WA_USER_JID_SUFFIX=v;g.WA_LID_SUFFIX=w;g.WA_NEWSLETTER_JID_DOMAIN=x;g.LID_DOMAIN=B;g.LID_SUFFIX=ga;g.HOSTED_DOMAIN=G;g.HOSTED_SUFFIX=H;g.HOSTED_LID_DOMAIN=J;g.HOSTED_LID_SUFFIX=K;g.BOT_DOMAIN=M;g.SURVEY_USER_JID=ja;g.toPhoneUserJid=a;g.toLidUserJid=b;g.toMsgrUserJid=N;g.toGroupJid=d;g.toNewsletterJid=e;g.toHostedDeviceJid=f;g.toHostedLidDeviceJid=la;g.getGroupDomain=ma;g.userIdFromJid=O;g.toPhoneDeviceJid=na;g.toMsgrDeviceJid=oa;g.toLidDeviceJid=pa;g.toDeviceJid=qa;g.toBroadcastJid=ra;g.extractUserId=sa;g.extractDeviceIDParts=ta;g.extractDeviceId=ua;g.authorToUserId=va;g.authorAsUserJid=wa;g.authorAsPhoneUserJid=xa;g.phoneNumberFromJid=ya;g.lidOrPhoneFromUserJid=za;g.interpretAsUserJid=Aa;g.interpretAsPhoneUserJid=Ba;g.asChatJid=Ca;g.asPhoneChatJid=Da;g.asStatusJid=Ea;g.lidFromLidUserJid=P;g.extractUserJid=Q;g.extractPhoneUserJid=Fa;g.extractLidUserJid=Ga;g.extractJidFromJidWithType=Ha;g.defaultPhoneDeviceJidForUser=Ia;g.defaultMsgrDeviceJidForUser=Ja;g.defaultLidDeviceJidForLidUserJid=Ka;g.isPrimaryDevice=La;g.interpretAsDeviceId=Ma;g.interpretAsNumber=Na;g.parseJidParts=R;g.fullFormDeviceJidString=Oa;g.extractFromJid=Pa;g.interpretAndValidateJid=Qa;g.validateStatusJid=Ra;g.validateUserJid=Sa;g.validateBroadcastJid=Ta;g.validateDeviceJid=Ua;g.validateInteropDeviceJid=Va;g.validateGroupJid=S;g.validateMulticastJid=Wa;g.validateCallJid=Xa;g.validateDomainJid=Ya;g.validateChatJid=Za;g.validateNewsletterJid=$a;g.validateHostedDeviceJid=ab;g.validateHostedLidDeviceJid=bb;g.asMulticastJid=cb;g.stripAgentIdFromPhoneDeviceJid=db;g.groupIdFromJid=eb;g.sanitizeJidForLogging=fb;g.maybeSanitizeLogLineText=gb;g.interpretAsGroupJid=T;g.switchOnChatJidType=U;g.switchOnMsgrChatJidType=hb;g.switchOnPhoneChatJidType=V;g.switchOnUserChatJidType=ib;g.switchOnPhoneJidType=jb;g.switchOnJidType=kb;g.switchOnMulticastJidType=lb;g.isLidUser=mb;g.isAuthorMe=nb;g.isAuthorSystem=ob;g.getMsgrUserDomain=pb;g.getWhatsappUserDomain=qb;g.getServerDomain=rb;g.defaultDeviceJidForUser=sb;g.defaultDeviceJidForBot=tb;g.createJidUtils=ub;g.unsafeCoerceToChatJid=vb;g.unsafeCoerceToDeviceJid=X;g.unsafeCoerceToPhoneDeviceJid=Y;g.unsafeCoerceToMsgrDeviceJid=Z;g.unsafeCoerceToInteropDeviceJid=wb;g.unsafeCoerceToLidDeviceJid=xb;g.unsafeCoerceToUserJid=yb;g.unsafeCoerceToPhoneUserJid=zb;g.unsafeCoerceToInteropUserJid=Ab;g.unsafeCoerceToMsgrUserJid=Bb;g.unsafeCoerceToGroupJid=$;g.unsafeCoerceToDeviceId=Cb;g.unsafeCoerceToNewsletterJid=Db;g.unsafeCoerceToHostedDeviceJid=Eb;g.unsafeCoerceToHostedLidDeviceJid=Fb;g.threadIdForChatJid=Gb;g.getGroupCallDomain=Hb}),98);
__d("InstamadilloMessageIdUtils",["FBLogger","I64","MAWUnsafeCoerce","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c;(h||(h=d("I64"))).isI64(a)?c=(h||(h=d("I64"))).to_string(a):c=a;return c+":"+b}function a(a){a=a.split(":");if(a.length!==2)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return{stanzaId:a[1],threadKey:a[0]}}function b(a){a=a.split(":");if(a.length!==2){c("FBLogger")("igd_web_on_msgr").warn("Invalid instamadillo message id format. Format is <threadKey>:<stanzaId>.");return null}return{stanzaId:a[1],threadKey:a[0]}}function e(a){a=a.message.decrypted.id;return j(a)}function j(a){var b=a.externalId;a=d("WAJids").threadIdForChatJid(a.chat);return i(a,b)}function f(a,b,c){return{author:d("WAJids").toMsgrUserJid(c),chat:d("WAJids").toMsgrUserJid((h||(h=d("I64"))).to_string(a)),externalId:d("MAWUnsafeCoerce").unsafeCoerce(b)}}g.toInstamadilloMessageId=i;g.fromInstamadilloMessageId=a;g.maybeFromInstamadilloMessageId=b;g.getInstamadilloMessageIdFromStanza=e;g.getInstamadilloMessageIdFromProtocolMsgId=j;g.toProtocolMsgId=f}),98);
__d("IntervalList",["FBLogger","ReQLBounds","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* k(a){var f=0;while(f<a.length&&e.size){f++;var i=a.slice(0,f);f<b&&i.push((h||(h=d("ReStoreKeyComparer"))).MAX_KEY);i=e.get(JSON.stringify(i));if(i!=null)for(i of i)yield i}for(i of c.entries()){f=i[0];var j=i[1];c.has(f)&&g(a,j)&&(yield f)}}function l(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=j(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function m(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify((i||(i=d("ReQLBounds"))).nextKey(a.gte,b)))===JSON.stringify(a.lte)){var j=e.get(h);j==null&&(j=new Set(),e.set(h,j));j.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107,V108:108,V109:109,V110:110,V111:111,V112:112,V113:113,V114:114,V115:115,V116:116};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_meta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekeyGeneration",primaryKey:["generationId"]},{autoIncrement:!1,indexes:{},name:"e2ee_session",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_signedPrekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{groupJid:{columns:["groupJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_senderKeySessions",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_contacts",primaryKey:["contactJid"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!0,indexes:{uniqKey:{columns:["uniqKey"]}},name:"e2ee_jobs",primaryKey:["jobId"]},{autoIncrement:!1,indexes:{},name:"e2ee_identity",primaryKey:["deviceJid"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[{autoIncrement:!1,indexes:{userJid:{columns:["userJid"],unique:!1}},name:"e2ee_identity",primaryKey:["deviceJid"]}],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[{autoIncrement:!0,indexes:{},name:"e2ee_jobs",primaryKey:[],removed:!0}],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],ka=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],la=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ma=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],na=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],oa=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]}],pa=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeBacklog",primaryKey:["externalId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeThreadBacklog",primaryKey:["chatJid"]}],qa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ra=[{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],sa=[{autoIncrement:!0,indexes:{fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ta=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"],removed:!0}],ua=[{autoIncrement:!1,indexes:{},name:"e2ee_uploadRetryStatus",primaryKey:[],removed:!0}],va=[{autoIncrement:!1,indexes:{},name:"e2ee_receiverFetchInfo",primaryKey:["receiverFetchId"]}],wa=[{autoIncrement:!0,indexes:{"[threadJid+ts]":{columns:["threadJid","ts"],unique:!1},externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},ts:{columns:["ts"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja],[d.VERSION.V104,ka],[d.VERSION.V105,la],[d.VERSION.V106,ma],[d.VERSION.V107,na],[d.VERSION.V108,oa],[d.VERSION.V109,pa],[d.VERSION.V110,qa],[d.VERSION.V111,ra],[d.VERSION.V112,sa],[d.VERSION.V113,ta],[d.VERSION.V114,ua],[d.VERSION.V115,va],[d.VERSION.V116,wa]]);b=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","editMsgHistory","deletedMessages","ebMsgRanges"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){var a;return(a=h)!=null?a:d("MAWDbVersionList").toVersion(c("justknobx")._("1716"))}function b(a){if(!c("justknobx")._("1495"))return;if(a==null){h=null;return h}if(a==="current"){h=null;return h}var b=Math.max.apply(Math,c("objectValues")(d("MAWDbVersionList").VERSION));if(a==="latest"){h=d("MAWDbVersionList").toVersion(b);return h}if(!Number.isInteger(a))return h;if(a<0){h=d("MAWDbVersionList").toVersion(b+a);return h}h=d("MAWDbVersionList").toVersion(a)}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("sortBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.map(function(a,c){return{index:c,sortValue:b(a),value:a}});a.sort(function(a,b){var c=a.sortValue,d=b.sortValue;if(c>d)return 1;return c<d?-1:a.index-b.index});return a.map(function(a){return a.value})}f["default"]=a}),66);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebRestoreQueue:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_isDualSend:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("isArmadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}g["default"]=a}),98);
__d("isOccamadilloResumeSyncEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24091")&&c("gkx")("24158")&&c("gkx")("24149")}g["default"]=a}),98);
__d("LSE2EEMetadataSyncGroupUtils",["gkx","isArmadillo","isInstamadillo","isOccamadilloResumeSyncEnabled","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=c("isArmadillo")()||c("gkx")("23910")===!0&&!c("isInstamadillo")(),i=c("qex")._("923")===!0&&!c("isInstamadillo")();function a(){return h&&!c("isOccamadilloResumeSyncEnabled")()}function b(){return h?{groupId:95}:null}function d(){return i?{groupId:95}:null}g.shouldAlwaysResetE2EEMetadata=a;g.getE2EEMetadataSyncGroup=b;g.getE2EEMetadataSyncGroupForIGDSyncGroup=d}),98);
__d("LSTransactionLogger",["cr:8879"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{startTracking:function(b,d){var e=c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").startTracking(b,a,d);return{addAnnotations:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").addAnnotations(a,e,b)},end:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").end(a,e)},fail:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").fail(a,e,b)},mark:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").mark(a,e,b)},recordLogicalWrite:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").recordLogicalWrite(e)}}}}}g.createQplLogger=a}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;f=b("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function i(a,b){return j.apply(this,arguments)}function j(){j=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return j.apply(this,arguments)}function c(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=!0,g=!1,j;try{for(var k=babelHelpers.asyncIterator(i(d("ReQL").fromTableAscending(a),100)),l,l;l=(yield k.next()),f=l.done,l=(yield l.value),!f;f=!0){l=l;yield (h||(h=b("Promise"))).all(l.map(function(b){return c(b).then(a.put)}));e==null?void 0:e()}}catch(a){g=!0,j=a}finally{try{!f&&k["return"]!=null&&(yield k["return"]())}finally{if(g)throw j}}});return k.apply(this,arguments)}function e(a,b){function c(b){if(b==null)return void 0;var c={};for(var d in b)c[a+"_"+d]=b[d];return c}return{bool:c(b.bool),"int":c(b["int"]),string:c(b.string)}}g.ReStoreMigrateResult=f;g.getVersionFromNumber=a;g.fetchReQLBatch=i;g.upgradeTableEntries=c;g.prefixAnnotations=e}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreOperationLock",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(){function a(a){var b=this;this.waitFor=null;this.waitFor=a.then(function(a){return b.waitFor=null})}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();d=function(){function a(){this.$1=Promise.resolve()}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this;return new Promise(function(c,d){b.$1=b.$1.then(async function(){try{c(await a("\ud83d\udd12"))}catch(a){d(a)}})})};return a}();function i(a,b){function d(b){if(b.done)return b.value;if(!(h||(h=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function a(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return i(a.next(b,c))})}}}g.WaitForPromiseLock=b;g.ReStoreOperationLock=d;g.lockIterator=a}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$5,a,g.$1,g.$3,b,c,g.$2),g.$4)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$5,new WeakMap(),g.$1.name,g.$3,b,a,g.$2)})};this.getKey=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return g.$6(g.$5,new WeakMap(),b,a)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$5,a,g.$1,g.$3,b,c),g.$4)};this.$3=a;this.keyFields=b.indexes[a];this.$1=b;this.$2=c;this.$4=e;this.$5=f}var b=a.prototype;b.$6=async function(a,b,c,e){a=await d("ReStoreUtils").getLocked(a,b,this.$1.name,this.$3,c,e,this.$2);return a===void 0?void 0:d("ReStoreUtils").searchKey(this.$1,a)};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,i){var j;j=a.call(this,b,c,e,f,g)||this;j.subscribe=function(a,b,c){return j.$ReStoreIndex$p_3.subscribeIndex(j.$ReStoreIndex$p_1.name,j.$ReStoreIndex$p_2,a,(h||(h=d("ReQLBounds"))).extendBounds(b,j.$ReStoreIndex$p_1.indexes[j.$ReStoreIndex$p_2].length),c)};j.$ReStoreIndex$p_2=b;j.$ReStoreIndex$p_1=c;j.$ReStoreIndex$p_3=i;return j}return b}(a);g.ReStoreTransactionIndex=b;g.ReStoreIndex=c}),98);
__d("ReStoreTable",["I64","PromiseOrValue","ReQLBounds","ReStoreIndex","ReStoreOperationLock","ReStoreUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=(h||(h=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return h.to_float(a)}function l(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}a=function(a,b,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$4,a,g.$1,void 0,b,c,g.$2),g.$3)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$3.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$4,new WeakMap(),g.$1.name,void 0,b,a,g.$2)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$4,a,g.$1,void 0,b,c),g.$3)};this.peekNextAutoIncrementId=function(){return Promise.resolve(g.$3.chainPromiseOrValue(async function(a){a=g.$1.autoIncrement;if(!a)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","maw_db");a=await d("ReStoreUtils").gen(g.$4.table(g.$1.name).readSeed(new WeakMap()));if(a===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","maw_db");return(h||(h=d("I64"))).of_float(a)}))};this.keyFields=a.primaryKeyIds;this.$1=a;this.$2=b;this.$3=e;this.$4=f};b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,j,k,l,m){var n;b=c.tableNames[b];n=a.call(this,b,e,f,g)||this;n.$ReStoreTransactionTable$p_1=new Map();n.$ReStoreTransactionTable$p_10=new Map();n.add=function(a){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforeAdd({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreUtils").gen(n.$ReStoreTransactionTable$p_13(n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,b))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterAdd({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.delete=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return Promise.resolve((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeDelete({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e=babelHelpers.assertThisInitialized(n);return d("ReStoreUtils").gen(function*(){var f;(f=e.$ReStoreTransactionTable$p_9)==null?void 0:f.recordLogicalWrite();yield* d("ReStoreUtils").deleteItemLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,b);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,void 0,e.$ReStoreTransactionTable$p_4,b,e.$ReStoreTransactionTable$p_11)}())})}))};n.put=function(a){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforePut({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_12(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreUtils").gen(d("ReStoreUtils").putLocked(n.$ReStoreTransactionTable$p_2,n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,n.$ReStoreTransactionTable$p_4,b,n.$ReStoreTransactionTable$p_11))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterPut({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.upsert=function(a,b){return Promise.resolve((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:b}),function(c){return n.$ReStoreTransactionTable$p_12(function(e,f){var g=babelHelpers.assertThisInitialized(n);return d("ReStoreUtils").gen(function*(){var h;(h=g.$ReStoreTransactionTable$p_9)==null?void 0:h.recordLogicalWrite();yield* d("ReStoreUtils").upsertLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,c,g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,d("ReStoreUtils").searchKey(g.$ReStoreTransactionTable$p_3,b),g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11)}())})}))};n.index=function(a){return d("ReStoreUtils").getOrCreate(n.$ReStoreTransactionTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreTransactionIndex)(a,n.$ReStoreTransactionTable$p_3,n.$ReStoreTransactionTable$p_4,n.$ReStoreTransactionTable$p_5,n.$ReStoreTransactionTable$p_6)})};n.$ReStoreTransactionTable$p_3=b;n.$ReStoreTransactionTable$p_2=c;n.$ReStoreTransactionTable$p_4=e;n.$ReStoreTransactionTable$p_5=f;n.$ReStoreTransactionTable$p_6=g;n.$ReStoreTransactionTable$p_7=h;n.$ReStoreTransactionTable$p_8=j;n.$ReStoreTransactionTable$p_9=k;n.$ReStoreTransactionTable$p_10=l;n.$ReStoreTransactionTable$p_11=m;return n}var c=b.prototype;c.$ReStoreTransactionTable$p_12=function(a){var b=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(c){var e=b.$ReStoreTransactionTable$p_6.createNested(b.$ReStoreTransactionTable$p_9);return(i||(i=d("PromiseOrValue"))).map(a(c,e),function(a){e.flush();return a})})};c.$ReStoreTransactionTable$p_13=function*(a,b,c,e,f,g){var i=b.table(e),j=this.$ReStoreTransactionTable$p_2.tableNames[e];if(j.autoIncrement){var m=f[j.primaryKeyIds[0]];m=(h||(h=d("I64"))).of_float(yield* i.incrementSeed(c,m===void 0?m:k(m)));f[j.primaryKeyIds[0]]=m}m=d("ReStoreUtils").appendDefaultValues(f,j.name,this.$ReStoreTransactionTable$p_11);f=d("ReStoreUtils").searchKey(j,m);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield* i.tableGet(c,f))==null){j=d("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(j.indexes),m);yield* d("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,a,b,c,e,j,this.$ReStoreTransactionTable$p_4,g,this.$ReStoreTransactionTable$p_11);g=(yield* i.tableSet(c,f,m));i=g[0];yield* d("ReStoreUtils").addIdToIndices(b,c,e,i,j);l(a,e,f,void 0,m)}return f};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g){var h;h=a.call(this,b,c,e,f)||this;h.$ReStoreTable$p_1=new Map();h.index=function(a){return d("ReStoreUtils").getOrCreate(h.$ReStoreTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreIndex)(a,h.$ReStoreTable$p_2,h.$ReStoreTable$p_3,h.$ReStoreTable$p_4,h.$ReStoreTable$p_5,h.$ReStoreTable$p_6)})};h.subscribe=function(a,b,c){return h.$ReStoreTable$p_6.subscribeTable(h.$ReStoreTable$p_2.name,a,(j||(j=d("ReQLBounds"))).extendBounds(b,h.$ReStoreTable$p_2.primaryKeyIds.length),c)};h.$ReStoreTable$p_2=b;h.$ReStoreTable$p_3=c;h.$ReStoreTable$p_4=e;h.$ReStoreTable$p_5=f;h.$ReStoreTable$p_6=g;return h}return b}(a);g.ReStoreTransactionTable=b;g.ReStoreTable=e}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b)===0}g.areKeysEqual=a}),98);
__d("ReStoreUtils",["I64","LSStorage","Random","ReQLBounds","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","isPromise","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=500;async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function m(a,b,d){var e=a.indexes;a=a.primaryKeyIds;a=d==null?a:e[d];return a.map(function(a){if(b[a]!==void 0||d!=null)return b[a];throw c("unrecoverableViolation")("primary key must be defined on object","maw_db")})}function n(a,b,c){var d=c[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}function o(a,b,c,e,f,g,h){function i(){var j=a.table(c.name),l=babelHelpers.extends({},(k||(k=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}),m=e==null?j.tableEntries(b,l):j.indexEntries(b,e,l);return j={next:function*(a,b){a=(yield* m.next(b));if(a.done)return{done:!0};b=a.value[1];return{done:!1,value:[a.value[0],h==null?b:h.afterEntriesNext({tableName:c.name,value:b})]}}},j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,j}return i()}function b(a,b,c,e,f,g){function h(){var i=a.table(c.name),j=i.keys(b,e,babelHelpers.extends({},(k||(k=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}));return i={next:function*(a,b){return yield* j.next(b)}},i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=h,i}return h()}function p(a,b){function d(b){if(b.done)return b.value;if(!(h||(h=c("isPromise")))(b.value))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}async function e(a,b,c,d,e,f,g){f=a.table(c);d!=null?a=await p(f.indexGet(b,d,e)):a=await p(f.tableGet(b,e));return a===void 0?void 0:g.afterGet({tableName:c,value:a})}function q(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function r(a){a=(i||(i=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return i.to_float(a)}function s(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);(c==null?d:c[0])==null&&e==null?a.delete(b):a.set(b,[c==null?d:c[0],e])}function* t(a,b,c,e,f,g,h,i,k,l){function n(a,b){return a.length>=b?a:[].concat(a,[(j||(j=d("ReStoreKeyComparer"))).MAX_KEY])}if(h!=null&&(j||(j=d("ReStoreKeyComparer"))).compareKey(g,h)===0)return;f=a.tableNames[f];var p=f.cascadeUpdates,q=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var j=a.tableNames[d],p=j.indexes,r=j.primaryKeyIds,s=f==null?r:p[f];r={gte:g,lte:n(g,s.length)};p=o(c,e,j,f,"asc",r);j=[];f=(yield* p.next(k));while(!f.done)j.push(f.value),f=(yield* p.next(k));for(r of j){r[0];p=r[1];f=m(a.tableNames[d],p);if(h===void 0)yield* w(a,b,c,e,d,f,k),yield* t(a,b,c,e,d,f,void 0,i,k,l);else{j=q.reduce(function(a,b,c){if(c>=h.length)return a;a[s[c]]=h[c];return a},babelHelpers.extends({},p));yield* v(a,b,c,e,d,f,j,i,k,l);yield* t(a,b,c,e,d,f,m(a.tableNames[d],j),i,k,l)}}};for(p of p)yield* f(p)}function* u(a,b,c,e,f,g,h,k,l){var o=c.table(f),p=a.tableNames[f];if(p.autoIncrement){var q=g[p.primaryKeyIds[0]];q=(i||(i=d("I64"))).of_float(yield* o.incrementSeed(e,q===void 0?q:r(q)));g[p.primaryKeyIds[0]]=q}q=m(p,g);var t={},u=(yield* o.tableGet(e,q)),v=g;u!==void 0?t=x(p,Object.keys(p.indexes),u):v=n(g,p.name,l);g=(yield* o.tableSet(e,q,v));var w=g[0];g=g[1];p=x(p,Object.keys(p.indexes),v);var A=babelHelpers.extends({},p);for(var B of Object.keys(A))t[B]!==void 0&&(j||(j=d("ReStoreKeyComparer"))).compareKey(t[B],A[B])===0&&(delete A[B],delete t[B]);yield* y(a,b,c,e,f,A,h,k,l);yield* z(c,e,f,w,g?p:A);for(B of Object.keys(t))yield* o.indexDelete(e,B,t[B]);s(b,f,q,u,v);return q}function* v(a,b,c,e,f,g,h,i,j,k){var l=m(a.tableNames[f],h);d("LSStorage").areKeysEqual(g,l)||(yield* w(a,b,c,e,f,g,j));yield* u(a,b,c,e,f,h,i,j,k)}function* w(a,b,c,d,e,f,g){g=c.table(e);c=a.tableNames[e];a=(yield* g.tableGet(d,f));if(a!==void 0){if(Object.keys(c.indexes).length)for(var h of Object.keys(c.indexes)){var i=m(c,a,h);i!=null&&(yield* g.indexDelete(d,h,i))}yield* g.tableDelete(d,f);s(b,e,f,a,void 0)}}function x(a,b,c){return b.reduce(function(b,d){var e;e=(e=a.indexPredicates)==null?void 0:e[d];if(e!=null&&!e(c))return b;e=m(a,c,d);b[d]=e;return b},{})}function* y(a,b,c,d,e,f,g,h,i){var j=c.table(e);for(var k of Object.keys(f)){var l=f[k];l=(yield* j.indexGet(d,k,l));if(l!=null){l=m(a.tableNames[e],l);yield* w(a,b,c,d,e,l,h);yield* t(a,b,c,d,e,l,void 0,g,h,i)}}}function* z(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=e[c];f===void 0?yield* a.indexDelete(b,c,f):yield* a.indexSet(b,c,f,d)}}function* f(a,b,d,e,f,g,h,i,j,k){var m=d.table(i),n=g.tableNames[i];for(var p of j)yield* m.clearIds(e,p);p=j.filter(function(a){return(n==null?void 0:n.indexes[a])!=null});if(p.length===0)return;j=o(d,e,n,void 0,"asc",void 0,f);var q=[],r=(yield* j.next(k));while(!r.done){while(!r.done&&q.length<=l)q.push(r.value),r=(yield* j.next(k));for(var s of q){var t=s[0],u=s[1];u=x(g.tableNames[i],p,u);yield* y(g,a,d,e,i,u,f,k,h);t=c("nullthrows")(yield* m.getId(e,t));yield* z(d,e,i,t,u)}q.length=0;b==null?void 0:b()}}var A="__internal__transaction_id";function B(a,b,e,f,g,h,i){var j=new(d("ReStoreOperationLock").ReStoreOperationLock)(),k=i==null?void 0:i.qplFlow,l=new Map(),m=new Proxy((i={},i[A]=c("Random").uint32(),i.table=function(c){return new(d("ReStoreTable").ReStoreTransactionTable)(c,a,e,j,g,f,m,k,h,b)},i),{get:function(c,i){return!Object.prototype.hasOwnProperty.call(a.tableNames,i)?Reflect.get.apply(Reflect,arguments):q(l,i,function(){return new(d("ReStoreTable").ReStoreTransactionTable)(i,a,e,j,g,f,m,k,h,b)})}});return m}function C(a){return a.types.includes("indexeddb")}g.collectIterator=a;g.searchKey=m;g.appendDefaultValues=n;g.entries=o;g.keys=b;g.gen=p;g.getLocked=e;g.getOrCreate=q;g.cascadeKeyUpdatesLocked=t;g.putLocked=u;g.upsertLocked=v;g.deleteItemLocked=w;g.indicesWithKeyForValue=x;g.deconflictIndicesLocked=y;g.addIdToIndices=z;g.rebuildIndicesLocked=f;g.createReStoreTransaction=B;g.isPDB=C}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){a=(yield h(a,b));b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};yield a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(f,a,b,e));try{if(c===!1)for(c in b){var h=a[c].entries(f),i=(yield h.next());while(!i.done){var k=babelHelpers["extends"]({},i.value[1]);k=d("ReStoreUtils").appendDefaultValues(k,c,e);yield a[c].put(k);i=(yield h.next())}}yield l(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers["extends"]({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null?void 0:(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers["extends"]({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});yield a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;yield (g=a[d("ReStoreIndexMetadata").indicesTableName])["delete"].apply(g,h)}}});return o.apply(this,arguments)}function p(a,b,c,e,f){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(g){return d("ReStoreUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(a.changedKeys,a.clearCache,a.storeTx,new WeakMap(),a.hooksManager,c,e,b,f,g))})}function a(a,c,e,f){var g=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var h=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(g,a.transaction,c).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.toRemove;b=b.toUpdate;var h=Array.from(new Set([].concat(Object.keys(b),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:h.length}});if(f===!1)for(h of h)if(c.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=b[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));yield p(a,h,c,e,i)}yield l(a.transaction,b);yield n(a.transaction,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return g.apply(this,arguments)}}(),function(a){return h(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return h(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStoreHashMigration",["ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers["extends"]({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return JSON.stringify(a)}function c(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f,g,h,i=e.loggers,j=i.logHistory;i=i.userFlow;var k=e.storeTx,l=e.transaction,m=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(c),n=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(b);i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{defaultValuesVersion:m,schemaVersion:n}}));var o=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(a),p=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(a);f=(f=(yield o.read(k)))==null?void 0:f.schemaVersion;g=(g=(yield p.read(k)))==null?void 0:g.defaultValuesVersion;j==null?void 0:j.debug("storeSchemaVersion: "+((h=f)!=null?h:"null"));j==null?void 0:j.debug("storeDefaultValuesVersion: "+((h=g)!=null?h:"null"));f!=null&&(i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{storeDefaultValuesVersion:g,storeSchemaVersion:f}})));if(f===n&&g===m)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;h=f==null;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(l,b,h,c);j==null?void 0:j.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,b,c,h);j==null?void 0:j.debug("migration indices finished");o.write(k,{schemaVersion:n});p.write(k,{defaultValuesVersion:m});j==null?void 0:j.debug("version is written");j==null?void 0:j.debug("migration hash end");i==null?void 0:i.addPoint("migration_hash_end");if(h)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.serializeTableData=a;g.runHashMigration=c}),98);
__d("ReStorePersistenceIds",[],(function(a,b,c,d,e,f){"use strict";b="nextId";c="seed";function a(a){return a}f.idForNextId=b;f.idForSeed=c;f.castPersistenceId=a}),66);
__d("hashString",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return b}f["default"]=a}),66);
__d("ReStorePersistedMetadata",["ReStoreHashMigration","ReStorePersistenceIds","ReStoreUtils","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_schema_meta";a=function(){function a(a){this.$1=d("ReStorePersistenceIds").castPersistenceId(a)}var b=a.prototype;b.read=async function(a){a=await d("ReStoreUtils").gen(a.table(h).readData(new WeakMap(),this.$1));return a};b.write=function(a,b){a.table(h).writeData(new WeakMap(),this.$1,b)};b.getId=function(){return this.$1};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_schema_version")||this}b.hash=function(a){return c("hashString")(d("ReStoreHashMigration").serializeTableData(a))};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"custom_migration_value_version")||this}return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_default_value_version")||this}b.hash=function(a){return c("hashString")(JSON.stringify(a))};return b}(a);g.schemaMetadataTableName=h;g.ReStorePersistedMetadata=a;g.ReStorePersistedSchemaVersion=b;g.ReStorePersistedCustomMigrationVersion=e;g.ReStorePersistedDefaultValuesVersion=f}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=b.storeTx;b=b.transaction;if(a==null)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var f=new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)();c=(c=(yield f.read(e)))==null?void 0:c.customMigrationVersion;if(a.targetVersion===c)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;yield a.migration((c=c)!=null?c:0,b);f.write(e,{customMigrationVersion:a.targetVersion});return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.runCustomMigration=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{afterAdd:a.reduce(function(a,b){var c=b.onAfterAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterPut:a.reduce(function(a,b){var c=b.onAfterPut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDelete:a.reduce(function(a,b){var c=b.onBeforeDelete;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.key;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreIndexeddbPersistenceInitFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;c.name=g;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreIndexeddbPersistenceInitFailure=a}),66);
__d("ReStorePersistence",["FBLogger","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={},k={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},l=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","occamadillo_most_recent_message_per_thread"]),m=16,n=64,o=64,p=Math.floor(m/2),q=Math.floor(n/2),r=Math.floor(o/2);function s(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=e;return a}function t(a,b){b===void 0&&(b=j);return a===b}function u(a,b,c){var e=0,f=a.length-1;while(e<=f){var g=e+f>>1;(c[0]?(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<0:(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<=0)?e=g+1:f=g-1}g=[e,f][c[1]];return g===a.length?-1:g}var v=function(){function a(a,b,c,d,e,f){this.$2=b,this.$3=c,this.$1=a,this.$4=d,this.$5=e,this.$6=f}var b=a.prototype;b.$7=function(a){return a==null?"root":"index("+a+")"};b.$8=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!0,keys:[].concat(a.keys),nextId:a.nextId,prevId:a.prevId}})};b.$9=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!1,keys:[].concat(a.keys)}})};b.$10=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{headId:a.headId,rootId:a.rootId,tailId:a.tailId}})};b.$11=function(a,b){if(!a.length)return[0,0];var c=u(a,b,k.gte);if(c===-1)return[a.length,0];else if((i||(i=d("ReStoreKeyComparer"))).compareKey(a[c],b)===0)return[c,1];return[c,0]};b.$12=function*(a,b,c,d){var e=(yield* this.$13(a,b));e=e;b=b;var f=-1;while(!e.isLeaf)d==null?void 0:d.push([e,b,f]),f=u(e.keys,c,k.gt),f===-1&&(f=e.keys.length),b=e.children[f],e=(yield* this.$13(a,b));return[e,b,f]};b.$14=function*(a,b){this.$3();var d=this.$1.get(b);if(t(d))return void 0;if(d!==void 0)return d;d=this.$4.get(a,this.$2,b,this.$5);return(h||(h=c("isPromise")))(d)?yield d:d};b.$13=function*(a,b){a=(yield* this.$14(a,b));if(a===void 0){var d=this.$1.get(b);this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{deletedInThisTxn:t(d)?"true":"false",id:JSON.stringify(b)||""});throw c("unrecoverableViolation")("value not found","messenger_web_product")}return a};b.$15=function*(a,b){a=(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForNextId)))!=null?a:0;this.$1.set("nextId",a+1);this.$1.set(a,b);return a};b.$16=function(a,b){this.$3(),this.$1.set(a,b)};b.incrementSeed=function*(a,b){a=(a=(yield* this.$14(a,"seed")))!=null?a:0;if(b===void 0){this.$1.set("seed",a+1);return a}b>=a&&this.$1.set("seed",b+1);return b};b.readData=function*(a,b){return yield* this.$14(a,b)};b.$17=function*(a,b,c){b=(yield* this.$14(a,this.$7(b)));if(b==null)return;a=(yield* this.$12(a,b.rootId,c));b=a[0];a=u(b.keys,c,k.gte);if(a===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(b.keys[a],c)!==0)return;return b.children[a]};b.tableGet=function*(a,b){b=(yield* this.$17(a,void 0,b));if(b===void 0)return;return yield* this.$18(a,b)};b.$18=function*(a,b){return Array.isArray(b)?b[0]:yield* this.$13(a,b)};b.$19=function*(a,b,d,e){if(Array.isArray(b)){var f=(yield* this.$17(a,void 0,b));if(f==null){c("gkx")("3570")&&this.$6(d,e,this.$2);throw c("FBLogger")("messenger_web_product").mustfixThrow("Encountered value in index %s but not found in table %s",d,this.$2)}return yield* this.$18(a,f)}return yield* this.$13(a,b)};b.indexGet=function*(a,b,c){var d=(yield* this.$17(a,b,c));if(d==null)return;return yield* this.$19(a,d,b,c)};b.getId=function*(a,b){a=(yield* this.$17(a,void 0,b));return Array.isArray(a)?b:a};b.tableSet=function*(a,b,c){var d,e=this.$4.shouldInline(this.$2,c),f=this.$7(),g=(yield* this.$14(a,f));if(g==null){var h;e||(d=(yield* this.$15(a,c)));h={children:[(h=d)!=null?h:[c]],isLeaf:!0,keys:[b]};h=(yield* this.$15(a,h));this.$16(f,{headId:h,rootId:h,tailId:h});return[(h=d)!=null?h:b,!1]}h=[];var i=(yield* this.$12(a,g.rootId,b,h)),k=i[0];i=i[1];var l=this.$11(k.keys,b),m=l[0];l=l[1];var n=!1;if(l===1){var o=k.children[m];if(!Array.isArray(o)){n=!0;if(!e){this.$16(o,c);return[o,!1]}else this.$1.set(o,j)}}o=this.$8(k,i);e||(d=(yield* this.$15(a,c)));l===0&&o.keys.splice(m,0,b);o.children.splice(m,l,(k=d)!=null?k:[c]);yield* this.$20(a,o,i,h,g,f,!0);return[(m=d)!=null?m:b,l===1&&!(e&&!n)]};b.indexSet=function*(a,b,c,d){b=this.$7(b);var e=(yield* this.$14(a,b));if(e==null){var f={children:[d],isLeaf:!0,keys:[c]};f=(yield* this.$15(a,f));this.$16(b,{headId:f,rootId:f,tailId:f});return}f=[];var g=(yield* this.$12(a,e.rootId,c,f)),h=g[0];g=g[1];var i=this.$11(h.keys,c),j=i[0];i=i[1];if(i===1&&h.children[j]===d)return;h=this.$8(h,g);h.keys.splice(j,i,c);h.children.splice(j,i,d);yield* this.$20(a,h,g,f,e,b,!1)};b.$20=function*(a,b,c,d,e,f,g){b=b;var h;c=c;for(;b.keys.length>=(b.isLeaf?g?m:n:o);b=h,c=i){var i;i=(i=d.pop())!=null?i:[];h=i[0];i=i[1];i!=null?h=this.$9(h,i):(h={children:[c],isLeaf:!1,keys:[]},this.$10(e,f).rootId=(yield* this.$15(a,h)));var j=Math.floor(b.keys.length/2),k=void 0;if(b.isLeaf){var l={children:b.children.slice(j),isLeaf:!0,keys:b.keys.slice(j),nextId:b.nextId,prevId:c},p=k=b.nextId=(yield* this.$15(a,l));l=l.nextId;l?this.$8(yield* this.$13(a,l),l).prevId=p:this.$10(e,f).tailId=k}else k=(yield* this.$15(a,{children:b.children.slice(j+1),isLeaf:!1,keys:b.keys.slice(j+1)}));l=this.$11(h.keys,b.keys[j]);p=l[0];l=l[1];h.keys.splice(p,l,b.keys[j]);h.children.splice(p+1,0,k);b.keys.length=j;b.children.length=j+(b.isLeaf?0:1)}};b.tableDelete=function*(a,b){a=(yield* this.$21(a,void 0,b));if(a==null)return!1;Array.isArray(a)||(this.$3(),this.$1.set(a,j));return!0};b.indexDelete=function*(a,b,c){return(yield* this.$21(a,b,c))!=null};b.$21=function*(a,b,e){var f=this.$7(b),g=(yield* this.$14(a,f));if(g==null)return;var h=[],m=(yield* this.$12(a,g.rootId,e,h)),n=m[0],o=m[1];m=m[2];var s=this.$8(n,o),t=u(n.keys,e,k.gte);if(t===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(n.keys[t],e)!==0)return;n=s.children[t];s.keys.splice(t,1);s.children.splice(t,1);e=s;t=o;s=m;var v;for(;e.keys.length<(e.isLeaf?b==null?p:q:r)&&h.length;x=[m,v,o],e=x[0],t=x[1],s=x[2],x){o=h.pop();m=o[0];v=o[1];o=o[2];m=this.$9(m,v);var w=[[{nodeId:m.children[s-1]},{node:e,nodeId:t},s-1],[{node:e,nodeId:t},{nodeId:m.children[s+1]},s]].filter(function(b){var a=b[0];b=b[1];return a.nodeId!==void 0&&b.nodeId!==void 0});for(var x of w){var y=x[0],z=x[1],A=x[2],B=y.node=y.node||(yield* this.$13(a,y.nodeId)),C=z.node=z.node||(yield* this.$13(a,z.nodeId)),D=e.isLeaf?b==null?p:q:r;if(B.keys.length+z.node.keys.length>=D*2){if(e.isLeaf){var E=this.$8(B,y.nodeId),F=this.$8(C,z.nodeId),G=[].concat(E.children,F.children),H=[].concat(B.keys,C.keys);E.children=(F.children=G).splice(0,D);E.keys=(F.keys=H).splice(0,D);m.keys[A]=H[0]}else{G=this.$9(B,y.nodeId);E=this.$9(C,z.nodeId);F=[].concat(G.children,E.children);H=[].concat(G.keys,[m.keys[A]],E.keys);G.children=(E.children=F).splice(0,D+1);m.keys[A]=H.splice(D,1)[0];G.keys=(E.keys=H).splice(0,D)}return n}}for(B of w){y=B[0];C=B[1];z=B[2];if(e.isLeaf){F=this.$8(y.node,y.nodeId);A=this.$8(C.node,C.nodeId);F.children=[].concat(F.children,A.children);F.keys=[].concat(F.keys,A.keys);A.keys.length=0;G=A.nextId;if(G){E=this.$8(yield* this.$13(a,G),G);E.prevId=y.nodeId}else this.$10(g,f).tailId=y.nodeId;F.nextId=A.nextId}else{H=this.$9(y.node,y.nodeId);D=this.$9(C.node,C.nodeId);H.children=[].concat(H.children,D.children);H.keys=[].concat(H.keys,[m.keys[z]],D.keys)}m.keys.splice(z,1);m.children.splice(z+1,1);this.$1.set(C.nodeId,j);break}}w=(yield* this.$13(a,g.rootId));if(!w.keys.length&&w.children.length){if(w.isLeaf){l.has(this.$2)&&(this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{}));throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product")}this.$1.set(g.rootId,j);this.$10(g,f).rootId=w.children[0]}return n};b.btreeIterator=function(a,b,e){e=e===void 0?{}:e;var f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);function j(){if(g==="asc"){if(Object.prototype.hasOwnProperty.call(h,"gt"))return h.gt;else if(Object.prototype.hasOwnProperty.call(h,"gte"))return h.gte}else if(Object.prototype.hasOwnProperty.call(h,"lt"))return h.lt;else if(Object.prototype.hasOwnProperty.call(h,"lte"))return h.lte}function l(a){if(g==="asc")return Object.prototype.hasOwnProperty.call(h,"gt")?u(a.keys,h.gt,k.gt):Object.prototype.hasOwnProperty.call(h,"gte")?u(a.keys,h.gte,k.gte):0;else return Object.prototype.hasOwnProperty.call(h,"lt")?u(a.keys,h.lt,k.lt):Object.prototype.hasOwnProperty.call(h,"lte")?u(a.keys,h.lte,k.lte):a.keys.length-1}if(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","maw_db");if(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","maw_db");var m,n=this;return{next:function*(e){var f,o;if(m==null){var p=(yield* n.$14(a,n.$7(b)));if(p==null)return{done:!0};var q=j();if(q!==void 0){q=(yield* n.$12(a,p.rootId,q));f=q[0];q=q[1]}else if(g==="asc"){var r=[yield* n.$13(a,p.headId),p.headId];f=r[0];q=r[1]}else{r=[yield* n.$13(a,p.tailId),p.tailId];f=r[0];q=r[1]}p=l(f)}else{r=m;p=r.i;o=r.key;q=r.nodeId;f=(yield* n.$14(a,q));if(e!=null){if((i||(i=d("ReStoreKeyComparer"))).compareKey(e,o)===(g==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","maw_db");if(f==null||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};r=(yield* n.$12(a,r.rootId,e));f=r[0];q=r[1]}p=u(f.keys,e,k[g==="asc"?"gte":"lte"])}else{if(f==null||p<0||p>=f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(f.keys[p],o)!==0){if(f==null||!f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};e=(yield* n.$12(a,r.rootId,o));f=e[0];q=e[1]}p=u(f.keys,o,k[g==="asc"?"lte":"gte"])}p+=g==="asc"?1:-1}}if(p<0||p>=f.keys.length)if(g==="asc"){if(f.nextId===void 0)return{done:!0};q=f.nextId;f=(yield* n.$13(a,q));p=0}else{if(f.prevId===void 0)return{done:!0};q=f.prevId;f=(yield* n.$13(a,q));p=f.keys.length-1}o=f.keys[p];m={i:p,key:o,node:f,nodeId:q};if(p<0||p>=f.keys.length)return{done:!0};r=g==="asc"?Object.prototype.hasOwnProperty.call(h,"lt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lte)>0:Object.prototype.hasOwnProperty.call(h,"gt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gte)<0;return r?{done:!0}:{done:!1,value:[f.keys[p],f.children[p]]}}}};b.tableEntries=function(a,b){b===void 0&&(b={});var c=this.btreeIterator(a,void 0,b),d=this;return{next:function*(b){b=(yield* c.next(b));if(b.done)return b;b=b.value;var e=b[0];b=b[1];b=(yield* d.$18(a,b));return{done:!1,value:[e,b]}}}};b.indexEntries=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c),e=this;return{next:function*(c){c=(yield* d.next(c));if(c.done)return c;c=c.value;var f=c[0];c=c[1];c=(yield* e.$19(a,c,b,f));return{done:!1,value:[f,c]}}}};b.keys=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c);return{next:function*(a){a=(yield* d.next(a));if(a.done)return a;a=a.value;a=a[0];return{done:!1,value:a}}}};b.clearIds=function*(a,b){this.$3();b=this.$7(b);var c=(yield* this.$14(a,b));this.$3();if(c==null)return;var d=(yield* this.$13(a,c.rootId));c=[{id:c.rootId,node:d}];while(c.length>0){d=c.shift();var e=d.id;d=d.node;if(!d.isLeaf)for(d of d.children){var f=(yield* this.$14(a,d));f!=null&&c.push({id:d,node:f})}this.$1.set(e,j)}this.$1.set(b,j)};b.readSeed=function*(a){return(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForSeed)))!=null?a:0};b.remove=function(a,b){this.$3(),this.$1.set(b,j)};b.writeData=function(a,b,c){this.$16(b,s(c))};b.writeNewData=function*(a,b){return yield* this.$15(a,s(b))};return a}(),w=function(){function a(a,b,e,f,g){var h=this;this.$2=new Map();this.$6=!1;this.$3=function(){if(h.$6){f==null?void 0:f.mark("transaction_closed");throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}e()};this.$4=b;this.$1=a;this.$5={get:function(a,c,e){var f=d("ReStoreUtils").getOrCreate(h.$1,c,function(){return new Map()});f=f.get(e);if(t(f))return void 0;return f!==void 0?f:b.get(a,c,e,"readwrite")},logError:b.logError,shouldInline:b.shouldInline};this.$7=g}var b=a.prototype;b.flush=function(){for(var a of this.$2){var b=a[0],c=a[1];b=d("ReStoreUtils").getOrCreate(this.$1,b,function(){return new Map()});for(c of c){var e=c[0],f=c[1];b.set(e,f)}}this.$6=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$2,a,function(){return new Map()}),a,this.$3,this.$5,"readwrite",this.$7)};return a}(),x=function(){function a(a,b,d,e){var f=this;this.$1=new Map();this.$2=!1;this.$7=function(){if(f.$2)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed: %s",f.$5)};this.$3=a;this.$4=b;this.types=a.types;this.$5=d;this.$6=e}var b=a.prototype;b.close=function(){this.$2=!0};b.flush=async function(a){a===void 0&&(a={upgrade:!1}),await this.$3.flush(this.$1,a),this.$2=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$1,a,function(){return new Map()}),a,this.$7,this.$3,this.$4,this.$6)};b.createNested=function(a){return new w(this.$1,this.$3,this.$7,a,this.$6)};return a}();function a(a){function b(b,e,f){c("promiseDone")(async function(){await a.runExclusively(function(){return Promise.resolve([async function(){var c=new x(a,"readwrite",void 0,function(){});await d("ReStoreUtils").gen(c.table(f).indexDelete(new WeakMap(),b,e));await c.flush()},"readwrite"])},"fixBrokenIndex")}())}return{clearCache:a.clearCache,close:a.close,createTransaction:function(c,d){return new x(a,c,d,b)},isClosed:a.isClosed||function(){return!1},isPersistenceSupported:a.isPersistenceSupported,logError:a.logError,runExclusively:a.runExclusively}}g.sentinelDeleted=j;g.isDeletedValue=t;g.ReStoreDbStoreTransaction=x;g.createDbStore=a}),98);
__d("ReStoreTransactionDelay",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a==="background"?new Promise(function(a){return c("setTimeout")(a,0)}):Promise.resolve();await a}g.default=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","Promise","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","asyncToGeneratorRuntime","isPromise","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function a(a,e,f){var g=new Map(),m=new Map();function n(a,b){return(l||(l=d("ReStoreKeyComparer"))).compareValue(a,b)===0}function o(a,b,c,d){a=(a=z.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g!==0;h++){if(g&1){var i=a[(f<<5)+h];if(!n(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function p(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function q(a,b,d,e){try{a=a(b,d,e);if((j||(j=c("isPromise")))(a))return a["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription async handler")});else return a}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription handlers")}}function r(a,c,e,f,g){var i=Array.from(c(f));if(g.operation==="put"&&g.prevValue!=null){c=function(){var b=g.prevValue,c=[];for(var h of i){h[0];var j=h[1];j!=null&&j.forEach(function(a,b){c[b]=((b=c[b])!=null?b:0)|a})}var l=o(a,c,b,g.value);return{v:(k||(k=d("PromiseOrValue"))).all(i.map(function(a){var b=a[0];a=a[1];if(a==null||p(l,a))return q(b,f,g,e)}))}}();if(typeof c==="object")return c.v}return(h||(h=b("Promise"))).all(i.map(function(a){var b=a[0];a[1];return q(b,f,g,e)}))}function s(b){return c("nullthrows")((g.has(b)?g:g.set(b,[c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function t(b,e){var f=s(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].indexes[e].length))).get(e))}function u(b,e,f,g,h,i){var j=function(a,c){return r(e,b.findIntersecting,i,a,c)},m=f==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],f,h),n=g==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],g,h);if(n==null&&m!=null)return j(m,{operation:"delete",prevValue:c("nullthrows")(f)});if(m==null&&n!=null)return j(n,{operation:"add",value:c("nullthrows")(g)});if(m!=null&&n!=null)return(l||(l=d("ReStoreKeyComparer"))).compareKey(m,n)===0?j(m,{operation:"put",prevValue:c("nullthrows")(f),value:c("nullthrows")(g)}):(k||(k=d("PromiseOrValue"))).map(j(m,{operation:"delete",prevValue:c("nullthrows")(f)}),function(){return j(n,{operation:"add",value:c("nullthrows")(g)})})}function v(a,b,c,e){var f=s(a),g=f[0],h=f[1];return(k||(k=d("PromiseOrValue"))).map(u(g,a,b,c,null,e),function(){return(k||(k=d("PromiseOrValue"))).all(Array.from(h.entries()).map(function(d){var f=d[0];d=d[1];return u(d,a,b,c,f,e)}).filter(function(a){return a!=null}))})}function w(){m.forEach(function(a){return a()})}function x(a,b){function d(){var d=new Map();try{for(var f of a){var g=f[0],h=f[1];e(b,g)&&d.set(g,h)}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if((i||(i=c("ExecutionEnvironment"))).isInBrowser&&f!=null){d=d();if(d.length===0)return;f.postMessage(b,d)}}(i||(i=c("ExecutionEnvironment"))).isInBrowser&&(f!=null&&f.onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap(),c=a.values();yield (k||(k=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];var f=a.values();return(k||(k=d("PromiseOrValue"))).map(k.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var c=a[0];a=a[1];return(k||(k=d("PromiseOrValue"))).map(v(e,c,a,b),function(){return{action:"continue",value:f.next()}})},f.next()),function(){return{action:"continue",value:c.next()}})},c.next());w()})())}));var y=new Map(),z=new Map();function A(a,b){if(b==null)return null;var c=y.get(a);c==null&&(c=new Map(),y.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=z.get(a);f==null&&(f=[],z.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){g.clear(),m.clear()},notifyCommit:w,notifyTableAndIndexSubscribers:v,notifyTableV2:x,subscribeIndex:function(a,c,d,e,f){var g=t(a,c),i=!1;c=function(a,c,e){return i?(h||(h=b("Promise"))).resolve():q(d,a,c,e)};var j=[c,A(a,f)];g.set(e,j);return function(){i=!0,g["delete"](j)}},subscribeTable:function(a,c,d,e){var f=s(a),g=f[0],i=!1;f=function(a,d,e){return i?(h||(h=b("Promise"))).resolve():q(c,a,d,e)};var j=[f,A(a,e)];g.set(d,j);return function(){i=!0,g["delete"](j)}},subscribeToCommit:function(a){m.set(a,a);return function(){m["delete"](a)}}}}g["default"]=a}),98);
__d("setImmediate",["TimeSlice","TimerStorage","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g){function a(a){var b,d=function(){c("TimerStorage").unset(c("TimerStorage").IMMEDIATE,b);for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];Function.prototype.apply.call(a,this,e)};c("TimeSlice").copyGuardForWrapper(a,d);for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];b=c("setImmediateAcrossTransitions").apply(void 0,[d].concat(f));c("TimerStorage").set(c("TimerStorage").IMMEDIATE,b);return b}g["default"]=a}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","promiseDone","setImmediate","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,"ReStore transaction timed out")||this}return a}(babelHelpers.wrapNativeSuper(Error)),k={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db"},l=12e4;function a(a){var e=a.persistence,f=a.hooks;f=f===void 0?[]:f;var g=a.customMigration,m=a.loggers,n=m===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:m;m=a.config;var o=m===void 0?k:m,p=a.schema,q=n.logHistory,r=n.transactionQplLogger,s=n.userFlow,t=d("ReStorePersistence").createDbStore(e);m=e.tabTablesNotifier==null?void 0:e.tabTablesNotifier();var u=p.defaults,v=c("createReStoreSubscriptionManager")(p,e.shouldSync,m),w=d("ReStoreHooks").createHookManager(f),x=t.createTransaction("readonly"),y=e.types.includes("indexeddb"),z={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},A;s==null?void 0:s.addPoint("migration_start");q==null?void 0:q.debug("restore migration start");var B=new(d("ReStoreOperationLock").WaitForPromiseLock)(e.types.includes("devtool")?Promise.resolve():t.runExclusively(function(){return Promise.resolve([async function(){s==null?void 0:s.addPoint("migration_execute_start");var a=new Map(),b=t.createTransaction("readwrite"),c=E(b,a);q==null?void 0:q.debug("migration transaction created");c={changedKeys:a,clearCache:D,hooksManager:w,loggers:n,storeTx:b,transaction:c};try{var e=await p.migrate(c);s==null?void 0:s.addPoint("migration_custom_start");c=await d("ReStoreCustomMigration").runCustomMigration(g,c);q==null?void 0:q.debug("migration custom end");s==null?void 0:s.addPoint("migration_custom_end");if(c===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&e===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){b.close();q==null?void 0:q.debug("restore migration skipped");s==null?void 0:s.addPoint("migration_skipped");return}c=e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&a.size!==0;await b.flush({upgrade:c});s==null?void 0:s.addPoint("migration_execute_end");q==null?void 0:q.debug("restore migration complete")}catch(a){b.close();throw a}s==null?void 0:s.addPoint("migration_end");q==null?void 0:q.debug("restore migration end")},"readwrite"])},"migration").catch(function(a){s==null?void 0:s.addAnnotations({string:{migration_error:a.message}});a instanceof d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||(s==null?void 0:s.endFail("migration_error"));q==null?void 0:q.debug("restore migration error");c("FBLogger")("restore_init").catching(a).mustfix("migration failed");throw a}));async function C(a,b){var c=new WeakMap();await t.runExclusively(function(){return Promise.resolve([async function(){var e=new Map(),f=t.createTransaction("readwrite"),g=E(f,e),h=b.values();await (i||(i=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0],f=b[1];return(i||(i=d("PromiseOrValue"))).map(i.map(f==null?g.table(a).delete(d("ReStoreUtils").searchKey(p.tableNames[a],e)):g.table(a).put(f),function(){return v.notifyTableAndIndexSubscribers(a,e,f,c)}),function(){return{action:"continue",value:h.next()}})},h.next());try{await f.flush({upgrade:!0})}catch(a){f.close();throw a}},"readwrite"])},"applyChangesToTable")}function D(){t.clearCache==null?void 0:t.clearCache()}function E(a,b,c){return d("ReStoreUtils").createReStoreTransaction(p,u,w,v,a,b,c)}var F;function G(a,b,c,d){return new Promise(function(e,f){o.enableRejectingTransaction&&(F=f);var g=function(){A=d;return a().then(e,f).finally(function(){return A=void 0})};z[b].last==null?z[b].first=z[b].last={value:{code:g,writemode:c}}:z[b].last=z[b].last.next={value:{code:g,writemode:c}}})}function H(a){return t.runExclusively(function(){var a=z.ui.first!=null?z.ui:z.sync_script.first!=null?z.sync_script:z.background;if(a.first==null){c("FBLogger")(o.fbLoggerProject).mustfix("Expected work is missing");return Promise.resolve([function(){return Promise.resolve({})},"readonly"])}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;return Promise.resolve([b.value.code,b.value.writemode])},a)}async function I(a,b,d,e){d===void 0&&(d="background");e===void 0&&(e={source:"unknown",type:"user_initiated"});var f,g=arguments[4];try{f=await J(a,b,d,e,g)}catch(a){if(a instanceof j)throw c("FBLogger")(o.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",g);throw a}return f}async function J(a,e,f,g,h){f===void 0&&(f="background");var j,k,m,n,p,q=r==null?void 0:r.startTracking(y,f);b("cr:1088")&&(j=Date.now());q==null?void 0:q.addAnnotations({string:{moduleAndLineNo:h}});async function s(){q==null?void 0:q.mark("execute_start");b("cr:1088")&&(k=Date.now());var e={ref:void 0},f=new Map(),l=t.createTransaction("readwrite",h),r;b("cr:1088")==null?void 0:b("cr:1088").trackingStoredProceduresForNewTransaction(g);b("cr:1088")==null?void 0:b("cr:1088").recordModuleName(h);try{var s=E(l,f,{qplFlow:q});r=await Promise.race([a(s),L(e,q,h)]);e.ref!=null&&c("clearTimeout")(e.ref);q==null?void 0:q.mark("execute_end");q==null?void 0:q.mark("flush_start");await l.flush({qplFlow:q});q==null?void 0:q.mark("flush_end");b("cr:1088")&&(m=Date.now())}catch(a){e.ref!=null&&c("clearTimeout")(e.ref);l.close();q==null?void 0:q.fail(a);c("FBLogger")(o.fbLoggerProject).catching(a).mustfix("Transaction failed: %s",h);b("cr:1088")==null?void 0:b("cr:1088").recordRestoreTransaction({broadcast:n,complete:m,flush:p,queue:j,start:k},{changedKeys:f});throw a}finally{b("cr:1088")==null?void 0:b("cr:1088").stopTrackingStoredProcedures()}b("cr:1088")&&(p=Date.now());q==null?void 0:q.mark("broadcast_start");var u=new WeakMap();s=new Map();for(e of f){l=e[0];var x=e[1];l=JSON.parse(l);var y=l[0];l[1];l=s.get(y);l==null&&(l=[],s.set(y,l));var z=x[0];x=x[1];x=w.beforeNotify({newValue:x,prevValue:z,tableName:y});z=x.newValue;y=x.prevValue;l.push([y,z])}var A=s.entries();await (i||(i=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var a=b[0];b=b[1];var c=b.values();return(i||(i=d("PromiseOrValue"))).map(i.loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0];b=b[1];return(i||(i=d("PromiseOrValue"))).map(v.notifyTableAndIndexSubscribers(a,e,b,u),function(){return{action:"continue",value:c.next()}})},c.next()),function(){return{action:"continue",value:A.next()}})},A.next());v.notifyTableV2(s,"notifyTableV2");v.notifyTableV2(s,"notifyInMemoryTable");v.notifyCommit();if(b("cr:1088")){n=Date.now();x={broadcast:n,complete:m,flush:p,queue:j,start:k};b("cr:1088").recordRestoreTransaction(x,{changedKeys:f})}q==null?void 0:q.mark("broadcast_end");q==null?void 0:q.mark("post_commit_start");c("setImmediate")(function(){q==null?void 0:q.mark("post_commit_end"),q==null?void 0:q.end()});return r}await c("ReStoreTransactionDelay")(f);s=G(s,f,e,h);q==null?void 0:q.mark("enqueued");c("promiseDone")(H(h),function(){},function(a){F==null?void 0:F(a)});var u=c("setTimeout")(function(){var a;c("FBLogger")("messenger_e2ee_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s",l,h,A,(a=JSON.stringify(b("cr:6665")==null?void 0:b("cr:6665").getCurrentlyExecutingNativeOps()))!=null?a:"<devtools not running>",b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))},l);return s.finally(function(){return c("clearTimeout")(u)})}(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(m!=null&&m.onEventReceive("notifyInMemoryTable",function(a){c("promiseDone")(async function(){for(var b of a){var c=b[0],d=b[1];e.shouldApplySync("notifyInMemoryTable",c)&&await C(c,d)}v.notifyCommit()}())}));var K=Object.keys(p.tableNames).reduce(function(a,b){return babelHelpers.extends({},a,(a={},a[b]=new(d("ReStoreTable").ReStoreTable)(p.tableNames[b],w,B,x,v),a))},{});return{clearCacheIfSupported:D,closeDb:function(){var a=t;a instanceof Object&&a.close!==void 0&&a.close()},getCustomMigrationVersion:async function(){var a=await new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)().read(t.createTransaction("readonly"));return a==null?void 0:a.customMigrationVersion},getTableData:function(){return p},isClosed:function(){return t.isClosed()},isPersistenceSupported:function(){var a=t;return a instanceof Object&&a.isPersistenceSupported!==void 0&&a.isPersistenceSupported instanceof Function?a.isPersistenceSupported():Promise.resolve(!0)},persistence:e,persistenceTypes:e.types,runInTransaction:I,subscribeToCommit:function(a){return v.subscribeToCommit(a)},subscriptionManager:v,table:function(a){return K[a]},tables:K,uniqueId:e.uniqueId};function L(a,d,e){return!o.enableTransactionTimeout?new Promise(function(){var d=1e4;a.ref=c("setTimeout")(function(){var a;c("FBLogger")(o.fbLoggerProject).mustfix("ReStore transaction took too long to execute, check it: %s. Executed SP: %s.",e,b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))},d)}):new Promise(function(b,e){b=5e3;a.ref=c("setTimeout")(function(){d==null?void 0:d.mark("slow_transaction"),e(new j())},b)})}}g.default=a}),98);
__d("ReStoreInstrumentation",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){g.set(a.uniqueId,{instance:a,persistence:a.persistence,tableNames:a.getTableData().tableNames});return a}function b(){return Array.from(g.entries()).map(function(a){var b=a[0];a=a[1];return{key:b,value:JSON.parse(JSON.stringify(a.tableNames))}})}f.instrument=a;f.getReStoreTables=b;f.reStoreInstancesMap=g}),66);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){e===void 0&&(e=[]);f=d("ReStoreInstrumentation").instrument(c("ReStore")({config:{enableRejectingTransaction:c("gkx")("2138"),enableTransactionTimeout:c("gkx")("2947"),fbLoggerProject:"maw_db"},customMigration:f,hooks:e,loggers:{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25306500,"1488")),userFlow:g},persistence:a,schema:b}));return f}g.createLSReStore=a}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";a={onAfterEntriesNext:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onAfterGet:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeVaultDbRow(a,b)},onBeforeAdd:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeNotify:function(a){var b=a.newValue,c=a.prevValue;a=a.tableName;return{newValue:d("ReStoreVaulting").maybeVaultDbRow(b,a),prevValue:d("ReStoreVaulting").maybeVaultDbRow(c,a)}},onBeforePut:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)},onBeforeUpsert:function(a){var b=a.tableName;a=a.value;return d("ReStoreVaulting").maybeUnvaultDbRow(a,b)}};g["default"]=a}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(a,e){var f=(h||(h=b("Promise"))).resolve(),g=new Map();function j(a){return i(g,a,function(){return new Map()})}return{flush:function(a){a.forEach(function(a,b){var c=j(b);a.forEach(function(a,b){d("ReStorePersistence").isDeletedValue(a)?c["delete"](b):c.set(b,a)})});return(h||(h=b("Promise"))).resolve()},get:function(a,b,c){a=j(b);return a.get(c)},logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_product").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:void 0,runExclusively:function(a){var c=e==null?void 0:e.startTracking(!1);c==null?void 0:c.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}});return new(h||(h=b("Promise")))(function(d,e){f=f.then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield a()),f=b[0];b[1];try{d(yield f()),c==null?void 0:c.end()}catch(a){e(a),c==null?void 0:c.fail()}}))["catch"](function(a){e(a)})})},shouldApplySync:function(){return!1},shouldInline:function(a,b){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:a}}g["default"]=a}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MAWCurrentUser").getID();return c("createReStoreEphemeralPersistence")("LSEphemeral "+a,d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")))}g.createLSReStoreEphemeralPersistence=a}),98);
__d("LSJSInMemoryStorage",["LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","createLSReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSReStoreWrapper").createLSReStore(d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),a,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger)}g["default"]=a}),98);
__d("LSMailboxInitialSyncCursor",["I64","LSPlatformMessengerSyncParams","LSPlatformWorkplaceSyncParams","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=c("gkx")("23433")||c("gkx")("23434");b=c("gkx")("20836")?c("LSPlatformWorkplaceSyncParams").mailbox:c("LSPlatformMessengerSyncParams").mailbox;e=(h||(h=d("I64"))).of_int32(a&&c("qex")._("422")===!0?3:1);f=h.of_int32(0);g.syncParams=b;g.syncChannel=e;g.lastSyncTimestampMs=f}),98);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21});f["default"]=a}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("MWCMIsAnyCMThread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(18))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(23))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(24))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(21)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(22))}g["default"]=a}),98);
__d("MessagingThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MODEL_V2_THREAD:1,FB_GROUP_CHAT:2,MARKETPLACE_THREAD:3,SCHOOL_CHAT:4,DEPRECATED__WORK_SYNCED_CHAT:5,ADMIN_NOT_SUPPORTED_THREAD:6,BELL_SYNCED_CHAT:7,GAMES_APP_THREAD:8,VAULT_CHAT:9,VERSE_CHAT:10,GENERIC_COMMERCE_THREAD:11,USER_JOB_THREAD:12,COWORKER_GROUP_THREAD:13,APPROVAL_ENFORCED_CHATROOM_THREAD:14,PARENT_APPROVED_SHEPHERD_MANAGED_THREAD:15,CAMPUS_GROUP_THREAD:16,LOCAL_COMMUNITIES_THREAD:17,CHAT_FOR_ROOM_THREAD:18,GAMING_PLAY_SQUAD:19,CHAT_FOR_GROUP_ADMIN_TO_MEMBER_THREAD:20,EITM_BACKED_IG_1TO1_THREAD:21,LEARNING_SPACE:23,E2EE_GROUP_THREAD_METADATA:24,IGD_BC_PARTNERSHIP:25,E2EE_1TO1_THREAD_METADATA:26,JOBS_CAREER_GROUP_THREAD:27,IG_CREATOR_SUBSCRIBER_GROUP_THREAD:28,IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT:29,BUSINESS_SUPPORT_THREAD:30,TAGGED_PII_DATA:31,IG_DISCOVERABLE_CHAT_THREAD:32,SUPPORT_MESSAGING_THREAD:33,DISCOVERABLE_PUBLIC_CHAT:34,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:35,DISCOVERABLE_PUBLIC_CHAT_V2:36,IG_DISCOVERABLE_CHAT_THREAD_V2:37,OCULUS_MEDIA_MESSAGING:38,WORK_CHAT_THREAD_CENTRIC:39,COMMUNITY_MESSAGING_PUBLIC_THREAD:40,COMMUNITY_MESSAGING_PRIVATE_THREAD:41,COMMUNITY_MESSAGING_ADMOD_THREAD:42,COMMUNITY_MESSAGING_BROADCAST_THREAD:43,IG_E2EE_GROUP_THREAD_METADATA:44,IG_NFT_BROADCAST_CHAT:45,STANDALONE_COMMUNITY_STANDARD_THREAD:46,IGD_GROUP:47,WORKCHAT_GROUP_THREAD:48,WORKROOM_GROUP_THREAD:49,OCULUS_GROUP_THREAD:50,INTEROP_GROUP:51,IG_BTV_E2EE_1TO1_THREAD_METADATA:52,COMMUNITY_MESSAGING_HELPER_BOT_THREAD:53,COMMUNITY_MESSAGING_SUB_THREAD:54,IG_GROUP_PROFILES:55,IG_PRIVATE_EVENT:56,WA_GENAI_BOT_MAILBOX_THREAD:57,MESSENGER_GENAI_BOT_MAILBOX_THREAD:58,IG_GENAI_BOT_MAILBOX_THREAD:59,E2EE_COMMUNITY_CHAT_METADATA:60,IG_SUBSCRIBER_SOCIAL_CHANNEL:61,IG_SOCIAL_CHANNEL:62,GENERIC_GENAI_BOT_MAILBOX_THREAD:63,GENAI_IMAGINE:64,FB_GENAI_BOT_MAILBOX_THREAD:65,ABRA_GENAI_BOT_MAILBOX_THREAD:66,GENAI_STUDIO_BOT_MAILBOX_THREAD:67,SHOPS_AI_ASSISTANT_THREAD:68,IG_E2EE_1TO1_THREAD_METADATA:69,ONE_TO_ONE:1001,PARENT_APPROVED_ONE_TO_ONE:1002,IG_ONLY_ONE_TO_ONE:1003,INTEROP_ONE_TO_ONE:1004,WHATSAPP_ONE_TO_ONE:1005,WORKCHAT_ONE_TO_ONE:1006,OC_PROXY_ONE_TO_ONE:1007,MARKETPLACE_ASSISTANT_ONE_TO_ONE:1008,PAGE_TO_USER:1009,PAGE_TO_PAGE:1010,MESSENGER_AI_BOT_ONE_TO_ONE:1011,IG_AI_BOT_ONE_TO_ONE:1012,IG_CREATOR_AGENT_SANDBOX:1013,IG_USER_GENERATED_AI_BOT_ONE_TO_ONE:1014,MSGR_USER_GENERATED_AI_BOT_ONE_TO_ONE:1015,IG_BUSINESS_ACCOUNT_ONE_TO_ONE:1016,OCULUS:2001});f["default"]=a}),66);
__d("LSMessagingThreadTypeUtil",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","LSThreadBitOffset","MWCMIsAnyCMThread","MessagingThreadSubtype","MetaConfig","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function j(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function b(a){return j(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function k(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))}function e(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function f(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function l(a){return a==="e2ee_cutover"||a==="inbox"}function m(a,b){b===void 0&&(b=!0);return!b&&(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(0))?!1:d("LSThreadBitOffset").has(21,a)}function n(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").IGD_BC_PARTNERSHIP))}function o(a){return m(a,!1)}function p(a){return(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3))}function q(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").BUSINESS_SUPPORT_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}function r(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function s(a){var b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2)),c=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&!N(a);return!q(a.threadSubtype)&&(b||c)}function t(a){return s(a)||k(a.threadType)}function u(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER))}function v(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function w(a){return(y(a)||z(a))&&c("MetaConfig")._("32")}function x(a){return(y(a)||z(a))&&!c("MetaConfig")._("32")}function y(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))}function z(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))}function A(a){return((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))&&c("MetaConfig")._("36")}function B(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function C(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))}function D(a){return C(a)||w(a)}function E(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function F(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))}function G(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))}function H(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))}function I(a){return a==null?!1:H(a)||z(a)}function J(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function K(a){return d("LSThreadBitOffset").has(183,a)}function L(a){return k(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(11))}function M(a){return D(a)||H(a)||z(a)||c("MWCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))||E(a)}function N(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&a.cannotUnsendReason!=null&&(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD))}function O(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKROOM_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_ONE_TO_ONE)))}function P(a){if(j(a))return(i||(i=d("LSIntEnum"))).ofNumber(15);if(r(a))return(i||(i=d("LSIntEnum"))).ofNumber(16);throw c("unrecoverableViolation")("Expected either open 1:1 or open group thread","messenger_web_product")}g.isGroup=a;g.isOpenOneToOne=j;g.isOneToOne=b;g.isArmadilloSecure=k;g.isArmadilloSecureOneToOne=e;g.isRecentsSectionAllowedTypes=f;g.isMessengerOrE2EEInbox=l;g.isMessageRequest=m;g.isPartnership=n;g.isIGDMessageRequest=o;g.isHiddenRequest=p;g.isBusinessSupportThread=q;g.isOpenGroupFnFThread=r;g.isOpenFnFThread=s;g.isOpenOrArmadilloFnFThread=t;g.isPageToUserThread=u;g.isJoinedSocialChannel=v;g.isDiscoverablePublicBroadcastChannel=w;g.isDiscoverablePublicBroadcastChannelWithNoAccessibility=x;g.isJoinedDiscoverablePublicBroadcastChannel=y;g.isUnjoinedDiscoverablePublicBroadcastChannel=z;g.isSocialChannelV2=A;g.isJoinedSocialChannelV2=B;g.isSocialChannel=C;g.isDiscoverableChannel=D;g.isCMSubthread=E;g.isCMFolder=F;g.isCMGroupUnjoined=G;g.isSocialChannelUnjoined=H;g.isChannelPreview=I;g.isAiBot=J;g.isAiBotSummoning=K;g.isPrivateThread=L;g.isPublicCMThread=M;g.isThreadForPage=N;g.isWorkThread=O;g.mapOpenToSecureThreadType=P}),98);
__d("LSSchemaProvider",["cr:2649","cr:2670"],(function(a,b,c,d,e,f,g){"use strict";var f=(a=b("cr:2670"))!=null?a:b("cr:2649");c=f.schemaProvider;g["default"]=c}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;k.id!=null&&(c[k.id]=k.name);d[k.name]={autoIncrement:(j=k.auto_increment)!=null?j:!1,cascadeUpdates:(j=a[k.name])!=null?j:[],indexes:(j=Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?j:{},indexPredicates:Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:k.name,primaryKeyIds:k.primary_key}}}return{tableIds:c,tableNames:d}}}e=(c={},c[d("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[d("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=e}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers["extends"]({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=(a=c)!=null?a:{}}var c=a.prototype;c.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}}));(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_hash_start");b=(yield d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a));(c=a.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+b);(c=a.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_hash_end");return b});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return{defaults:babelHelpers["extends"]({},a.defaults,c.defaults),migrate:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield a.migrate(b));b=(yield c.migrate(b));if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function f(a){return e.apply(this,arguments)}return f}(),tableIds:babelHelpers["extends"]({},a.tableIds,c.tableIds),tableNames:babelHelpers["extends"]({},a.tableNames,c.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(c("LSSchemaProvider"));g.buildSchema=a;g.schema=b}),98);
__d("XPlatReactEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseEventEmitter")}),98);
__d("LSPlatformErrorChannel",["FBLogger","ODS","XPlatReactEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h,i="onLSError",j=new(c("XPlatReactEventEmitter"))(),k=0,l=null;function a(a){l===null&&((h||(h=d("ODS"))).bumpEntityKey(3185,"lsplatform_error","first_error_emitted_to_"+k+"listeners"),k===0&&c("FBLogger")("messenger_web_product").mustfix("No listeners when emitting LS error %s",a.name)),l=a,j.emit(i,a)}function b(a){var b=j.addListener(i,a);k++;return function(){return b.remove()}}function e(){return l}function f(){j.removeAllListeners(i),l=null}f={TEST_ONLY_clear:f,emit:a,lastError:e,subscribe:b};g["default"]=f}),98);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,SOUND_BITE:9,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15,ROLL_CALL_TEXT_CONTRIBUTION:16,BLOKS_XMA:17,EPHEMERAL_RAVEN_MESSAGE:18});f["default"]=a}),66);
__d("WAGlobals",["WAErr","WAJids","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}var i=null;function a(a){i=a}function j(){if(i==null)throw c("WAErr")("WaMsgr api called before set");return i}function k(){var a;return(a=j().myJids)==null?void 0:a.deviceJid}function b(){var a;return(a=j().myJids)==null?void 0:a.userJid}function e(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function f(){return j().config}function l(){return j().dependencies}var m="WAOneQueue is not defined";function n(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h(),m);throw c("WAErr")(m)}return a}function o(){return j().hmacKey}g.setGlobals=a;g.getMyDeviceJid=k;g.getMyUserJid=b;g.isPeerDevice=e;g.getConfig=f;g.getDependencies=l;g.getWaOneQueue=n;g.getHMACKey=o}),98);
__d("MAWUserJidWrapper",["ExecutionEnvironment","MAWCurrentUser","MAWODSProxy","WAGlobals","WAJids","WAOdsEnums"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("WAJids").toMsgrUserJid(d("MAWCurrentUser").getID());if((h||(h=c("ExecutionEnvironment"))).isInWorker){var b=d("WAGlobals").getMyUserJid();d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_MY_USER_JID_GETTER,key:b===a?"same":"different"});return b}return a}g.getMyUserJid=a}),98);
__d("MAWAuthor",["MAWUserJidWrapper","WAJids","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){if(a==null||a===d("WAJids").AUTHOR_SYSTEM)return null;if(d("WAJids").isAuthorMe(a))return d("MAWUserJidWrapper").getMyUserJid();var b=d("WAJids").authorAsUserJid(a);if(b==null||c("isStringNullOrEmpty")(d("WAJids").userIdFromJid(b)))return null;else return d("WAJids").authorAsUserJid(a)};g.getAuthorUserJid=a}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=131071;function j(a){return Math.floor(c("Random").random()*a)}function a(){return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(j(i)),h.of_float(i))),h.max_int)))}g.generateExternalId=a}),98);
__d("MessagingAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,STICKER:1,IMAGE:2,ANIMATED_IMAGE:3,VIDEO:4,AUDIO:5,FILE:6,XMA:7,EPHEMERAL_IMAGE:8,EPHEMERAL_VIDEO:9,SELFIE_STICKER:10,SOUND_BITE:12,CATALOG_ITEM:13,POWER_UP:14,THIRD_PARTY_STICKER:15});f["default"]=a}),66);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=d("XPlatReactCrypto").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b;g.extractTimestamp=m}),98);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}var c=b.prototype;c.getTableName=function(){return this.tableName};return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);
__d("ReStoreEARSetupFailure",[],(function(a,b,c,d,e,f){"use strict";var g="Encryption keychain could not be setup",h="ReStoreEARSetupFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=g+": "+b;c=a.call(this,b)||this;c.message=b;c.name=h;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_MESSAGE=g;f.ERROR_NAME=h;f.ReStoreEARSetupFailure=a}),66);
__d("ReStoreEvent",[],(function(a,b,c,d,e,f){"use strict";a=function(){};f["default"]=a}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.idb=b;d.error=c;return d}var c=b.prototype;c.getError=function(){return this.error};return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(a,b,c,d,e,f){"use strict";a="ReStoreUnexpectedlyClosed";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=a;f.ReStoreUnexpectedlyClosed=b}),66);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"]);j=function(){return a};return a}function k(a){if(typeof a!=="number"){d("WALogger").LOG(j(),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}f=function(a){return a==null?a:k(a)};function a(a){return a==null||typeof a!=="number"?null:a}function b(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function c(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function e(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i(),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(h(),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=f;g.maybeNumber=a;g.isBiggerLongInt=b;g.longIntToDecimalString=c;g.decimalStringToLongInt=e}),98);
__d("WATimeUtils",["Promise","WAHex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60,j=5*i,k=60*i,l=24*k,m=7*l,n=365*l,o=60*1e3,p=k*1e3,q=24*p,r=7*q,s=1<<31,t=~s,u=s+1,v={time:0,day:-4},w=0;function a(){return w}function c(a){w=a}function e(a){return W(a).toUTCString()}function x(a){a=a|0;return Math.max(u,Math.min(a,t))}function y(a){return x(a/1e3)}function f(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return x(a)}function z(a){if(typeof a!=="number")if(d("WAHex").hexLongIsNegative(a))return u;else return t;else return C(a)}function A(a){return a==null?a:a>t?y(a):x(a)}function B(){return C(Z()-w*1e3)}function C(a){return a}function D(a){return a}function E(a){return C(a*1e3)}function F(a,b){var c=K();a=Math.max(a+b-c,0);return Math.min(1e3*a,~(1<<31))}function G(a,b){b=b!=null?b:K();return x(Math.ceil(b+Math.max(a,0)))}function H(a,b){b=b!=null?b:K();return x(Math.ceil(b-Math.max(a,0)))}function I(a){a=Math.max(a-K(),0);return Math.min(1e3*a,~(1<<31))}function J(a){var c=I(a);return new(h||(h=b("Promise")))(function(a){return void setTimeout(a,c)})}function K(){return x(Date.now()/1e3-w)}function L(){return x(Date.now()/1e3)}function M(){return x(new Date().setHours(0,0,0,0)/1e3-w)}function N(){return Date.now()-w*1e3}function O(a){return Math.max(a-K(),0)}function P(a){return O(a)>0}function Q(){return performance.now()}function R(a){return Math.floor(performance.now()-a)}function S(a,b){return a<b?a:b}var T=function(){function a(){var a=Q();this.$1=a;this.$2=a}var b=a.prototype;b.reset=function(){this.$2=Q()};b.elapsed=function(){return R(this.$2)};b.cumulative=function(){return R(this.$1)};return a}();function U(a,b,c){return Math.abs(a-b)<=c}function V(a,b){return U(K(),a,b)}function W(a){return new Date(a*1e3)}function X(a,b){if(Math.abs(a-b)>l)return!1;a=v.time===a?v.day:W(a+w).getDay();var c=v.time===b?v.day:W(b+w).getDay();v.time=b;v.day=c;return a===c}function Y(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(x(a)*1e3):null}function Z(){return Date.now()}function $(a){a=new Date(a);return isNaN(a)?null:y(a.getTime())}function aa(a,b){a=Math.abs(a-b);return Math.ceil(a/q)}g.MINUTE_SECONDS=i;g.FIVE_MINUTES=j;g.HOUR_SECONDS=k;g.DAY_SECONDS=l;g.WEEK_SECONDS=m;g.YEAR_SECONDS=n;g.MINUTE_MILLISECONDS=o;g.HOUR_MILLISECONDS=p;g.DAY_MILLISECONDS=q;g.WEEK_MILLISECONDS=r;g.DEFAULT_UNIXTIME=s;g.MAX_INT=t;g.getClockSkew=a;g.setClockSkew=c;g.toHttpHeaderDate=e;g.castToUnixTime=x;g.castMilliSecondsToUnixTime=y;g.castLongIntToUnixTime=f;g.castLongIntToMillisTime=z;g.castMillisTimeToUnixTime=A;g.millisTime=B;g.castToMillisTime=C;g.fromMillisTime=D;g.castUnixTimeToMillisTime=E;g.timeoutFor=F;g.futureUnixTime=G;g.pastUnixTime=H;g.cappedMillisecondsUntil=I;g.delayUntil=J;g.unixTime=K;g.unixTimeWithoutClockSkewCorrection=L;g.midnight=M;g.unixTimeMs=N;g.secondsUntil=O;g.isInFuture=P;g.monotonicTime=Q;g.monotonicTimeSince=R;g.oldest=S;g.MonotonicTimer=T;g.happenedWithinAt=U;g.happenedWithin=V;g.toDate=W;g.sameDay=X;g.convertHexToDate=Y;g.performanceAbsoluteNow=Z;g.convertISO8601DateFormatToUnixTime=$;g.daysDiff=aa}),98);/*FB_PKG_DELIM*/
__d("BusinessConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("277");b=d("FalcoLoggerInternal").create("business_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4531");b=d("FalcoLoggerInternal").create("business_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4532");b=d("FalcoLoggerInternal").create("business_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("BusinessConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5997");b=d("FalcoLoggerInternal").create("business_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSkipFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5998");b=d("FalcoLoggerInternal").create("business_conversion_skip",a);e=b;g["default"]=e}),98);
__d("BusinessConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5999");b=d("FalcoLoggerInternal").create("business_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6000");b=d("FalcoLoggerInternal").create("business_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("BusinessConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6001");b=d("FalcoLoggerInternal").create("business_conversion_submit",a);e=b;g["default"]=e}),98);
__d("BusinessConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("541");b=d("FalcoLoggerInternal").create("business_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";a=3e4;f["default"]=a}),66);
__d("CometUserActivityMonitor",["ErrorGuard","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[],k=!1,l=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&c("UserActivity").isOnTab()&&c("UserActivity").isActive(c("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",m=[],n;function o(a){k=!0;m.push.apply(m,j);var b=function(){var b=m.shift();(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b(a)},null,[],{name:"CometUserActivityMonitor"})};while(m.length)b();k=!1}function p(a){var b=l;l=a;b!==a&&o(a)}function a(){return l}d=function(){n==null&&(n=new(c("SubscriptionsHandler"))(),n.addSubscriptions(c("UserActivity").subscribe(function(a,b){a=b.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&c("UserActivity").isOnTab()===!1)return;p("ACTIVE")}),function(){var a=function(){p("INACTIVE")};window.addEventListener("blur",a,{passive:!0});return{remove:function(){return window.removeEventListener(a,{passive:!0})}}}(),c("Visibility").addListener(c("Visibility").HIDDEN,function(){p("INACTIVE")})))};function b(a){j.push(a);k&&m.push(a);var b=!1;return{remove:function(){if(b)return;var c=j.indexOf(a);c!==-1&&j.splice(c,1);if(k){c=m.indexOf(a);c!==-1&&m.splice(c,1)}b=!0}}}(h||(h=c("ExecutionEnvironment"))).canUseDOM&&d();g.getActivityState=a;g.init=d;g.subscribe=b}),98);
__d("CometVPVDUserActivityMonitor",["CometUserActivityMonitor"],(function(a,b,c,d,e,f,g){"use strict";a={isUserActive:function(){return d("CometUserActivityMonitor").getActivityState()==="ACTIVE"},subscribe:function(a){var b=d("CometUserActivityMonitor").subscribe(function(b){b=b==="ACTIVE";a&&a(b)});return function(){b&&b.remove()}}};g["default"]=a}),98);
__d("CreatorConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("497");b=d("FalcoLoggerInternal").create("creator_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6002");b=d("FalcoLoggerInternal").create("creator_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6003");b=d("FalcoLoggerInternal").create("creator_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("CreatorConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6004");b=d("FalcoLoggerInternal").create("creator_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("CreatorConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6005");b=d("FalcoLoggerInternal").create("creator_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("CreatorConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6006");b=d("FalcoLoggerInternal").create("creator_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("CreatorConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6007");b=d("FalcoLoggerInternal").create("creator_conversion_submit",a);e=b;g["default"]=e}),98);
__d("CreatorConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("793");b=d("FalcoLoggerInternal").create("creator_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("DebugOwl",["cr:1801726"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return void 0};c=(a=b("cr:1801726"))!=null?a:{burrow:h,flap:h,fly:h,hoot:h,listen:function(){return h},nest:h,peck:h,perch:h,swoop:h};d=c;g["default"]=d}),98);
__d("EditProfileCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("498");b=d("FalcoLoggerInternal").create("edit_profile_cancel",a);e=b;g["default"]=e}),98);
__d("EditProfileFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6008");b=d("FalcoLoggerInternal").create("edit_profile_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("EditProfileFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6009");b=d("FalcoLoggerInternal").create("edit_profile_fetch_data",a);e=b;g["default"]=e}),98);
__d("EditProfileFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6010");b=d("FalcoLoggerInternal").create("edit_profile_finish_step",a);e=b;g["default"]=e}),98);
__d("EditProfileStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6011");b=d("FalcoLoggerInternal").create("edit_profile_start_step",a);e=b;g["default"]=e}),98);
__d("EditProfileSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6012");b=d("FalcoLoggerInternal").create("edit_profile_submit_error",a);e=b;g["default"]=e}),98);
__d("EditProfileSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6013");b=d("FalcoLoggerInternal").create("edit_profile_submit",a);e=b;g["default"]=e}),98);
__d("EditProfileTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1055");b=d("FalcoLoggerInternal").create("edit_profile_tap_component",a);e=b;g["default"]=e}),98);
__d("IGDSAdsPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(7),d,e,f,g,h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M3.712 9.664a2.327 2.327 0 0 0-1.629 2.86h0a2.327 2.327 0 0 0 2.86 1.628s6.964-1.91 13.146-.022l-3.06-11.154C10.677 7.754 3.713 9.664 3.713 9.664Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.952",x2:"22",y1:"7.348",y2:"7.061"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"18.988",x2:"19.752",y1:"4.404",y2:"3.631"}),g=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"20.765",x2:"21.816",y1:"10.882",y2:"11.157"}),h=j.jsx("path",{d:"M8.384 13.522a28.836 28.836 0 0 0 3.171 6.636l-3.107.866a28.343 28.343 0 0 1-3.255-6.93",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(d=b[0],e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f,g,h]})),b[5]=a,b[6]=d):d=b[6];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSBusinessPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M20.102 10.853v8.96a1.333 1.333 0 0 1-1.333 1.334H5.436a1.333 1.333 0 0 1-1.333-1.333v-8.961",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("path",{d:"M9.658 21.147V16.31a1.333 1.333 0 0 1 1.333-1.333h2.223a1.333 1.333 0 0 1 1.333 1.333v4.837M2.1 8.372a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0m0 0a2.5 2.5 0 0 0 5 0",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=j.jsx("path",{d:"M17.1 8.372a2.5 2.5 0 0 0 5 0V6.158l-2.685-3.305H4.785L2.1 6.158v2.214",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSCircleAddPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSDevicePhonePanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M17.749 2.465a2.668 2.668 0 0 0-1.1-1.102A3.635 3.635 0 0 0 14.771 1H9.23a3.63 3.63 0 0 0-1.877.363A2.676 2.676 0 0 0 6.25 2.465a3.591 3.591 0 0 0-.362 1.88v15.31a3.591 3.591 0 0 0 .362 1.88 2.675 2.675 0 0 0 1.1 1.102A3.63 3.63 0 0 0 9.229 23h5.542a3.591 3.591 0 0 0 1.88-.363 2.67 2.67 0 0 0 1.098-1.102 3.591 3.591 0 0 0 .362-1.88V4.345a3.591 3.591 0 0 0-.362-1.88Zm-1.638 17.19c0 .702-.067.827-.126.939a.666.666 0 0 1-.279.28c-.11.06-.235.126-.935.126H9.23c-.7 0-.824-.066-.934-.126a.663.663 0 0 1-.28-.28c-.059-.112-.126-.237-.126-.939V4.345c0-.701.067-.827.126-.938a.664.664 0 0 1 .28-.281C8.407 3.066 8.53 3 9.23 3h.155a1.104 1.104 0 0 0 .113.483 1.115 1.115 0 0 0 1.003.603v.01h3v-.01a1.099 1.099 0 0 0 .51-.11 1.113 1.113 0 0 0 .6-.976h.161c.699 0 .825.067.934.126a.667.667 0 0 1 .28.28c.059.112.126.238.126.94Z",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSMailPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("rect",{fill:"none",height:"17.273",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"20",x:"2",y:"3.364"}),e=j.jsx("polyline",{fill:"none",points:"2 7.155 12.002 13.81 22 7.157",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSMediaAccountOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M32.2 25.5c5.3 0 9.7-4.3 9.7-9.7s-4.3-9.7-9.7-9.7c-5.3 0-9.7 4.3-9.7 9.7s4.4 9.7 9.7 9.7zm0-16.4a6.7 6.7 0 1 1 0 13.4 6.7 6.7 0 0 1 0-13.4zm5.6 19.5H26.6c-5.6 0-10.2 4.6-10.2 10.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c0-4 3.2-7.2 7.2-7.2h11.3c4 0 7.2 3.2 7.2 7.2v1.5c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5v-1.5c-.1-5.6-4.7-10.2-10.3-10.2zM14.6 24l3.6-2.9c.5-.4.8-1.1.5-1.8s-.8-1.1-1.5-1.2l-4.6-.3-1.6-4.2c-.3-.6-.9-1.1-1.6-1.1-.7 0-1.3.4-1.6 1.1l-1.7 4.3-4.6.3c-.7.1-1.3.5-1.5 1.2s0 1.4.5 1.8L4.2 24l-1.1 4.5c-.2.7.1 1.4.7 1.8.6.4 1.3.4 1.9 0l3.8-2.5 3.8 2.5c.3.2.6.3.9.3.3 0 .7-.1 1-.3.6-.4.8-1.1.7-1.8L14.6 24zm-3.3-1.1.8 3-2.6-1.7-2.6 1.7.8-3-2.4-2 3.1-.2 1.2-3 1.2 3 3.1.2-2.6 2z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 48 48",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSWhatsappLogoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{clipRule:"evenodd",d:"M15.662.263A15.166 15.166 0 0 1 26.06 4.48a15.048 15.048 0 0 1 4.653 10.381 15.164 15.164 0 0 1-3.77 10.568 15.063 15.063 0 0 1-11.37 5.138c-2.273 0-4.526-.513-6.567-1.495l-7.93 1.764a.116.116 0 0 1-.138-.13l1.34-8.019a15.181 15.181 0 0 1-1.85-6.837A15.052 15.052 0 0 1 4.555 5.012 15.061 15.061 0 0 1 15.586.263h.075Zm-.085 2.629c-.12 0-.242.002-.364.005-6.902.198-12.356 5.975-12.158 12.877.06 2.107.654 4.176 1.717 5.982l.231.392-.993 5.441 5.385-1.271.407.212a12.527 12.527 0 0 0 6.13 1.402c6.901-.198 12.356-5.974 12.158-12.876-.195-6.78-5.773-12.164-12.513-12.164ZM10.34 8.095c.253.008.507.015.728.032.271.019.57.04.836.683.315.763.996 2.668 1.085 2.86.09.194.146.418.011.668-.134.25-.203.407-.4.623-.196.216-.414.484-.59.649-.197.184-.4.384-.19.771.21.388.934 1.657 2.033 2.7 1.413 1.34 2.546 1.783 2.996 1.993a.998.998 0 0 0 .415.112c.162 0 .292-.068.415-.193.237-.24.95-1.071 1.25-1.454.156-.2.299-.271.453-.271.123 0 .255.045.408.107.345.137 2.185 1.115 2.56 1.317.374.202.625.305.715.466.09.162.066.924-.278 1.803-.344.878-1.922 1.688-2.621 1.73-.205.012-.406.04-.668.04-.634 0-1.621-.166-3.865-1.133-3.817-1.643-6.136-5.683-6.318-5.942-.182-.26-1.489-2.111-1.432-3.983C7.94 9.8 8.951 8.91 9.311 8.54c.345-.355.74-.445.996-.445h.032Z",fill:"currentColor",fillRule:"evenodd"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 31 31",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IgWellbeingRestrictManageCommentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5703");b=d("FalcoLoggerInternal").create("ig_wellbeing_restrict_manage_comment",a);e=b;g["default"]=e}),98);
__d("InstagramAdDirectReshareSendFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3447");b=d("FalcoLoggerInternal").create("instagram_ad_direct_reshare_send",a);e=b;g["default"]=e}),98);
__d("InstagramAdImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1282");b=d("FalcoLoggerInternal").create("instagram_ad_impression",a);e=b;g["default"]=e}),98);
__d("InstagramAdSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1283");b=d("FalcoLoggerInternal").create("instagram_ad_sub_impression",a);e=b;g["default"]=e}),98);
__d("InstagramWellbeingCommentCoverEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3719");b=d("FalcoLoggerInternal").create("instagram_wellbeing_comment_cover_event",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionCancelFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("500");b=d("FalcoLoggerInternal").create("interest_account_conversion_cancel",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionEnterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6014");b=d("FalcoLoggerInternal").create("interest_account_conversion_enter",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFetchDataErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6015");b=d("FalcoLoggerInternal").create("interest_account_conversion_fetch_data_error",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFetchDataFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6016");b=d("FalcoLoggerInternal").create("interest_account_conversion_fetch_data",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionFinishStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6017");b=d("FalcoLoggerInternal").create("interest_account_conversion_finish_step",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionStartStepFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6018");b=d("FalcoLoggerInternal").create("interest_account_conversion_start_step",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6019");b=d("FalcoLoggerInternal").create("interest_account_conversion_submit_error",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionSubmitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6020");b=d("FalcoLoggerInternal").create("interest_account_conversion_submit",a);e=b;g["default"]=e}),98);
__d("InterestAccountConversionTapComponentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1056");b=d("FalcoLoggerInternal").create("interest_account_conversion_tap_component",a);e=b;g["default"]=e}),98);
__d("PolarisAPIApproveRestrictedComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/restrict_action/approve_restricted_comment/",{body:{comment_id:a}}).then(function(a){return a.data})}g.approveRestrictedComment=a}),98);
__d("PolarisAPIDeleteCommentOnPost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("PolarisInstapi").apiPost("/api/v1/web/comments/{media_id}/delete/{comment_id}/",{path:{comment_id:b,media_id:a}}).then(function(a){return a.data})}g.deleteCommentOnPost=a}),98);
__d("PolarisAPIEditCollection",["PolarisInstapi","emptyObject","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.collectionName,f=a.postIdsToAdd;a=a.postIdsToRemove;a=babelHelpers["extends"]({added_media_ids:JSON.stringify((f=f)!=null?f:[]),removed_media_ids:JSON.stringify((f=a)!=null?f:[])},c("isStringNullOrEmpty")(e)?c("emptyObject"):{name:e});return d("PolarisInstapi").apiPost("/api/v1/collections/{collection_id}/edit/",{body:a,path:{collection_id:b}}).then(function(a){return a.data})}g.editCollection=a}),98);
__d("PolarisAPIGetChildComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/{parent_comment_id}/child_comments/",{path:{media_id:a,parent_comment_id:b},query:babelHelpers["extends"]({},c!=null?{max_id:c}:{})}).then(function(a){return a.data})}g.getChildComments=a}),98);
__d("PolarisAPIGetInitialComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:{can_support_threading:!0,permalink_enabled:!!b,sort_order:c!=null?String(c):void 0,target_comment_id:b}}).then(function(a){return a.data})}g.getInitialComments=a}),98);
__d("PolarisAPIGetPaginationComments",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c===void 0&&(c=!0);return d("PolarisInstapi").apiGet("/api/v1/media/{media_id}/comments/",{path:{media_id:a},query:babelHelpers["extends"]({can_support_threading:!0},c===!0?{min_id:b}:{max_id:b},{sort_order:String(e)})}).then(function(a){return a.data})}g.getPaginationComments=a}),98);
__d("PolarisAPILikeComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/comments/like/{comment_id}/",{path:{comment_id:a}}).then(function(a){return a.data})}g.likeComment=a}),98);
__d("PolarisAPISetGender",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b={custom_gender:b,gender:Number(a)};return d("PolarisInstapi").apiPost("/api/v1/web/accounts/set_gender/",{body:b})}g.setGender=a}),98);
__d("PolarisAPIUnlikeComment",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/comments/unlike/{comment_id}/",{path:{comment_id:a}}).then(function(a){return a.data})}g.unlikeComment=a}),98);
__d("PolarisAdCTAViewabilityAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){c=c.state;switch(c){case"entered":case"updated":a||b(!0);break;case"exited":b(!1);break;default:break}}}f.makeAdCTAViewabilityAction=a}),66);
__d("cometGHLContentDisplayCheck",["cr:1824699"],(function(a,b,c,d,e,f,g){"use strict";var h=!0,i=!1;function a(a){if(j(a))return h;var c=document.body;c=c==null||!c.contains(a);b("cr:1824699")&&b("cr:1824699").flap(a,{notMounted:c});if(c)return h;c=a.offsetHeight===0;b("cr:1824699")&&b("cr:1824699").flap(a,{zeroHeight:c});if(c)return i;c=Array.from(a.getElementsByTagName("img"));var d=c.length===0;b("cr:1824699")&&b("cr:1824699").flap(a,{noImages:d});if(c.length===0)return h;d=c.find(k)!=null;b("cr:1824699")&&b("cr:1824699").flap(a,{hasImageWithSize:d});if(d)return h;c=Array.from(a.getElementsByTagName("svg"));if(c.find(l)!=null)return h;d=Array.from(a.getElementsByTagName("i"));if(d.find(l)!=null)return h;b("cr:1824699")&&b("cr:1824699").flap(a,{noSuccessfulChecks:!0});return i}var j=function(a){for(var b=a.children,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(((e=e.dataset)==null?void 0:e.virtualized)==="true")return!Boolean(a.style.display)}return!1},k=function(a){return a.offsetHeight+a.offsetWidth>0},l=function(a){a=a.getBoundingClientRect();return a.height*a.width>0};g["default"]=a}),98);
__d("getPolarisODSKeyWithSurfaceDimension",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if((b==null?void 0:b.isMobile)===!0)return a+".msite";else return a}f["default"]=a}),66);
__d("PolarisAdImpressionAction",["IgWebSwankFalcoEvent","InstagramAdImpressionFalcoEvent","InstagramAdSubImpressionFalcoEvent","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisAdsGatingHelpers","PolarisContainerModuleUtils","PolarisNavChain","PolarisUA","PolarisViewpointActionUtils","cometGHLContentDisplayCheck","getPolarisODSKeyWithSurfaceDimension","memoizeStringOnly","polarisLogAction","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qex")._("1229"),i=2e3,j=5e3,k=6e4,l=c("memoizeStringOnly")(function(a){return new Map()}),m=c("memoizeStringOnly")(function(a){return new Map()}),n=new Set();function o(a,b,d,e,f,g,h){f===void 0&&(f=k);return function(k){var o=l(a||""),p=m(a||"");if(k.state!=="entered")return;if(n.has(b))return;n.add(b);var q=o.get(b),r=p.get(b),s=k.snapshotTime,t=function(a){var b=a.isSubImpression;return c("setTimeout")(function(){var a=!c("cometGHLContentDisplayCheck")(k.element);a?b?(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden.delayed",{isMobile:g})),c("polarisLogAction")("adSubImpressionHiddenDelayed")):(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden.delayed",{isMobile:g})),c("polarisLogAction")("adImpressionHiddenDelayed")):c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(b?"web.ads.feed.sub_impression.delayed":"web.ads.feed.impression.delayed")},j-i)};c("setTimeout")(function(){var a=c("cometGHLContentDisplayCheck")(k.element);q==null?a?(d(),o.set(b,k.snapshotTime),t({isSubImpression:!1})):r==null&&(p.set(b,k.snapshotTime),c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.impression.hidden",{isMobile:g})),c("polarisLogAction")("adImpressionHidden"),c("IgWebSwankFalcoEvent").log(function(){return{en:String(4),mt:String(0),sli:h.m_ix,tt:h.tracking_token}})):q!=null&&s-q>=f&&(a?(e(),o.set(b,k.snapshotTime),t({isSubImpression:!0})):(c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY(c("getPolarisODSKeyWithSurfaceDimension")("web.ads.feed.sub_impression.hidden",{isMobile:g})),c("polarisLogAction")("adSubImpressionHidden")));n["delete"](b)},i)}}function a(a,b,e,f){var g,i=d("PolarisViewpointActionUtils").getMPKForFeedMedia(a)||"",j=d("PolarisUA").isMobile(),l=babelHelpers["extends"]({brs_threshold:e==null?void 0:e.brs_threshold,m_pk:i,nav_chain:(g=c("PolarisNavChain").getInstance())==null?void 0:g.getNavChainForSend(),organic_brs_severity_after:e==null?void 0:e.organic_brs_severity_after,organic_brs_severity_before:e==null?void 0:e.organic_brs_severity_before,organic_media_id_after:e==null?void 0:e.organic_media_id_after,organic_media_id_before:e==null?void 0:e.organic_media_id_before,pigeon_reserved_keyword_module:d("PolarisContainerModuleUtils").getContainerModule(b),source_of_action:d("PolarisContainerModuleUtils").getContainerModule(b)},e);g=function(){f&&c("InstagramODS").incr("web.ads.feed.impression.viewpoint"),a.isVideo===!0&&j&&c("InstagramODS").incr("web.ads.msite.feed.video_ads.impression"),c("InstagramODS").incr("web.ads.feed.impression"),c("InstagramAdImpressionFalcoEvent").logImmediately(function(){return l}),d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){var a;return{client_token:e.tracking_token,event:"ad_impression",social_context_type:(a=e.social_context)==null?void 0:a.social_context_type}}),h===!0&&d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e.tracking_token,event:"impression_client"}}),c("IgWebSwankFalcoEvent").log(function(){return{en:String(3),mt:String(0),sli:l.m_ix,tt:l.tracking_token}})};var m=function(){c("InstagramODS").incr("web.ads.feed.sub_impression"),c("InstagramAdSubImpressionFalcoEvent").logImmediately(function(){return l}),h===!0&&d("PolarisAdsGatingHelpers").enablebWebFeedAdsImpressionAuditSampling()===!0&&c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:e.tracking_token,event:"sub_impression_client"}})};return o(b,i,g,m,k,j,l)}function b(a){return function(b){var d;if(b.state!=="entered")return;var e=l("");d=((d=a)!=null?d:"")+".cta_impression";var f=e.get(d);f==null&&(c("InstagramODS").incr("web.ads.feed.cta_impression"),e.set(d,b.snapshotTime))}}function e(a,b,d){var e=l("");a=a+".cta_impression";e=e.get(a);a=Date.now();var f=e!=null?a-e:null;c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:b,cta_dwell_time:f!=null?String(f):null,event:"cta_click",social_context_type:d}})}g.makePostAdImpressionAction=a;g.makeAdCTAImpressionAction=b;g.logCTAClickWithDwellTime=e}),98);
__d("PolarisCommentActions",["FBLogger","PolarisAPIApproveRestrictedComment","PolarisAPIDeleteCommentOnPost","PolarisAPILikeComment","PolarisAPIUnlikeComment","PolarisCommentActionConstants","PolarisEngagementLogger","PolarisInstapi","PolarisLegacyGraphQLPaginationUtils","PolarisSentryFeedbackActions","QPLUserFlow","asyncToGeneratorRuntime","nullthrows","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h="24896819273308298";function a(a,b,e){c("QPLUserFlow").start(c("qpl")._(379197659,"1208"),{annotations:{string:{source:e}}});return function(e){e({commentId:b,postId:a,type:"DELETE_COMMENT_REQUESTED"});c("polarisLogAction")("deleteCommentAttempt");return d("PolarisAPIDeleteCommentOnPost").deleteCommentOnPost(a,b).then(function(){e({commentId:b,postId:a,type:"DELETE_COMMENT_SUCCEEDED"}),c("polarisLogAction")("deleteCommentSuccess"),c("QPLUserFlow").endSuccess(c("qpl")._(379197659,"1208"))},function(){e({commentId:b,postId:a,type:"DELETE_COMMENT_FAILED"}),c("polarisLogAction")("deleteCommentFailure"),c("QPLUserFlow").endFailure(c("qpl")._(379197659,"1208"),"api_errored")})}}function e(a){var b=a.commentId,e=a.userId;return function(f){c("QPLUserFlow").start(c("qpl")._(379199145,"1297"),{annotations:{string:{source:a.containerModule}}});f({commentId:b,type:"LIKE_COMMENT_REQUESTED",userId:e});return d("PolarisAPILikeComment").likeComment(b).then(function(){f({commentId:b,type:"LIKE_COMMENT_SUCCEEDED",userId:e}),d("PolarisEngagementLogger").logOrganicCommentLike(a),c("QPLUserFlow").endSuccess(c("qpl")._(379199145,"1297"))},function(g){var h;h=((h=g.responseObject)==null?void 0:h.spam)||!1;if(h){var i,j,k,l;h=(h=g.responseObject)==null?void 0:h.feedback_title;i=(i=g.responseObject)==null?void 0:i.feedback_message;j=(j=g.responseObject)==null?void 0:j.feedback_url;k=(k=g.responseObject)==null?void 0:k.feedback_action;l=(l=g.responseObject)==null?void 0:l.feedback_appeal_label;g=(g=g.responseObject)==null?void 0:g.restriction_enrollment_data;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,feedback_appeal_label:l,message:i,restriction_enrollment_data:g,source:a.containerModule,sourceOfAction:"like_comment",title:h,url:j}))}f({commentId:b,type:"LIKE_COMMENT_FAILED",userId:e});c("QPLUserFlow").endFailure(c("qpl")._(379199145,"1297"),"api_errored")})}}function f(a){var b=a.commentId,e=a.userId;return function(f){c("QPLUserFlow").start(c("qpl")._(379197191,"1298"),{annotations:{string:{source:a.containerModule}}});f({commentId:b,type:"UNLIKE_COMMENT_REQUESTED",userId:e});return d("PolarisAPIUnlikeComment").unlikeComment(b).then(function(){f({commentId:b,type:"UNLIKE_COMMENT_SUCCEEDED",userId:e}),d("PolarisEngagementLogger").logOrganicCommentUnlike(a),c("QPLUserFlow").endSuccess(c("qpl")._(379197191,"1298"))},function(){f({commentId:b,type:"UNLIKE_COMMENT_FAILED",userId:e}),c("QPLUserFlow").endFailure(c("qpl")._(379197191,"1298"),"api_errored")})}}function i(a){return function(b){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_REQUESTED"});return d("PolarisAPIApproveRestrictedComment").approveRestrictedComment(a).then(function(){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_SUCCEEDED"})},function(){b({commentId:a,type:"APPROVE_RESTRICTED_COMMENT_FAILED"})})}}h=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return a.comments.byPostId.get(b).pagination},onError:function(a,b,c){return{fetch:b,postId:c,type:"COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,d){b=b&&c("nullthrows")(b.shortcode_media).edge_media_to_comment;return{comments:((b==null?void 0:b.edges)||[]).map(function(a){return a.node}),count:b==null?null:b.count,fetch:a,pageInfo:b==null?null:b.page_info,postId:d,type:"COMMENT_REQUEST_UPDATED"}},pageSize:d("PolarisCommentActionConstants").PAGE_SIZE,pagesToPreload:d("PolarisCommentActionConstants").PAGES_TO_PRELOAD,queryId:h,queryParams:function(a,b){return{shortcode:b}}});h=h.next;function j(a){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e={comment_ids:[a].join()};b({commentId:a,type:"TRANSLATE_COMMENT_REQUESTED"});c("polarisLogAction")("translateCommentAttempt");try{e=(yield d("PolarisInstapi").apiGet("/api/v1/language/bulk_translate/",{query:e}));b({commentId:a,translation:e.data.comment_translations[0].translation,type:"TRANSLATE_COMMENT_SUCCEEDED"});c("polarisLogAction")("translateCommentSuccess")}catch(d){c("FBLogger")("ig_web").catching(d),b({commentId:a,type:"TRANSLATE_COMMENT_FAILED"}),c("polarisLogAction")("translateCommentFailure")}});return function(a){return e.apply(this,arguments)}}()}function k(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({commentId:a,type:"SHOW_COMMENT_TRANSLATED_TEXT"})});return function(a){return c.apply(this,arguments)}}()}function l(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b({commentId:a,type:"SHOW_COMMENT_ORIGINAL_TEXT"})});return function(a){return c.apply(this,arguments)}}()}g.deleteComment=a;g.likeComment=e;g.unlikeComment=f;g.approveRestrictedComment=i;g.requestNextCommentPage=h;g.translateComment=j;g.showCommentTranslatedText=k;g.showCommentOriginalText=l}),98);
__d("PolarisIgWellbeingRestrictManageCommentFalcoEvent",["IgWellbeingRestrictManageCommentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){var b=a.action,d=a.actorIgUserid,e=a.commentId,f=a.commentThreadId,g=a.parentMediaId,h=a.step;c("IgWellbeingRestrictManageCommentFalcoEvent").log(function(){return{action:b,actor_ig_userid:d,comment_id:e,entrypoint:"comment",parent_comment_id:f===e?void 0:f,parent_media_id:g,step:h}})}};b=a;g["default"]=b}),98);
__d("PolarisApproveCommentDialog.react",["fbt","IGCoreDialog.react","PolarisCommentActions","PolarisGenericStrings","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__tcYuI406tjI__JHASH__"),l=h._("__JHASH__Xm8X8O_-34c__JHASH__");function m(a){return h._("__JHASH__jpni5sI8y-X__JHASH__",[h._param("username",a)])}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_approve_this_comment"});d.props.onApproveClick();d.props.onClose()},d.$2=function(){var a=d.props,b=a.commentId,e=a.commentOwnerId,f=a.commentThreadId;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:e,commentId:b,commentThreadId:f,parentMediaId:a,step:"approval_page_cancel"});d.props.onClose()},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this.props.commentOwnerUsername;return j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:m(a),onModalClose:this.props.onClose,title:l,children:[j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:k}),j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$2,children:d("PolarisGenericStrings").CANCEL_TEXT})]})};return b}(j.Component);function a(a,b){return{onApproveClick:function(){a(d("PolarisCommentActions").approveRestrictedComment(b.commentId))}}}e=d("PolarisReactRedux.react").connect(null,a)(b);g.APPROVE_COMMENT_CTA=k;g.ApproveCommentDialog=e}),226);
__d("PolarisBloksNetegoFeedUnitDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisBloksNetegoFeedUnit.react").__setRef("PolarisBloksNetegoFeedUnitDeferred.react"));g["default"]=a}),98);
__d("useJSON",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){return i(function(){return JSON.parse(a,b)},[a,b])}g["default"]=a}),98);
__d("usePolarisLocalStorageState",["FBLogger","PolarisWebStorage","keyMirror","react","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;c("keyMirror")({advantage_audience_tooltip_stats:null,covered_comments_nux_counter:0,feed_creation_discovery_tooltip_shown:null,ig_web_boost_continuous_ads_tooltip_shown:null,immersive_viewer_scroll_nux_tooltip_shown:null});function a(a,b){var e;e=(e=d("PolarisWebStorage").getLocalStorage())==null?void 0:e.getItem(a);e=c("useJSON")((e=e)!=null?e:null);e=j((e=e)!=null?e:b);var f=e[0];b=e[1];i(function(){var b=d("PolarisWebStorage").getLocalStorage();if(f!=null&&b!=null)try{b.setItem(a,(b=JSON.stringify(f))!=null?b:"")}catch(a){c("FBLogger")("ig_web").catching(a)}},[a,f]);return[f,b]}g.useLocalStorageState=a}),98);
__d("PolarisCommentCover.react",["fbt","BaseButton.react","IGDSBox.react","IGDSEyeOffOutlineIcon.react","IGDSText.react","InstagramWellbeingCommentCoverEventFalcoEvent","PolarisReactRedux.react","react","usePartialViewImpression","usePolarisLocalStorageState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useState,m=b.c,n={viewHiddenCommentsButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0}};function o(a){var b=m(4),d;b[0]!==a?(d=function(){a()},b[0]=a,b[1]=d):d=b[1];d=d;var e;b[2]!==d?(e={onImpressionStart:d},b[2]=d,b[3]=e):e=b[3];return c("usePartialViewImpression")(e)}function a(a){var b=m(30),e=a.onClick,f=a.postId;a=a.xstyle;var g=d("PolarisReactRedux.react").useDispatch(),i=l(!1),p=i[0],q=i[1];i=l(!1);var r=i[0],s=i[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){return s(!0)},b[0]=i):i=b[0];i=o(i);var t=d("usePolarisLocalStorageState").useLocalStorageState("covered_comments_nux_counter",0),u=t[0],v=t[1],w;b[1]!==u?(t=function(){u<=2&&q(!0)},w=[u],b[1]=u,b[2]=t,b[3]=w):(t=b[2],w=b[3]);k(t,w);b[4]!==r||b[5]!==v||b[6]!==f||b[7]!==p?(t=function(){r&&(v(function(a){return a+1}),c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_cta_impression"}}),p&&c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"impression",media_id:f,step:"comment_cover_nux_impression"}}))},b[4]=r,b[5]=v,b[6]=f,b[7]=p,b[8]=t):t=b[8];b[9]!==r||b[10]!==g||b[11]!==f||b[12]!==p||b[13]!==v?(w=[r,g,f,p,v],b[9]=r,b[10]=g,b[11]=f,b[12]=p,b[13]=v,b[14]=w):w=b[14];k(t,w);b[15]!==f||b[16]!==p||b[17]!==e?(g=function(){c("InstagramWellbeingCommentCoverEventFalcoEvent").log(function(){return{action:"click",media_id:f,step:p?"comment_cover_cta_with_nux_click":"comment_cover_cta_without_nux_click"}}),e()},b[15]=f,b[16]=p,b[17]=e,b[18]=g):g=b[18];t=g;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:h._("__JHASH__ajqT5_2IQub__JHASH__"),color:"ig-secondary-text",size:15}),b[19]=w):w=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"medium",children:h._("__JHASH__klfeVaNFXrI__JHASH__")}),b[20]=g):g=b[20];b[21]!==t?(w=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:4,children:[w,j.jsx(c("IGDSBox.react"),{marginStart:2,children:j.jsx(c("BaseButton.react"),{onClick:t,xstyle:n.viewHiddenCommentsButton,children:g})})]}),b[21]=t,b[22]=w):w=b[22];b[23]!==p?(g=p&&j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"light",children:h._("__JHASH__jw4oHGOmBxA__JHASH__")}),b[23]=p,b[24]=g):g=b[24];b[25]!==i||b[26]!==a||b[27]!==w||b[28]!==g?(t=j.jsxs(c("IGDSBox.react"),{containerRef:i,direction:"column",xstyle:a,children:[w,g]}),b[25]=i,b[26]=a,b[27]=w,b[28]=g,b[29]=t):t=b[29];return t}g["default"]=a}),226);
__d("PolarisCommentLikeListsActions",["PolarisCommentLikeListsState","PolarisLegacyGraphQLPaginationUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h="17953756669066153",i=24,j=1;function a(){return d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return((a=a.commentLikeLists[b])!=null?a:d("PolarisCommentLikeListsState").EMPTY_LISTS).pagination},onError:function(a,b,c){return{commentId:c,fetch:b,type:"COMMENT_LIKE_LISTS__REQUEST_FAILED"}},onUpdate:function(a,b,d){b=b&&c("nullthrows")(b.comment).edge_liked_by;return{commentId:d,count:b==null?void 0:b.count,fetch:a,pageInfo:b==null?void 0:b.page_info,type:"COMMENT_LIKE_LISTS_REQUEST_UPDATED",users:((b==null?void 0:b.edges)||[]).map(function(a){return a.node})}},pageSize:i,pagesToPreload:j,queryId:h,queryParams:function(a){return{comment_id:a}}})}b=a();e=b;f=b.first;a=b.next;g._actionCreators=e;g.requestCommentLikes=f;g.requestNextCommentLikes=a}),98);
__d("PolarisCommentLikedByListContainerLazy.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisCommentLikedByListContainer.react").__setRef("PolarisCommentLikedByListContainerLazy.react"));function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("PolarisPostCommentPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","PolarisIGTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={avatarGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",marginEnd:"x1emribx",width:"x1td3qas",$$css:!0},darkModeBackgroundColor:{backgroundColor:"x1c9t90q",$$css:!0},subtextGlimmer:{height:"x1kpxq89",width:"x1exxlbk",$$css:!0},textGlimmer:{height:"x1kpxq89",marginBottom:"x12nagc",width:"x1oysuqx",$$css:!0}};function a(a){var b=i(22),e=a.index;a=a.marginTop;a=a===void 0?6:a;var f=d("PolarisIGTheme.react").useTheme().getTheme()===d("PolarisIGTheme.react").IGTheme.Dark,g=f&&k.darkModeBackgroundColor,h;b[0]!==g?(h=[k.avatarGlimmer,g],b[0]=g,b[1]=h):h=b[1];b[2]!==e||b[3]!==h?(g=j.jsx(c("IGDSGlimmer.react"),{index:e,xstyle:h}),b[2]=e,b[3]=h,b[4]=g):g=b[4];h=f&&k.darkModeBackgroundColor;var l;b[5]!==h?(l=[k.textGlimmer,h],b[5]=h,b[6]=l):l=b[6];b[7]!==e||b[8]!==l?(h=j.jsx(c("IGDSGlimmer.react"),{index:e,xstyle:l}),b[7]=e,b[8]=l,b[9]=h):h=b[9];l=f&&k.darkModeBackgroundColor;b[10]!==l?(f=[k.subtextGlimmer,l],b[10]=l,b[11]=f):f=b[11];b[12]!==e||b[13]!==f?(l=j.jsx(c("IGDSGlimmer.react"),{index:e,xstyle:f}),b[12]=e,b[13]=f,b[14]=l):l=b[14];b[15]!==h||b[16]!==l?(e=j.jsxs(c("IGDSBox.react"),{children:[h,l]}),b[15]=h,b[16]=l,b[17]=e):e=b[17];b[18]!==a||b[19]!==g||b[20]!==e?(f=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginTop:a,children:[g,e]}),b[18]=a,b[19]=g,b[20]=e,b[21]=f):f=b[21];return f}g["default"]=a}),98);
__d("PolarisCommentsContainerPlaceholder.react",["IGDSBox.react","PolarisPostCommentPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),d=a.indexOffset,e=a.marginTop,f=a.rowsCount;a=a.xStyle;d=d===void 0?0:d;e=e===void 0?6:e;f=f===void 0?7:f;var g;if(b[0]!==f||b[1]!==d){g=[];for(var h=1;h<=f;h++)g.push(j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:d+h},h));b[0]=f;b[1]=d;b[2]=g}else g=b[2];h=d+0;b[3]!==h||b[4]!==e?(f=j.jsx(c("PolarisPostCommentPlaceholder.react"),{index:h,marginTop:e}),b[3]=h,b[4]=e,b[5]=f):f=b[5];b[6]!==a||b[7]!==f||b[8]!==g?(d=j.jsxs(c("IGDSBox.react"),{marginStart:2,xstyle:a,children:[f,g]}),b[6]=a,b[7]=f,b[8]=g,b[9]=d):d=b[9];return d}g["default"]=a}),98);
__d("PolarisCommentsSectionText.react",["IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),d=a.commentsDivider,e=a.marginStart;a=a.text;var f;b[0]!==a?(f=j.jsx(c("IGDSText.react"),{color:"secondaryText",children:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=j.jsx(c("IGDSBox.react"),{marginBottom:5,marginStart:e,marginTop:2,children:f}),b[2]=e,b[3]=f,b[4]=a):a=b[4];e=d!=null&&d;b[5]!==a||b[6]!==e?(f=j.jsxs(c("IGDSBox.react"),{marginBottom:1,children:[a,e]}),b[5]=a,b[6]=e,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("PolarisCommentsSortContext.react",["PolarisSortCommentsUtil","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.c,k=i.createContext({commentsSortOrder:d("PolarisSortCommentsUtil").CommentsOptionValues.TOP,isImmersiveViewer:!1,setCommentsSortOrder:c("emptyFunction")});function a(a){var b=j(7),c=a.children,d=a.commentsSortOrder,e=a.isImmersiveViewer;a=a.setCommentsSortOrder;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f={commentsSortOrder:d,isImmersiveViewer:e,setCommentsSortOrder:a},b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];d=f;e=d;b[4]!==e||b[5]!==c?(a=i.jsx(k.Provider,{value:e,children:c}),b[4]=e,b[5]=c,b[6]=a):a=b[6];return a}g.PolarisCommentsSortContext=k;g.PolarisCommentsSortContextProvider=a}),98);
__d("PolarisCommentsStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__lslJteO7R3P__JHASH__");g.COVERED_COMMENTS=a}),226);
__d("PolarisDirectActionSendPostToUsers",["InstagramODS","PolarisDirectAPI","PolarisDirectActionConstants","PolarisDirectActionSendText","PolarisDirectActionThreadLoaded","PolarisDirectActionsLogger","PolarisDirectConstants","PolarisDirectStrings","PolarisToastActions","Promise","isStringNullOrEmpty","nullthrows","polarisDirectSelectors","polarisGenerateOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.comment,f=a.customToast,g=a.mediaId,j=a.mediaOverlayInfo,k=a.mqtt,l=a.onError,m=a.onSuccess,n=a.productType,o=a.recipients;return function(a,p){var q=function(b){f!=null?f({text:b}):a(d("PolarisToastActions").showToast({text:b}))};o.forEach(function(f,o){var r;f.type==="user"?r=d("polarisDirectSelectors").getThreadIdForUserId(p(),o):f.type==="thread"&&(r=o);d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_attempt",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE});r!=null?i(k,r,g,j,n).then(function(){m==null?void 0:m(o),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),c("InstagramODS").incr("web.share_sheet.send_post"),q(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();r!=null&&!c("isStringNullOrEmpty")(e)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(k,c("nullthrows")(r),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),c("InstagramODS").incr("web.share_sheet.send_post_with_comment")})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){l==null?void 0:l(a,o),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)}):d("PolarisDirectAPI").createGroupThread([o]).then(function(p){var r=p.thread_id;a(d("PolarisDirectActionThreadLoaded").threadLoaded(p));i(k,r,g,j,n).then(function(){m==null?void 0:m(o),d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{type:d("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE}),q(d("PolarisDirectStrings").SENT_TOAST_TEXT)}).then(function(){var a=c("polarisGenerateOfflineThreadingId")();r!=null&&!c("isStringNullOrEmpty")(e)&&new(h||(h=b("Promise")))(function(a){window.setTimeout(a,d("PolarisDirectActionConstants").NUM_SEC_DELAY_FOR_SEND_TEXT*1e3)}).then(function(){return d("PolarisDirectActionSendText").sendText(k,c("nullthrows")(r),e,a)}).then(function(){d("PolarisDirectActionsLogger").directActionsLogger.logDirectEvent("http_message_success",{recipientType:f.type,type:d("PolarisDirectConstants").ThreadItemType.TEXT}),q(d("PolarisDirectStrings").SENT_TOAST_TEXT)})["catch"](function(a){d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_message_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})["catch"](function(a){l==null?void 0:l(a,o),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_send_post_to_users_failed",a)})},function(a){l==null?void 0:l(a,o),d("PolarisDirectActionsLogger").directActionsLogger.logError("direct_create_thread_send_post_to_users_failed",a),q(d("PolarisDirectStrings").GENERIC_ERROR_MESSAGE)})})}}function i(a,c,d,e,f){return a!=null?a.sendMediaShare(c,d,e,f):(h||(h=b("Promise"))).reject(new Error("MQTT is not instantiated"))}g.sendPostToUsers=a}),98);
__d("PolarisEndOfFeedDemarcator.react",["fbt","CometImage.react","IGDSBox.react","IGDSText.react","PolarisFastLink.react","PolarisFeedHeader.react","PolarisUA","XPolarisFeedControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=96,m=64,n=h._("__JHASH__GCchvPngliF__JHASH__"),o=h._("__JHASH__PavpwGiUmOk__JHASH__");function a(a){var b=j(17),e=a.className,f=a.showPastPostsLink,g=a.subtitle;a=a.title;var i=d("PolarisUA").isMobile()?m:l,p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("PolarisUA").isMobile()?k.jsx("div",{className:"x7a106z xvbhtw8 x9f619 xh8yej3 x1bs97v6 x1q0q8m5 xso031l",children:k.jsx(c("IGDSBox.react"),{paddingX:4,paddingY:3,children:k.jsx(c("IGDSText.react"),{color:"primaryText",size:"body",weight:"semibold",children:o})})}):k.jsx(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:k.jsx(c("PolarisFeedHeader.react"),{hasBackButton:!1,text:o})}),b[0]=p):p=b[0];p=p;var q;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("XPolarisFeedControllerRouteBuilder").buildURL({variant:"past_posts"}),b[1]=q):q=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=k.jsx(c("PolarisFastLink.react"),{href:q,children:k.jsx(c("IGDSText.react"),{color:"primaryButton",size:"body",weight:"semibold",children:h._("__JHASH__lqgER3dFza1__JHASH__")})}),b[2]=q):q=b[2];q=q;var r,s;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(r=d("PolarisUA").isMobile()?{marginBottom:0}:{},s="x6s0dn4 xjbqb8w x9f619 x78zum5 xdt5ytf x1miatn0 xn6708d x1gan7if x1ye3gou xh8yej3",b[3]=r,b[4]=s):(r=b[3],s=b[4]);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("IGDSBox.react"),{height:i,marginBottom:4,width:i,children:k.jsx(c("CometImage.react"),{alt:n,height:i,src:"/images/instagram/xig/web/illo-confirm-refresh-light.png",width:i})}),b[5]=i):i=b[5];var t;b[6]!==a?(t=k.jsx(c("IGDSBox.react"),{marginBottom:3,children:k.jsx(c("IGDSText.react"),{color:"primaryText",size:"title",weight:"normal",children:a})}),b[6]=a,b[7]=t):t=b[7];b[8]!==g?(a=k.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisUA").isMobile()?3:5,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",children:g})}),b[8]=g,b[9]=a):a=b[9];g=f&&q;b[10]!==t||b[11]!==a||b[12]!==g?(f=k.jsxs("div",{className:s,children:[i,t,a,g]}),b[10]=t,b[11]=a,b[12]=g,b[13]=f):f=b[13];b[14]!==e||b[15]!==f?(q=k.jsxs("div",{children:[k.jsx("div",{className:e,style:r,children:f}),p]}),b[14]=e,b[15]=f,b[16]=q):q=b[16];return q}g["default"]=a}),226);
__d("PolarisGenderActions",["fbt","PolarisAPISetGender","PolarisGenericStrings"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){return function(c){c({customGender:b,gender:a,type:"GENDER_INFO_LOADED"})}}function i(a,b,c){return function(e){e({type:"GENDER_INFO_UPDATE_REQUESTED"});return d("PolarisAPISetGender").setGender(a,b).then(function(){e({customGender:b,gender:a,type:"GENDER_INFO_UPDATE_SUCCEEDED"}),c&&c()},function(c){e({toast:{actionHandler:function(){return e(i(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:c.message||h._("__JHASH__R3pc3xZiqMF__JHASH__")},type:"GENDER_INFO_UPDATE_FAILED"})})}}g.loadGenderInfo=a;g.updateGenderInfo=i}),226);
__d("PolarisHeroPageletLogger",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=b("$InternalEnum")({FEED:"feed",POST:"post"});function a(a,b){a=a;if(b!=null)if(b<2)return a+"_"+b;else return a+"_n";return a}f.PageletLogName=c;f.getHeroPageletLogName=a}),66);
__d("PolarisLikedByListVariant",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Modal","Page"]);c=a;f["default"]=c}),66);
__d("isIntersectionObserverEntryVPVDVisible",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=200,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.boundingClientRect;var e=a.intersectionRect,f=a.rootBounds;d=d||i;e=e||i;f=f||i;return e.height>=b||e.height>=f.height/2||e.height===d.height||a.intersectionRatio>.95}g["default"]=a}),98);
__d("isIntersectionObserverEntryVPVDVisiblePct",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=.5,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.intersectionRect;var e=a.rootBounds,f=a.boundingClientRect;if(f==null||f.height===0)return!1;d=d||i;e=e||i;return d.height/f.height>=b||d.height>=e.height/2||a.intersectionRatio>.95}g["default"]=a}),98);
__d("vpvdConstants",[],(function(a,b,c,d,e,f){"use strict";a=250;b=200;f.DEFAULT_MIN_VISIBLE_TIME_MS=a;f.DEFAULT_MIN_VISIBLE_PX=b}),66);
__d("useVPVDImpression",["CometVPVDUserActivityMonitor","cr:921407","isIntersectionObserverEntryVPVDVisible","isIntersectionObserverEntryVPVDVisiblePct","react","useVisibilityObserver","vpvdConstants"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var e=a.isLite,f=a.minVisiblePct,g=a.minVisiblePx;g=g===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_PX:g;var h=a.minVisibleTimeMs,j=h===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_TIME_MS:h,k=a.onVPVDEnd;h=a.onVPVDStart;a=b("cr:921407")();var l=a[0];a=a[1];var m=i(function(a){if(a.visibleDuration<j)return;k(a)},[j,k]),n=e===!0?1:g;g=i(function(a){return f!=null?c("isIntersectionObserverEntryVPVDVisiblePct")(a,f):c("isIntersectionObserverEntryVPVDVisible")(a,n)},[n,f]);e=e===!0?null:{thresholdOverride:"EXPENSIVE"};g=babelHelpers["extends"]({activityMonitorOverride:c("CometVPVDUserActivityMonitor"),isEntryInViewport:g},e);e=c("useVisibilityObserver")({onHidden:m,onVisibilityDurationUpdated:a,onVisible:h,options:g});return[e,l]}g["default"]=a}),98);
__d("PolarisLoggedOutSidecarUpsell.react",["IGDSBox.react","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutAppUpsellInnerContent.react","PolarisLoggedOutCtaImpressionLogger","PolarisLoggedOutCtaLogger","PolarisPreviewPhoto.react","emptyFunction","react","usePolarisPageID","useVPVDImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){a=a.upsellSidecarChild;var b=c("usePolarisPageID")(),e=d("PolarisIgLiteCarbonUpsellsUtils").sideCardIsIgLiteCarbonUpsellsEligible(),f=e?"instagramlitecarbon":"app_upsell";e=j(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"sidecar_item_upsell",ctaVersion:f,eventName:"impression"}),d("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("embedded_dialog",b)},[f]);e=c("useVPVDImpression")({onVPVDEnd:c("emptyFunction"),onVPVDStart:e});e=e[0];if(a.dimensions==null||a.owner==null||a.mediaPreview==null)throw new Error("Invalid SidecarChildItem for upsell");return i.jsxs(c("IGDSBox.react"),{containerRef:e,direction:"column",justifyContent:"center",position:"relative",children:[i.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:a.dimensions,previewData:a.mediaPreview}),i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",alignSelf:"center",color:"alwaysWhite",direction:"column",flex:"shrink",justifyContent:"center",marginEnd:13,marginStart:13,maxWidth:"300px",overflow:"hidden",position:"absolute",shape:"extraRounded",children:i.jsx(c("PolarisLoggedOutAppUpsellInnerContent.react"),{ctaType:"sidecar_item_upsell",ctaTypeV2:"embedded_dialog",ctaVersion:f,intentSource:"post_sidecar_upsell",isSidecarPostLandscape:a.dimensions.height<a.dimensions.width,triggeringPageType:"post",triggeringUserDisplayName:(e=a.owner)==null?void 0:e.username,triggeringUserPicUrl:a.owner.profilePictureUrl,triggeringUserUsername:a.owner.username})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisMediaPrefetcher.react",["cx","PolarisResponsiveImage.react","PolarisResponsiveVideo.react","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="PREFETCHED_IMAGE";b="PREFETCHED_VIDEO";var l=new Set(),m=new Set(),n=new Set(),o=[],p=10*1e3;e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var d,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(d=e=a.call.apply(a,[this].concat(g))||this,e.state={next:null},e.$6=function(){var a=e.state.next;a!=null&&(c("polarisLogAction")("mediaPrefetchSuccess",{resource:e.state.next}),l.add(a.id),e.setState(b.prefetchNext(e.props)));e.$1()&&e.$2()},d)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a){return b.prefetchNext(a)};var d=b.prototype;d.componentDidMount=function(){this.$1()?this.$2():this.$3()};d.componentDidUpdate=function(){this.$3()};d.componentWillUnmount=function(){n.clear();m.clear();for(var a=0;a<o.length;a++){var b=o[a];window.clearTimeout(b)}o.length=0};d.shouldComponentUpdate=function(a,b){return this.props.enabled!==a.enabled||this.state.next!==b.next};b.prefetchNext=function(a){var b=a.enabled;a=a.resources;if(!b)return null;for(var b=a,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(a){if(c>=b.length)break;d=b[c++]}else{c=b.next();if(c.done)break;d=c.value}d=d;if(l.has(d.id)||m.has(d.id))continue;return{next:d}}return{next:null}};d.$4=function(a){return l.has(a)||m.has(a)};d.$1=function(){if(this.props.postIds==null)return!1;for(var a=this.props.resources,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!this.$4(d.id))return!1}return!0};d.$3=function(){var a=this,b=this.state.next;if(b!=null&&!n.has(b.id)){var c=window.setTimeout(function(){l.has(b.id)||a.$5(b.id)},p);n.add(b.id);o.push(c)}};d.$2=function(){this.props.resources.length>0&&c("polarisLogAction")("mediaPrefetchComplete",{eligibleResourceCount:this.props.resources.length,successCount:l.size,timeoutCount:m.size,viewKey:this.props.viewKey}),this.props.onLoadComplete!=null&&this.props.onLoadComplete()};d.$5=function(a){c("polarisLogAction")("mediaPrefetchTimedOut",{resource:this.state.next}),m.add(a),n["delete"](a),this.setState(b.prefetchNext(this.props)),this.$1()&&this.$2()};d.render=function(){var a=this.props,b=a.currentPostId,d=a.enabled;a=a.layoutWrapper;var e=this.state.next;if(e==null||!d)return null;d=!this.$4(e.id)&&(b==null||b!=null&&b!==e.id);b=d&&(e.type===k?j.jsx(c("PolarisResponsiveImage.react"),{className:"_ac9q",onError:this.$6,onLoad:this.$6,src:e.src,srcSet:e.srcSet},e.src):j.jsx(c("PolarisResponsiveVideo.react"),{className:"_ac9q",onError:this.$6,onLoaded:this.$6,preloadOnly:!0,sources:e.srcSet},e.src));return j.jsx(a,{resource:e,children:b})};return b}(j.Component);e.defaultProps={enabled:!0,layoutWrapper:function(a){a=a.children;return a}};function a(){l.clear(),n.clear(),m.clear()}g.PREFETCHED_IMAGE=k;g.PREFETCHED_VIDEO=b;g.TIMEOUT_DURATION=p;g.MediaPrefetcher=e;g._resetState=a}),98);
__d("PolarisVideoPreloader.react",["react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function j(a){var b=c("useStable")(function(){return new XMLHttpRequest()}),d=a.onError,e=a.onLoaded,f=a.onTimeout,g=a.src,h=a.timeout;i(function(){b.open("GET",g,!0);b.responseType="blob";b.onload=function(){b.status===200?e():d()};f!=null&&(b.ontimeout=f);b.timeout=h*1e3;b.send();return function(){b.abort()}},[d,e,f,g,h,b])}function a(a){j(a);return null}g["default"]=a}),98);
__d("PolarisResponsiveVideo.react",["FBLogger","PolarisBatchDOM","PolarisMediaPrefetcher.react","PolarisVideoPreloader.react","PolarisVideoResource","UserAgent","nullthrows","polarisGetCrossOriginAttribute","polarisWithForwardRef.react","polarisWithRemountOnChange","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$5=function(a){c.$1=a,c.props.videoRef&&c.props.videoRef(a)};c.state={width:null};return c}var e=b.prototype;e.$3=function(){return c("nullthrows")(this.$1).getBoundingClientRect().width};e.$4=function(){var a=this.$3(),b=window.devicePixelRatio||1;return a*b};e.$6=function(a,b,c){if(a==null)return b;if(a.configWidth<c&&b.configWidth>a.configWidth)return b;return b.configWidth>c&&b.configWidth<=a.configWidth?b:a};e.$7=function(a){var b=null,e=null,f=[];for(var g=this.props.sources,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;switch(j.profile){case d("PolarisVideoResource").PROFILE_MAIN:b=this.$6(b,j,a);break;case d("PolarisVideoResource").PROFILE_BASELINE:e=this.$6(e,j,a);break;default:c("FBLogger")("ig_web").mustfix("got video candidate without a supported profile: "+String(j.profile)),f.push(j)}}return[].concat(b!=null?[b]:[],e!=null?[e]:[],f)};e.componentDidMount=function(){var a=this;d("PolarisBatchDOM").measure(function(){if(a.$2)return;var b=a.$4();d("PolarisBatchDOM").mutate(function(){if(a.$2)return;a.setState({width:b})})})};e.componentWillUnmount=function(){this.$2=!0};e.render=function(){var a=this.state.width,b=this.props,e=b.autoPlay,f=b.className,g=b.forwardedRef,h=b.preloadOnly;b.sources;var j=b.style;b.videoRef;b=babelHelpers.objectWithoutPropertiesLoose(b,["autoPlay","className","forwardedRef","preloadOnly","sources","style","videoRef"]);b=Object.freeze(babelHelpers["extends"]({},b,e!=null?{autoPlay:e}:{}));if(a==null)return i.jsx("video",{className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:this.$5,style:j});else if(h){h=this.props;var k=h.onError;h=h.onLoaded;var l=this.$7(a);return k!=null&&h!=null&&i.jsx(c("PolarisVideoPreloader.react"),{onError:k,onLoaded:h,src:l[0].src,timeout:d("PolarisMediaPrefetcher.react").TIMEOUT_DURATION})}else if(e===!0&&c("UserAgent").isBrowser("Safari >= 15"))return i.jsx("video",babelHelpers["extends"]({className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:g||this.$5,style:j},b,{src:this.$7(a)[0].src}));return i.jsx("video",babelHelpers["extends"]({className:f,crossOrigin:c("polarisGetCrossOriginAttribute")(),ref:g||this.$5,style:j},b,{children:this.$7(a).map(function(a,b){return i.jsx("source",{src:a.src,type:a.mimeType},b)})}))};return b}(i.PureComponent);function a(a,b){a=a.sources;b=b.sources;if(a===b)return!1;if(a.length!==b.length)return!0;for(var c=0;c<a.length;++c)if(a[c].src!==b[c].src)return!0;return!1}e=c("polarisWithForwardRef.react")(c("polarisWithRemountOnChange")(a)(b));g["default"]=e}),98);
__d("makeImmutable",[],(function(a,b,c,d,e,f){"use strict";function a(a){throw new Error("This empty "+((a=a)!=null?a:"Object")+" cannot be mutated.")}function b(a,b){return a}f["default"]=b}),66);
__d("emptyArray",["makeImmutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("makeImmutable")([],["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);b=a;g["default"]=b}),98);
__d("PolarisMediaPrefetchContainer_DEPRECATED.react",["PolarisMediaPrefetcher.react","PolarisPostUtils","PolarisReactRedux.react","emptyArray","polarisPostSelectors","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function i(a){if(a.isVideo===!0)return null;return a.src!=null&&a.src!==""&&a.displayResources&&a.dimensions!=null?{id:a.id,intrinsicDimensions:a.dimensions,src:a.src,srcSet:a.displayResources,type:d("PolarisMediaPrefetcher.react").PREFETCHED_IMAGE}:null}function j(a){var b=a.sidecarChildren;if(b!=null&&b.length){var c=d("PolarisPostUtils").getInitialSidecarIndexFromPost(a);return i(b[c])}return i(a)}function a(a,b){var e=b.getResourceFromPost||j,f=d("polarisStorySelectors").getCurrentReel(a),g=a.stories.currentReelItemIndex;f=f!=null&&f.itemIds!=null?f.itemIds[g]:null;return{currentPostId:f,enabled:b.viewKey==null||!!a.mediaPrefetches.isEnabledForView[b.viewKey],resources:(b.postIds||c("emptyArray")).map(function(b){b=d("polarisPostSelectors").getPostOrNullById(a,b);return b?e(b):null}).filter(Boolean)}}b=d("PolarisReactRedux.react").connect(a)(d("PolarisMediaPrefetcher.react").MediaPrefetcher);g["default"]=b}),98);
__d("PolarisNoCommentsPlaceholder.react",["fbt","IGDSBox.react","IGDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__MYZn3VY5517__JHASH__"),a[0]=b):b=a[0];b=b;var d;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=h._("__JHASH__ZnOaVd3FLUq__JHASH__"),a[1]=d):d=a[1];d=d;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSBox.react"),{marginBottom:2,children:k.jsx(c("IGDSText.react").Headline2,{textAlign:"center",children:b})}),a[2]=b):b=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",children:[b,k.jsx(c("IGDSBox.react"),{marginTop:2,children:k.jsx(c("IGDSText.react").Body,{textAlign:"center",children:d})})]}),a[3]=b):b=a[3];return b}g["default"]=a}),226);
__d("PolarisOrganicImpressionAction",["InstagramODS","InstagramOrganicCarouselImpressionFalcoEvent","InstagramOrganicImpressionFalcoEvent","PolarisContainerModuleUtils","PolarisMediaChainingPageConstants","PolarisNavChain","PolarisUA","PolarisViewpointActionUtils","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.POST||a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP?c("InstagramOrganicImpressionFalcoEvent"):c("InstagramOrganicCarouselImpressionFalcoEvent")}var i=c("memoizeWithArgs")(function(a,b){return new Map()},function(a,b){return a+"/"+b});function j(a,b,e,f){var g;e=d("PolarisContainerModuleUtils").getContainerModule(e);if(e==="unknown")return null;var h=b.id;g=(g=b.owner)==null?void 0:g.id;if(h==null||g==null)return null;var i=null,j=null;if(a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.POST){var k;i=b==null?void 0:(k=b.sidecarChildren)==null?void 0:(k=k[0])==null?void 0:k.id;j=i}else a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.CAROUSEL&&(i=h,j=null);return{carousel_media_id:i!=null?i+"_"+g:null,carousel_starting_media_id:j,chaining_position:null,chaining_session_id:null,inventory_source:b.inventorySource,m_ix:f==null?void 0:f.toString(),m_pk:h+"_"+g,module_name:e,nav_chain:(k=c("PolarisNavChain").getInstance())==null?void 0:k.getNavChainForSend(),pigeon_reserved_keyword_module:e,ranking_session_id:null,reel_id:a===d("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP?h:null,tray_session_id:null,viewer_session_id:null}}function k(a,b,d,e,f){return function(g){var k=d||"",n=j(a,b,d,f);if(i(a,k).get(b.id)===!0)return;if(g.state==="entered"){if(!n){c("InstagramODS").incr("web.impression.dropped");return}h(a).log(function(){return n});m(d,e);l(d,f);i(a,k).set(b.id,!0)}}}function l(a,b){if(a!==d("PolarisMediaChainingPageConstants").MEDIA_CHAINING_ANALYTICS_CONTEXT)return;b===0?c("InstagramODS").incr("web.msite.explore.chaining.seed"):c("InstagramODS").incr("web.msite.explore.chaining.recommended")}function m(a,b){if(a!=="postPage"||!d("PolarisUA").isMobile())return;c("InstagramODS").incr("web.msite.single_post.impression");switch(b){case void 0:c("InstagramODS").incr("web.msite.single_post.impression.direct_visit");break;case"polaris.profilePage":c("InstagramODS").incr("web.msite.single_post.impression.profile")}}function a(a,b,c,e){return k(d("PolarisViewpointActionUtils").IMPRESSION_KIND.POST,a,b,c,e)}function b(a,b){return k(d("PolarisViewpointActionUtils").IMPRESSION_KIND.CAROUSEL,a,b)}function e(a,b){return k(d("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP,a,b)}g.makePostImpressionAction=a;g.makeCarouselImpressionAction=b;g.makeClipImpressionAction=e}),98);
__d("PolarisPostActionAddPostToCollection",["InstagramODS","PolarisAPIEditCollection","nullthrows","polarisUserSelectors"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.failureHandler,f=a.postIds,g=a.successHandler;return function(a,h){h=h();var i=c("nullthrows")(d("polarisUserSelectors").getViewer__DEPRECATED(h)).id;a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.saveToCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToAdd:[].concat(f)}).then(function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_SUCCEEDED",userId:i}),c("InstagramODS").incr("web.saveToCollection.success"),g!=null&&g()})["catch"](function(){a({collectionId:b,postIds:f,type:"ADD_POST_TO_COLLECTION_FAILED"}),c("InstagramODS").incr("web.saveToCollection.failure"),e!=null&&e()})}}g.addPostToCollection=a}),98);
__d("PolarisPostConstants",["IGDSThemeConstantsHelpers"],(function(a,b,c,d,e,f,g){"use strict";a=30;b=40;c=d("IGDSThemeConstantsHelpers").getNumericValue("medium-screen-max");e=d("IGDSThemeConstantsHelpers").getNumericValue("medium-screen-min");f=56;g.AVATAR_SIZE_SMALL=a;g.AVATAR_SIZE_LARGE=b;g.MEDIUM_SCREEN_MAX=c;g.SIDEBAR_VARIANT_CUTOFF=e;g.POST_TOAST_HEIGHT=f}),98);
__d("PolarisProfessionalAccountTapComponentFalcoEvent",["BusinessConversionTapComponentFalcoEvent","CreatorConversionTapComponentFalcoEvent","EditProfileTapComponentFalcoEvent","InterestAccountConversionTapComponentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a,b){switch(b){case"business_conversion":c("BusinessConversionTapComponentFalcoEvent").log(function(){return a()});break;case"creator_conversion":c("CreatorConversionTapComponentFalcoEvent").log(function(){return a()});break;case"edit_profile":c("EditProfileTapComponentFalcoEvent").log(function(){return a()});break;case"interest_account_conversion":c("InterestAccountConversionTapComponentFalcoEvent").log(function(){return a()});break}}};b=a;g["default"]=b}),98);
__d("PolarisProfessionalAccountLogger",["BusinessConversionCancelFalcoEvent","BusinessConversionFetchDataErrorFalcoEvent","BusinessConversionFetchDataFalcoEvent","BusinessConversionFinishStepFalcoEvent","BusinessConversionSkipFalcoEvent","BusinessConversionStartStepFalcoEvent","BusinessConversionSubmitErrorFalcoEvent","BusinessConversionSubmitFalcoEvent","CreatorConversionCancelFalcoEvent","CreatorConversionFetchDataErrorFalcoEvent","CreatorConversionFetchDataFalcoEvent","CreatorConversionFinishStepFalcoEvent","CreatorConversionStartStepFalcoEvent","CreatorConversionSubmitErrorFalcoEvent","CreatorConversionSubmitFalcoEvent","EditProfileCancelFalcoEvent","EditProfileFetchDataErrorFalcoEvent","EditProfileFetchDataFalcoEvent","EditProfileFinishStepFalcoEvent","EditProfileStartStepFalcoEvent","EditProfileSubmitErrorFalcoEvent","EditProfileSubmitFalcoEvent","InterestAccountConversionCancelFalcoEvent","InterestAccountConversionEnterFalcoEvent","InterestAccountConversionFetchDataErrorFalcoEvent","InterestAccountConversionFetchDataFalcoEvent","InterestAccountConversionFinishStepFalcoEvent","InterestAccountConversionStartStepFalcoEvent","InterestAccountConversionSubmitErrorFalcoEvent","InterestAccountConversionSubmitFalcoEvent","PolarisProfessionalAccountTapComponentFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g){this.$1={entry_point:c,fb_page_id:e,fb_user_id:f,is_business_login_request:g,pk:a,source_id:d,waterfall_id:b}}var b=a.prototype;b.logEnter=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:b,step:a,waterfall_id:this.$1.waterfall_id};c("InterestAccountConversionEnterFalcoEvent").log(function(){return d})};b.logCancel=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,step:b,waterfall_id:this.$1.waterfall_id},e=babelHelpers["extends"]({},d,{is_business_login_request:this.$1.is_business_login_request});switch(a){case"business_conversion":c("BusinessConversionCancelFalcoEvent").log(function(){return e});break;case"creator_conversion":c("CreatorConversionCancelFalcoEvent").log(function(){return d});break;case"edit_profile":c("EditProfileCancelFalcoEvent").log(function(){return d});break;case"interest_account_conversion":c("InterestAccountConversionCancelFalcoEvent").log(function(){return d});break}};b.logFetchDataError=function(a,b,d,e,f,g){var h={component:d,entry_point:this.$1.entry_point,error_identifier:e,error_message:f,fb_page_id:this.$1.fb_page_id,selected_values:g,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFetchDataErrorFalcoEvent").log(function(){return h});break;case"creator_conversion":c("CreatorConversionFetchDataErrorFalcoEvent").log(function(){return h});break;case"edit_profile":c("EditProfileFetchDataErrorFalcoEvent").log(function(){return h});break;case"interest_account_conversion":c("InterestAccountConversionFetchDataErrorFalcoEvent").log(function(){return h});break}};b.logFetchData=function(a,b,d,e,f){var g={available_options:e,component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:f,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFetchDataFalcoEvent").log(function(){return g});break;case"creator_conversion":c("CreatorConversionFetchDataFalcoEvent").log(function(){return g});break;case"edit_profile":c("EditProfileFetchDataFalcoEvent").log(function(){return g});break;case"interest_account_conversion":c("InterestAccountConversionFetchDataFalcoEvent").log(function(){return g});break}};b.logFinishStep=function(a,b,d,e){var f={default_values:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionFinishStepFalcoEvent").log(function(){return f});break;case"creator_conversion":c("CreatorConversionFinishStepFalcoEvent").log(function(){return f});break;case"edit_profile":c("EditProfileFinishStepFalcoEvent").log(function(){return f});break;case"interest_account_conversion":c("InterestAccountConversionFinishStepFalcoEvent").log(function(){return f});break}};b.logSkip=function(a,b){var d={entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,flow:a,step:b,waterfall_id:this.$1.waterfall_id};a==="business_conversion"&&c("BusinessConversionSkipFalcoEvent").log(function(){return d})};b.logStartStep=function(a,b,d){var e={default_values:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionStartStepFalcoEvent").log(function(){return e});break;case"creator_conversion":c("CreatorConversionStartStepFalcoEvent").log(function(){return e});break;case"edit_profile":c("EditProfileStartStepFalcoEvent").log(function(){return e});break;case"interest_account_conversion":c("InterestAccountConversionStartStepFalcoEvent").log(function(){return e});break}};b.logSubmitError=function(a,b,d,e,f,g){var h={component:d,entry_point:this.$1.entry_point,error_identifier:e,error_message:f,fb_page_id:this.$1.fb_page_id,selected_values:g,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionSubmitErrorFalcoEvent").log(function(){return h});break;case"creator_conversion":c("CreatorConversionSubmitErrorFalcoEvent").log(function(){return h});break;case"edit_profile":c("EditProfileSubmitErrorFalcoEvent").log(function(){return h});break;case"interest_account_conversion":c("InterestAccountConversionSubmitErrorFalcoEvent").log(function(){return h});break}};b.logSubmit=function(a,b,d,e){var f={component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};switch(a){case"business_conversion":c("BusinessConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"creator_conversion":c("CreatorConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"edit_profile":c("EditProfileSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break;case"interest_account_conversion":c("InterestAccountConversionSubmitFalcoEvent").log(function(){return babelHelpers["extends"]({},f)});break}};b.logTapComponent=function(a,b,d,e){var f={component:d,entry_point:this.$1.entry_point,fb_page_id:this.$1.fb_page_id,selected_values:e,step:b,waterfall_id:this.$1.waterfall_id};c("PolarisProfessionalAccountTapComponentFalcoEvent").log(function(){return f},a)};return a}();g.ProfessionalAccountLogger=a}),98);
__d("PolarisProfessionalConversionCardTypeConfigs.react",["fbt","ix","IGCoreImage.react","IGDSAdsPanoOutlineIcon.react","IGDSBox.react","IGDSBusinessPanoOutlineIcon.react","IGDSDeviceDesktopPanoOutlineIcon.react","IGDSDevicePhonePanoOutlineIcon.react","IGDSDirectPanoOutlineIcon.react","IGDSInsightsPanoOutlineIcon.react","IGDSMailPanoOutlineIcon.react","IGDSMediaAccountOutlineIcon.react","IGDSUserPanoOutlineIcon.react","IGDSWhatsappLogoOutlineIcon.react","PolarisFastLink.react","PolarisProfessionalConversionUtils","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=64,m=40,n=24,o=100,p=4,q={subtitle:h._("__JHASH__3d8mpoGdWEj__JHASH__"),title:h._("__JHASH__JVPqMUis8ie__JHASH__")},r={subtitle:h._("__JHASH__ZlkAa6xmrVS__JHASH__"),title:h._("__JHASH__UWP_XnRo-xr__JHASH__")},s=h._("__JHASH__xlMxNxDcmh-__JHASH__");function t(a){return a!=null||a!==void 0?h._("__JHASH__M2ln-SymLyN__JHASH__",[h._param("username",a)]):h._("__JHASH__yVYc08zOlXx__JHASH__")}var u=h._("__JHASH__RyWCWi4E_O___JHASH__",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._("__JHASH__cxoDDOluosm__JHASH__")}))]),v=h._("__JHASH__DE3WvDkUrmx__JHASH__",[h._implicitParam("=m1",k.jsx(c("PolarisFastLink.react"),{href:"https://business.facebook.com",children:h._("__JHASH__l_bSQBKMsDP__JHASH__")}))]),w={secondary_subtitle:h._("__JHASH___gyI2iQqm2V__JHASH__"),subtitle:s,title:h._("__JHASH__BMKX1c-cFAX__JHASH__")};s={secondary_subtitle:h._("__JHASH___gyI2iQqm2V__JHASH__"),subtitle:s,title:h._("__JHASH__M7y0V9c5Z91__JHASH__")};var x={subtitle:h._("__JHASH__g-hW5RvE0qV__JHASH__"),title:h._("__JHASH__MyxIa2meWWZ__JHASH__")},y={subtitle:h._("__JHASH__7sZkfXctAVF__JHASH__"),title:h._("__JHASH__MyxIa2meWWZ__JHASH__")},z={subtitle:h._("__JHASH__d8YytYrtNuw__JHASH__"),title:h._("__JHASH__e3Q99qQpyxt__JHASH__")},A={subtitle:h._("__JHASH__3d6Hqb5H9vI__JHASH__"),title:h._("__JHASH__BSz3hpGZ1b9__JHASH__")},B={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSMediaAccountOutlineIcon.react"),{alt:h._("__JHASH__lv3MH7dLJrN__JHASH__"),size:n})}),subtitle:h._("__JHASH__uIfNcGvj6N9__JHASH__"),title:h._("__JHASH__3ozikGdB_fR__JHASH__")},C={icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("IGDSBusinessPanoOutlineIcon.react"),{alt:h._("__JHASH__kdylFmz3-HI__JHASH__"),size:n})}),subtitle:h._("__JHASH__kPZ6pIo4Q94__JHASH__"),title:h._("__JHASH__bFKn8vVV3XH__JHASH__")};function a(a){var b=(a==null?void 0:a.username)||"";a=(a=a==null?void 0:a.profilePictureUrlHd)!=null?a:"/images/instagram/xig/anonymousUser.jpg?__d=www";return{icon:k.jsx(c("IGDSBox.react"),{alignItems:"center",border:!0,height:l,justifyContent:"center",position:"relative",shape:"circle",width:l,children:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a,size:l,username:b})}),subtitle:h._("__JHASH__vjPNPR0HIb0__JHASH__"),title:h._("__JHASH__qooWaWtE30s__JHASH__")}}function b(a){switch(a){case d("PolarisProfessionalConversionUtils").InterestAccount.media_creator:return{subtitle:h._("__JHASH__LfAeXPvbNdQ__JHASH__"),title:h._("__JHASH__wlnBL429O55__JHASH__")};case d("PolarisProfessionalConversionUtils").InterestAccount.business:return{subtitle:h._("__JHASH__g3xTtq7Nnek__JHASH__"),title:h._("__JHASH__BhCsZwRqpwr__JHASH__")};default:return{subtitle:null,title:h._("__JHASH__1CmxolH4jnf__JHASH__")}}}var D=[{icon:k.jsx(c("IGDSUserPanoOutlineIcon.react"),{alt:h._("__JHASH__TFhpS_Mckyy__JHASH__"),size:n}),subtitle:h._("__JHASH__8rLYRZyuFAP__JHASH__"),title:h._("__JHASH__yRidqDwpoqw__JHASH__")},{icon:k.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:h._("__JHASH__o6wMG72o1qN__JHASH__"),size:n}),subtitle:h._("__JHASH__UWaDc7cQeWS__JHASH__"),title:h._("__JHASH__s_3xuPA4p-F__JHASH__")},{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._("__JHASH__pZDpw1Nhy-1__JHASH__"),size:n}),subtitle:h._("__JHASH__4g1Aj69u-HY__JHASH__"),title:h._("__JHASH__l0RVYUp8wDd__JHASH__")}];function e(a){return[{icon:k.jsx(c("IGDSInsightsPanoOutlineIcon.react"),{alt:h._("__JHASH__pZDpw1Nhy-1__JHASH__"),size:n}),subtitle:h._("__JHASH__aKveP0t3ohC__JHASH__"),title:h._("__JHASH__NYaPwzRLl0Y__JHASH__")},{icon:k.jsx(c("IGDSAdsPanoOutlineIcon.react"),{alt:h._("__JHASH__zYmBkefcgQ6__JHASH__"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._("__JHASH__DoCGpD7uAXI__JHASH__"):h._("__JHASH__aR7l-mOfcB6__JHASH__"),title:a===d("PolarisProfessionalConversionUtils").InterestAccount.business?h._("__JHASH__3k9O8OOznRQ__JHASH__"):h._("__JHASH__2X59bfEcdkx__JHASH__")},{icon:k.jsx(c("IGDSMailPanoOutlineIcon.react"),{alt:h._("__JHASH__sPGR3MGB139__JHASH__"),size:n}),subtitle:h._("__JHASH__HSHBtGAFVIw__JHASH__"),title:h._("__JHASH__aaepJk7EBx2__JHASH__")}]}function f(a,b){return[{icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._("__JHASH__mXLTK0zFv3X__JHASH__"),size:n}),subtitle:t(b)},{icon:k.jsx(c("IGDSDeviceDesktopPanoOutlineIcon.react"),{alt:h._("__JHASH__q06PxZ2GMkL__JHASH__"),size:n}),subtitle:a===d("PolarisProfessionalConversionUtils").InterestAccount.media_creator?v:u}]}var E=h._("__JHASH__U82QIF_N2Me__JHASH__"),F=h._("__JHASH__MXaeH_gFTyU__JHASH__"),G=h._("__JHASH__hJXZJfrMd_i__JHASH__");function H(a){return{icon:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:(a=a)!=null?a:"",size:o}),subtitle:h._("__JHASH__pz8_n9RaAB4__JHASH__"),title:h._("__JHASH___pTPW65jrXW__JHASH__")}}function I(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._("__JHASH__hRP31lbY7sw__JHASH__"),title:h._("__JHASH__DVE1Kvps1pg__JHASH__")}}function J(){return{icon:k.jsx(k.Fragment,{}),subtitle:h._("__JHASH__V2hl6zGbmDl__JHASH__"),title:h._("__JHASH__vAXpOUYfpw9__JHASH__")}}var K=h._("__JHASH__2LLHfc3eVJF__JHASH__"),L=h._("__JHASH__BG3s1HbBQk7__JHASH__"),M=" \xb7 ";function N(a){return{icon:k.jsx(k.Fragment,{}),subtitle:h._("__JHASH__v2y_yhQAyy4__JHASH__",[h._param("whatsapp phone ",a)]),title:h._("__JHASH__A6qdVaQC8v-__JHASH__")}}function O(a,b){return{icon:k.jsx(c("IGDSWhatsappLogoOutlineIcon.react"),{alt:h._("__JHASH__sWVJExfmjO5__JHASH__"),size:m}),subtitle:h._("__JHASH__lLdxyfjOpIe__JHASH__",[h._param("whatsapp business name",a)]),title:h._("__JHASH__1ZwHChIbvvp__JHASH__",[h._param("whatsapp phone ",b)])}}function P(a,b,d){return{icon:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:(a=a)!=null?a:"",size:m,username:(a=b)!=null?a:""}),subtitle:h._("__JHASH__RmBALBX8t3i__JHASH__",[h._param("instagram business category",d)]),title:h._("__JHASH___ppouxT01rN__JHASH__",[h._param("instagram business name",b)])}}function Q(a){return{icon:k.jsx(c("IGCoreImage.react"),{alt:h._("__JHASH__vp4Xy0kwTJZ__JHASH__"),src:{light:i("162687")}}),subtitle:h._("__JHASH__e5S4PqQFdVq__JHASH__",[h._param("whatsapp business name",a)]),title:h._("__JHASH__eH8_POuhEU-__JHASH__")}}var R={icon:k.jsx(c("IGDSDevicePhonePanoOutlineIcon.react"),{alt:h._("__JHASH__mXLTK0zFv3X__JHASH__"),size:n}),subtitle:h._("__JHASH__QVJaSqpYRVV__JHASH__")};g.ICON_SIZE=n;g.DIVIDER_PADDING=p;g.CATEGORY_SELECTION_CARD_CONFIGS=q;g.CONTACT_INFO_CARD_CONFIGS=r;g.getConfirmationBody=t;g.CREATOR_CONFIRMATION_CARD_CONFIGS=w;g.BUSINESS_CONFIRMATION_CARD_CONFIGS=s;g.SWITCHBACK_PERSONAL_CARD_CONFIGS=x;g.SWITCHBACK_PERSONAL_CARD_FOR_MV4B_CONFIGS=y;g.CREATOR_PRIVACY_CARD_CONFIGS=z;g.BUSINESS_PRIVACY_CARD_CONFIGS=A;g.CREATOR_CARD_CONFIGS=B;g.BUSINESS_CARD_CONFIGS=C;g.getGenericCardConfigs=a;g.getAccountSelectionCardConfigs=b;g.CREATOR_VALUE_PROPS=D;g.getBusinessOrGenericValueProps=e;g.getConfirmationValueProps=f;g.CONVERSION_ERROR=E;g.CONVERSION_NO_CONTACT_INFO_ERROR=F;g.SWITCHED_TO_PERSONAL_ACCOUNT=G;g.getContextPageHeaderConfigs=H;g.getAddWhatsAppCategoryModalConfigs=I;g.getAddWhatsAppPageHeaderConfigs=J;g.INSTAGRAM=K;g.WHATSAPP=L;g.INTERPUNCT=M;g.getAddWhatsAppPagePrelinkedWhatsAppConfigs=N;g.getAddWhatsAppPageBodyWhatsAppConfigs=O;g.getAddWhatsAppPageBodyInstagramConfigs=P;g.getWhatsAppLinkCompletionHeaderConfigs=Q;g.WHATSAPP_LINK_COMPLETION_BODY_CONFIGS=R}),226);
__d("PolarisUserActionSetProfessionalAccountStatusForUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{isProfessionalAccount:a,type:"SET_PROFESSIONAL_ACCOUNT_STATUS_FOR_USER"}}f.setProfessionalAccountStatusForUser=a}),66);
__d("PolarisProfessionalConversionActions",["PolarisConfig","PolarisInstapi","PolarisProfessionalAccountLogger","PolarisProfessionalAccountLoggerUtils","PolarisProfessionalConversionCardTypeConfigs.react","PolarisProfessionalConversionUtils","PolarisToastActions","PolarisUserActionSetProfessionalAccountStatusForUser","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("PolarisInstapi").apiGet("/api/v1/business/account/get_suggested_categories/",{}).then(function(a){return a.data})}function i(){return d("PolarisInstapi").apiGet("/api/v1/business/account/get_professional_conversion_nux_configuration",{query:{is_professional_signup_flow:!1}}).then(function(a){return a.data})}function j(){return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{entry_point:d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings,to_account_type:Number(d("PolarisProfessionalConversionUtils").encodeInterestAccountType(d("PolarisProfessionalConversionUtils").InterestAccount.personal))}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function k(a){return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{to_account_type:Number(d("PolarisProfessionalConversionUtils").encodeInterestAccountType(a))}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function l(a,b,c,e,f,g,h){e=e!==""?JSON.stringify({business_contact_method:"CALL",public_phone_number:e}):"";f=f+a+g!==""?JSON.stringify({address_street:f,city_id:a,zip:g}):"";a={business_address:f,entry_point:c,public_email:b,public_phone_contact:e,should_show_public_contacts:h===!0?1:0};return d("PolarisInstapi").apiPost("/api/v1/accounts/update_business_info/",{body:a}).then(function(a){return a.data})}function m(a){var b=d("PolarisProfessionalConversionUtils").encodeInterestAccountType(a.accountType);return d("PolarisInstapi").apiPost("/api/v1/business/account/convert_account/",{body:{category_id:a.categoryId,create_business_id:a.createBusinessManager,entry_point:a.entryPoint,preferred_business_id:a.preferredBusinessId,set_public:!0,should_bypass_contact_check:String(!0),should_show_category:a.shouldShowCategory===!0?1:0,to_account_type:Number(b)}},{options:{timeout:d("PolarisProfessionalConversionUtils").IGPCP_TIMEOUT}}).then(function(a){return a.data})}function n(){return{type:"GO_FORWARD"}}function a(){return{type:"GO_BACK"}}function b(){return{type:"RESET_CATEGORIES"}}function o(a){return function(b,c){c=c();c=c.professionalConversion;var e=c.conversionFlowOrder;e=e.filter(function(a){return a!==d("PolarisProfessionalConversionUtils").ConversionStep.edit_contact_info});var f=c.entryPoint===d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings||c.entryPoint===d("PolarisProfessionalAccountLoggerUtils").EntryPoint.page_settings;f=a===d("PolarisProfessionalConversionUtils").InterestAccount.business&&Boolean(c.whatsappUserNonce)!==!0&&f&&c.professionalConversionNuxConfig.should_show_edit_contact_info_step;f&&e.splice(-1,0,d("PolarisProfessionalConversionUtils").ConversionStep.edit_contact_info);b({newConversionFlowOrder:e,type:"SET_NUX_CONTACT_INFO_ELIGIBILITY"})}}function p(a){return{creatorBusinessConversionRequestInFlight:a,type:"SET_CREATOR_BUSINESS_CONVERSION_REQUEST_IN_FLIGHT"}}function q(a){return{requestInFlight:a,type:"SET_REQUEST_IN_FLIGHT"}}function r(a){return{toastMessage:a,type:"SET_TOAST_MESSAGE"}}function e(){return r("")}function f(){return function(a,b){b=b();var c=b.professionalConversion,e=c.logger;return h().then(function(b){var f=[];b.categories.forEach(function(a){var b;f.push({category_account_type:(b=a.category_account_type)!=null?b:"",category_id:(b=a.category_id)!=null?b:"",category_name:(b=a.category_name)!=null?b:""})});a({categories:f,type:"CATEGORIES_LOADED"});b={data_count:String(f.length)};e&&c.accountType&&e.logFetchData(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,b)},function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(e){e.logFetchDataError(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,(a=a.responseObject)==null?void 0:a.error_identifier,b)}})["catch"](function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(e){e.logFetchDataError(d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.choose_category,d("PolarisProfessionalAccountLoggerUtils").Component.suggested_category,(a=a.responseObject)==null?void 0:a.error_identifier,b)}})}}function s(a,b,c,e,f,g,h){return function(i,j){j=j();var k=j.professionalConversion,m=k.logger;return l(a,b,c,e,f,g,h).then(function(){i(q(!1));if(m&&k.accountType){var c=d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType);m.logSubmit(c,d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,{address:f,city:a,email:b,phone:e,should_show_public_contacts:h===!0?"true":"false",zip_code:g});m.logFinishStep(c,d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info)}i(n())},function(c){var j;i(q(!1));j=((j=c.responseObject)==null?void 0:j.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;i(d("PolarisToastActions").showToast({text:j}));if(m&&k.accountType){m.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,(j=c.responseObject)==null?void 0:j.error_identifier,(j=c.responseObject)==null?void 0:j.message,{address:f,city:a,email:b,phone:e,should_show_public_contacts:h===!0?"true":"false",zip_code:g})}})["catch"](function(a){var b;i(q(!1));b=((b=a.responseObject)==null?void 0:b.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;i(d("PolarisToastActions").showToast({text:b}));if(m&&k.accountType){m.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(k.accountType),d("PolarisProfessionalAccountLoggerUtils").Step.edit_contact_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}})}}function t(a){return function(b,c){c=c();var e=c.professionalConversion,f=e.logger,g=e.isEligibleForATStoNUX?d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion:d("PolarisProfessionalConversionUtils").getLoggingFlow(a);c=e.professionalConversionNuxConfig.should_show_edit_contact_info_step;var h={should_show_edit_contact_info_step:c===!0?"true":"false"};return i().then(function(c){f&&f.logFetchData(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,h),b({professionalConversionNuxConfig:{should_show_edit_contact_info_step:c.should_show_edit_contact_info_step},type:"SET_PROFESSIONAL_CONVERSION_NUX_CONFIG"}),b(o(a)),b(q(!1)),b(n())},function(c){b(o(a));if(f){var h;f.logFetchDataError(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,(h=c.responseObject)==null?void 0:h.error_identifier,(h=c.responseObject)==null?void 0:h.message)}b(q(!1));b(n())})["catch"](function(c){b(o(a));if(f){var h;f.logFetchDataError(g,e.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.nux_config,(h=c.responseObject)==null?void 0:h.error_identifier,(h=c.responseObject)==null?void 0:h.message)}b(q(!1));b(n())})}}function u(a){return function(b,c){c=c();c=c.professionalConversion;var e=c.logger;return k(a).then(function(){b(t(a)),b(z(a)),e&&(e.logSubmit(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional),e.logFinishStep(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection))},function(a){var c;b(q(!1));c=(c=(c=a.responseObject)==null?void 0:c.message)!=null?c:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;b(d("PolarisToastActions").showToast({text:c}));if(e){e.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(c=a.responseObject)==null?void 0:c.error_identifier,(c=a.responseObject)==null?void 0:c.message)}})["catch"](function(a){var c;b(q(!1));c=(c=(c=a.responseObject)==null?void 0:c.message)!=null?c:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;b(d("PolarisToastActions").showToast({text:c}));if(e){e.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion,d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(c=a.responseObject)==null?void 0:c.error_identifier,(c=a.responseObject)==null?void 0:c.message)}})}}function v(a,b,c){return function(e,f){f=f();f=f.professionalConversion;var g=f.logger;f=k(a).then(function(){e(z(a));b!=null&&e(d("PolarisToastActions").showToast({text:b}));if(g){var f;g.logSubmit((f=d("PolarisProfessionalAccountLoggerUtils")).Flow.business_conversion,f.Step.switch_professional_account_type,f.Component["continue"]);g.logFinishStep(f.Flow.business_conversion,f.Step.switch_professional_account_type)}c&&c()},function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;e(d("PolarisToastActions").showToast({text:b}));if(g){g.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.business_conversion,d("PolarisProfessionalAccountLoggerUtils").Step.switch_professional_account_type,d("PolarisProfessionalAccountLoggerUtils").Component["continue"],(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}})["catch"](function(a){var b;b=(b=(b=a.responseObject)==null?void 0:b.message)!=null?b:d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;e(d("PolarisToastActions").showToast({text:b}));if(g){g.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Flow.business_conversion,d("PolarisProfessionalAccountLoggerUtils").Step.switch_professional_account_type,d("PolarisProfessionalAccountLoggerUtils").Component["continue"],(b=a.responseObject)==null?void 0:b.error_identifier,(b=a.responseObject)==null?void 0:b.message)}});function h(){e(p(!1))}f.then(h,h)}}function w(){return function(a,b){b=b();var c=b.professionalConversion,e=c.logger,f=c.isEligibleForATStoNUX?d("PolarisProfessionalAccountLoggerUtils").Flow.interest_account_conversion:d("PolarisProfessionalConversionUtils").getLoggingFlow(c.accountType);return m(c).then(function(b){e&&(e.logSubmit(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional),e.logFinishStep(f,c.conversionStep));b=d("PolarisProfessionalConversionUtils").decodeInterestAccountType(b.user.account_type);c.isEligibleForATStoNUX&&a(z(b));a(t(b))},function(b){var g;a(q(!1));g=((g=b.responseObject)==null?void 0:g.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:g}));if(e&&c.accountType){e.logSubmitError(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(g=b.responseObject)==null?void 0:g.error_identifier,(g=b.responseObject)==null?void 0:g.message)}})["catch"](function(b){var g;a(q(!1));g=((g=b.responseObject)==null?void 0:g.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:g}));if(e&&c.accountType){e.logSubmitError(f,c.conversionStep,d("PolarisProfessionalAccountLoggerUtils").Component.switch_to_professional,(g=b.responseObject)==null?void 0:g.error_identifier,(g=b.responseObject)==null?void 0:g.message)}})}}function x(a){var b=a.logger,c=a.onError,e=a.onSuccess;j().then(function(){b&&b.logSubmit(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button),e()},function(a){var e;e=((e=a.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(b){var f;b.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(f=a.responseObject)==null?void 0:f.error_identifier,(f=a.responseObject)==null?void 0:f.message)}c(e)})["catch"](function(a){var e;e=((e=a.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;if(b){var f;b.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(f=a.responseObject)==null?void 0:f.error_identifier,(f=a.responseObject)==null?void 0:f.message)}c(e)})}function y(){return function(a,b){b=b();b=b.professionalConversion;var c=b.logger;return j().then(function(){a(d("PolarisUserActionSetProfessionalAccountStatusForUser").setProfessionalAccountStatusForUser(!1)),a(q(!1)),a(r(d("PolarisProfessionalConversionCardTypeConfigs.react").SWITCHED_TO_PERSONAL_ACCOUNT)),c&&c.logSubmit(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button)},function(b){var e;a(q(!1));e=((e=b.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:e}));if(c){c.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(e=b.responseObject)==null?void 0:e.error_identifier,(e=b.responseObject)==null?void 0:e.message)}})["catch"](function(b){var e;a(q(!1));e=((e=b.responseObject)==null?void 0:e.message)||d("PolarisProfessionalConversionCardTypeConfigs.react").CONVERSION_ERROR;a(d("PolarisToastActions").showToast({text:e}));if(c){c.logSubmitError(d("PolarisProfessionalConversionUtils").getLoggingFlow(d("PolarisProfessionalConversionUtils").InterestAccount.personal),d("PolarisProfessionalAccountLoggerUtils").Step.switch_back,d("PolarisProfessionalAccountLoggerUtils").Component.switch_back_button,(e=b.responseObject)==null?void 0:e.error_identifier,(e=b.responseObject)==null?void 0:e.message)}})}}function z(a){return function(b,c){c=c();c=c.professionalConversion;b({accountType:a,type:"SET_ACCOUNT_TYPE"});(a===d("PolarisProfessionalConversionUtils").InterestAccount.business||c.accountType===d("PolarisProfessionalConversionUtils").InterestAccount.business)&&b(o(a))}}function A(a){return{categoryId:a,type:"CATEGORY_CHOSEN"}}function B(a){return{shouldShowCategory:a,type:"SHOULD_SHOW_CATEGORY_CHOSEN"}}function C(a){return{shouldShowContact:a,type:"SHOULD_SHOW_CONTACT_INFO"}}function D(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={account_type:a,app_id:i,category_id:e,collect_contact_info:f.toString(),create_business_manager:g.toString(),from:h,preferred_business_id:m,show_context_sceen:o.toString()};s=Object.entries(s).reduce(function(a,b){var c=b[0];b=b[1];b!=null&&(a[c]=b);return a},{});a=a!=null&&a in d("PolarisProfessionalConversionUtils").InterestAccount?d("PolarisProfessionalConversionUtils").InterestAccount[a]:d("PolarisProfessionalConversionUtils").InterestAccount.unknown;i=i===""?null:i;m=m===""?null:m;e=e===""?null:e;h=h==null||h===""?d("PolarisProfessionalAccountLoggerUtils").EntryPoint.ig_web_settings:h;k=k===""?null:k;j=j===""?null:j;n=n;var t=new(d("PolarisProfessionalAccountLogger").ProfessionalAccountLogger)(d("PolarisConfig").getViewerId(),c("uuidv4")(),h,i,j,k,n);t.logEnter(d("PolarisProfessionalAccountLoggerUtils").Step.init,s);s=[];o&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.context);n&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.business_login_info);(a===d("PolarisProfessionalConversionUtils").InterestAccount.unknown||a===d("PolarisProfessionalConversionUtils").InterestAccount.personal)&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.account_type_selection);s.push(d("PolarisProfessionalConversionUtils").ConversionStep.intro);e==null&&s.push(d("PolarisProfessionalConversionUtils").ConversionStep.choose_category);s.push(d("PolarisProfessionalConversionUtils").ConversionStep.confirmation);o=l===""?null:l;n=r===""?null:r;l=p===""?null:p;r=q===""?null:q;return{accountType:a,appDisplayName:b,categoryId:e,collectContactInfo:f,conversionFlowOrder:s,createBusinessManager:g,entryPoint:h,fbUserId:k,fbUserNonce:o,isEligibleForATStoNUX:!1,logger:t,pageId:j,preferredBusinessId:m,sourceAppId:i,type:"INIT_PROFESSIONAL_CONVERSION_FLOW",whatsappDeeplink:l,whatsappLinkRequestId:r,whatsappUserNonce:n}}g.goForward=n;g.goBack=a;g.resetCategories=b;g.setCreatorBusinessConversionRequestInFlight=p;g.setRequestInFlight=q;g.clearToastMessage=e;g.loadCategories=f;g.saveContactInfo=s;g.overrideAccountType=u;g.switchToAccountType=v;g.convertToProfessionalAccount=w;g.convertToPersonalAccountAction=x;g.convertToPersonalAccount_LEGACY=y;g.setAccountType=z;g.categoryChosen=A;g.shouldShowCategoryChosen=B;g.shouldShowContactInfo=C;g.initProfessionalConversionFlow=D}),98);
__d("PolarisSettingsActionLoadConfigForCommentFilteringPage",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.configResponse;a=a.keywords;return{commentFilteringConfig:!b.disabled,commentFilteringKeywords:a,type:"COMMENT_FILTERING_PAGE_LOADED"}}f.loadConfigForCommentFilteringPage=a}),66);
__d("PolarisSettingsActionLoadCookieSettingsPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a||h(0,65509);a={offsiteTrackingEnabled:a.offsite_tracking_enabled||!1,shouldShowConsentSettings:a.should_show_consent_settings||!1,thirdPartyCookiesEnabled:a.third_party_cookies_enabled||!1};return{formData:a,type:"COOKIE_SETTINGS_PAGE_LOADED"}}g.loadCookieSettingsPage=a}),98);
__d("PolarisSettingsActionLoadEmailsSentPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.data;a||h(0,51683);a={otherEmails:a.other_emails.emails,securityEmails:a.security_emails.emails};return{formData:a,type:"EMAILS_SENT_PAGE_LOADED"}}g.loadEmailsSentPage=a}),98);
__d("PolarisSettingsActionLoadKeywordsForCommentFilteringPage",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.config;a=a.keywordsResponse;a=[].concat(a.keywords).sort().join(", ");return{commentFilteringConfig:b,commentFilteringKeywords:a,type:"COMMENT_FILTERING_PAGE_LOADED"}}f.loadKeywordsForCommentFilteringPage=a}),66);
__d("PolarisSettingsActionLoadLoginActivityPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.data;a||h(0,51685);a={sessions:a.sessions.map(function(a){return babelHelpers["extends"]({},a,{isConfirmed:!1,isCurrent:a.is_current,loginTimestamp:a.login_timestamp,timeStamp:a.timestamp})}),suspiciousLogins:a.suspicious_logins.map(function(a){return babelHelpers["extends"]({},a,{isConfirmed:!1,isCurrent:a.is_current,loginId:a.id,loginTimestamp:a.login_timestamp,timeStamp:a.timestamp})})};return{formData:a,type:"LOGIN_ACTIVITY_PAGE_LOADED"}}g.loadLoginActivityPage=a}),98);
__d("PolarisSettingsActionLoadPrivacyAndSecurityPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b;a||h(0,51684);b={disallowStoryReshare:{loading:!1,value:a.disallow_story_reshare||!1},feedPostReshareDisabled:{loading:!1,value:a.feed_post_reshare_disabled||!1},isEligibleForSeoIndexing:{loading:!1,value:(b=a.is_eligible_for_seo_indexing)!=null?b:null},isEmbedsDisabled:{loading:!1,value:a.is_embeds_disabled||!1},isInterestTopicsEnabled:{loading:!1,value:a.is_interest_topics_enabled||!1},offsiteTrackingEnabled:{loading:!1,value:a.offsite_tracking_enabled||!1},presenceDisabled:{loading:!1,value:a.presence_disabled||!1},privateAccount:{loading:!1,value:a.private_account||!1},shouldHideTwoFactor:{loading:!1,value:a.should_hide_two_factor||!1},shouldShowConsentSettings:{loading:!1,value:a.should_show_consent_settings||!1},thirdPartyCookiesEnabled:{loading:!1,value:a.third_party_cookies_enabled||!1},twoFactorEnabled:{loading:!1,value:a.two_factor_enabled||!1},userCallSettings:{loading:!1,value:a.user_call_settings||"off"},usertagReviewEnabled:{loading:!1,value:a.usertag_review_enabled||!1}};return{formData:b,type:"PRIVACY_AND_SECURITY_PAGE_LOADED"}}g.loadPrivacyAndSecurityPage=a}),98);
__d("PolarisSettingsActionLoadProfileEditPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a=a.form_data;a||h(0,51686);a={bio:a.biography||"",bioLinksForEditPage:a.bio_links_for_web_edit_only,birthday:a.birthday||null,businessAccount:a.business_account||!1,chainingEnabled:a.chaining_enabled||!1,email:a.email||"",fbBirthday:a.fb_birthday||null,fullName:a.first_name||"",gender:a.gender,isEmailConfirmed:a.is_email_confirmed||!1,isPhoneConfirmed:a.is_phone_confirmed||!1,nameAlternateCtaLink:a.name_alternate_cta_link||null,nameAlternateCtaMessage:a.name_alternate_cta_message||null,nameAlternateMessage:a.name_alternate_message||null,nameDisabled:a.name_disabled||null,phoneNumber:a.phone_number||"",profileEditParams:a.profile_edit_params||null,trustedDays:a.trust_days||14,trustedUsername:a.trusted_username||"",username:a.username,usernameAdditionalCtaLink:a.username_additional_cta_link||null,usernameAdditionalCtaMessage:a.username_additional_cta_message||null,usernameAdditionalMessage:a.username_additional_message||null,website:a.external_url||""};return{formData:a,type:"PROFILE_EDIT_PAGE_LOADED"}}g.loadProfileEditPage=a}),98);
__d("PolarisSettingsActionLoadTwoFactorAuthPage",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){a||h(0,51687);return{phoneNumber:a.phone_number||"",showTrustedDevices:a.show_trusted_devices||!1,totpTwoFactorEnabled:a.eligible_for_totp_two_factor?a.totp_two_factor_enabled||!1:void 0,twoFactorEnabled:a.two_factor_enabled||!1,type:"TWO_FACTOR_AUTH_PAGE_LOADED"}}g.loadTwoFactorAuthPage=a}),98);
__d("PolarisReduxSettingsActions",["PolarisGenderActions","PolarisProfessionalConversionActions","PolarisSettingsActionLoadConfigForCommentFilteringPage","PolarisSettingsActionLoadCookieSettingsPage","PolarisSettingsActionLoadEmailsSentPage","PolarisSettingsActionLoadKeywordsForCommentFilteringPage","PolarisSettingsActionLoadLoginActivityPage","PolarisSettingsActionLoadPrivacyAndSecurityPage","PolarisSettingsActionLoadProfileEditPage","PolarisSettingsActionLoadTwoFactorAuthPage"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){b(d("PolarisSettingsActionLoadLoginActivityPage").loadLoginActivityPage({data:a}))}};b=function(a){return function(b){b(d("PolarisSettingsActionLoadProfileEditPage").loadProfileEditPage(a));b(d("PolarisGenderActions").loadGenderInfo(String(a.form_data.gender),(b=a.form_data.custom_gender)!=null?b:""))}};c=function(a){return function(b){b(d("PolarisSettingsActionLoadPrivacyAndSecurityPage").loadPrivacyAndSecurityPage(a))}};e=function(a){return function(b,c){b(d("PolarisSettingsActionLoadKeywordsForCommentFilteringPage").loadKeywordsForCommentFilteringPage({config:c().settings.commentFilteringConfig,keywordsResponse:a}))}};f=function(a){return function(b,c){b(d("PolarisSettingsActionLoadConfigForCommentFilteringPage").loadConfigForCommentFilteringPage({configResponse:a,keywords:c().settings.commentFilteringKeywords}))}};var h=function(a){return function(b){b(d("PolarisSettingsActionLoadEmailsSentPage").loadEmailsSentPage(a))}},i=function(a){return function(b){b(d("PolarisSettingsActionLoadCookieSettingsPage").loadCookieSettingsPage(a))}},j=function(a){return function(b){b(d("PolarisProfessionalConversionActions").initProfessionalConversionFlow(a.account_type,a.app_display_name,a.category_id,a.collect_contact_info||!1,a.create_business_manager||!1,a.entry_point,a.app_id,a.fb_user_id,a.fb_user_nonce,a.page_id,a.preferred_business_id,a.show_business_login_info_screen||!1,a.show_context_screen||!1,a.whatsapp_deeplink,a.whatsapp_link_request_id,a.whatsapp_user_nonce))}},k=function(a){return function(b){b(d("PolarisSettingsActionLoadTwoFactorAuthPage").loadTwoFactorAuthPage(a))}};g.setupLoginActivityPage=a;g.setupProfileEditPage=b;g.setupPrivacyAndSecurityPage=c;g.setupKeywordsForCommentFilteringPage=e;g.setupConfigForCommentFilteringPage=f;g.setupEmailsSentPage=h;g.setupCookieSettingsPage=i;g.setupConvertToProfessionalAccountPage=j;g.setupTwoFactorAuthPage=k}),98);
__d("PolarisPostGifComment.react",["IGDSBox.react","IGDSText.react","InstagramODS","PolarisExternalLink.react","PolarisFastLink.react","PolarisPostStrings","PolarisReactRedux.react","PolarisReduxSettingsActions","PolarisRoutes","react","usePolarisGetQuery","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=b.c,m="https://help.instagram.com/cookie_settings";function n(){return i.jsx(c("IGDSText.react"),{color:"primaryButton",weight:"semibold",children:d("PolarisPostStrings").GIF_COMMENT_ALLOW_COOKIES_TEXT})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=l(2),e=a.shouldShowConsentSettings;a=a.thirdPartyCookiesEnabled;if(e&&!a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("PolarisFastLink.react"),{href:d("PolarisRoutes").COOKIE_SETTINGS_PATH,children:i.jsx(n,{})}),b[0]=e):e=b[0];return e}else{b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("PolarisExternalLink.react"),{href:m,children:i.jsx(n,{})}),b[1]=a):a=b[1];return a}}function p(){var a=l(3),b=c("usePolarisGetQuery")("/api/v1/accounts/cookie_settings/web_info/");c("usePolarisGetQuerySetup")(b,d("PolarisReduxSettingsActions").setupCookieSettingsPage);b=d("PolarisReactRedux.react").useSelector(r);var e=d("PolarisReactRedux.react").useSelector(q);if(!b){var f;a[0]!==e||a[1]!==b?(f=i.jsx(c("IGDSBox.react"),{marginTop:1,children:i.jsxs(c("IGDSText.react"),{color:"secondaryText",children:[d("PolarisPostStrings").GIF_COMMENT_ERROR_EXPLANATION," ",i.jsx(o,{shouldShowConsentSettings:e,thirdPartyCookiesEnabled:b})]})}),a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}}function q(a){return a.settings.privacyAndSecurityData.shouldShowConsentSettings.value}function r(a){return a.settings.privacyAndSecurityData.thirdPartyCookiesEnabled.value}function a(a){var b=l(11);a=a.gifSrc;var d=k(!1),e=d[0],f=d[1];b[0]!==a?(d=[a],b[0]=a,b[1]=d):d=b[1];j(s,d);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(d=function(){f(!0),c("InstagramODS").incr("web.comments.gif_comment.img_error")},b[2]=d):d=b[2];d=d;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g="x107yiy2 xv8uw2v x1tfwpuw x2g32xy",b[3]=g):g=b[3];b[4]!==a?(g=i.jsx("img",{className:g,onError:d,src:a}),b[4]=a,b[5]=g):g=b[5];b[6]!==e?(d=e&&i.jsx(p,{}),b[6]=e,b[7]=d):d=b[7];b[8]!==g||b[9]!==d?(a=i.jsxs(c("IGDSBox.react"),{marginTop:2,children:[g,d]}),b[8]=g,b[9]=d,b[10]=a):a=b[10];return a}function s(){c("InstagramODS").incr("web.comments.gif_comment.view_impression")}g["default"]=a}),98);
__d("PolarisPostShareUtils.next.react",["PolarisLinkBuilder","PolarisMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return!a&&b}function h(a,b){return a===d("PolarisMediaConstants").MediaTypes.VIDEO?d("PolarisLinkBuilder").buildClipsMediaLink(b):d("PolarisLinkBuilder").buildMediaLink(b)}function b(a,b){a=window.location.origin+h(a,b);return a+"?utm_source=ig_web_copy_link"}g.getIsShareable=a;g.getShareURL=h;g.getCopyUrl=b}),98);
__d("usePolarisHidePostHideMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7790194804371102"}),null);
__d("usePolarisHidePostHideMutation.graphql",["usePolarisHidePostHideMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"inputData"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"inputData"}],concreteType:"XDTExploreReportResponse",kind:"LinkedField",name:"xdt_api__v1__discover__explore_report",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisHidePostHideMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisHidePostHideMutation",selections:c},params:{id:b("usePolarisHidePostHideMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisHidePostHideMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisHidePostUnhideMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7981117125265622"}),null);
__d("usePolarisHidePostUnhideMutation.graphql",["usePolarisHidePostUnhideMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"inputData"}],c=[{alias:null,args:[{kind:"Variable",name:"request",variableName:"inputData"}],concreteType:"XDTExploreReportResponse",kind:"LinkedField",name:"xdt_api__v1__discover__explore_report_undo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisHidePostUnhideMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisHidePostUnhideMutation",selections:c},params:{id:b("usePolarisHidePostUnhideMutation_instagramRelayOperation"),metadata:{is_distillery:!0},name:"usePolarisHidePostUnhideMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("usePolarisHidePost",["CometRelay","FBLogger","InstagramODS","polarisGetXDTMediaDict","react","usePolarisHidePostHideMutation.graphql","usePolarisHidePostUnhideMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");f.useCallback;var k=f.c;function a(a){var b=k(2),c;b[0]!==a?(c=babelHelpers["extends"]({},a,{isHiding:!0}),b[0]=a,b[1]=c):c=b[1];return l(c)}function e(a){var b=k(2),c;b[0]!==a?(c=babelHelpers["extends"]({},a,{isHiding:!1}),b[0]=a,b[1]=c):c=b[1];return l(c)}function l(a){var e=k(10),f=a.inventorySource,g=a.isHiding,j=a.onSuccess,l=a.postId,m=a.reason;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h!==void 0?h:h=b("usePolarisHidePostHideMutation.graphql"),e[0]=a):a=e[0];a=d("CometRelay").useMutation(a);var n=a[0];e[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=i!==void 0?i:i=b("usePolarisHidePostUnhideMutation.graphql"),e[1]=a):a=e[1];a=d("CometRelay").useMutation(a);var o=a[0];e[2]!==f||e[3]!==l||e[4]!==m||e[5]!==g||e[6]!==n||e[7]!==j||e[8]!==o?(a=function(){var a={container_module:"feed_timeline",inventory_source:f,m_pk:l,selected_reason:m,sfplt_source:"sfplt_in_menu"};if(g){var b=function(a){a=c("polarisGetXDTMediaDict")(a,l);a==null?void 0:a.setValue(!0,"is_hidden")};n({onCompleted:function(){c("InstagramODS").incr("web.hide_post.succeeded"),j&&j()},onError:function(a){c("InstagramODS").incr("web.hide_post.failed"),c("FBLogger")("ig_web").catching(a)},optimisticUpdater:b,updater:b,variables:{inputData:a}})}else{b=function(a){a=c("polarisGetXDTMediaDict")(a,l);a==null?void 0:a.setValue(!1,"is_hidden")};o({onCompleted:function(){c("InstagramODS").incr("web.unhide_post.succeeded"),j==null?void 0:j()},onError:function(a){c("InstagramODS").incr("web.unhide_post.failed"),c("FBLogger")("ig_web").catching(a)},optimisticUpdater:b,updater:b,variables:{inputData:a}})}},e[2]=f,e[3]=l,e[4]=m,e[5]=g,e[6]=n,e[7]=j,e[8]=o,e[9]=a):a=e[9];return a}g.usePolarisHidePost=a;g.usePolarisUnhidePost=e}),98);
__d("PolarisPostSuggestedHeader.react",["cx","fbt","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSXPanoOutlineIcon.react","InstagramODS","PolarisGenericStrings","PolarisUA","polarisGetIGFormattedText","react","stylex","usePolarisHidePost"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.c,o={familiarFeedRoot:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingTop:"xz9dl7a",paddingEnd:"x4uap5",paddingBottom:"xsag5q8",paddingStart:"xkhd6sd",$$css:!0},root:{alignItems:"x6s0dn4",borderBottomColor:"xd18jyu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",display:"x78zum5",flexDirection:"x1q0g3np",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0}};function a(a){var b=n(19),e=a.postId,f=a.title;a=a.xstyle;var g;b[0]!==e?(g={inventorySource:"mixed_unconnected",postId:e},b[0]=e,b[1]=g):g=b[1];var h=d("usePolarisHidePost").usePolarisHidePost(g);b[2]!==h?(e=function(){h()},b[2]=h,b[3]=e):e=b[3];g=e;b[4]!==f?(e=f!=null?c("polarisGetIGFormattedText")(f,{className:"_agj9",removeAt:!0}):null,b[4]=f,b[5]=e):e=b[5];f=e;e=d("PolarisUA").isDesktop();var k;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(k=[],b[6]=k):k=b[6];m(p,k);k=(j||(j=c("stylex")))(o.root,e&&o.familiarFeedRoot,a);if(b[7]!==f){a=(e=f)!=null?e:i._("__JHASH__YgIXh21zMTk__JHASH__");b[7]=f;b[8]=a}else a=b[8];b[9]!==a?(e=l.jsx(c("IGDSBox.react"),{alignItems:"start",flex:"grow",justifyContent:"center",children:l.jsx(c("IGDSText.react"),{children:a})}),b[9]=a,b[10]=e):e=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1xfsgkm",b[11]=f):f=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:12}),b[12]=a):a=b[12];b[13]!==g?(f=l.jsx("div",{className:f,children:l.jsx(c("IGDSIconButton.react"),{onClick:g,padding:0,children:a})}),b[13]=g,b[14]=f):f=b[14];b[15]!==k||b[16]!==e||b[17]!==f?(a=l.jsxs("div",{className:k,children:[e,f]}),b[15]=k,b[16]=e,b[17]=f,b[18]=a):a=b[18];return a}function p(){c("InstagramODS").incr("web.post.in_feed_recommendation_header")}g["default"]=a}),226);
__d("PolarisPostToast.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("deferredLoadComponent")(c("requireDeferred")("PolarisPostToastImpl.react").__setRef("PolarisPostToast.react"));function a(a){var b=i(3),d=a.isFeedVariant;a=a.isModal;var e;b[0]!==d||b[1]!==a?(e=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,{isFeedVariant:d,isModal:a})}),b[0]=d,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisPostVariants",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({feed:null,flexible:null,narrow:null,wide:null});g.VARIANTS=a}),98);
__d("PolarisSavedPostsActionEditCollection",["PolarisAPIEditCollection","PolarisGenericStrings","PolarisSavedPostsLogger","Promise","polarisNormalizeCollections"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=a.collectionId,e=a.collectionName,f=a.postIdsToAdd,g=a.postIdsToRemove,i=a.retryHandler,j=a.source,k=a.userId;return function(a){a({collectionId:c,type:"SAVED_COLLECTION_EDIT_PENDING",userId:k});d("PolarisSavedPostsLogger").logEditCollection("attempt",j);return d("PolarisAPIEditCollection").editCollection({collectionId:c,collectionName:e,postIdsToAdd:f,postIdsToRemove:g}).then(function(b){b=d("polarisNormalizeCollections").normalizeCollection(b);a({collection:b,postIdsToAdd:f,postIdsToRemove:g,type:"SAVED_COLLECTION_EDIT_SUCCESS",userId:k});d("PolarisSavedPostsLogger").logEditCollection("success",j)})["catch"](function(e){a({collectionId:c,toast:{actionHandler:i,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE},type:"SAVED_COLLECTION_EDIT_ERRORED",userId:k});d("PolarisSavedPostsLogger").logEditCollection("failure",j);return(h||(h=b("Promise"))).reject(e)})}}g.editCollection=a}),98);
__d("polarisTransformCommentEntities",["PolarisCommentModel","PolarisUserModel","polarisTransformEntities"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;return{comments:c("polarisTransformEntities")((b=a.commentDicts)!=null?b:{},function(a){return c("PolarisCommentModel").fromNativeResponse(a).toReduxStore()}),users:c("polarisTransformEntities")((b=a.userDicts)!=null?b:{},function(a){return c("PolarisUserModel").fromNativeResponse(a).toReduxStore()})}}g["default"]=a}),98);
__d("PolarisThreadedCommentActions",["PolarisAPIGetChildComments","PolarisAPIGetInitialComments","PolarisAPIGetPaginationComments","PolarisLegacyGraphQLPaginationUtils","PolarisPaginationUtils","PolarisThreadedCommentActionConstants","nullthrows","polarisNormalizeComments","polarisTransformCommentEntities"],(function(a,b,c,d,e,f,g){"use strict";var h,i="6544739342301107",j="6718530511526291";function a(a){return{commentPageData:c("nullthrows")(a.shortcode_media),type:"MOBILE_ALL_COMMENTS_PAGE_LOADED"}}function b(a){return{parentId:a,type:"HIDE_CHILD_COMMENTS"}}function e(a){return{parentId:a,type:"SHOW_CHILD_COMMENTS"}}function k(a,b){b=b.map(function(a){return a.pk});var c={};for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f!=null&&a[f]!=null&&(c[f]=a[f])}return c}i=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return a.threadedComments.parentByPostId.get(b).pagination},onError:function(a,b,c){return{fetch:b,postId:c,type:"PARENT_COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,d,e){b=b==null?void 0:(b=b.shortcode_media)==null?void 0:b.edge_media_to_parent_comment;var f={};if(b!=null)for(var g=b.edges,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(h){if(i>=g.length)break;j=g[i++]}else{i=g.next();if(i.done)break;j=i.value}j=j;var k=c("nullthrows")(j.node.edge_threaded_comments);k={comments:k.edges.map(function(a){return a.node}),count:k.count,pageInfo:k.page_info};f[j.node.id]=k}return{childComments:f,comments:b?b.edges.map(function(a){return a.node}):[],count:b&&b.count,fetch:a,hasRankedComments:e,pageInfo:b&&b.page_info,postId:d,type:"PARENT_COMMENT_REQUEST_UPDATED"}},pageSize:(h=d("PolarisThreadedCommentActionConstants")).PARENT_PAGE_SIZE,pagesToPreload:h.PAGES_TO_PRELOAD,queryId:i,queryParams:function(a,b,c){return{shortcode:c}}});h=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a,b){return(a=a.threadedComments.childByParentId[b])==null?void 0:a.pagination},onError:function(a,b,c){return{fetch:b,parentId:c,type:"CHILD_COMMENT_REQUEST_FAILED"}},onUpdate:function(a,b,c){b=b==null?void 0:(b=b.comment)==null?void 0:b.edge_threaded_comments;return{comments:b&&b.edges?b.edges.map(function(a){return a.node}):[],count:b&&b.count,fetch:a,pageInfo:b&&b.page_info,parentId:c,type:"CHILD_COMMENT_REQUEST_UPDATED"}},pageSize:h.CHILD_PAGE_SIZE,pagesToPreload:h.PAGES_TO_PRELOAD,queryId:j,queryParams:function(a){return{comment_id:a}}});function l(a,b,e){var f,g=b.has_more_comments===!0||b.has_more_headload_comments===!0,h=b.has_more_headload_comments===!0,i=g?h?b.next_min_id:b.next_max_id:"";f=(f=b.comment_count)!=null?f:0;b=(b=b.comments)!=null?b:[];var j=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(b).entities);return{comments:k(j.comments,b),count:f,pagination:{end_cursor:i,has_next_page:g,has_previous_page:h},postId:a,sortOrder:e,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADED",users:(b=j.users)!=null?b:{}}}function m(a){return{postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_FAILED"}}function n(a,b,c){return function(e,f){f=f();f=f.threadedComments;if(c!=null&&((f=f.parentByPostId[a])==null?void 0:f.sortOrder)===c)return;e({postId:a,type:"INITIAL_PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetInitialComments").getInitialComments(a,b,c).then(function(b){e(l(a,b,c))})["catch"](function(b){e(m(a))})}}function o(a,b){return function(e,f){var g;f=f();f=f.threadedComments;g=(g=(g=f.parentByPostId[a])==null?void 0:g.pagination)!=null?g:null;f=f.parentByPostId[a].sortOrder;if(g==null)return;var h=d("PolarisPaginationUtils").getEndCursor(g);if(h==null)return;e({postId:a,type:"PARENT_COMMENT_REQUEST_LOADING"});return d("PolarisAPIGetPaginationComments").getPaginationComments(a,h,d("PolarisPaginationUtils").hasPreviousPage(g)===!0,f).then(function(f){var g,h=f.has_more_comments===!0||f.has_more_headload_comments===!0,i=f.has_more_headload_comments===!0,j=h?i?f.next_min_id:f.next_max_id:"";g=(g=f.comment_count)!=null?g:0;f=(f=f.comments)!=null?f:[];var l=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:k(l.comments,f),count:g,hasRankedComments:(f=b)!=null?f:!1,pagination:{end_cursor:j,has_next_page:h,has_previous_page:i},postId:a,type:"PARENT_COMMENT_REQUEST_UPDATED_V2",users:(g=l.users)!=null?g:{}})})["catch"](function(){e({postId:a,type:"PARENT_COMMENT_REQUEST_FAILED_V2"})})}}function p(a,b){return function(e,f){e({parentId:b,type:"CHILD_COMMENT_REQUEST_LOADING"});f=f();f=f.threadedComments;f=(f=f.childByParentId[b])==null?void 0:f.pagination;var g;f!=null&&(g=d("PolarisPaginationUtils").getEndCursor(f));g=(f=g)!=null?f:null;return d("PolarisAPIGetChildComments").getChildComments(a,b,g).then(function(f){var g,h,i,j=f.has_more_head_child_comments===!0||f.has_more_tail_child_comments===!0;g=(g=f.next_max_child_cursor)!=null?g:"";h=(h=f.child_comment_count)!=null?h:0;f=(f=f.child_comments)!=null?f:[];f=c("polarisTransformCommentEntities")(d("polarisNormalizeComments").normalizeComments(f).entities);e({comments:(i=f.comments)!=null?i:{},count:h,pagination:{end_cursor:g,has_next_page:j},parentId:b,postId:a,type:"CHILD_COMMENT_REQUEST_UPDATED_V2",users:(i=f.users)!=null?i:{}})})["catch"](function(){e({parentId:b,type:"CHILD_COMMENT_REQUEST_FAILED_V2"})})}}j=i.next;function f(a,b){return function(c){return c(o(a,b))}}function q(a,b,c){return function(d){return d(n(a,b,c))}}i=h.next;function r(a,b){return function(c){return c(p(a,b))}}function s(a){return function(b){return function(c){c(l(a,b))}}}g.mobileAllCommentsPageLoaded=a;g.hideChildComments=b;g.showChildComments=e;g.initialCommentsError=m;g.requestNextParentCommentPage=j;g.requestNextParentCommentPageV2=f;g.requestInitialComments=q;g.requestNextChildCommentPage=i;g.requestNextChildCommentPageV2=r;g.setupPostComments=s}),98);
__d("PolarisTrackingCodeProvider.react",["PolarisTrackingCodeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=b.c;function a(a){var b=k(10),d=a.children,e=a.isSponsored,f=a.m_pk;a=a.trackingToken;var g=j(c("PolarisTrackingCodeContext")),h;b[0]!==a||b[1]!==e||b[2]!==f?(h=a.length===0?null:{isSponsored:e,m_pk:f,trackingToken:a},b[0]=a,b[1]=e,b[2]=f,b[3]=h):h=b[3];a=h;b[4]!==a||b[5]!==g?(e=[a].concat(g),b[4]=a,b[5]=g,b[6]=e):e=b[6];f=e;h=f;b[7]!==h||b[8]!==d?(a=i.jsx(c("PolarisTrackingCodeContext").Provider,{value:h,children:d}),b[7]=h,b[8]=d,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("PolarisVideoHeight",["PolarisSizing"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){Object.assign(e,{height:"100%",position:"absolute",width:"100%"});var f=null;a.dimensions!=null&&(f=d("PolarisSizing").getHeightPercent(a.dimensions));f!=null&&f!==100&&(b&&(f=Math.min(f,d("PolarisSizing").CAPPED_HEIGHT_PERCENT)),Object.assign(c,{paddingBottom:"calc("+f+"% - 1px)"}),Object.assign(e,{height:"calc(100% + 1px)"}))}g.setVideoHeightCompensation=a}),98);
__d("PolarisVideoPlayButton.react",["cx","fbt","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=i._("__JHASH__WT4Q1op-CT7__JHASH__");function a(a){var b=k(11),c=a.onClick;a=a.showPlayButton;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="_aakh",b[0]=e):e=b[0];var f;b[1]!==a?(f="_aaki _aakj"+(a?" _aakk":"")+" _9zwu",b[1]=a,b[2]=f):f=b[2];b[3]!==f?(a=l.jsx("div",{className:e,children:l.jsx("span",{"aria-label":d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,className:f,role:"button"})}),b[3]=f,b[4]=a):a=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e="_aakl",b[5]=e):e=b[5];b[6]!==c?(f=l.jsx("div",{"aria-label":m,className:e,onClick:c,role:"button",tabIndex:"0"}),b[6]=c,b[7]=f):f=b[7];b[8]!==a||b[9]!==f?(e=l.jsxs(l.Fragment,{children:[a,f]}),b[8]=a,b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("useMaybeLogInstagramAdDirectReshareSend",["InstagramAdDirectReshareSendFalcoEvent","InstagramODS","PolarisContainerModuleUtils","PolarisViewpointActionUtils","polarisAdsSelectors.react","polarisRelationshipSelectors.react","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c;function a(a){var b=i(7),e=a.id,f=a.mediaType,g=a.mpk,h=a.ownerId,k=c("usePolarisAnalyticsContext")(),l=d("polarisAdsSelectors.react").useFeedAdInfo(e,j),m=d("polarisRelationshipSelectors.react").useRelationship(h||"");b[0]!==l||b[1]!==m||b[2]!==k||b[3]!==h||b[4]!==g||b[5]!==f?(a=function(){if(l!=null&&l.ad_id!=null&&l.tracking_token!=null&&m!=null){var a=l.ad_id,b=l.tracking_token,e=d("PolarisContainerModuleUtils").getContainerModule(k);c("InstagramODS").incr("web.ads.feed.share");c("InstagramAdDirectReshareSendFalcoEvent").log(function(){var c;return{a_pk:(c=h)!=null?c:"",ad_id:a,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(m),m_pk:g,m_t:f.toString(),pigeon_reserved_keyword_module:e,source_of_action:e,tracking_token:b}})}},b[0]=l,b[1]=m,b[2]=k,b[3]=h,b[4]=g,b[5]=f,b[6]=a):a=b[6];return a}function j(a){return a}g["default"]=a}),98);
__d("useIGDShareSheetSendPostToOpenRecipients",["InstagramMediaProductTypeName","PolarisDirectActionSendPostToUsers","PolarisInteractionsLogger","PolarisReactRedux.react","PolarisViewpointActionUtils","react","useMaybeLogInstagramAdDirectReshareSend","usePolarisMQTT","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(19),e=c("usePolarisMQTT")(),f=d("PolarisReactRedux.react").useDispatch();if(b[0]!==a.id||b[1]!==a.owner){var g;g=(g=d("PolarisViewpointActionUtils").getMPKForFeedMedia({id:a.id,owner:a.owner}))!=null?g:"";b[0]=a.id;b[1]=a.owner;b[2]=g}else g=b[2];g=g;var h;b[3]!==a?(h=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),b[3]=a,b[4]=h):h=b[4];h=h;var j;b[5]!==a.productType?(j=c("InstagramMediaProductTypeName").cast(a.productType),b[5]=a.productType,b[6]=j):j=b[6];var k=j;j=(j=a.owner)==null?void 0:j.id;var l;b[7]!==a.id||b[8]!==h||b[9]!==g||b[10]!==j?(l={id:a.id,mediaType:h,mpk:g,ownerId:j},b[7]=a.id,b[8]=h,b[9]=g,b[10]=j,b[11]=l):l=b[11];var m=c("useMaybeLogInstagramAdDirectReshareSend")(l);b[12]!==f||b[13]!==a.id||b[14]!==a.mediaOverlayInfo||b[15]!==e||b[16]!==k||b[17]!==m?(h=function(b,c,g,h){f(d("PolarisDirectActionSendPostToUsers").sendPostToUsers({comment:(c=c)!=null?c:void 0,mediaId:a.id,mediaOverlayInfo:a.mediaOverlayInfo,mqtt:e,onError:h,onSuccess:g,productType:k,recipients:b}));m()},b[12]=f,b[13]=a.id,b[14]=a.mediaOverlayInfo,b[15]=e,b[16]=k,b[17]=m,b[18]=h):h=b[18];return c("useStableCallback")(h)}g["default"]=a}),98);
__d("useIGDShareSheetOnSubmitPost",["IGDShareSheetOnSubmitFactory","IGDThreadTTLCUtils","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisPostShareUtils.next.react","asyncToGeneratorRuntime","react","requireDeferred","useIGDShareSheetSendPostToOpenRecipients","useStableCallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j=c("requireDeferred")("getSendPostToInstamadilloRecipient").__setRef("useIGDShareSheetOnSubmitPost");function a(a){var e=i(6),f=c("useIGDShareSheetSendPostToOpenRecipients")(a),g=d("PolarisInteractionsLogger").getMediaTypeFromPost(a),h=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisPostShareUtils.next.react").getShareURL(g,(g=a.code)!=null?g:"");e[0]!==f||e[1]!==a.id||e[2]!==a.owner||e[3]!==a.productType||e[4]!==h?(g=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,e;for(var g=arguments.length,i=new Array(g),k=0;k<g;k++)i[k]=arguments[k];var l=i,m=(yield j.load());return c("IGDShareSheetOnSubmitFactory")(f,m(a.id,(b=a.owner)==null?void 0:b.id,(e=a.owner)==null?void 0:e.username,h),function(b){return d("IGDThreadTTLCUtils").isIGDTTLCEnabledForIGDCandidate(b,a.productType)}).apply(void 0,l)});return function(){return e.apply(this,arguments)}}(),e[0]=f,e[1]=a.id,e[2]=a.owner,e[3]=a.productType,e[4]=h,e[5]=g):g=e[5];return c("useStableCallback")(g)}g["default"]=a}),98);
__d("useNoopDebuggingInfoComponent",[],(function(a,b,c,d,e,f){"use strict";var g=function(){};function a(){return[null,g]}f["default"]=a}),66);
__d("usePolarisMediaSensitivityOverlay",["polarisGetPostFromGraphMediaInterface","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useState,j=b.c;function a(a,b,c,e){var f=j(16),g=i(!0),h=g[0],k=g[1];f[0]!==c?(g=function(a){c&&c(a),k(!1)},f[0]=c,f[1]=g):g=f[1];g=g;var l;f[2]!==a?(l=d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPostOrSidecarItem(a),f[2]=a,f[3]=l):l=f[3];l=l;var m=l;f[4]!==e||f[5]!==a||f[6]!==m||f[7]!==h||f[8]!==b?(l=function(){return e!=null&&e(a)?!1:m!=null&&h&&(b==="profilePage"||b==="profilePageModal"||b==="postPage"||b==="feed"||b==="feedPage"||b==="feedPageModal"||b==="DirectThreadPage"||b==="directThreadPageModal"||b==="reelsTab")},f[4]=e,f[5]=a,f[6]=m,f[7]=h,f[8]=b,f[9]=l):l=f[9];l=l;var n;f[10]!==l?(n=l(),f[10]=l,f[11]=n):n=f[11];l=n;n=l;f[12]!==g||f[13]!==m||f[14]!==n?(l={handleHideSensitivityOverlay:g,mediaOverlayCoverInfo:m,shouldShowSensitivityOverlay:n},f[12]=g,f[13]=m,f[14]=n,f[15]=l):l=f[15];return l}g["default"]=a}),98);
__d("usePolarisSponsoredPostCTAFooterDominantColor",["DateConsts","PolarisAdCTAViewabilityAction","PolarisAdImpressionAction","PolarisFeedCardProvider.react","PolarisUA","PolarisViewpointReact.react","polarisAdsSelectors.react","react","react-forget-runtime","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useContext;var i=b.useEffect,j=b.useRef,k=b.useState,l=b.c,m=4,n=8;function a(a){var b=l(29),e=a.isMediaRendered,f=a.mediaId;a=a.post;var g=d("polarisAdsSelectors.react").useFeedAdInfo(a.id,p),h=k(null),q=h[0],r=h[1];h=k(!1);var s=h[0];h=h[1];var t=j(!1),u=a.isVideo,v=d("react-forget-runtime").useContextWithBailoutExperiment__unstable(d("PolarisFeedCardProvider.react").PolarisFeedCardContext,o),w=v.isCaptionMoreClicked;v=(d("PolarisUA").isDesktop()?n:m)*d("DateConsts").MS_PER_SEC;var x=c("useDebounced")(r,v);b[0]!==f||b[1]!==e||b[2]!==u||b[3]!==g||b[4]!==w||b[5]!==s||b[6]!==x?(v=function(){var a;if(f==null||!e&&u===!1)return;a=g==null?void 0:(a=g.ctaItems)==null?void 0:a.get(f);if(a==null)return;if(w)return r(a.ctaDominantColor);if(s){if(x.isPending())return;t.current===!1?(t.current=!0,x(a.ctaDominantColor)):r(a.ctaDominantColor);return}s||(t.current=!1,x.isPending()?x.reset():r(null))},b[0]=f,b[1]=e,b[2]=u,b[3]=g,b[4]=w,b[5]=s,b[6]=x,b[7]=v):v=b[7];var y=g==null?void 0:g.ctaItems,z;b[8]!==s||b[9]!==x||b[10]!==f||b[11]!==y||b[12]!==e||b[13]!==u||b[14]!==w?(z=[s,x,f,y,e,u,w],b[8]=s,b[9]=x,b[10]=f,b[11]=y,b[12]=e,b[13]=u,b[14]=w,b[15]=z):z=b[15];i(v,z);b[16]!==s?(y=d("PolarisAdCTAViewabilityAction").makeAdCTAViewabilityAction(s,h),b[16]=s,b[17]=y):y=b[17];b[18]!==f?(v=d("PolarisAdImpressionAction").makeAdCTAImpressionAction(f),b[18]=f,b[19]=v):v=b[19];b[20]!==y||b[21]!==v?(z=[y,v],b[20]=y,b[21]=v,b[22]=z):z=b[22];b[23]!==z||b[24]!==a.id?(h={action:z,id:a.id},b[23]=z,b[24]=a.id,b[25]=h):h=b[25];y=d("PolarisViewpointReact.react").useViewpoint(h);b[26]!==q||b[27]!==y?(v={ctaDominantColor:q,ctaFooterViewpointRef:y},b[26]=q,b[27]=y,b[28]=v):v=b[28];return v}function o(a){return[a.isCaptionMoreClicked]}function p(a){return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CAAFetaSavePasswordInterstitialQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8407178725973234"}),null);
__d("CAAFetaSavePasswordInterstitialQuery$Parameters",["CAAFetaSavePasswordInterstitialQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CAAFetaSavePasswordInterstitialQuery_facebookRelayOperation"),metadata:{},name:"CAAFetaSavePasswordInterstitialQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ConsentFlowName",[],(function(a,b,c,d,e,f){a=Object.freeze({ACV_FB_1ST_TIME_3PD_CONSENT:"acv_fb_1st_time_3pd_consent",ACV_FB_CONSENT_DEBUT_2ND:"acv_fb_consent_debut_2nd",ACV_FB_CONSENT_DEBUT_2ND_RECONSIDER:"acv_fb_consent_debut_2nd_reconsider",ACV_FB_CONSENT_DEBUT_BLOCKING:"acv_fb_consent_debut_blocking",ACV_FB_CONSENT_DEBUT_CONFIRMATION:"acv_fb_consent_debut_confirmation",ACV_FB_CONSENT_DEBUT_RECONSIDER:"acv_fb_consent_debut_reconsider",ACV_FB_HEADLINE:"acv_fb_headline",ACV_IG_CONSENT_DEBUT_CONFIRMATION:"acv_ig_consent_debut_confirmation",ACV_INLINE_CONTROL_WINBACKS_HARDMATCHED:"acv_inline_control_winbacks_hardmatched",AD_FREE_SUBSCRIPTION:"ad_free_subscription",AD_FREE_SUBSCRIPTION_FLORIDA:"ad_free_subscription_florida",AD_FREE_SUBSCRIPTION_QP:"ad_free_subscription_qp",BASIC_ADS_ONBOARDING:"basic_ads_onboarding",BUY_WITH_PRIME:"buy_with_prime",BUY_WITH_PRIME_JEWEL_WINBACK:"buy_with_prime_jewel_winback",BUY_WITH_PRIME_TEST:"buy_with_prime_test",BUY_WITH_PRIME_TWO_SCREEN:"buy_with_prime_two_screen",BUY_WITH_PRIME_UNIVERSAL_LINK:"buy_with_prime_universal_link",BUY_WITH_SHOPEE:"buy_with_shopee",BUY_WITH_SHOPEE_TWO_SCREEN:"buy_with_shopee_two_screen",BUY_WITH_WALMART:"buy_with_walmart",BUY_WITH_WALMART_TWO_SCREEN:"buy_with_walmart_two_screen",CALENDAR_ACCESS:"calendar_access",CONFIRMACCOUNTS:"confirmaccounts",CONFIRMACCOUNTS_TURKEY:"confirmaccounts_turkey",CONNECTIVITY_EPD:"connectivity_epd",CONSENT_APP_BLOCKING_DEMO:"consent_app_blocking_demo",CONSENTS_BROWSER_TECHNOLOGICAL:"consents_browser_technological",CONSENTZERO:"consentzero",CONTACT_IMPORT_M4A_DISCLOSURE:"contact_import_m4a_disclosure",CONTEXTUAL_META_FLOW:"contextual_meta_flow",CUSTOM_GENDER_CONSENT:"custom_gender_consent",DATA_COMBINATION_CHAINED_FLOW:"data_combination_chained_flow",DATA_COMBINATION_DETAIL:"data_combination_detail",DATA_COMBINATION_QP_MSGR:"data_combination_qp_msgr",DATA_SLICE_3PD_DEPRECATION:"data_slice_3pd_deprecation",DEMA_DATA_COMBINATION_FLOW:"dema_data_combination_flow",DEMO_ACCOUNTS_CENTER_INTEGRATION:"demo_accounts_center_integration",DEMO_COMPONENT_LIBRARY:"demo_component_library",DEMO_CONTEXTUAL_FLOW:"demo_contextual_flow",DEMO_DYNAMIC:"demo_dynamic",DEMO_EXTRA_PARAMS:"demo_extra_params",DEMO_FLOW_CHAINING_FIRST:"demo_flow_chaining_first",DEMO_FLOW_CHAINING_SECOND:"demo_flow_chaining_second",DEMO_INFO:"demo_info",DEMO_MODULARIZED_GDPR:"demo_modularized_gdpr",DEMO_MULTISTEP:"demo_multistep",DEMO_PROMPT:"demo_prompt",DEMO_QP:"demo_qp",DEMO_RL_CONFIRM_ACCOUNTS:"demo_rl_confirm_accounts",DEMO_USER_ACTION_LAUNCH_ACCOUNTS_CENTER:"demo_user_action_launch_accounts_center",DEMO_USER_ACTION_REQUEST_PAYMENT:"demo_user_action_request_payment",DEMO_USER_ACTION_REQUEST_PERMISSION:"demo_user_action_request_permission",DEMO_USER_CUSTOM_ACTION:"demo_user_custom_action",DEVICE_LOGIN:"device_login",DEVICE_LOGIN_INVALID_CODE:"device_login_invalid_code",DEVICE_PERMISSION_CAMERA:"device_permission_camera",DEVICE_PERMISSION_CONTACTS:"device_permission_contacts",DEVICE_PERMISSION_MICROPHONE:"device_permission_microphone",DEVICE_PERMISSION_PHOTOS:"device_permission_photos",DEVICE_PERMISSION_SETTINGS:"device_permission_settings",DEVICE_PERMISSIONS_INSTRUCTIONS:"device_permissions_instructions",DMA_ACCOUNT_REGISTRATION_DELAY_NOTIF_QP_FLOW:"dma_account_registration_delay_notif_qp_flow",DMA_CONFIRMATION:"dma_confirmation",DMA_DISMISSIBLE_APP_UPGRADE:"dma_dismissible_app_upgrade",DMA_FORCE_APP_UPGRADE:"dma_force_app_upgrade",EVERGREEN_WINBACK_GDPR_INTERSTITIAL:"evergreen_winback_gdpr_interstitial",EVERGREEN_WINBACK_GDPR_JEWEL:"evergreen_winback_gdpr_jewel",EVERGREEN_WINBACK_GDPR_TOF:"evergreen_winback_gdpr_tof",EVERGREEN_WINBACK_HIGH_RISK_INTERSTITIAL:"evergreen_winback_high_risk_interstitial",EVERGREEN_WINBACK_HIGH_RISK_JEWEL:"evergreen_winback_high_risk_jewel",EVERGREEN_WINBACK_INLINE_CONTROL_INTERSTITIAL:"evergreen_winback_inline_control_interstitial",EXAMPLE_ACV:"example_acv",FB_DMA_DATING:"fb_dma_dating",FB_DMA_GAMING:"fb_dma_gaming",FB_DMA_MARKETPLACE:"fb_dma_marketplace",FB_GEMSTONE:"fb_gemstone",FB_PROFILE_CUSTOM_GENDER:"fb_profile_custom_gender",FIRST_PARTY_LOGIN:"first_party_login",FLM_AR_EFFECT:"flm_ar_effect",FLM_MK_AR_EFFECT_CHILD_ASK_PERMISSION:"flm_mk_ar_effect_child_ask_permission",FLM_MK_AR_EFFECT_PARENT_CONSENT:"flm_mk_ar_effect_parent_consent",FLORIDA_YOUTH_DATA_USE:"florida_youth_data_use",FRIEND_MAP_LOCATION_SHARING_DEVICE_PERMISSIONS:"friend_map_location_sharing_device_permissions",GAMING_GDP:"gaming_gdp",GDP:"gdp",GDP_COMPLETION:"gdp_completion",GDP_COOKIE:"gdp_cookie",GDP_COOKIE_ALLOWLIST:"gdp_cookie_allowlist",GDP_CRAYTA:"gdp_crayta",GDP_OPTIN:"gdp_optin",GDPR:"gdpr",GDPR_NEW_3PD:"gdpr_new_3pd",GDPR_SCD:"gdpr_scd",GDPR_V2:"gdpr_v2",GPC_SIGNAL_RECONCILIATION:"gpc_signal_reconciliation",IG_ACV_AFN_META_INITIATED:"ig_acv_afn_meta_initiated",IG_ACV_CONSENT_DEBUT:"ig_acv_consent_debut",IG_ACV_CONSENT_DEBUT_2:"ig_acv_consent_debut_2",IG_ACV_CONSENT_DEBUT_BLOCKING:"ig_acv_consent_debut_blocking",IG_ACV_CONSENT_DEBUT_RECONSIDER:"ig_acv_consent_debut_reconsider",IG_ACV_CONSENT_DEBUT_RECONSIDER_2:"ig_acv_consent_debut_reconsider_2",IG_ACV_CONTEXTUAL_IAW:"ig_acv_contextual_iaw",IG_ACV_HIDE_AD:"ig_acv_hide_ad",IG_ACV_WAIST_BACK_WINBACK:"ig_acv_waist_back_winback",IG_ACV_WAIST_MENU_WINBACK:"ig_acv_waist_menu_winback",IG_ACV_WINBACK:"ig_acv_winback",IG_FIRST_TIME_CONSENT:"ig_first_time_consent",IG_IMAGINE_ME_CREATOR_TEMPLATES_CONSENT_FLOW:"ig_imagine_me_creator_templates_consent_flow",IG_MAGIC_MOD_CONSENT_FLOW:"ig_magic_mod_consent_flow",IG_THIRD_PARTY_OAUTH:"ig_third_party_oauth",IGAFSAPP_UPGRADE_BLOCKING_FLOW:"igafsapp_upgrade_blocking_flow",INLINE_3PD_CONTROL_LEARN_HOW:"inline_3pd_control_learn_how",INLINE_CONTROL_WINBACKS:"inline_control_winbacks",IOS14_ATT_FINAL_INTERSTITIAL:"ios14_att_final_interstitial",IOS14_ATT_FINAL_INTERSTITIAL_WITH_LEARN_MORE:"ios14_att_final_interstitial_with_learn_more",IOS14_ATT_WINBACKS:"ios14_att_winbacks",IOS14_ATT_WINBACKS_LEARN_MORE:"ios14_att_winbacks_learn_more",LGPD:"lgpd",LGPD_CONTEXTUAL_BIOMETRIC:"lgpd_contextual_biometric",LGPD_CONTEXTUAL_SCD:"lgpd_contextual_scd",LGPD_CONTEXTUAL_THIRD_PARTY:"lgpd_contextual_third_party",LGPD_MIGRATED:"lgpd_migrated",LIVE_LOCATION_SHARING_DEVICE_PERMISSION:"live_location_sharing_device_permission",LOCAL_NETWORK:"local_network",LOCATION_ANDROID_10_BUCKET_1:"location_android_10_bucket_1",LOCATION_ANDROID_CUSTOM_BACKGROUND:"location_android_custom_background",LOCATION_ANDROID_DOWNGRADE:"location_android_downgrade",LOCATION_ANDROID_UNIFIED_LOGIN_NUX:"location_android_unified_login_nux",LOCATION_CHECK_IN:"location_check_in",LOCATION_DEVICE_PERMISSION:"location_device_permission",LOCATION_DEVICE_PERMISSION_FB:"location_device_permission_fb",LOCATION_DEVICE_PERMISSION_V2:"location_device_permission_v2",LOCATION_HISTORY_UPSELL:"location_history_upsell",LOCATION_IOS_DOWNGRADE:"location_ios_downgrade",LOCATION_LS_RESURRECTION:"location_ls_resurrection",LOCATION_NEARBY_FRIENDS_RESURRECTION:"location_nearby_friends_resurrection",LOCATION_SERVICES:"location_services",LOCATION_SERVICES_ALWAYS:"location_services_always",LOCATION_SERVICES_FOREGROUND:"location_services_foreground",LOYALTY_WELCOME_CONSENT:"loyalty_welcome_consent",MEDIA_ACCESS:"media_access",MESSAGING_TRANSPARENCY_IAB:"messaging_transparency_iab",MP_DMA_CONSENT:"mp_dma_consent",NDX:"ndx",NDX_EMAIL_ACQUISITION:"ndx_email_acquisition",NDX_LOCATION:"ndx_location",NDX_LOCATION_DPK:"ndx_location_dpk",NDX_PHONE_ACQUISITION:"ndx_phone_acquisition",NEARBY_FRIENDS:"nearby_friends",NEW_USERS_META_FLOW:"new_users_meta_flow",OPT_IN_TRIAL_PRE_CONSENT_INTERSTITIAL_3PD:"opt_in_trial_pre_consent_interstitial_3pd",PARENTAL_CONSENT_SCD:"parental_consent_scd",PARENTAL_CONSENT_THIRD_PARTY:"parental_consent_third_party",PDP_EMAIL_ACQUISITION:"email_acquisition",PDP_PREFILL_EMAIL_UPDATE:"prefill_email_update",PDPA:"pdpa",PE_CONSENT_RECONCILIATION:"pe_consent_reconciliation",PE_CONSENT_RECONCILIATION_INTERSTITIAL:"pe_consent_reconciliation_interstitial",PHONE_NUMBER_ACQUISITION:"phone_number_acquisition",PHONE_NUMBER_ACQUISITION_EVERGREEN_QP:"phone_number_acquisition_evergreen_qp",PHONE_NUMBER_UPDATE_EVERGREEN_QP:"phone_number_update_evergreen_qp",PHONE_NUMBER_UPDATE_EVERGREEN_QP_WITH_STACKED_CTA:"phone_number_update_evergreen_qp_with_stacked_cta",PIPA:"pipa",POPIA:"popia",PRIVACY_EDUCATION_ADS_TOO_PERSON_QP:"privacy_education_ads_too_person_qp",PRIVACY_POLICY_NOTICE_BLOCKING:"privacy_policy_notice_blocking",PRIVACY_POLICY_NOTICE_IG_TOU_NOTIF:"privacy_policy_notice_ig_tou_notif",PRIVACY_POLICY_NOTICE_NON_BLOCKING:"privacy_policy_notice_non_blocking",PRIVACY_POLICY_NOTICE_NON_BLOCKING_ACCEPT:"privacy_policy_notice_non_blocking_accept",PRIVACY_POLICY_NOTICE_TEST_CMS:"privacy_policy_notice_test_cms",PRIVACY_POLICY_NOTICE_TEST_DEMO:"privacy_policy_notice_test_demo",PRIVACY_POLICY_NOTICE_USECASE:"privacy_policy_notice_usecase",PRIVACY_POLICY_NOTICE_USECASE_DSA_2023:"privacy_policy_notice_usecase_dsa_2023",PRIVACY_POLICY_NOTICE_USECASE_GENAI_2024:"privacy_policy_notice_usecase_genai_2024",PRIVACY_POLICY_NOTICE_USECASE_GENAI_UK_BRAZIL_2024:"privacy_policy_notice_usecase_genai_uk_brazil_2024",PRIVACY_POLICY_NOTICE_USECASE_NOYB_2023:"privacy_policy_usecase_noyb_2023",PRIVACY_POLICY_NOTICE_USECASE_UK_2023:"privacy_policy_notice_usecase_uk_2023",RECONCILIATION_3PD:"reconciliation_3pd",RECONCILIATION_3PD_BLOCKING:"reconciliation_3pd_blocking",RL_ARCATA_EYE_TRACKING:"rl_arcata_eye_tracking",RL_ARCATA_FACE_TRACKING:"rl_arcata_face_tracking",RL_CONSENTZERO_MR:"rl_consentzero_mr",RL_FC_ENHANCED_SPATIAL_SERVICES:"rl_fc_enhanced_spatial_services",RL_FC_QUEST_HAND_TRACKING:"rl_fc_quest_hand_tracking",RL_FC_QUEST_TELEMETRY:"rl_fc_quest_telemetry",RL_FC_SALSA_PERSONALIZATION:"rl_fc_salsa_personalization",RL_GENERIC_COOKIE:"rl_generic_cookie",RL_GENERIC_DMA:"rl_generic_dma",RL_INTERNAL_E2E_TEST:"rl_internal_e2e_test",RL_NUX_ADDITIONAL_PRIVACY_DATA:"rl_nux_additional_privacy_data",RL_OCULUS_HAND_BODY_TRACKING:"rl_oculus_hand_body_tracking",RL_OCULUS_TWILIGHT_NUX:"rl_oculus_twilight_nux",RL_OCULUS_TWILIGHT_NUX_EUREKA:"rl_oculus_twilight_nux_eureka",RL_SOCIAL_PRIVACY_SETTING_DEDUP:"rl_social_privacy_setting_dedup",RL_TWILIGHT_TELEMETRY_DATA_CONSENT:"rl_twilight_telemetry_data_consent",SUPPORT_PERSONALIZED_ADS_ATT_WINBACKS:"support_personalized_ads_att_winbacks",TEST_AUTO_LAYOUT_FLOW:"test_auto_layout_flow",TEST_BATCH_FLOW:"test_batch_flow",TEST_CUSTOM_COMPONENTS_FLOW:"test_custom_components_flow",TEST_E2E:"test_e2e",TEST_FLOW:"test_flow",TEST_LAYOUT_FLOW:"test_layout_flow",TEST_PREDEFINED_OUTCOME_FLOW:"test_predefined_outcome_flow",THIRD_PARTY_ACCOUNT_LINKING:"third_party_account_linking",TWO_FAC_PHONE_ACQUISITION:"two_fac_phone_acquisition",UFAC_SMS_SCARCE_V2_PHONE_ACQUISITION:"ufac_sms_scarce_v2_phone_acquisition",USER_COOKIE_CHOICE:"user_cookie_choice",USER_COOKIE_CHOICE_IG_WEB:"user_cookie_choice_ig_web",USER_COOKIE_CHOICE_META:"user_cookie_choice_meta",USER_COOKIE_CHOICE_META_V2:"user_cookie_choice_meta_v2",USER_COOKIE_CHOICE_V2:"user_cookie_choice_v2",USER_COOKIE_FLOW_FOR_MSPLIT:"user_cookie_flow_for_msplit",VOICE_SEARCH:"voice_search",VOICE_SEARCH_OPT_OUT:"voice_search_opt_out",VR_SPATIAL_DATA:"vr_spatial_data",WEATHER:"weather",WIFI_ACCESS:"wifi_access",YOUTH_REGULATION_TEEN_REGISTRATION:"youth_regulation_teen_registration",YUKON_CDS_TEST_CUSTOM_COMPONENTS_FLOW:"yukon_cds_test_custom_components_flow",YUKON_CDS_TEST_LAYOUT_FLOW:"yukon_cds_test_layout_flow"});f["default"]=a}),66);
__d("ConsentSurface",[],(function(a,b,c,d,e,f){a=Object.freeze({FACEBOOK_ANDROID:"facebook_android",FACEBOOK_COMET:"facebook_comet",FACEBOOK_IOS:"facebook_ios",FACEBOOK_IOS_PLAYGROUND:"facebook_ios_playground",FACEBOOK_LITE_ANDROID:"facebook_lite_android",FACEBOOK_LITE_KAIOS:"facebook_lite_kaios",FACEBOOK_MBASIC:"facebook_mbasic",FACEBOOK_MTOUCH:"facebook_mtouch",FACEBOOK_WEBBLOKS:"facebook_webbloks",FACEBOOK_WEBLITE:"facebook_weblite",INSTAGRAM_ANDROID:"instagram_android",INSTAGRAM_CARBON:"instagram_carbon",INSTAGRAM_IOS:"instagram_ios",INSTAGRAM_WEB:"instagram_web",MESSENGER_ANDROID:"messenger_android",MESSENGER_DESKTOP_ZERATUL:"messenger_desktop_zeratul",MESSENGER_DOT_COM:"messenger_dot_com",MESSENGER_IOS_LIGHTSPEED:"messenger_ios_lightspeed",MESSENGER_LITE_ANDROID:"messenger_lite_android",MESSENGER_LITE_BURRITO_ANDROID:"messenger_lite_burrito_android",MESSENGER_KIDS_TALK_ANDROID:"messenger_kids_talk_android",MESSENGER_KIDS_TALK_IOS:"messenger_kids_talk_ios",META_COMET:"meta_comet",META_DOT_COM:"meta_dot_com",OCULUS_COMET:"oculus_comet",PAGE_ADMIN_ANDROID:"page_admin_android",PAGE_ADMIN_IOS:"page_admin_ios",REALITY_LABS_ARCATA:"reality_labs_arcata",REALITY_LABS_MIRAMAR:"reality_labs_miramar",REALITY_LABS_STINSON:"reality_labs_stinson",REALITY_LABS_VENTURA:"reality_labs_ventura",BARCELONA_WEB:"barcelona_web",TWILIGHT_ANDROID:"twilight_android",TWILIGHT_IOS:"twilight_ios",UNKNOWN:"unknown"});f["default"]=a}),66);
__d("FXFetaAutoMigrationPromptDialogRootQuery$Parameters",["cr:9661"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:9661")}),null);
__d("FXFetaAutoMigrationPromptDialog.entrypoint",["FXFetaAutoMigrationPromptDialogRootQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("FXFetaAutoMigrationPromptDialogRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXFetaAutoMigrationPromptDialog.react").__setRef("FXFetaAutoMigrationPromptDialog.entrypoint")};g["default"]=a}),98);
__d("FXFetaAutoMigrationPromptDialogRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="25768339696142889"}),null);
__d("FXFetaAutoMigrationPromptDialogRootQuery$Parameters.instagram",["FXFetaAutoMigrationPromptDialogRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXFetaAutoMigrationPromptDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaAutoMigrationPromptDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FXFetaPreMigrationDialogRootQuery$Parameters",["cr:9693"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:9693")}),null);
__d("FXFetaPreMigrationDialog.entrypoint",["FXFetaPreMigrationDialogRootQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("FXFetaPreMigrationDialogRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXFetaPreMigrationDialog.react").__setRef("FXFetaPreMigrationDialog.entrypoint")};g["default"]=a}),98);
__d("FXFetaPreMigrationDialogRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8079975928745347"}),null);
__d("FXFetaPreMigrationDialogRootQuery$Parameters.instagram",["FXFetaPreMigrationDialogRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXFetaPreMigrationDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaPreMigrationDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("FXFetaToSDialogRootQuery$Parameters",["cr:9719"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:9719")}),null);
__d("FXFetaToSDialog.entrypoint",["FXFetaToSDialogRootQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("FXFetaToSDialogRootQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXFetaToSDialog.react").__setRef("FXFetaToSDialog.entrypoint")};g["default"]=a}),98);
__d("FXFetaToSDialogRootQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="26524979990481516"}),null);
__d("FXFetaToSDialogRootQuery$Parameters.instagram",["FXFetaToSDialogRootQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXFetaToSDialogRootQuery_instagramRelayOperation"),metadata:{},name:"FXFetaToSDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("IGDSLicensingPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"m20.414 7-5.412-5.412A2.01 2.01 0 0 0 13.586 1H6a3.003 3.003 0 0 0-3 3v16a3.003 3.003 0 0 0 3 3h12a3.003 3.003 0 0 0 3-3V8.414A1.99 1.99 0 0 0 20.414 7ZM15 4.414 17.586 7H15ZM19 20a1.001 1.001 0 0 1-1 1H6a1.001 1.001 0 0 1-1-1V4a1.001 1.001 0 0 1 1-1h7v4a2.002 2.002 0 0 0 2 2h4ZM8 10h2a1 1 0 0 0 0-2H8a1 1 0 0 0 0 2Zm8 6H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2Zm-9-3a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H8a1 1 0 0 0-1 1Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSMetaLogoPrimaryIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=5;function a(a){var b=i(7),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"b",x1:"125",x2:"160.217",y1:"97",y2:"57.435",children:[j.jsx("stop",{offset:".21",stopColor:"#0278F1"}),j.jsx("stop",{offset:".533",stopColor:"#0180FA"})]}),b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"c",x1:"44",x2:"0",y1:"5",y2:"64",children:[j.jsx("stop",{offset:".427",stopColor:"#0165E0"}),j.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"d",x1:"28.5",x2:"135",y1:"29",y2:"72",children:[j.jsx("stop",{stopColor:"#0064E0"}),j.jsx("stop",{offset:".656",stopColor:"#0066E2"}),j.jsx("stop",{offset:"1",stopColor:"#0278F1"})]}),b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("defs",{children:[d,e,f,j.jsx("clipPath",{id:"a",children:j.jsx("path",{d:"M0 0h496.236v100H0z",fill:"#fff"})})]}),b[3]=d):d=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("g",{clipPath:"url(#a)",children:[j.jsx("path",{d:"M182.141 3.213h18.808l31.98 57.849 31.979-57.849h18.401V98.27h-15.345V25.416l-28.042 50.448h-14.394l-28.042-50.448V98.27h-15.345V3.213ZM332.804 99.967c-7.107 0-13.353-1.573-18.739-4.718-5.387-3.146-9.586-7.504-12.595-13.07-3.011-5.569-4.515-11.95-4.515-19.148 0-7.287 1.47-13.738 4.413-19.35 2.942-5.613 7.027-10.004 12.255-13.173 5.229-3.168 11.238-4.753 18.027-4.753 6.744 0 12.55 1.596 17.416 4.787 4.865 3.191 8.611 7.661 11.237 13.41 2.624 5.749 3.938 12.492 3.938 20.233v4.21h-52.077c.95 5.794 3.292 10.354 7.027 13.68 3.735 3.328 8.453 4.991 14.157 4.991 4.571 0 8.509-.679 11.814-2.037 3.303-1.358 6.404-3.417 9.302-6.178l8.147 9.98c-8.103 7.425-18.038 11.136-29.807 11.136Zm11.204-56.389c-3.215-3.281-7.425-4.923-12.629-4.923-5.07 0-9.314 1.676-12.731 5.025-3.418 3.35-5.58 7.854-6.484 13.512h37.343c-.453-5.794-2.286-10.331-5.499-13.614ZM382.846 40.014h-14.123V27.453h14.123V6.676h14.802v20.777h21.455v12.561h-21.455v31.844c0 5.295.905 9.075 2.716 11.338 1.809 2.264 4.911 3.395 9.302 3.395 1.945 0 3.598-.078 4.956-.237a92.35 92.35 0 0 0 4.481-.646v12.425c-1.675.498-3.564.906-5.669 1.223a44.63 44.63 0 0 1-6.62.475c-15.979 0-23.968-8.735-23.968-26.208V40.014ZM496.236 98.27h-14.53v-9.913c-2.58 3.712-5.862 6.575-9.845 8.588-3.983 2.014-8.51 3.022-13.579 3.022-6.247 0-11.78-1.596-16.601-4.787s-8.612-7.581-11.373-13.172c-2.761-5.59-4.142-11.983-4.142-19.18 0-7.243 1.403-13.648 4.21-19.216 2.806-5.567 6.688-9.935 11.645-13.104 4.956-3.168 10.648-4.753 17.075-4.753 4.844 0 9.189.94 13.037 2.818a25.768 25.768 0 0 1 9.573 7.978v-9.098h14.53V98.27Zm-14.801-46.035c-1.585-4.028-4.085-7.207-7.503-9.54-3.418-2.33-7.367-3.496-11.848-3.496-6.338 0-11.384 2.128-15.141 6.382-3.758 4.255-5.635 10.004-5.635 17.246 0 7.289 1.809 13.06 5.431 17.314 3.621 4.255 8.532 6.382 14.734 6.382 4.571 0 8.645-1.176 12.222-3.53 3.575-2.353 6.155-5.522 7.74-9.506V52.235Z",fill:"currentColor"}),j.jsx("path",{d:"M108 0C95.66 0 86.015 9.294 77.284 21.1 65.284 5.821 55.25 0 43.24 0 18.76 0 0 31.862 0 65.586 0 86.69 10.21 100 27.31 100c12.308 0 21.16-5.803 36.897-33.31 0 0 6.56-11.584 11.072-19.564 1.582 2.553 3.243 5.3 4.997 8.253l7.38 12.414C102.03 91.848 110.038 100 124.551 100c16.659 0 25.931-13.492 25.931-35.034C150.483 29.656 131.301 0 108 0ZM52.207 59.241c-12.759 20-17.172 24.483-24.276 24.483-7.31 0-11.655-6.418-11.655-17.862 0-24.483 12.207-49.517 26.759-49.517 7.88 0 14.465 4.55 24.552 18.991-9.578 14.691-15.38 23.905-15.38 23.905Zm48.153-2.517-8.823-14.715a301.425 301.425 0 0 0-6.884-10.723c7.952-12.274 14.511-18.39 22.313-18.39 16.206 0 29.172 23.863 29.172 53.173 0 11.172-3.659 17.655-11.241 17.655-7.268 0-10.739-4.8-24.537-27Z",fill:"#0180FA"}),j.jsx("path",{d:"M145.586 35H130.66c3.452 8.746 5.478 19.482 5.478 31.069 0 11.172-3.659 17.655-11.241 17.655-1.407 0-2.672-.18-3.897-.631V99.82c1.143.122 2.324.18 3.552.18 16.659 0 25.931-13.492 25.931-35.034 0-10.737-1.774-20.95-4.897-29.966Z",fill:"url(#b)"}),j.jsx("path",{d:"M43.241 0c.254 0 .507.003.759.008v16.36c-.32-.015-.642-.023-.965-.023-14.183 0-26.139 23.782-26.736 47.655H.014C.59 30.87 19.143 0 43.24 0Z",fill:"url(#c)"}),j.jsx("path",{d:"M43.241 0c11.152 0 20.601 5.02 31.502 17.971 3.065 3.828 6.761 8.805 10.716 14.557l.017.025.025-.003a311.041 311.041 0 0 1 6.036 9.459l8.823 14.715c13.798 22.2 17.269 27 24.537 27H125v16.273c-.149.002-.298.003-.448.003-14.513 0-22.522-8.152-36.897-32.207l-7.38-12.414a596.368 596.368 0 0 0-2.294-3.834L78 51.5c-5.5-9-9-14.5-12-18.5l-.05.038c-9.18-12.63-15.47-16.693-22.916-16.693H43V0L43.241 0Z",fill:"url(#d)"})]}),b[4]=e):e=b[4];b[5]!==a?(f=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:k,viewBox:"0 0 500 100",children:[d,e]})),b[5]=a,b[6]=f):f=b[6];return f}b=j.memo(a);g["default"]=b}),98);
__d("PolarisNidoEnrollmentDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8094220213994192"}),null);
__d("PolarisNidoEnrollmentDialogQuery$Parameters",["PolarisNidoEnrollmentDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisNidoEnrollmentDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisNidoEnrollmentDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisNidoEnrollmentDialog.entrypoint",["JSResourceForInteraction","PolarisNidoEnrollmentDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("PolarisNidoEnrollmentDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("PolarisNidoEnrollmentDialog.react").__setRef("PolarisNidoEnrollmentDialog.entrypoint")};g["default"]=a}),98);
__d("PolarisNidoGraduationDialogQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7881898601866471"}),null);
__d("PolarisNidoGraduationDialogQuery$Parameters",["PolarisNidoGraduationDialogQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("PolarisNidoGraduationDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisNidoGraduationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("PolarisNidoGraduationDialog.entrypoint",["JSResourceForInteraction","PolarisNidoGraduationDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("PolarisNidoGraduationDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("PolarisNidoGraduationDialog.react").__setRef("PolarisNidoGraduationDialog.entrypoint")};g["default"]=a}),98);
__d("QuickPromotionIGWebBatchFetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"surface_nux_ids"}],b=[{kind:"Variable",name:"surface_nux_ids",variableName:"surface_nux_ids"}],c={alias:null,args:null,kind:"ScalarField",name:"surface_nux_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"client_ttl_seconds",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"is_holdout",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"log_eligibility_waterfall",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"promotion_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"asset_url",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"client_side_dry_run",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"clause_type",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"filter_type",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"passes_if_not_supported",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"unknown_action",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bool_value",storageKey:null}],type:"XFBQPBooleanTemplateParameter",abstractKey:null},s={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"int_value",storageKey:null}],type:"XFBQPIntTemplateParameter",abstractKey:null},t=[{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null}],u={kind:"InlineFragment",selections:t,type:"XFBQPStringTemplateParameter",abstractKey:null},v=[k,q,r,s,u];v={alias:null,args:null,concreteType:"XFBQuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[n,o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:v,storageKey:null}],storageKey:null};var w={alias:null,args:null,concreteType:"XFBBloksRootComponent",kind:"LinkedField",name:"bloks_view_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBloksComponent",kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBloksBundle",kind:"LinkedField",name:"bundle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bloks_bundle_tree",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],y={alias:null,args:null,concreteType:"XFBTextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:x,storageKey:null};x={alias:null,args:null,concreteType:"XFBTextWithEntities",kind:"LinkedField",name:"content",plural:!1,selections:x,storageKey:null};var z=[y,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dismiss_promotion",storageKey:null}],A={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"primary_action",plural:!1,selections:z,storageKey:null},B={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"secondary_action",plural:!1,selections:z,storageKey:null};z={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"dismiss_action",plural:!1,selections:z,storageKey:null};var C=[{kind:"Variable",name:"scale",variableName:"scale"}],D=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],E={alias:null,args:C,concreteType:"XFBImage",kind:"LinkedField",name:"image",plural:!1,selections:D,storageKey:null};C={alias:null,args:C,concreteType:"XFBImage",kind:"LinkedField",name:"dark_mode_image",plural:!1,selections:D,storageKey:null};D={alias:null,args:null,concreteType:"XFBQPBulletListItem",kind:"LinkedField",name:"bullet_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:D,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"dark_icon",plural:!1,selections:D,storageKey:null}],storageKey:null};var F={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},G={alias:null,args:null,concreteType:"XFBQPDiglossiaData",kind:"LinkedField",name:"diglossia_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_diglossia_enabled",storageKey:null},{alias:null,args:null,concreteType:"XFBQPDiglossiaContentTranslations",kind:"LinkedField",name:"content_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},y,x,{alias:null,args:null,kind:"ScalarField",name:"primary_action_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_action_title",storageKey:null}],storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_server_force_pass",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"is_uncancelable",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"logging_data",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"max_impressions",storageKey:null};t={kind:"InlineFragment",selections:t,type:"XFBQPStringEnumTemplateParameter",abstractKey:null};var L={alias:null,args:null,kind:"ScalarField",name:"triggers",storageKey:null},M=[F,k,q,r,s,u];n={alias:null,args:null,concreteType:"XFBQuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[n,o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:M,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:M,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"QuickPromotionIGWebBatchFetchQuery",selections:[{alias:null,args:b,concreteType:"XFBQuickPromotionBatchFetchSurface",kind:"LinkedField",name:"xfb_quick_promotion_batch_fetch_root",plural:!0,selections:[c,{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,e,f,{alias:null,args:null,concreteType:"XFBQuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"XFBQuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[i,j,k],storageKey:null},l,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[m,v,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,v,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,v],storageKey:null}],storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"XFBQuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[y,x,A,B,z,E,C,D,F],storageKey:null},G,H,I,J,K,{alias:null,args:null,concreteType:"XFBQuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:[k,q,r,t,u,s],storageKey:null}],storageKey:null},L],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"QuickPromotionIGWebBatchFetchQuery",selections:[{alias:null,args:b,concreteType:"XFBQuickPromotionBatchFetchSurface",kind:"LinkedField",name:"xfb_quick_promotion_batch_fetch_root",plural:!0,selections:[c,{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,e,f,{alias:null,args:null,concreteType:"XFBQuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"XFBQuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[i,j,k,g],storageKey:null},l,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[m,n,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,n,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,n],storageKey:null}],storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"XFBQuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[y,x,A,B,z,E,C,D,F,g],storageKey:null},G,H,I,J,K,{alias:null,args:null,concreteType:"XFBQuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:[F,k,q,r,t,u,s],storageKey:null}],storageKey:null},L],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"7673355509443291",metadata:{},name:"QuickPromotionIGWebBatchFetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("QuickPromotionNuxID",[],(function(a,b,c,d,e,f){a=Object.freeze({ANDROID_DIVEBAR_QP_DEPRECATED:1824,ANDROID_MESSENGER_BANNER_QP_DEPRECATED:3062,ANDROID_MESSENGER_DEPRE_LOCK:4745,ANDROID_MESSENGER_DEPRE_PRELOCK:4744,ANDROID_MESSENGER_DEPRE_WARM_UP:4743,ANDROID_MESSENGER_THREADVIEW_QP_DEPRECATED:3346,DELTOID3_ANNOUNCEMENTS_QP_DEPRECATED:4077,DEPRECATED_0:0,FACEBOOK_FOR_ANDROID_ANDROID_DATING_THREAD_VIEW_HEADER_PROMPT_QP_DEPRECATED:8399,FACEBOOK_FOR_ANDROID_HEALTH_BD_HUB_UNIT_QP:6747,FACEBOOK_FOR_IOS_HEALTH_BD_HUB_UNIT_QP:6748,FACEBOOK_MSITE_IOS_BOTTOM_POPUP_QP:6323,FACEBOOK_MULTI_PLATFORM_HEALTH_BD_HUB_UNIT_QP:6735,FACEBOOK_MULTI_PLATFORM_NT_PAGE_QUICK_PROMOTION_SURFACE_QP:5985,FACEBOOK_MULTI_PLATFORM_PAGES_LAUNCHPOINT_QP:9550,FACEBOOK_MULTI_PLATFORM_PORTAL_BOOKMARK_DISCOVER_QP:7287,FACEBOOK_MULTI_PLATFORM_QP_NUX_MIGRATE_QP:10780,FACEBOOK_WORDMARK_FOR_IOS_OLD:8257,INSTAGRAM_IOS_FEED_TOOLTIP_DEPRECATED:5199,INSTAGRAM_IOS_PROFILE_TOOL_TIP_DEPRECATED:4904,INSTAGRAM_MULTI_PLATFORM_STOREFRONT_QP:9259,INSTAGRAM_PROFILE_PAGE_TOOL_TIP_DEPRECATED:4880,INTERN_ADS_DELIVERY_DEBUGGER_MEGAPHONE_DEPRECATED:3659,IOS_DIVEBAR_QP_DEPRECATED:1823,IOS_MESSENGER_BANNER_QP_DEPRECATED:3037,IOS_MESSENGER_DEPRE_PHASES_QP:4839,IOS_MESSENGER_THREAD_VIEW_QP:3413,IOS_SEARCH_MODULE_PROMOTIONS:4793,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_LIST_QP:7299,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_VIEW_QP:7300,MESSENGER_FOR_IOS_SEARCH_NULL_STATE_SURFACE_QP:7154,MESSENGER_LIGHTSPEED_FOR_IOS_BOTTOM_SHEET_QP_DEPRECATED:10933,MESSENGER_LIGHTSPEED_FOR_IOS_CC_THREAD_VIEW_BOTTOMSHEET_QP_DEPRECATED:10915,OCULUS_CREATOR_SITE_LOGIN_INTERSTITIAL_QP:11703,OCULUS_DEV_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11702,OCULUS_META_WWW_AUTH_LOGIN_INTERSTITIAL_QP:11748,PIRANHA_BLACKLISTED_JOB_ID_QP_DEPRECATED:4688,PORTAL_APP_PROMO_CARD_QP_DEPRECATED:8186,PORTAL_IN_CALL_SCREEN_QP:7189,PORTAL_MOBILE_APP_HOME_QP:7157,PORTAL_MOBILE_APP_PORTAL_BISHOP_DISCOVER_QP:7286,PORTAL_TV_DISCOVERY_ROW_QP:8163,SNAPTU_NEWSFEED_QP_DEPRECATED:5562,SUPERFRAME_FOR_PORTAL_CARD_INTERSTITIAL_QP:6813,WEARABLE_APP_ANDROID_HOME_CARD_ITEM_QP:12076,WEARABLE_APP_ANDROID_HOME_TAB_CARD_QP:12120,WEARABLE_APP_ANDROID_MWA_HOME_CARD_QP:12126,WEARABLE_APP_IOS_HOME_CARD_ITEM_QP:12075,WEARABLE_APP_IOS_MWA_HOME_CARD_QP:12125,WEARABLE_APP_MULTI_PLATFORM_HOME_CARD_ITEM_QP:12074,WEARABLE_APP_MULTI_PLATFORM_HOME_TAB_CARD_QP:12119,WEARABLE_APP_MULTI_PLATFORM_MWA_HOME_CARD_QP:12124,WEB_MESSENGER_BANNER_QP:3329,WORKPLACE_MSITE_JEWEL_INTERSTITIAL_QP:5270,WORKPLACE_WWW_JEWEL_BANNER_QP:5658,OCULUS_DEV_MULTI_PLATFORM_AUTH_META_INTERSTITIAL_QP:11841,OCULUS_DEV_MULTI_PLATFORM_BOTTOM_NAV_TOOLTIP_QP:11865,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_ANNOUNCEMENTS_QP:11849,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_CARD_QP:11908,OCULUS_DEV_MULTI_PLATFORM_DEV_ODH_PUSH_NOTIFICATION_QP:11847,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_FEATURED_VIDEO_QP:11842,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_INTERSTITIAL_QP:11910,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_PUSH_NOTIFICATION_QP:11850,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_TIP_CARD_QP:11844,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_ONBOARDING_QP:11907,OCULUS_DEV_MULTI_PLATFORM_DIALOG_QP:11853,OCULUS_DEV_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11900,OCULUS_DEV_MULTI_PLATFORM_FEATURED_PACKAGES_QP:11845,OCULUS_DEV_MULTI_PLATFORM_GDPR_INTERSTITIAL_QP:11912,OCULUS_DEV_MULTI_PLATFORM_GUIDE_BAR_QP:11892,OCULUS_DEV_MULTI_PLATFORM_GUIDED_ACTIONS_QP:11918,OCULUS_DEV_MULTI_PLATFORM_HOME_INTERSTITIAL_QP:11854,OCULUS_DEV_MULTI_PLATFORM_HOME_TOOLTIP_QP:11864,OCULUS_DEV_MULTI_PLATFORM_HORIZON_INTERSTITIAL_QP:11866,OCULUS_DEV_MULTI_PLATFORM_HORIZON_MEGAPHONE_QP:11867,OCULUS_DEV_MULTI_PLATFORM_LIBRARY_MEGAPHONE_TEST_QP:11901,OCULUS_DEV_MULTI_PLATFORM_LIVINGROOM_TOOLTIP_QP:11856,OCULUS_DEV_MULTI_PLATFORM_LVINGROOM_SNACKBAR_QP:11855,OCULUS_DEV_MULTI_PLATFORM_MEDIA_STUDIO_LIBRARY_QP:11905,OCULUS_DEV_MULTI_PLATFORM_MEGAPHONE_STICKER_QP:11840,OCULUS_DEV_MULTI_PLATFORM_MOBILE_STORE_SALE_QP:11877,OCULUS_DEV_MULTI_PLATFORM_MODALDIALOG_QP:11914,OCULUS_DEV_MULTI_PLATFORM_MQDH_RELEASE_NOTES_QP:11843,OCULUS_DEV_MULTI_PLATFORM_NEWS_HIGHLIGHT_QP:11846,OCULUS_DEV_MULTI_PLATFORM_OCULUS_EXPLORE_ARTICLES_FOR_QUEST_QP:11872,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_SURVEY_QP:11869,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_TIP_QP:11870,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_MOBILE_HERO_QP:11871,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_HERO_QP:11873,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_MEGAPHONE_QP:11858,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_NOTE_QP:11906,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_PREPENDED_STORY_QP:11860,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_TIP_QP:11874,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_GO_GEAR_BOOSTING_QP:11868,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_STORE_QUEST_HERO_UNITS_QP:11909,OCULUS_DEV_MULTI_PLATFORM_OCULUS_LOGIN_INTERSTITIAL_QP:11839,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_NEW_AND_UPDATED_QP:11876,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_SPOTLIGHT_QP:11913,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_QUEST_BUDGETED_FEED_QP:11857,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:11886,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_BUDGETED_FEED_QP:11887,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:11890,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_HOME_MEDIA_TIP_QP:11859,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_AND_UPDATED_QP:11878,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_USER_SPOTLIGHT_QP:11911,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_SPOTLIGHT_QP:11880,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_NEW_AND_UPDATED_QP:11881,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_RIFT_PICKS_QP:11882,OCULUS_DEV_MULTI_PLATFORM_OCULUS_SKYLINE_LANDING_PAGE_CAROUSEL_QP:11919,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_FEED_RELEASE_NOTE_QP:11917,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_PROMO_QP:11884,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_TIP_QP:11885,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_NOTIFICATIONS_GO_PROMOTIONS_QP:11904,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_PROMO_QP:11920,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_TIP_QP:11889,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_RIFT_FEED_PROMO_QP:11891,OCULUS_DEV_MULTI_PLATFORM_PRODUCTIVITY_SECTION_TIP_QP:11861,OCULUS_DEV_MULTI_PLATFORM_PROMOTION_ENGINE_QUEST_NEW_USER_VR_FEED_HERO_QP:11875,OCULUS_DEV_MULTI_PLATFORM_QUEST_AUI_TOOLTIP_QP:11893,OCULUS_DEV_MULTI_PLATFORM_QUEST_NEW_USER_TWILIGHT_FEED_HERO_QP:11888,OCULUS_DEV_MULTI_PLATFORM_QUEST_NOTIFICATION_QP:11903,OCULUS_DEV_MULTI_PLATFORM_QUEST_STORE_SALE_QP:11879,OCULUS_DEV_MULTI_PLATFORM_RAPID_FEEDBACK_QP:11848,OCULUS_DEV_MULTI_PLATFORM_RECOMMENDATION_BANNER_QP:11851,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SALE_QP:11915,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SPOTLIGHT_QP:11883,OCULUS_DEV_MULTI_PLATFORM_SAVED_ROUTES_RECOMMENDATION_QP:11852,OCULUS_DEV_MULTI_PLATFORM_SECURE_OCULUS_WEB_SETTINGS_INTERSTITIAL_QP:11894,OCULUS_DEV_MULTI_PLATFORM_SNACKBAR_QP:11898,OCULUS_DEV_MULTI_PLATFORM_SURVEY_QP:11862,OCULUS_DEV_MULTI_PLATFORM_TEST_SURFACE_QP:11895,OCULUS_DEV_MULTI_PLATFORM_TOAST_QP:11863,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_INTERSTITIAL_QP:11896,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_MEGAPHONE_QP:11897,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_PUSH_NOTIFICATION_QP:11916,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_TOOLTIP_QP:11899,WRIST_DEVICE_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:11902,OCULUS_HOME_QUEST_LOGIN_INTERSTITIAL_QP:12121,OCULUS_META_AUTH_WWW_FRLM_META_LOGIN_INTERSTITIAL_QP:12018,WHATSAPP_FOR_SMB_WEB_BUSINESS_HOME_CARD_QP:12015,OCULUS_META_ACCOUNTS_CENTER_WWW_META_LOGIN_INTERSTITIAL_QP:12014,OCULUS_META_QUEST_WWW_META_LOGIN_INTERSTITIAL_QP:12013,WHATSAPP_FOR_IOS_PAYMENTS_HOME_BANNERS_QP:11992,WHATSAPP_FOR_ANDROID_PAYMENTS_HOME_BANNERS_QP:11993,WHATSAPP_MULTI_PLATFORM_PAYMENTS_HOME_BANNERS_QP:11991,WHATSAPP_FOR_SMB_WEB_WHATSAPP_EDIT_PROFILE_BANNER_QP:11960,WHATSAPP_FOR_SMBA_WHATSAPP_EDIT_PROFILE_BANNER_QP:11962,WHATSAPP_FOR_SMBI_WHATSAPP_EDIT_PROFILE_BANNER_QP:11961,WHATSAPP_MULTI_PLATFORM_WHATSAPP_EDIT_PROFILE_BANNER_QP:11959,PAGES_MANAGER_FOR_ANDROID_TOOLTIP_QP:11939,PAGES_MANAGER_FOR_IOS_TOOLTIP_QP:11938,PAGES_MANAGER_MULTI_PLATFORM_TOOLTIP_QP:11940,OCULUS_META_WWW_OCULUS_SECURE_LOGIN_INTERSTITIAL_QP:11934,STORE_METAQUEST_INTERSTITIAL_QP:11932,STORE_METAQUEST_MULTI_PLATFORM_INTERSTITIAL_QP:11933,OCULUS_DEV_WWW_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11929,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11930,WEARABLE_APP_ANDROID_LOGIN_INTERSTITIAL_QP:11743,WEARABLE_APP_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11742,WEARABLE_APP_IOS_LOGIN_INTERSTITIAL_QP:11741,OCULUS_META_WWW_SPARK_LOGIN_INTERSTITIAL_QP:11750,OCULUS_META_WWW_HORIZON_LOGIN_INTERSTITIAL_QP:11749,OCULUS_TWILIGHT_IOS_LOGIN_INTERSTITIAL_QP:11739,OCULUS_MULTI_PLATFORM_TWILIGHT_LOGIN_INTERSTITIAL_QP:11736,OCULUS_TWILIGHT_ANDROID_LOGIN_INTERSTITIAL_QP:11735,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_LOADER_SCREEN_QP:11734,FACEBOOK_WWW_LIVE_PRODUCER_TOOLTIP_QP:12101,FACEBOOK_MULTI_PLATFORM_LIVE_PRODUCER_TOOLTIP_QP:12100,FACEBOOK_FOR_IOS_LIVE_SHOPPING_PINNED_PRODUCTS_BUTTON_SPARKLE_ANIMATION_QP:12167,FACEBOOK_FOR_ANDROID_LIVE_SHOPPING_PINNED_PRODUCTS_BUTTON_SPARKLE_ANIMATION_QP:12166,FACEBOOK_MULTI_PLATFORM_LIVE_SHOPPING_PINNED_PRODUCTS_BUTTON_SPARKLE_ANIMATION_QP:12165,WHATSAPP_FOR_SMBA_NATIVE_ADS_LOADER_SCREEN_QP:11733,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_EXPLAINER_SCREEN_QP:11731,WHATSAPP_FOR_SMBA_NATIVE_ADS_EXPLAINER_SCREEN_QP:11732,OCULUS_DEV_WWW_LOGIN_INTERSTITIAL_QP:11727,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11722,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11723,WHATSAPP_FOR_SMBI_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:12005,OCULUS_WWW_LOGIN_INTERSTITIAL_QP:11720,ADS_EVENTS_MANAGER_MULTI_PLATFORM_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11719,ADS_EVENTS_MANAGER_WWW_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11718,OCULUS_MULTI_PLATFORM_META_LOGIN_INTERSTITIAL_QP:11708,OCULUS_META_WWW_LOGIN_INTERSTITIAL_QP:11717,FACEBOOK_MULTI_PLATFORM_COMMENTING_TIP_QP:11694,FACEBOOK_WWW_COMMENTING_TIP_QP:11693,FACEBOOK_MULTI_PLATFORM_FUNDRAISERS_HUB_MEGAPHONE_QP:11535,FACEBOOK_WWW_FUNDRAISERS_HUB_MEGAPHONE_QP:11537,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_CENTER_MEGAPHONE_QP:11532,FACEBOOK_WWW_BIRTHDAY_CENTER_MEGAPHONE_QP:11533,OCULUS_TWILIGHT_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11521,WHATSAPP_FOR_WEB_GROUPSBANNER_QP:11525,WHATSAPP_FOR_WEB_PROFILEBANNER_QP:11522,WRIST_DEVICE_PUSH_NOTIFICATION_QP:11520,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11519,OCULUS_HOME_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11518,WHATSAPP_FOR_ANDROID_PROFILE_QP_BANNER_SURFACE_QP:11515,WHATSAPP_FOR_IOS_PROFILE_QP_BANNER_SURFACE_QP:11516,WHATSAPP_MULTI_PLATFORM_PROFILE_QP_BANNER_SURFACE_QP:11517,WHATSAPP_FOR_SMBI_BUSINESS_HOME_CARD_QP:11507,WHATSAPP_FOR_SMBA_BUSINESS_HOME_CARD_QP:11506,FBLITE_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11505,MESSENGER_FOR_ANDROID_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11501,MESSENGER_FOR_IOS_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11499,MESSENGER_MULTI_PLATFORM_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11500,WHATSAPP_MULTI_PLATFORM_BUSINESS_HOME_CARD_QP:11503,FACEBOOK_FOR_ANDROID_MIB_INBOX_TOOLTIP_QP:11491,FACEBOOK_FOR_IOS_MIB_INBOX_TOOLTIP_QP:11492,FACEBOOK_MULTI_PLATFORM_MIB_INBOX_TOOLTIP_QP:11490,INSTAGRAM_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11483,INSTAGRAM_FOR_IOS_LOGIN_INTERSTITIAL_QP:11484,INSTAGRAM_CARBON_LOGIN_INTERSTITIAL_QP:11740,INSTAGRAM_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11482,MESSENGER_FOR_IOS_LOGIN_INTERSTITIAL_QP:11481,MESSENGER_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11480,MESSENGER_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11479,WHATSAPP_FOR_SMB_WEB_WHATSAPP_SMB_WEB_CHATLIST_BANNER_QP:11478,AD_LIBRARY_WWW_AD_LIBRARY_QP:11477,AD_LIBRARY_MULTI_PLATFORM_AD_LIBRARY_QP:11538,WEARABLE_APP_MULTI_PLATFORM_MODAL_QP:11455,WEARABLE_APP_ANDROID_MODAL_QP:11454,FACEBOOK_FOR_ANDROID_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11443,FACEBOOK_FOR_IOS_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11444,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11442,FACEBOOK_FOR_ANDROID_CREATIVE_PLAYGROUND_UNIT_QP:11430,FACEBOOK_FOR_IOS_CREATIVE_PLAYGROUND_UNIT_QP:11431,FACEBOOK_MULTI_PLATFORM_CREATIVE_PLAYGROUND_UNIT_QP:11432,WHATSAPP_FOR_ANDROID_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11435,WHATSAPP_FOR_IOS_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11433,WHATSAPP_MULTI_PLATFORM_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11434,FACEBOOK_FOR_ANDROID_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11440,FACEBOOK_FOR_IOS_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11441,FACEBOOK_MULTI_PLATFORM_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11439,WEARABLE_APP_MULTI_PLATFORM_MODAL_UPSELL_QP:11419,WEARABLE_APP_ANDROID_MODAL_UPSELL_QP:11418,FACEBOOK_FOR_ANDROID_REELS_VIEWER_FOOTER_QP:11415,FACEBOOK_FOR_IOS_REELS_VIEWER_FOOTER_QP:11416,FACEBOOK_MULTI_PLATFORM_REELS_VIEWER_FOOTER_QP:11417,FACEBOOK_FOR_ANDROID_ON_DEMAND_INTERSTITIAL_QP:11406,FACEBOOK_FOR_IOS_ON_DEMAND_INTERSTITIAL_QP:11407,FACEBOOK_MULTI_PLATFORM_ON_DEMAND_INTERSTITIAL_QP:11408,FACEBOOK_WWW_CONTEXTUAL_MESSAGE_QP:11366,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11367,MESSENGER_MULTI_PLATFORM_PRELOADS_DISCLAIMER_QP:11364,MESSENGER_FOR_ANDROID_PRELOADS_DISCLAIMER_QP:11365,COMMERCE_MANAGER_WWW_CATALOG_UI_QP:11320,FACEBOOK_WWW_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11314,WEARABLE_APP_MULTI_PLATFORM_AR_BOTTOM_SHEET_QP:11305,WEARABLE_APP_IOS_AR_BOTTOM_SHEET_QP:11293,WEARABLE_APP_ANDROID_AR_BOTTOM_SHEET_QP:11294,OCULUS_DEV_MULTI_PLATFORM_MODAL_DIALOG_QP:11299,OCULUS_AUI_MODAL_DIALOG_QP:11300,MESSENGER_MULTI_PLATFORM_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11297,MESSENGER_FOR_ANDROID_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11298,MESSENGER_FOR_WEB_CM_CHANNEL_CHAT_TAB_THREAD_QP:11255,FACEBOOK_FOR_ANDROID_REELS_VDD_QP:11229,FACEBOOK_FOR_IOS_REELS_VDD_QP:11230,FACEBOOK_MULTI_PLATFORM_REELS_VDD_QP:11228,INSTAGRAM_MULTI_PLATFORM_BOTTOM_SHEET_QP:11223,INSTAGRAM_FOR_IOS_BOTTOM_SHEET_QP:11224,INSTAGRAM_FOR_ANDROID_BOTTOM_SHEET_QP:11383,FACEBOOK_MULTI_PLATFORM_FB4A_STORY_DUAL_CAMERA_DOT_QP:11173,FACEBOOK_FOR_ANDROID_FB4A_STORY_DUAL_CAMERA_DOT_QP:11172,FACEBOOK_FOR_ANDROID_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11213,FACEBOOK_FOR_IOS_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11214,FACEBOOK_MULTI_PLATFORM_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11186,FACEBOOK_FOR_IOS_FB_MESSENGER_INBOX_FOOTER_QP:12003,FACEBOOK_FOR_ANDROID_FB_MESSENGER_INBOX_FOOTER_QP:12002,FBLITE_FB_MESSENGER_INBOX_FOOTER_QP:12004,FACEBOOK_MULTI_PLATFORM_FB_MESSENGER_INBOX_FOOTER_QP:12001,FACEBOOK_MULTI_PLATFORM_PRELOADS_DISCLAIMER_DIALOG_QP:11163,FACEBOOK_FOR_ANDROID_PRELOADS_DISCLAIMER_DIALOG_QP:11164,FBLITE_NOTIFICATIONS_BANNER_QP:11119,FACEBOOK_FOR_ANDROID_GROUP_MALL_ENTITY_MENU_QP:11105,FACEBOOK_FOR_IOS_GROUP_MALL_ENTITY_MENU_QP:11107,FACEBOOK_MULTI_PLATFORM_GROUP_MALL_ENTITY_MENU_QP:11106,FACEBOOK_FOR_ANDROID_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11091,FACEBOOK_FOR_IOS_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11090,FACEBOOK_FOR_WWW_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11089,MESSENGER_LIGHTSPEED_FOR_IOS_UNIVERSAL_SEARCH_NULLSTATE_QP:11034,FACEBOOK_WWW_CM_TAB_TOUR_POPOVER_QP:11027,ADS_EVENTS_MANAGER_WWW_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11033,ADS_EVENTS_MANAGER_WWW_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11363,ADS_EVENTS_MANAGER_WWW_OFFLINE_CONSOLIDATION_UPSELL_QP:11394,FACEBOOK_FOR_ANDROID_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12091,FACEBOOK_FOR_IOS_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12090,FBLITE_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12092,FACEBOOK_MULTI_PLATFORM_FB_COMMENT_DOUBLE_TAP_TOOLTIP_2_QP:12089,WORKPLACE_FOR_WWW_TOOLTIP_QP:11037,WORKPLACE_FOR_IOS_TOOLTIP_QP:11009,WORKPLACE_MULTI_PLATFORM_TOOLTIP_QP:11008,WORKPLACE_FOR_ANDROID_TOOLTIP_QP:11007,WORKPLACE_FOR_WWW_NOTES_QP:11025,FACEBOOK_MULTI_PLATFORM_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10954,FACEBOOK_FOR_IOS_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10953,MESSENGER_FOR_ANDROID_GUIDANCE_TEXT_QP:12115,MESSENGER_LIGHTSPEED_FOR_IOS_GUIDANCE_TEXT_QP:12116,MESSENGER_MULTI_PLATFORM_GUIDANCE_TEXT_QP:12114,FACEBOOK_FOR_ANDROID_WATCH_FEED_CHAINING_QP:10986,FACEBOOK_FOR_IOS_WATCH_FEED_CHAINING_QP:10985,FACEBOOK_MULTI_PLATFORM_WATCH_FEED_CHAINING_QP:10987,FACEBOOK_FOR_ANDROID_NEWSFEED_VIDEO_CHAINING_QP:10983,FACEBOOK_FOR_IOS_NEWSFEED_VIDEO_CHAINING_QP:10984,FACEBOOK_MULTI_PLATFORM_NEWSFEED_VIDEO_CHAINING_QP:10982,FACEBOOK_FOR_ANDROID_CONTEXTUAL_MESSAGE_QP:10936,FACEBOOK_FOR_IOS_CONTEXTUAL_MESSAGE_QP:10934,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_MESSAGE_QP:10935,MESSENGER_FOR_ANDROID_MESSENGER_GUIDE_CHAT_ENTITY_QP:10944,MESSENGER_FOR_IOS_MESSENGER_GUIDE_CHAT_ENTITY_QP:10943,MESSENGER_MULTI_PLATFORM_MESSENGER_GUIDE_CHAT_ENTITY_QP:10945,FACEBOOK_FOR_WWW_COMPOSER_SPROUT_QP:10949,FACEBOOK_FOR_ANDROID_COMPOSER_SPROUT_QP:10910,FACEBOOK_FOR_IOS_COMPOSER_SPROUT_QP:10911,FACEBOOK_MULTI_PLATFORM_COMPOSER_SPROUT_QP:10912,IOS_INTERSTITIAL_QP:1817,ANDROID_INTERSTITIAL_QP:1818,IOS_FOOTER_QP:1819,ANDROID_FOOTER_QP:1820,IOS_NEWSFEED_MEGAPHONE_QP:1821,IOS_NEWSFEED_MEGAPHONE_PAD_QP:3596,ANDROID_NEWSFEED_MEGAPHONE_QP:1822,ANDROID_MESSAGES_INTERSTITIAL_QP:1957,IOS_MESSAGES_INTERSTITIAL_QP:2015,IOS_MSGR_INTERSTITIAL_QP:2400,ANDROID_MSGR_INTERSTITIAL_QP:2415,IOS_WEBVIEW_BANNER_QP:2423,IOS_INTERSTITIAL_PAD_QP:2766,IOS_MSGR_INTERSTITIAL_PAD_QP:2776,IOS_NEWSFEED_QP:2796,ANDROID_NEWSFEED_QP:2798,FBLITE_NEWSFEED_QP:4347,IOS_PAGES_MANAGER_INTERSTITIAL_QP:2840,IOS_PAGES_MANAGER_MEGAPHONE_QP:2942,ANDROID_PAGES_MANAGER_INTERSTITIAL_QP:2897,IOS_SEARCH_NULL_STATE_MEGAPHONE_QP:2989,IOS_MESSENGER_NEW_THREAD_NUX:4219,ANDROID_MESSENGER_THREAD_LIST_QP:3543,ANDROID_MESSENGER_THREAD_VIEW_QP:3545,ANDROID_MESSENGER_CALL_TAB_QP:4828,MESSENGER_FOR_ANDROID_FRIENDS_TAB_MEGAPHONE_QP:7615,IOS_IPAD_SEARCH_NULL_STATE_MEGAPHONE_QP:3182,ANDROID_SEARCH_NULL_STATE_MEGAPHONE_QP:3191,ANDROID_SEARCH_BAR_TOOLTIP:3877,IOS_FEED_PYMK_QP:3221,ANDROID_FEED_PYMK_QP:3279,IOS_TOAST_FOOTER_QP:3225,ANDROID_TOAST_FOOTER_QP:3248,WORKPLACE_ANDROID_NEWSFEED_MEGAPHONE_QP:3332,IOS_MEDIA_SERP_MEGAPHONE_QP:3738,IOS_EVENTS_GUESTLIST_QP:3583,MESSENGER_FOR_ANDROID_ARMADILLO_THREAD_VIEW_QP:10438,MESSENGER_FOR_ANDROID_MSYS_THREAD_LIST_SURFACE_QP:11155,MESSENGER_FOR_ANDROID_MSYS_INTERSTITIAL_SURFACE_QP:11152,MESSENGER_FOR_ANDROID_MSYS_THREAD_VIEW_SURFACE_QP:11154,MESSENGER_FOR_ANDROID_ME_SETTINGS_BANNER_QP:10508,FACEBOOK_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10536,FACEBOOK_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10550,FACEBOOK_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10551,INSTAGRAM_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10538,INSTAGRAM_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10552,INSTAGRAM_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10553,MESSENGER_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10539,MESSENGER_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10540,FACEBOOK_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10670,FACEBOOK_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10679,FACEBOOK_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_ON_FB4A_QP:10680,INSTAGRAM_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10681,INSTAGRAM_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10682,INSTAGRAM_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10683,FACEBOOK_WWW_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10710,CROSS_PLATFORM_MEGAPHONE_QP:3231,CROSS_PLATFORM_NEWSFEED_QP:3337,CROSS_PLATFORM_FOOTER_QP:4937,CROSS_PLATFORM_INTERSTITIAL_QP:4938,WORKPLACE_IOS_MEGAPHONE_QP:3335,WORKPLACE_IOS_INTERSTITIAL:3321,WORKPLACE_IOS_NEWSFEED_UNIT_QP:5361,WORKPLACE_MULTI_PLATFORM_FEED_UNIT_QP:5471,WORKPLACE_WWW_FEED_UNIT_QP:5529,WORKPLACE_WWW_ONBOARDING_CARD_QP:7424,WORKPLACE_MSITE_FEED_UNIT_QP:5678,FACEBOOK_FOR_WINDOWS_MEGAPHONE_QP:3840,FACEBOOK_FOR_MAC_MEGAPHONE_QP:3841,FACEBOOK_FOR_WINDOWS_FEED_UNIT_QP:4210,FACEBOOK_FOR_MAC_FEED_UNIT_QP:4211,FACEBOOK_FOR_WINPHONE_NEWSFEED_MEGAPHONE_QP:6956,FACEBOOK_MULTI_PLATFORM_OCULUS_PERMALINK_QP:6864,FACEBOOK_FOR_ANDROID_OCULUS_PERMALINK_QP:6869,FACEBOOK_FOR_IOS_OCULUS_PERMALINK_QP:6870,FACEBOOK_WWW_OCULUS_PERMALINK_QP:6910,FACEBOOK_MULTI_PLATFORM_UNDER_STORY_AUTO_PIVOT_QP:8671,FACEBOOK_FOR_ANDROID_AUTO_PIVOT_QP:8721,FACEBOOK_FOR_IOS_AUTO_PIVOT_QP:8722,FACEBOOK_MULTI_PLATFORM_EVENTS_TAB_QP:9780,FACEBOOK_FOR_IOS_EVENTS_TAB_QP:9823,FACEBOOK_FOR_ANDROID_EVENTS_TAB_QP:9824,M_NEWSFEED_MEGAPHONE_QP:2201,M_LOGIN_BANNER_QP:2275,M_FULLPAGE_INTERSTITIAL_QP:2289,M_JEWEL_INTERSTITIAL_QP:3382,M_JEWEL_FOOTER_QP:2443,M_JEWEL_HEADER_QP:2764,M_FOOTER_QP:2762,M_NEWSFEED_QP:2797,M_PHOTO_OPEN_INTERSTITIAL_QP:2946,M_SEARCH_NULL_STATE_MEGAPHONE_QP:3052,FACEBOOK_MSITE_MODAL_DIALOG_QP:5669,FACEBOOK_MSITE_BROWSER_PERMISSION_QP:5783,FBLITE_MEGAPHONE_QP:3306,FBLITE_INTERSTITIAL_QP:4661,FBLITE_FOOTER_QP:5570,FBLITE_MESSENGER_MEGAPHONE_QP:10711,FBLITE_THREAD_VIEW_BANNER_QP:10923,MESSENGER_LITE_BURRITO_INBOX_QP_MEGAPHONE_QP:9537,WWW_NEWSFEED_MEGAPHONE_QP:2646,WWW_NEWSFEED_QP:3081,WWW_INTERSTITIAL_QP:3394,FACEBOOK_WWW_RHC_QP:6113,WORKPLACE_WWW_RHC_QP:6493,FACEBOOK_MULTI_PLATFORM_EGO_CUSTOM_SURFACE_QP:6452,FACEBOOK_WWW_CUSTOM_EGO_QP:6489,PP_MEGAPHONE_QP:2852,IORG_APP_MEGAPHONE_QP:3064,IORG_WEB_MEGAPHONE_QP:3075,IORG_WEB_INTERSITIAL:4890,INTERNET_ORG_WEB_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:7275,INTERN_QP_DASH_QP:3294,INTERN_INTERNAL_TOOL_QP:3957,MESSENGER_FOR_WEB_CALL_VIEW_QP:6846,FACEBOOK_WWW_INBOX_THREAD_LIST_BANNER_QP:8783,MESSENGER_FOR_WEB_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:10951,FACEBOOK_WWW_PUBLIC_CHAT_NUX_QP:10975,MESSENGER_FOR_WEB_CM_CHANNEL_THREAD_VIEW_QP:10999,WWW_JEWEL_QP:3565,FACEBOOK_WWW_SIDEBAR_CONTACTS_BUCKET_QP:7834,WORKPLACE_WWW_MEGAPHONE_QP:3934,MSITE_BOOKMARKS:3969,FACEBOOK_FOR_IOS_BOOKMARK_QP:5424,FACEBOOK_FOR_ANDROID_BOOKMARK_QP:5429,FACEBOOK_MULTI_PLATFORM_BOOKMARK_QP:5431,FBLITE_BOOKMARK_PROMO_FBLITE_QP:7431,FACEBOOK_WWW_BOOKMARK_QP:8249,MSITE_QP_BANNER:4011,DAILY_DIALOGUE_LIGHTWEIGHT:4014,WWW_DAILY_DIALOGUE_LIGHTWEIGHT:4019,IOS_DAILY_DIALOGUE_LIGHTWEIGHT:4025,ANDROID_DAILY_DIALOGUE_LIGHTWEIGHT:4026,MSITE_DAILY_DIALOG_LIGHTWEIGHT:4121,FBLITE_LIGHTWEIGHT:4725,MSITE_DIODE_ROADBLOCK_QP:4061,WORKPLACE_ANDROID_INTERSTITIAL_QP:4090,WORKPLACE_ANDROID_TAB_INTERSTITIAL:4099,WORKPLACE_ANDROID_NEWSFEED_QP:4590,WORKPLACE_IOS_TAB_INTERSTITIAL_QP:4100,WORKPLACE_WWW_INTERSTITIAL_QP:4437,WORKPLACE_MSITE_MEGAPHONE_QP:4727,WORKPLACE_IOS_GROUP_FEED_FOOTER:4788,WORKPLACE_CROSS_PLATFORM_MEGAPHONE:5012,WORKPLACE_MSITE_INTERSTITIAL_QP:5261,WORKPLACE_MSITE_STICKY_HEADER_BANNER_QP:5272,WORKPLACE_ANDROID_PROFILE_QP:5422,WORKPLACE_WWW_GROUPS_TOP_OF_MALL_QP:7972,WORKPLACE_MULTI_PLATFORM_INTERSTITIAL_QP:8104,WORKPLACE_MULTI_PLATFORM_TOP_OF_GROUP_MALL_QP:7973,WORKPLACE_FOR_ANDROID_TOP_OF_GROUP_MALL_QP:7946,WORKPLACE_FOR_IOS_TOP_OF_GROUP_MALL_QP:7971,IOS_WORKCHAT_INTERSTITIAL_QP:4143,WORKCHAT_FOR_IOS_WORKSPEED_INBOX_BANNER_QP:7746,WORKPLACE_FOR_IOS_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11990,WORKPLACE_MULTI_PLATFORM_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11989,ANDROID_WORKCHAT_INTERSTITIAL_QP:4144,WORKCHAT_FOR_WWW_BANNER_QP:5497,WORKCHAT_FOR_WWW_THREAD_LIST_QP:8179,ANDROID_WORKCHAT_THREAD_LIST_QP:5411,ANDROID_WORKCHAT_CALL_LOG_SURFACE_QP:5579,PROFILE_TIMELINE_QP:4218,PROFILE_TIMELINE_IOS_QP:4221,PROFILE_TIMELINE_ANDROID_QP:4222,PROFILE_TIMELINE_DESKTOP_QP:4555,PROFILE_DISCOVERY_MULTI_PLATFORM_QP:5753,PROFILE_DISCOVERY_IOS_QP:5752,PROFILE_DISCOVERY_ANDROID_QP:5754,FACEBOOK_MULTI_PLATFORM_PROFILE_PROMPTS_QP:5770,FACEBOOK_FOR_IOS_PROFILE_PROMPTS_QP:5772,FACEBOOK_FOR_ANDROID_PROFILE_PROMPTS_QP:5773,FACEBOOK_FOR_ANDROID_MEMORIALIZED_PROFILE_QP:12151,FACEBOOK_FOR_IOS_MEMORIALIZED_PROFILE_QP:12152,FBLITE_MEMORIALIZED_PROFILE_QP:12150,FACEBOOK_WWW_MEMORIALIZED_PROFILE_QP:12149,FACEBOOK_MULTI_PLATFORM_MEMORIALIZED_PROFILE_QP:12148,FACEBOOK_FOR_ANDROID_GEMSTONE_QP:6820,FACEBOOK_FOR_IOS_GEMSTONE_QP:6821,FACEBOOK_MULTI_PLATFORM_GEMSTONE_QP:6822,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_INBOX_QP:8417,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_THREAD_QP:8441,FACEBOOK_FOR_IOS_DATING_MESSAGE_INBOX_QP:8474,FACEBOOK_FOR_IOS_DATING_MESSAGE_THREAD_QP:8730,FACEBOOK_FOR_ANDROID_DATING_MESSENGER_INBOX_FOOTER_QP:12240,FACEBOOK_FOR_IOS_DATING_MESSENGER_INBOX_FOOTER_QP:12242,FBLITE_DATING_MESSENGER_INBOX_FOOTER_QP:12241,FACEBOOK_MULTI_PLATFORM_DATING_MESSENGER_INBOX_FOOTER_QP:12239,FACEBOOK_FOR_IOS_MEET_NEW_FRIENDS_PROMPT_QP:7095,FACEBOOK_FOR_ANDROID_MEET_NEW_FRIENDS_PROMPT_QP:7097,FACEBOOK_MULTI_PLATFORM_MEET_NEW_FRIENDS_PROMPT_QP:7099,M_LOGGEDOUT_INTERSTITIAL:4247,WWW_TOPIC_FEEDS_MEGAPHONE_QP:4256,MSITE_QP_STICKY_HEADER:4383,MESSENGER_RECENT_THREAD_LIST_QP:4408,IOS_SEARCH_RESULT_MODULES_QP:4640,IOS_REACT_NATIVE_MEGAPHONE_QP:4682,ANDROID_REACT_NATIVE_MEGAPHONE_QP:4683,PAGES_MANAGER_FOR_IOS_REACT_NATIVE_MEGAPHONE_QP:5407,PAGES_MANAGER_FOR_ANDROID_REACT_NATIVE_MEGAPHONE_QP:5408,IOS_SAVE_DASHBOARD_MEGAPHONE_QP:4711,WWW_SAVE_DASHBOARD_MEGAPHONE_QP:4724,FB4A_SAVED_DASH_MEGAPHONE_QP:4726,OCULUS_TEST_SURFACE_QP:4867,OCULUS_PE_HOME_GO_EXPLORE_QP:6291,OCULUS_PE_TWILIGHT_GO_NOTIFICATIONS_QP:6706,OCULUS_PE_HOME_QUEST_STORE_HERO_QP:6731,OCULUS_PE_HOME_QUEST_EXPLORE_HERO_QP:6768,OCULUS_HOME_PE_QUEST_EXPLORE_MEGAPHONE_QP:7928,OCULUS_PE_HOME_QUEST_EXPLORE_TIP_QP:6782,OCULUS_PE_HOME_MOBILE_EXPLORE_HERO_QP:6944,OCULUS_PE_SKYLINE_LP_QP:6834,OCULUS_PE_TWILIGHT_QUEST_FEED_PROMO_QP:6893,OCULUS_PE_TWILIGHT_QUEST_FEED_TIP_QP:6894,OCULUS_PE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:6953,OCULUS_PE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:6965,OCULUS_PE_TWILIGHT_RIFT_FEED_PROMO_QP:6962,OCULUS_PE_TWILIGHT_GO_FEED_TIP_QP:6963,OCULUS_PE_HOME_GO_EXPLORE_TIP_QP:6964,OCULUS_PE_HOME_GO_EXPLORE_SURVEY_QP:7048,OCULUS_PE_TWILIGHT_GO_FEED_PROMO_QP:7119,OCULUS_PE_RIFT_STORE_SPOTLIGHT:7121,OCULUS_PE_QUEST_STORE_SPOTLIGHT:7122,OCULUS_PE_MOBILE_STORE_SPOTLIGHT:7123,OCULUS_PE_QUEST_STORE_NEW_AND_UPDATED:7402,OCULUS_PE_RIFT_STORE_NEW_AND_UPDATED:7407,OCULUS_PE_MOBILE_STORE_NEW_AND_UPDATED:7408,OCULUS_PE_RIFT_STORE_RIFT_PICKS:7409,OCULUS_PE_HOME_QUEST_EXPLORE_NOTE_QP:7276,OCULUS_PE_HOME_QUEST_EXPLORE_ARTICLES_QP:7353,OCULUS_PE_TWILIGHT_FEED_RELEASE_NOTE_QP:7404,OCULUS_PE_QUEST_STORE_SALE_QP:7492,OCULUS_PE_RIFT_STORE_SALE_QP:7493,OCULUS_PE_MOBILE_STORE_SALE_QP:7494,OCULUS_HOME_PE_QUEST_BUDGETED_FEED_QP:7395,OCULUS_PE_TWILIGHT_QUEST_BUDGETED_FEED_QP:7509,OCULUS_PE_HOME_QUEST_VR_FEED_HERO_NEW_USER_QP:7579,OCULUS_PE_HOME_QUEST_STORE_SPOTLIGHT_NEW_USER_QP:7580,OCULUS_PE_TWILIGHT_QUEST_FEED_HERO_NEW_USER_QP:7592,OCULUS_HOME_PE_QUEST_MEDIA_FEED_TIP_QP:8560,OCULUS_HOME_PRODUCTIVITY_SECTION_TIP_QP:9892,OCULUS_HOME_INTERSTITIAL_QP:5259,OCULUS_HOME_TOAST_QP:6386,OCULUS_HOME_TOOLTIP_QP:5628,OCULUS_HOME_GDPR_INTERSTITIAL_QP:5643,OCULUS_HOME_SURVEY_QP:6939,OCULUS_HOME_GUIDED_ACTIONS_QP:7777,OCULUS_HOME_PREPENDED_STORY_QP:8226,OCULUS_HORIZON_MEGAPHONE_QP:4916,OCULUS_HORIZON_BOTTOM_NAV_TOOLTIP_QP:5237,OCULUS_HORIZON_INTERSTITIAL_QP:5611,OCULUS_QUEST_AUI_TOOLTIP_QP:7790,OCULUS_QUEST_AUI_GUIDE_BAR:8529,OCULUS_AUI_LIBRARY_TEST_MEGAPHONE_QP:11036,OCULUS_CREATOR_SITE_MEDIA_STUDIO_LIBRARY_QP:8592,OCULUS_HOME_LIVINGROOM_TOOLTIP_QP:8646,OCULUS_HOME_LIVINGROOM_SNACKBAR_QP:8651,OCULUS_AUTH_META_WWW_INTERSTITIAL_QP:11390,OCULUS_SECURE_WWW_SETTINGS_INTERSTITIAL_QP:11391,OCULUS_TWILIGHT_PUSH_NOTIFICATION_QP:6927,OCULUS_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:6836,OCULUS_AUI_QUEST_NOTIFICATION_QP:7988,OCULUS_TWILIGHT_MEGAPHONE_STICKER_QP:11445,OCULUS_TWILIGHT_MEGAPHONE_QP:7049,OCULUS_TWILIGHT_TOOLTIP_QP:7733,OCULUS_TWILIGHT_SNACKBAR_QP:8090,OCULUS_TWILIGHT_INTERSTITIAL_QP:8275,OCULUS_TWILIGHT_DIALOG_QP:8286,OCULUS_FITNESS_TRACKER_DIALOG_QP:10431,OCULUS_DEV_MULTI_PLATFORM_SEV_ALERT_QP:8867,OCULUS_DEV_ODH_SEV_ALERT_QP:8996,OCULUS_DEV_WWW_SEV_ALERT_QP:8998,OCULUS_DEV_MULTI_PLATFORM_TIP_CARD_QP:8892,OCULUS_DEV_MULTI_PLATFORM_ODH_RELEASE_NOTES_QP:8961,OCULUS_DEV_MULTI_PLATFORM_FEATURED_VIDEO_QP:8967,OCULUS_DEV_ODH_NEWS_HIGHLIGHT_QP:9103,OCULUS_DEV_WWW_PUSH_NOTIFICATION_QP:9201,OCULUS_DEV_ODH_PUSH_NOTIFICATION_QP:9210,OCULUS_DEV_WWW_DEV_CENTER_CARD_QP:9453,OCULUS_DEV_WWW_INTERSTITIAL_QP:9483,OCULUS_DEV_WWW_DEV_CENTER_ANNOUNCEMENTS_QP:9595,OCULUS_DEV_WWW_RECOMMENDATION_BANNER_QP:9622,OCULUS_DEV_ODH_RAPID_FEEDBACK_QP:9725,OCULUS_DEV_WWW_DEVELOPER_ROCKSTEADY_ONBOARDING_QP:9805,OCULUS_DEV_WWW_SAVED_ROUTES_RECOMMENDATION_QP:10068,OCULUS_DEV_ODH_FEATURED_PACKAGES_QP:10110,OCULUS_DEV_MULTI_PLATFORM_NUX_QP:10203,OCULUS_DEV_WWW_DEVELOPER_CENTER_NUX_QP:10197,OCULUS_DEV_ODH_ODH_NUX_QP:10204,OCULUS_DEV_ODH_DEVELOPER_AWARENESS_BANNER_QP:11988,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_AWARENESS_BANNER_QP:11987,INSTAGRAM_MULTI_PLATFORM_TOOLTIP_QP:5857,INSTAGRAM_FOR_IOS_TOOLTIP_QP:5829,INSTAGRAM_FOR_ANDROID_TOOLTIP_QP:5858,INSTAGRAM_FOR_WEB_TOOLTIP_QP:5906,INSTAGRAM_MULTI_PLATFORM_MEGAPHONE_QP:5805,INSTAGRAM_IOS_MEGAPHONE:4669,INSTAGRAM_ANDROID_MEGAPHONE:4715,INSTAGRAM_WEB_MEGAPHONE:5095,INSTAGRAM_LOGGED_OUT_WEB_MEGAPHONE_DEPRECATED:6428,INSTAGRAM_CARBON_MEGAPHONE_QP:8123,INSTAGRAM_MULTI_PLATFORM_INTERSTITIAL_QP:5806,INSTAGRAM_FOR_ANDROID_INTERSTITIAL_QP:5734,INSTAGRAM_FOR_IOS_INTERSTITIAL_QP:5736,INSTAGRAM_FOR_WEB_INTERSTITIAL_QP:5780,INSTAGRAM_CARBON_INTERSTITIAL_QP:8151,INSTAGRAM_FOR_ANDROID_PROMOTIONAL_DIALOG_V2_QP:12104,INSTAGRAM_FOR_IOS_PROMOTIONAL_DIALOG_V2_QP:12103,INSTAGRAM_MULTI_PLATFORM_PROMOTIONAL_DIALOG_V2_QP:12102,INSTAGRAM_FOR_WEB_DIRECT_INTERSTITIAL_QP:11459,INSTAGRAM_FOR_ANDROID_STORIES_QP:6319,INSTAGRAM_FOR_IOS_STORIES_QP:6320,INSTAGRAM_MULTI_PLATFORM_STORIES_QP:6321,INSTAGRAM_FOR_IOS_STORIES_ARCHIVE_QP:12129,INSTAGRAM_FOR_ANDROID_STORIES_ARCHIVE_QP:12128,INSTAGRAM_MULTI_PLATFORM_STORIES_ARCHIVE_QP:12127,INSTAGRAM_FOR_ANDROID_STORIES_EDIT_HIGHLIGHT_QP:12131,INSTAGRAM_FOR_IOS_STORIES_EDIT_HIGHLIGHT_QP:12132,INSTAGRAM_MULTI_PLATFORM_STORIES_EDIT_HIGHLIGHT_QP:12130,INSTAGRAM_FOR_IOS_NETEGO_FEED_UNIT:6787,INSTAGRAM_FOR_ANDROID_NETEGO_FEED_UNIT:6994,INSTAGRAM_MULTI_PLATFORM_NETEGO_FEED_UNIT:6995,INSTAGRAM_FOR_WEB_NETEGO_FEED_UNIT_QP:8637,INSTAGRAM_MULTI_PLATFORM_NETEGO_STORY_QP:7706,INSTAGRAM_FOR_IOS_NETEGO_STORY_ON_IOS_QP:7707,INSTAGRAM_FOR_ANDROID_NETEGO_STORY_ON_ANDROID_QP:7708,INSTAGRAM_MULTI_PLATFORM_REELS_UNIT_QP:11174,INSTAGRAM_FOR_IOS_REELS_UNIT_ON_IOS_QP:11179,INSTAGRAM_FOR_ANDROID_REELS_UNIT_ON_ANDROID_QP:11180,INSTAGRAM_FOR_IOS_MESSAGE_FOOTER_QP:8035,INSTAGRAM_FOR_ANDROID_MESSAGE_FOOTER_QP:8034,INSTAGRAM_MULTI_PLATFORM_MESSAGE_FOOTER_QP:8036,INSTAGRAM_MULTI_PLATFORM_SERVICE_STORE_FRONT_QP:9050,INSTAGRAM_FOR_IOS_SERVICE_STORE_FRONT_QP:9061,INSTAGRAM_FOR_ANDROID_SERVICE_STORE_FRONT_QP:9062,INSTAGRAM_FOR_ANDROID_CALL_END_QP:9282,INSTAGRAM_MULTI_PLATFORM_CALL_END_QP:9286,INSTAGRAM_FOR_IOS_CALL_END_QP:9287,INSTAGRAM_MULTI_PLATFORM_REELS_MIDCARD_QP:10656,INSTAGRAM_FOR_ANDROID_REELS_MIDCARD_QP:10671,BARCELONA_MULTI_PLATFORM_MEGAPHONE_QP:11450,BARCELONA_IOS_MEGAPHONE:11453,BARCELONA_ANDROID_MEGAPHONE:11451,BARCELONA_WEB_MEGAPHONE:11452,BARCELONA_FOR_ANDROID_PERMALINK_QP:12039,BARCELONA_FOR_IOS_PERMALINK_QP:12038,BARCELONA_MULTI_PLATFORM_PERMALINK_QP:12037,BARCELONA_FOR_ANDROID_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12175,BARCELONA_FOR_IOS_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12173,BARCELONA_FOR_WEB_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12174,BARCELONA_MULTI_PLATFORM_APP_OPEN_PROMPT_NEW_X_EXPERIENCE_NXX__QP:12172,IOS_CAMERA_SYSTEM_QP:5079,ANDROID_CAMERA_SYSTEM_QP:5080,FBLITE_CAMERA_SYSTEM_QP:5808,CROSS_PLATFORM_CAMERA_SYSTEM_QP:5083,MESSENGER_FOR_ANDROID_STORY_PROMOTION_QP:6063,MESSENGER_FOR_IOS_STORY_PROMOTION_QP:6177,MESSENGER_FOR_IOS_THREAD_LIST_QP:7025,MESSENGER_FOR_IOS_THREAD_VIEW_QP:6985,MESSENGER_FOR_IOS_INTERSTITIAL_QP:8764,MESSENGER_FOR_IOS_ARMADILLO_THREAD_TOP_BANNER_QP:10152,MESSENGER_LIGHTSPEED_FOR_IOS_FRIENDS_TAB_HEADER_QP:7555,MESSENGER_FOR_WEB_INTERSTITIAL_LIGHTSPEED_QP:8879,MESSENGER_FOR_ANDROID_CHAT_ENTITY_QP:10694,MESSENGER_LIGHTSPEED_FOR_IOS_CHAT_ENTITY_QP:10660,MESSENGER_MULTI_PLATFORM_CHAT_ENTITY_QP:10693,FACEBOOK_WWW_MESSAGING_JEWEL_BANNER_QP:8439,FACEBOOK_WWW_FACEBOOK_CHAT_TAB_BANNER_QP:8888,FACEBOOK_WWW_END_CALL_INTERSTITIAL_QP:8603,FACEBOOK_MULTI_PLATFORM_NOTIFICATION_QP:5480,FACEBOOK_FOR_IOS_JEWEL_NOTIFICATION_QP:5481,FACEBOOK_FOR_ANDROID_JEWEL_NOTIFICATION_QP:5482,FACEBOOK_WWW_JEWEL_NOTIFICATION_QP:5483,FACEBOOK_MSITE_JEWEL_NOTIFICATION_QP:5484,FBLITE_JEWEL_NOTIFICATION_QP:6244,FACEBOOK_FOR_IOS_NOTIFICATIONS_BANNER_QP:9069,FACEBOOK_MULTI_PLATFORM_NOTIFICATIONS_TAB_MEGAPHONE_QP:9090,FACEBOOK_FOR_ANDROID_NOTIFICATIONS_BANNER_QP:10313,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6226,FACEBOOK_FOR_IOS_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6227,FACEBOOK_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:5674,FACEBOOK_WWW_OFFSITE_SMS_NOTIFICATION_QP:6395,WORKPLACE_MULTI_PLATFORM_NOTIFICATION_QP:6292,WORKPLACE_WWW_JEWEL_NOTIFICATION_QP:6293,WORKPLACE_FOR_ANDROID_JEWEL_NOTIFICATION_QP:6295,WORKPLACE_FOR_IOS_JEWEL_NOTIFICATION_QP:6296,WORKPLACE_MSITE_JEWEL_NOTIFICATION_QP:6297,WORKPLACE_WWW_EMAIL_NOTIFICATION_QP:6334,INSTAGRAM_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:6751,INSTAGRAM_FOR_IOS_PUSH_NOTIFICATION_QP:6752,INSTAGRAM_FOR_ANDROID_PUSH_NOTIFICATION_QP:6753,INSTAGRAM_FOR_WEB_PUSH_NOTIFICATION_QP:6754,INSTAGRAM_OFFSITE_EMAIL_NOTIFICATION_QP:7039,INSTAGRAM_MULTI_PLATFORM_ACTIVITY_FEED_NOTIFICATION_QP:7356,INSTAGRAM_FOR_IOS_ACTIVITY_FEED_NOTIFICATION_QP:7357,INSTAGRAM_FOR_ANDROID_ACTIVITY_FEED_NOTIFICATION_QP:7358,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_INLINE_SURVEY_QP:7215,INSTAGRAM_FOR_ANDROID_INSTAGRAM_INLINE_SURVEY_QP:7256,INSTAGRAM_FOR_IOS_INSTAGRAM_INLINE_SURVEY_QP:7257,INSTAGRAM_MULTI_PLATFORM_IG_MULTI_PLATFORM_REELS_QUALITY_SURVEY_QP:8044,INSTAGRAM_FOR_IOS_IG_IOS_REELS_QUALITY_SURVEY_QP:8045,INSTAGRAM_FOR_ANDROID_IG_ANDROID_REELS_QUALITY_SURVEY_QP:8046,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8836,INSTAGRAM_FOR_IOS_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8837,INSTAGRAM_FOR_ANDROID_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8838,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_NOTIFICATION_SURVEY_QP:8989,INSTAGRAM_FOR_IOS_INSTAGRAM_NOTIFICATION_SURVEY_QP:8987,INSTAGRAM_FOR_ANDROID_INSTAGRAM_NOTIFICATION_SURVEY_QP:8988,FACEBOOK_MULTI_PLATFORM_GROUPS_MALL_QP_DEPRECATED:5541,FACEBOOK_FOR_ANDROID_GROUPS_MALL_QP:5542,FACEBOOK_FOR_IOS_GROUPS_MALL_QP:5543,FACEBOOK_WWW_GROUPS_MALL_QP:5544,FACEBOOK_MSITE_COMMENT_BREADCRUMB_QP:5653,FACEBOOK_MSITE_PHOTO_BREADCRUMB_QP:5599,FACEBOOK_FOR_IOS_GROUPS_COMPOSER_CREATION_BAR_QP:12238,FACEBOOK_MULTI_PLATFORM_GROUPS_COMPOSER_CREATION_BAR_QP:12237,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_V1_QP:6730,FACEBOOK_FOR_ANDROID_GROUPS_TAB_V1_QP:6726,FACEBOOK_FOR_IOS_GROUPS_TAB_V1_QP:6729,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_TOP_UNITS_QP:9732,FACEBOOK_FOR_IOS_GROUPS_TAB_TOP_UNITS_QP:9734,FACEBOOK_FOR_ANDROID_GROUPS_TAB_TOP_UNITS_QP:9735,FBLITE_GROUPS_TAB_TOP_UNITS_QP:10261,FACEBOOK_FOR_ANDROID_VIDEO_HOME_MEGAPHONE_QP:5764,FACEBOOK_FOR_ANDROID_WATCH_TAB_QP:9150,FACEBOOK_FOR_IOS_WATCH_TAB_QP:9154,FACEBOOK_MULTI_PLATFORM_WATCH_TAB_QP:9155,FACEBOOK_WWW_PAGE_ADMIN_HOME_QP:5869,FACEBOOK_MULTI_PLATFORM_FEED_UNIT_CTA_QP:5962,FACEBOOK_FOR_IOS_FEED_UNIT_CTA_QP:5966,FACEBOOK_FOR_ANDROID_FEED_UNIT_CTA_QP:5967,FBLITE_FEED_UNIT_CTA_QP:6123,FACEBOOK_MULTI_PLATFORM_PAGE_RECOMMENDATIONS_NUX_QP:6247,FACEBOOK_FOR_ANDROID_PAGE_RECOMMENDATIONS_NUX_QP:6259,FACEBOOK_FOR_IOS_PAGE_RECOMMENDATIONS_NUX_QP:6260,FACEBOOK_WWW_SURFACE_PAGE_RECOMMENDATIONS_NUX_QP:6285,FACEBOOK_FOR_ANDROID_STORY_BUCKET_QP:6254,FACEBOOK_FOR_IOS_STORY_BUCKET_QP:6255,FACEBOOK_WWW_STORY_BUCKET_QP:6256,FACEBOOK_MSITE_STORY_BUCKET_QP:6257,FACEBOOK_MULTI_PLATFORM_STORY_BUCKET_QP:6258,FBLITE_STORY_BUCKET_QP:8434,FACEBOOK_MULTI_PLATFORM_ADD_TO_STORY_BUCKET_QP:10529,FACEBOOK_FOR_ANDROID_ADD_TO_STORY_BUCKET_QP:10532,FACEBOOK_FOR_IOS_ADD_TO_STORY_BUCKET_QP:10533,FACEBOOK_MULTI_PLATFORM_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10559,FACEBOOK_FOR_IOS_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10560,FACEBOOK_FOR_ANDROID_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10561,FACEBOOK_MULTI_PLATFORM_STORIES_END_CARD_QP:8058,FACEBOOK_FOR_IOS_STORIES_END_CARD_QP:8059,FACEBOOK_FOR_ANDROID_STORIES_END_CARD_QP:8060,FACEBOOK_MULTI_PLATFORM_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6245,FACEBOOK_FOR_ANDROID_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6249,FACEBOOK_FOR_IOS_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6250,FACEBOOK_FOR_IOS_PROFILE_CONTEXTUAL_QP:6288,FACEBOOK_FOR_IOS_MESSENGER_KIDS_PROFILE_QP:6444,FACEBOOK_FOR_ANDROID_MESSENGER_KIDS_PROFILE_QP:6445,FACEBOOK_FOR_ANDROID_WATCHLIST_MEGAPHONE_QP:6472,FACEBOOK_MSITE_KAIOS_FEED_UNIT_QP:6494,FACEBOOK_MSITE_KAIOS_MEGAPHONE_QP:6589,FACEBOOK_FOR_ANDROID_TAB_PROMOTION_QP:6737,FACEBOOK_FOR_IOS_TAB_PROMOTION_QP:6749,FACEBOOK_FOR_ANDROID_TAB_BAR_EXTENSION_QP:9054,PORTAL_HOME_CARD_QP:8202,PORTAL_MULTI_PLATFORM_HOME_CARD_QP:11931,PORTAL_PORTAL_DEVICE_DISCOVER_QP:7280,PROTAL_MULTI_PLATFORM_DEVICE_DISCOVER_QP:12046,FACEBOOK_FOR_ANDROID_TOMBSTONE_FOLLOWUP_UNIT_QP:6843,FACEBOOK_FOR_IOS_TOMBSTONE_FOLLOWUP_UNIT_QP:6844,FACEBOOK_MULTI_PLATFORM_TOMBSTONE_FOLLOWUP_UNIT_QP:6847,FACEBOOK_FOR_IOS_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6971,FACEBOOK_FOR_ANDROID_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6972,FACEBOOK_MULTI_PLATFORM_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6973,MESSENGER_FOR_ANDROID_DISCOVER_TAB_QP:7004,MESSENGER_FOR_IOS_DISCOVER_TAB_QP:7023,MESSENGER_FOR_ANDROID_SEARCH_NULL_STATE_SURFACE_QP:7190,MESSENGER_FOR_ANDROID_NULL_STATE_SEARCH_HEADER_BANNER_QP:8978,FACEBOOK_FOR_ANDROID_END_OF_FEED:7252,FACEBOOK_FOR_ANDROID_SURVEY_BOTTOM_SHEET_QP:7057,FACEBOOK_WWW_GROUPS_RIGHT_HAND_COLUMN_QP:7242,FACEBOOK_MULTI_PLATFORM_GROUPS_TOP_OF_MALL_QP:7326,FACEBOOK_WWW_GROUPS_TOP_OF_MALL_QP:7340,FACEBOOK_IOS_GROUPS_TOP_OF_MALL_QP:7371,FACEBOOK_ANDROID_GROUPS_TOP_OF_MALL_QP:7383,FBLITE_GROUPS_TOP_OF_MALL_QP:7527,FACEBOOK_FOR_IOS_CREATION_HOMEBASE_QP:7450,FACEBOOK_MULTI_PLATFORM_CREATION_HOMEBASE_QP:11131,FACEBOOK_FOR_ANDROID_CREATION_HOMEBASE_QP:11130,FACEBOOK_MULTI_PLATFORM_PLAZA_QP:7479,FACEBOOK_FOR_ANDROID_PLAZA_QP:7507,FACEBOOK_FOR_IOS_PLAZA_QP:7508,FACEBOOK_FOR_ANDROID_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7571,FACEBOOK_FOR_IOS_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7572,FACEBOOK_MULTI_PLATFORM_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7573,FACEBOOK_FOR_ANDROID_NEARBYFRIENDS_QP:7602,FACEBOOK_MULTI_PLATFORM_NEARBY_FRIENDS_INLINE_SECTION_QP:7791,FACEBOOK_FOR_IOS_NEARBY_FRIENDS_INLINE_SECTION_QP:7786,FACEBOOK_FOR_ANDROID_NEARBY_FRIENDS_INLINE_SECTION_QP:7797,FACEBOOK_MULTI_PLATFORM_COMMUNITY_QP:7693,FACEBOOK_FOR_ANDROID_COMMUNITY_QP:7704,FACEBOOK_FOR_IOS_COMMUNITY_QP:7705,FBLITE_COMMUNITY_QP:7749,FACEBOOK_WWW_COMMUNITIES_QP:7923,FACEBOOK_MSITE_COMMUNITY_QP:7750,FACEBOOK_WWW_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:10713,FACEBOOK_MULTI_PLATFORM_GROUP_PENDING_POSTS_QUEUE_QP:11048,FACEBOOK_WWW_GROUP_PENDING_POSTS_QUEUE_QP:11068,FACEBOOK_MULTI_PLATFORM_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11062,FACEBOOK_FOR_ANDROID_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11063,FACEBOOK_FOR_IOS_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11064,FACEBOOK_WWW_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11070,FBLITE_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11071,FACEBOOK_MULTI_PLATFORM_PROFILE_PLUS_QP:9639,FACEBOOK_WWW_PROFILE_PLUS_QP:9641,FACEBOOK_FOR_IOS_PROFILE_PLUS_QP:9642,FACEBOOK_FOR_ANDROID_PROFILE_PLUS_QP:9644,FBLITE_PROFILE_PLUS_QP:9702,FACEBOOK_MULTI_PLATFORM_HASHTAG_DEEP_DIVE_QP:7930,FACEBOOK_FOR_IOS_HASHTAG_DEEP_DIVE_QP:7954,FACEBOOK_FOR_ANDROID_HASHTAG_DEEP_DIVE_QP:7955,FACEBOOK_WWW_HASHTAG_DEEP_DIVE_QP:8185,FACEBOOK_MULTI_PLATFORM_ROOMS_TRAY_CARD_QP:7998,FACEBOOK_FOR_IOS_ROOMS_TRAY_CARD_QP:7999,FACEBOOK_FOR_ANDROID_ROOMS_TRAY_CARD_QP:8e3,FACEBOOK_WWW_ROOMS_TRAY_CARD_QP:8001,FBLITE_ROOMS_TRAY_CARD_QP:8002,MESSENGER_DESKTOP_THREADS_LIST_QP:7703,FACEBOOK_MULTI_PLATFORM_MP_BILLBOARD_QP:10636,FACEBOOK_FOR_IOS_MP_BILLBOARD_FOR_IOS_QP:10651,FACEBOOK_FOR_ANDROID_MP_BILLBOARD_FOR_ANDROID_QP:10652,FACEBOOK_FOR_ANDROID_MARKETPLACE_PROFILE_MEGAPHONE_QP:12254,FACEBOOK_FOR_IOS_MARKETPLACE_PROFILE_MEGAPHONE_QP:12253,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_PROFILE_MEGAPHONE_QP:12252,FACEBOOK_FOR_ANDROID_WORDMARK_QP:8421,FACEBOOK_FOR_IOS_WORDMARK_QP:8944,FACEBOOK_FOR_IOS_BIRTHDAY_STORY_SUNSET_QP:8332,FACEBOOK_FOR_ANDROID_BIRTHDAY_STORY_SUNSET_QP:8333,FACEBOOK_MULTI_PLATFORM_VOYAGER_NULLSTATE_QP:8378,FACEBOOK_FOR_IOS_VOYAGER_NULLSTATE_QP:8383,FACEBOOK_FOR_ANDROID_VOYAGER_NULLSTATE_QP:8384,FACEBOOK_FOR_IOS_COMPOSER_TOOLTIP_QP:8419,FACEBOOK_FOR_ANDROID_COMPOSER_TOOLTIP_QP:8435,FACEBOOK_MULTI_PLATFORM_COMPOSER_TOOLTIP_QP:8457,FACEBOOK_WWW_COMPOSER_TOOLTIP_QP:8951,FACEBOOK_FOR_IOS_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:12e3,FACEBOOK_FOR_ANDROID_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11999,FACEBOOK_MULTI_PLATFORM_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11998,INSTAGRAM_MULTI_PLATFORM_NEW_REELS_QP:8481,INSTAGRAM_FOR_IOS_NEW_REELS_QP:8494,INSTAGRAM_FOR_ANDROID_NEW_REELS_QP:8495,MESSENGER_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:8470,MESSENGER_LIGHTSPEED_FOR_IOS_RTC_PEEK_PROMOTION_QP:8502,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_EXPLORE_SURVEY_QP:8779,INSTAGRAM_FOR_IOS_INSTAGRAM_EXPLORE_SURVEY_QP:8780,INSTAGRAM_FOR_ANDROID_INSTAGRAM_EXPLORE_SURVEY_QP:8781,INSTAGRAM_FOR_ANDROID_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11983,INSTAGRAM_FOR_IOS_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11984,INSTAGRAM_MULTI_PLATFORM_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11982,WHATSAPP_FOR_IOS_STATUS_QP:9310,WHATSAPP_FOR_ANDROID_STATUS_QP:9311,WHATSAPP_FOR_WEB_STATUS_QP:9312,WHATSAPP_FOR_KAIOS_STATUS_QP:9313,WHATSAPP_MULTI_PLATFORM_STATUS_QP:9315,WHATSAPP_FOR_SMBA_STATUS_QP:10090,WHATSAPP_FOR_SMBI_STATUS_QP:10091,WHATSAPP_FOR_ANDROID_SURVEY_MESSAGE_QP:10418,WHATSAPP_FOR_IOS_SURVEY_MESSAGE_QP:10419,WHATSAPP_MULTI_PLATFORM_SURVEY_MESSAGE_QP:10420,WHATSAPP_FOR_SMBI_SURVEY_MESSAGE_QP:10661,WHATSAPP_FOR_SMBA_SURVEY_MESSAGE_QP:10662,WHATSAPP_FOR_IOS_CHAT_PSA_QP:10733,WHATSAPP_FOR_SMBI_CHAT_PSA_QP:10734,WHATSAPP_FOR_ANDROID_CHAT_PSA_QP:10735,WHATSAPP_FOR_SMBA_CHAT_PSA_QP:10736,WHATSAPP_MULTI_PLATFORM_CHAT_PSA_QP:10737,WHATSAPP_MULTI_PLATFORM_WA_INTRO_SHEETS_QP:11135,WHATSAPP_FOR_IOS_WA_INTRO_SHEETS_IOS_QP:11136,WHATSAPP_FOR_ANDROID_WA_INTRO_SHEETS_ANDROID_QP:11137,WHATSAPP_FOR_WEB_WA_INTRO_SHEETS_WEB_QP:11138,WHATSAPP_FOR_SMBA_WA_INTRO_SHEETS_SMBA_QP:11139,WHATSAPP_FOR_SMBI_WA_INTRO_SHEETS_SMBI_QP:11140,WHATSAPP_FOR_IOS_WA_BANNER_IOS_QP:11113,WHATSAPP_FOR_ANDROID_WA_BANNER_ANDROID_QP:11114,WHATSAPP_FOR_WEB_WA_BANNER_WEB_QP:11115,WHATSAPP_FOR_SMBA_WA_BANNER_SMBA_QP:11116,WHATSAPP_FOR_SMBI_WA_BANNER_SMBI_QP:11117,WHATSAPP_MULTI_PLATFORM_WA_BANNER_MULTIPLATFORM_QP:11118,WHATSAPP_FOR_ANDROID_CLIENT_PUSH_NOTIFICATION_QP:11389,WHATSAPP_FOR_IOS_CLIENT_PUSH_NOTIFICATION_QP:11387,WHATSAPP_MULTI_PLATFORM_CLIENT_PUSH_NOTIFICATION_QP:11388,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12026,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12025,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12028,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12027,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12030,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12029,WHATSAPP_FOR_SMBA_PUSH_NOTIFICATION_PSA_QP:11239,WHATSAPP_FOR_SMBI_PUSH_NOTIFICATION_PSA_QP:11240,WHATSAPP_FOR_ANDROID_PUSH_NOTIFICATION_PSA_QP:11231,WHATSAPP_FOR_IOS_PUSH_NOTIFICATION_PSA_QP:11233,WHATSAPP_MULTI_PLATFORM_PUSH_NOTIFICATION_PSA_QP:11232,WHATSAPP_MULTI_PLATFORM_SMB_BUSINESS_HOME_BANNER_QP:11250,WHATSAPP_FOR_SMBA_SMB_BUSINESS_HOME_BANNER_QP:11249,WHATSAPP_FOR_SMBI_SMB_BUSINESS_HOME_BANNER_QP:11251,WHATSAPP_FOR_SMBA_SMB_IN_CHAT_CARD_QP:12068,WHATSAPP_FOR_SMBI_SMB_IN_CHAT_CARD_QP:12066,WHATSAPP_FOR_SMB_WEB_SMB_IN_CHAT_CARD_QP:12067,WHATSAPP_MULTI_PLATFORM_SMB_IN_CHAT_CARD_QP:12065,WHATSAPP_FOR_ANDROID_CALL_LIST_BANNER_QP:12235,WHATSAPP_FOR_IOS_CALL_LIST_BANNER_QP:12233,WHATSAPP_MULTI_PLATFORM_CALL_LIST_BANNER_QP:12232,WHATSAPP_FOR_SMBA_CALL_LIST_BANNER_QP:12236,WHATSAPP_FOR_SMBI_CALL_LIST_BANNER_QP:12234,WHATSAPP_FOR_ANDROID_UPDATES_TAB_BANNER_QP:12245,WHATSAPP_FOR_IOS_UPDATES_TAB_BANNER_QP:12246,WHATSAPP_FOR_SMBA_UPDATES_TAB_BANNER_QP:12247,WHATSAPP_FOR_SMBI_UPDATES_TAB_BANNER_QP:12244,WHATSAPP_MULTI_PLATFORM_UPDATES_TAB_BANNER_QP:12243,WHATSAPP_MULTI_PLATFORM_SETTINGS_BANNER_QP:12197,WHATSAPP_FOR_ANDROID_SETTINGS_BANNER_QP:12198,WHATSAPP_FOR_IOS_SETTINGS_BANNER_QP:12199,FACEBOOK_MULTI_PLATFORM_TAB_RANKING_QP:8869,FACEBOOK_FOR_IOS_TAB_RANKING_QP:8895,FACEBOOK_FOR_ANDROID_TAB_RANKING_QP:8896,FBLITE_TAB_RANKING_QP:10227,FACEBOOK_WWW_TAB_RANKING_QP:10228,INSTAGRAM_FOR_IOS_FLOATING_BANNER_QP:8971,INSTAGRAM_FOR_ANDROID_FLOATING_BANNER_QP:8972,INSTAGRAM_MULTI_PLATFORM_FLOATING_BANNER_QP:8973,INSTAGRAM_FOR_IOS_EXPLORE_2X2_QP:9661,INSTAGRAM_FOR_ANDROID_EXPLORE_2X2_QP:9775,INSTAGRAM_MULTI_PLATFORM_EXPLORE_2X2_QP:9776,INSTAGRAM_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:9650,INSTAGRAM_FOR_IOS_RTC_PEEK_PROMOTION_QP:9651,INSTAGRAM_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:9643,FACEBOOK_MULTI_PLATFORM_SETTINGS_MEGAPHONE_QP:9265,FACEBOOK_FOR_IOS_SETTINGS_MEGAPHONE_QP:9318,FACEBOOK_FOR_ANDROID_SETTINGS_MEGAPHONE_QP:9319,FBLITE_SETTINGS_MEGAPHONE_QP:9320,FACEBOOK_MSITE_SETTINGS_MEGAPHONE_QP:9321,FACEBOOK_WWW_SETTINGS_MEGAPHONE_QP:10524,FACEBOOK_MULTI_PLATFORM_AP_PLUS_FEED_UNIT_QP:9575,FACEBOOK_FOR_IOS_AP_PLUS_FEED_UNIT_QP:9576,FACEBOOK_FOR_ANDROID_AP_PLUS_FEED_UNIT_QP:9577,FACEBOOK_WWW_AP_FEED_UNIT_QP:10500,INSTAGRAM_FOR_IOS_ACCOUNT_STATUS_HOME_QP:9698,INSTAGRAM_FOR_ANDROID_ACCOUNT_STATUS_HOME_QP:9699,INSTAGRAM_MULTI_PLATFORM_ACCOUNT_STATUS_HOME_QP:9700,MESSENGER_FOR_ANDROID_COMMUNITY_CHANNEL_LIST_BANNER_QP:9821,MESSENGER_FOR_IOS_COMMUNITY_CHANNEL_LIST_BANNER_QP:9829,MESSENGER_FOR_ANDROID_CM_CHANNEL_THREAD_VIEW_QP:10206,MESSENGER_LIGHTSPEED_FOR_IOS_CM_CHANNEL_THREAD_VIEW_QP:10226,MESSENGER_DESKTOP_COMMUNITY_MESSAGING_QP:10695,FACEBOOK_WWW_MESSENGER_COMMUNITY_MESSAGING_QP:10706,MESSENGER_FOR_ANDROID_BOTTOMSHEET_QP:10896,WEARABLE_APP_ANDROID_PUSH_NOTIFICATION_QP:10388,WEARABLE_APP_IOS_PUSH_NOTIFICATION_QP:10436,WEARABLE_APP_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:10402,WEARABLE_APP_IOS_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:10577,WEARABLE_APP_ANDROID_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:10582,WEARABLE_APP_ANDROID_MWA_HOME_BOTTOM_SHEET_QP:11981,WEARABLE_APP_IOS_MWA_HOME_BOTTOM_SHEET_QP:11980,WEARABLE_APP_MULTI_PLATFORM_MWA_HOME_BOTTOM_SHEET_QP:11979,WEARABLE_APP_IOS_AR_MWA_ALERT_HUB_IOS_QP:12022,WEARABLE_APP_MULTI_PLATFORM_AR_MWA_ALERT_HUB_IOS_QP:12021,WEARABLE_APP_ANDROID_AR_MWA_ALERT_HUB_IOS_QP:12061,WEARABLE_APP_ANDROID_HOME_TAB_MEGAPHONE_QP:12209,WEARABLE_APP_IOS_HOME_TAB_MEGAPHONE_QP:12208,WEARABLE_APP_MULTI_PLATFORM_HOME_TAB_MEGAPHONE_QP:12207,FBLITE_SEARCH_GLYPH_QP:10375,FACEBOOK_MULTI_PLATFORM_TOOLTIP_NUX_QP:10628,FACEBOOK_FOR_IOS_TOOLTIP_QP:10495,FACEBOOK_FOR_ANDROID_TOOLTIP_NUX_QP:10502,FACEBOOK_WWW_TOOLTIP_QP:10707,FACEBOOK_MULTI_PLATFORM_BLOKS_TOOLTIP_QP:10643,FACEBOOK_FOR_IOS_BLOKS_TOOLTIP_QP:10642,FACEBOOK_FOR_ANDROID_BLOKS_TOOLTIP_QP:10641,FACEBOOK_FOR_IOS_REACT_NATIVE_TOOLTIP_QP:10721,FACEBOOK_FOR_ANDROID_REACT_NATIVE_TOOLTIP_QP:10722,FACEBOOK_MULTI_PLATFORM_REACT_NATIVE_TOOLTIP_QP:10724,FBLITE_TOOLTIP_QP:10653,FACEBOOK_FOR_ANDROID_DIALOG_QP:10492,FACEBOOK_FOR_IOS_DIALOG_QP:10487,FACEBOOK_FOR_ANDROID_BOTTOM_SHEET_QP:10548,FACEBOOK_FOR_IOS_BOTTOM_SHEET_QP:10664,FACEBOOK_MULTI_PLATFORM_BOTTOM_SHEET_QP:10665,FBLITE_BOTTOM_SHEET_QP:10690,WORKPLACE_FOR_IOS_BOTTOM_SHEET_QP:11060,WORKPLACE_MULTI_PLATFORM_BOTTOM_SHEET_QP:11061,FACEBOOK_MULTI_PLATFORM_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10543,FACEBOOK_MULTI_PLATFORM_ACSM_MEGAPHONE_QP:10547,FACEBOOK_WWW_ACSM_MEGAPHONE_QP:10554,FACEBOOK_WWW_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10556,FACEBOOK_FOR_ANDROID_MIB_INBOX_BANNER_QP:10555,FACEBOOK_FOR_IOS_INBOX_BANNER_QP:10557,FACEBOOK_FOR_ANDROID_MIB_THREAD_VIEW_BANNER_QP:10578,FACEBOOK_FOR_IOS_MIB_THREADVIEW_BANNER_QP:10576,FACEBOOK_FOR_IOS_MIB_INTERSTITIAL_QP:10962,FACEBOOK_FOR_ANDROID_MIB_INTERSTITIAL_QP:10991,FACEBOOK_WWW_COMMUNITY_MESSAGING_QP:10601,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:10606,FACEBOOK_FOR_ANDROID_COMMUNITY_MESSAGING_QP:10615,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_QP:10616,FACEBOOK_MULTI_PLATFORM_GAMING_DESTINATION_WELCOME_MAT_QP:10645,FACEBOOK_FOR_IOS_GAMING_DESTINATION_WELCOME_MAT_IOS_QP:10657,FACEBOOK_FOR_ANDROID_GAMING_DESTINATION_WELCOME_MAT_ANDROID_QP:10658,FACEBOOK_MSITE_GAMING_DESTINATION_WELCOME_MAT_QP:10692,FACEBOOK_MULTI_PLATFORM_GAMING_IN_FEED_UNIT_QP:10676,FACEBOOK_FOR_ANDROID_GAMING_IN_FEED_UNIT_QP:10677,FACEBOOK_FOR_IOS_GAMING_IN_FEED_UNIT_QP:10678,FACEBOOK_MSITE_GAMING_IN_FEED_UNIT_QP:10714,FACEBOOK_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11041,FACEBOOK_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11042,FACEBOOK_FOR_IOS_LOGIN_INTERSTITIAL_QP:11043,FACEBOOK_WWW_LOGIN_INTERSTITIAL_QP:11493,FACEBOOK_MSITE_LOGIN_INTERSTITIAL_QP:11494,FBLITE_LOGIN_INTERSTITIAL_QP:11495,MESSENGER_DESKTOP_LOGIN_INTERSTITIAL_QP:11496,MESSENGER_FOR_WEB_LOGIN_INTERSTITIAL_QP:11498,INSTAGRAM_FOR_WEB_LOGIN_INTERSTITIAL_QP:11497,FACEBOOK_FOR_IOS_BOOKMARKS_SIDEPANEL_QP:12137,FACEBOOK_FOR_ANDROID_BOOKMARKS_SIDEPANEL_QP:12136,FACEBOOK_MULTI_PLATFORM_BOOKMARKS_SIDEPANEL_QP:12135,FACEBOOK_FOR_IOS_FEED_SUBNAV_QP:12052,FACEBOOK_FOR_ANDROID_FEED_SUBNAV_QP:12051,FACEBOOK_MULTI_PLATFORM_FEED_SUBNAV_QP:12050,QPSURFACE_FACEBOOK_FOR_IOS_NDX:10790,QPSURFACE_FACEBOOK_FOR_ANDROID_NDX:10836,FACEBOOK_WWW_CREATOR_STUDIO_BANNER_QP:10723,FACEBOOK_FOR_IOS_CONTEXTUAL_TRAY_UNIT_QP:10675,FACEBOOK_FOR_ANDROID_CONTEXTUAL_TRAY_UNIT_QP:10897,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_TRAY_UNIT_QP:10898,FACEBOOK_FOR_IOS_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12049,FACEBOOK_FOR_ANDROID_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12048,FACEBOOK_MULTI_PLATFORM_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12047,FACEBOOK_FOR_ANDROID_AB_TESTING_NUX_BOTTOM_SHEET_QP:12070,FACEBOOK_FOR_IOS_AB_TESTING_NUX_BOTTOM_SHEET_QP:12071,FACEBOOK_MULTI_PLATFORM_AB_TESTING_NUX_BOTTOM_SHEET_QP:12069,FACEBOOK_FOR_ANDROID_SERVERDRIVENPROMPT_QP:11227,FACEBOOK_FOR_IOS_SERVERDRIVENPROMPT_QP:11225,FACEBOOK_MULTI_PLATFORM_SERVERDRIVENPROMPT_QP:11226,FACEBOOK_WWW_SERVER_DRIVEN_PROMPT_QP:11264,FBLITE_SERVER_DRIVEN_PROMPT_QP:11265,FACEBOOK_MSITE_SERVER_DRIVEN_PROMPT_QP:11266,WORKPLACE_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11267,WORKPLACE_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11268,WORKPLACE_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11269,MESSENGER_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11270,MESSENGER_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11271,MESSENGER_LIGHTSPEED_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11272,INSTAGRAM_FOR_IOS_SERVERDRIVENPROMPT_QP:12223,INSTAGRAM_FOR_ANDROID_SERVERDRIVENPROMPT_QP:12222,INSTAGRAM_MULTI_PLATFORM_SERVERDRIVENPROMPT_QP:12221,ADS_EVENTS_MANAGER_MULTI_PLATFORM_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11560,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OFFLINE_CONSOLIDATION_UPSELL_QP:11561,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11565,FACEBOOK_MULTI_PLATFORM_SEARCH_BAR_TOOLTIP:11564,FACEBOOK_MULTI_PLATFORM_WATCHLIST_MEGAPHONE_QP:11577,FACEBOOK_MULTI_PLATFORM_VIDEO_HOME_MEGAPHONE_QP:11572,FACEBOOK_MULTI_PLATFORM_TAB_BAR_EXTENSION_QP:11573,FACEBOOK_MULTI_PLATFORM_SURVEY_BOTTOM_SHEET_QP:11574,FACEBOOK_MULTI_PLATFORM_END_OF_FEED:11576,FACEBOOK_MULTI_PLATFORM_NEARBYFRIENDS_QP:11575,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11585,FACEBOOK_MULTI_PLATFORM_PROFILE_CONTEXTUAL_QP:11587,FACEBOOK_MULTI_PLATFORM_CREATOR_STUDIO_BANNER_QP:11586,FACEBOOK_MULTI_PLATFORM_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:11578,FACEBOOK_MULTI_PLATFORM_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11579,FACEBOOK_MULTI_PLATFORM_CM_TAB_TOUR_POPOVER_QP:11580,FACEBOOK_MULTI_PLATFORM_PHOTO_BREADCRUMB_QP:11581,FACEBOOK_MULTI_PLATFORM_MODAL_DIALOG_QP:11582,FACEBOOK_MULTI_PLATFORM_COMMENT_BREADCRUMB_QP:11583,FACEBOOK_MULTI_PLATFORM_BROWSER_PERMISSION_QP:11584,FACEBOOK_MULTI_PLATFORM_END_CALL_INTERSTITIAL_QP:11589,FACEBOOK_MULTI_PLATFORM_BOOKMARKS:11599,FACEBOOK_MULTI_PLATFORM_MESSENGER_CALL_VIEW_QP:11588,FACEBOOK_MULTI_PLATFORM_WEBVIEW_BANNER_QP:11607,FACEBOOK_MULTI_PLATFORM_SEARCH_RESULT_MODULES_QP:11598,FACEBOOK_MULTI_PLATFORM_MEDIA_SERP_MEGAPHONE_QP:11597,FACEBOOK_MULTI_PLATFORM_EVENTS_GUESTLIST_QP:11596,FACEBOOK_MULTI_PLATFORM_THREAD_VIEW_BANNER_QP:11595,FACEBOOK_MULTI_PLATFORM_SEARCH_GLYPH_QP:11606,FACEBOOK_MULTI_PLATFORM_MESSENGER_MEGAPHONE_QP:11594,FACEBOOK_MULTI_PLATFORM_SIDEBAR_CONTACTS_BUCKET_QP:11593,FACEBOOK_MULTI_PLATFORM_RHC_QP:11604,FACEBOOK_MULTI_PLATFORM_PUBLIC_CHAT_NUX_QP:11603,FACEBOOK_MULTI_PLATFORM_PAGE_ADMIN_HOME_QP:11592,FACEBOOK_MULTI_PLATFORM_SMS_NOTIFICATION_QP:11591,FACEBOOK_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11602,FACEBOOK_MULTI_PLATFORM_MESSAGING_JEWEL_BANNER_QP:11601,FACEBOOK_MULTI_PLATFORM_GROUPS_RIGHT_HAND_COLUMN_QP:11600,FACEBOOK_MULTI_PLATFORM_CHAT_TAB_BANNER_QP:11590,FACEBOOK_MULTI_PLATFORM_DIODE_ROADBLOCK_QP:11625,FACEBOOK_MULTI_PLATFORM_QP_BANNER:11624,FACEBOOK_MULTI_PLATFORM_QP_STICKY_HEADER:11622,FACEBOOK_MULTI_PLATFORM_JEWEL_HEADER_QP:11621,FACEBOOK_MULTI_PLATFORM_JEWEL_INTERSTITIAL_QP:11620,FACEBOOK_MULTI_PLATFORM_LOGGEDOUT_INTERSTITIAL:11619,FACEBOOK_MULTI_PLATFORM_LOGIN_BANNER_QP:11618,FACEBOOK_MULTI_PLATFORM_PHOTO_OPEN_INTERSTITIAL_QP:11617,FACEBOOK_MULTI_PLATFORM_PP_MEGAPHONE_QP:11616,FACEBOOK_MULTI_PLATFORM_JEWEL_QP:11615,FACEBOOK_MULTI_PLATFORM_TOPIC_FEEDS_MEGAPHONE_QP:11614,MESSENGER_MULTI_PLATFORM_CALL_TAB_QP:11613,MESSENGER_MULTI_PLATFORM_ARMADILLO_THREAD_TOP_BANNER_QP:11612,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_VIEW_SURFACE_QP:11610,MESSENGER_MULTI_PLATFORM_NEW_THREAD_NUX:11609,MESSENGER_MULTI_PLATFORM_MSYS_INTERSTITIAL_SURFACE_QP:11608,MESSENGER_MULTI_PLATFORM_BOTTOMSHEET_QP:11626,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_CHAT_TAB_THREAD_QP:11623,MESSENGER_MULTI_PLATFORM_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:11627,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_LIST_SURFACE_QP:11630,MESSENGER_MULTI_PLATFORM_RECENT_THREAD_LIST_QP:11631,MESSENGER_MULTI_PLATFORM_INBOX_THREAD_LIST_BANNER_QP:11641,MESSENGER_MULTI_PLATFORM_ME_SETTINGS_BANNER_QP:11632,MESSENGER_MULTI_PLATFORM_NULL_STATE_SEARCH_HEADER_BANNER_QP:11633,PAGES_MANAGER_MULTI_PLATFORM_MEGAPHONE_QP:11642,WORKCHAT_MULTI_PLATFORM_CALL_LOG_SURFACE_QP:11634,WORKCHAT_MULTI_PLATFORM_WORKSPEED_INBOX_BANNER_QP:11643,WORKCHAT_MULTI_PLATFORM_BANNER_QP:11635,COMMERCE_MANAGER_MULTI_PLATFORM_CATALOG_UI_QP:11636,INTERNAL_TOOL_MULTI_PLATFORM_QP:11637,INTERNAL_TOOL_MULTI_PLATFORM_QP_DASH_QP:11638,INSTAGRAM_MULTI_PLATFORM_DIRECT_INTERSTITIAL_QP:11647,INSTAGRAM_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11644,INTERNET_ORG_MULTI_PLATFORM_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:11639,FACEBOOK_MULTI_PLATFORM_FEED_PYMK_QP:11648,FACEBOOK_MULTI_PLATFORM_MESSAGES_INTERSTITIAL_QP:11649,FACEBOOK_MULTI_PLATFORM_SEARCH_NULL_STATE_MEGAPHONE_QP:11650,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_STORY_SUNSET_QP:11651,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_INBOX_QP:11652,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_THREAD_QP:11653,FACEBOOK_MULTI_PLATFORM_DIALOG_QP:11654,FACEBOOK_MULTI_PLATFORM_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11655,FACEBOOK_MULTI_PLATFORM_INBOX_BANNER_QP:11656,FACEBOOK_MULTI_PLATFORM_MIB_INTERSTITIAL_QP:11657,FACEBOOK_MULTI_PLATFORM_MIB_THREADVIEW_BANNER_QP:11658,FACEBOOK_MULTI_PLATFORM_TAB_PROMOTION_QP:11659,FACEBOOK_MULTI_PLATFORM_WORDMARK_QP:11660,FACEBOOK_MULTI_PLATFORM_SAVE_DASHBOARD_MEGAPHONE_QP:11661,MESSENGER_MULTI_PLATFORM_THREAD_VIEW_QP:11662,MESSENGER_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:11663,MESSENGER_MULTI_PLATFORM_INTERSTITIAL_QP:11664,WORKPLACE_MULTI_PLATFORM_GROUP_FEED_FOOTER:11646,INTERNET_ORG_MULTI_PLATFORM_WEB_INTERSITIAL:11645,WORKPLACE_MULTI_PLATFORM_NOTES_QP:11629,WORKPLACE_MULTI_PLATFORM_PROFILE_QP:11640,MESSENGER_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:11668,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_THREAD_VIEW_QP:11669,MESSENGER_MULTI_PLATFORM_COMMUNITY_CHANNEL_LIST_BANNER_QP:11670,MESSENGER_MULTI_PLATFORM_DISCOVER_TAB_QP:11671,MESSENGER_MULTI_PLATFORM_FRIENDS_TAB_MEGAPHONE_QP:11672,MESSENGER_MULTI_PLATFORM_THREAD_LIST_QP:11673,MESSENGER_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:11674,MESSENGER_MULTI_PLATFORM_SEARCH_NULL_STATE_SURFACE_QP:11675,PAGES_MANAGER_MULTI_PLATFORM_INTERSTITIAL_QP:11676,PAGES_MANAGER_MULTI_PLATFORM_REACT_NATIVE_MEGAPHONE_QP:11677,WORKCHAT_MULTI_PLATFORM_INTERSTITIAL_QP:11678,WORKCHAT_MULTI_PLATFORM_THREAD_LIST_QP:11679,INTERNET_ORG_MULTI_PLATFORM_MEGAPHONE_QP:11680,WORKPLACE_MULTI_PLATFORM_TAB_INTERSTITIAL_QP:11682,WORKPLACE_MULTI_PLATFORM_STICKY_HEADER_BANNER_QP:11628,WORKPLACE_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11665,WORKPLACE_MULTI_PLATFORM_RHC_QP:11666,WORKPLACE_MULTI_PLATFORM_ONBOARDING_CARD_QP:11667,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:11681,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:11683,FACEBOOK_MULTI_PLATFORM_QPSURFACE_NDX:11690,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:10466,FACEBOOK_FOR_IOS_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11705,FACEBOOK_FOR_ANDROID_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11706,FACEBOOK_FOR_WWW_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11707,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_NUX_QP:11986,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_QP:11985,FACEBOOK_FOR_ANDROID_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12007,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12006,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12020,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12019,FACEBOOK_FOR_IOS_VDD_SWIPE_LEFT_TO_PROFILE_EDUCATION_NUX_QP:12192,FACEBOOK_MULTI_PLATFORM_VDD_SWIPE_LEFT_TO_PROFILE_EDUCATION_NUX_QP:12191,MESSENGER_MULTI_PLATFORM_AVATAR_STICKER_TRAY_QP:12055,MESSENGER_LIGHTSPEED_FOR_IOS_AVATAR_STICKER_TRAY_QP:12056,MESSENGER_FOR_ANDROID_AVATAR_STICKER_TRAY_QP:12057,FACEBOOK_WWW_AVATAR_STICKER_TRAY_QP:12263,FACEBOOK_MULTI_PLATFORM_AVATAR_STICKER_TRAY_QP:12262,FACEBOOK_FOR_ANDROID_EXPLORE_MEGAPHONE_QP:12098,FACEBOOK_FOR_IOS_EXPLORE_MEGAPHONE_QP:12097,FACEBOOK_MULTI_PLATFORM_EXPLORE_MEGAPHONE_QP:12096,FACEBOOK_FOR_IOS_MARKETPLACE_PROMOTIONAL_UNIT_QP:12113,FACEBOOK_FOR_ANDROID_MARKETPLACE_PROMOTIONAL_UNIT_QP:12112,FBLITE_MARKETPLACE_PROMOTIONAL_UNIT_QP:12111,FACEBOOK_WWW_MARKETPLACE_PROMOTIONAL_UNIT_QP:12110,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_PROMOTIONAL_UNIT_QP:12109,FACEBOOK_WWW_LWI_ADS_CREATION_TOOLTIP_QP:12134,FACEBOOK_MULTI_PLATFORM_LWI_ADS_CREATION_TOOLTIP_QP:12133,FACEBOOK_FOR_ANDROID_REELS_TAB_SWIPE_UP_EDUCATION_NUX_QP:12140,FACEBOOK_MULTI_PLATFORM_REELS_TAB_SWIPE_UP_EDUCATION_NUX_QP:12139,FACEBOOK_FOR_IOS_REELS_TAB_ONBOARDING_EDUCATION_NUX_QP:12249,FACEBOOK_MULTI_PLATFORM_REELS_TAB_ONBOARDING_EDUCATION_NUX_QP:12248,FACEBOOK_FOR_ANDROID_REELS_TAB_BOTTOM_SHEET_EDUCATION_NUX_QP:12251,FACEBOOK_MULTI_PLATFORM_REELS_TAB_BOTTOM_SHEET_EDUCATION_NUX_QP:12250,INTERNAL_TOOLS_CENTRA_HOMEPAGE_CARD_QP:12144,INTERNAL_TOOLS_MULTI_PLATFORM_CENTRA_HOMEPAGE_CARD_QP:12143,INTERNAL_TOOLS_CENTRA_MODAL_QP:12146,INTERNAL_TOOLS_MULTI_PLATFORM_CENTRA_MODAL_QP:12145,INTERNAL_TOOLS_CENTRA_INVESTIGATE_BUTTON_QP:12196,INTERNAL_TOOLS_MULTI_PLATFORM_CENTRA_INVESTIGATE_BUTTON_QP:12195,META_DOT_AI_MULTI_PLATFORM_METAAI_WEB_ABRA__QP:12176,META_DOT_AI_METAAI_WEB_ABRA:12177,FACEBOOK_FOR_ANDROID_STORIES_CREATION_HOME_QP:12180,FACEBOOK_FOR_IOS_STORIES_CREATION_HOME_QP:12179,FACEBOOK_MULTI_PLATFORM_STORIES_CREATION_HOME_QP:12178,FACEBOOK_FOR_ANDROID_CREATE_WITH_META_AI_QP:12183,FACEBOOK_FOR_IOS_CREATE_WITH_META_AI_QP:12182,FACEBOOK_MULTI_PLATFORM_CREATE_WITH_META_AI_QP:12181,FACEBOOK_FOR_ANDROID_STORIES_VIEWER_FOOTER_QP:12211,FACEBOOK_FOR_IOS_STORIES_VIEWER_FOOTER_QP:12212,FACEBOOK_MULTI_PLATFORM_STORIES_VIEWER_FOOTER_QP:12210,FACEBOOK_FOR_ANDROID_STORIES_EDITOR_UPSELL_QP:12256,FACEBOOK_FOR_IOS_STORIES_EDITOR_UPSELL_QP:12257,FACEBOOK_MULTI_PLATFORM_STORIES_EDITOR_UPSELL_QP:12255});f["default"]=a}),66);
__d("QuickPromotionIGWebBatchFetch",["CometRelay","PolarisRelayEnvironment","QuickPromotionIGWebBatchFetchQuery.graphql","QuickPromotionNuxID"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=h!==void 0?h:h=b("QuickPromotionIGWebBatchFetchQuery.graphql");return d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),e,{scale:window.devicePixelRatio,surface_nux_ids:a}).toPromise().then(function(a){var b=[];a==null?void 0:a.xfb_quick_promotion_batch_fetch_root.forEach(function(a){var d;b.push({data:{viewer:(d=a)!=null?d:{}},surface:c("QuickPromotionNuxID")[String(a.surface_nux_id)]})});a=JSON.parse(JSON.stringify(b));a={client_cache_ttl_in_sec:7200,qp_data:a,request_status:"SUCCESS"};return a})}g.fetchBatchQuickPromotionsIGWWWMigration=a}),98);
__d("enumUtils",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return Object.values(b).find(function(b){return b===a})}function a(a,b){return a==null?null:h(a,b)}function i(a,b){if(a!=null){b=Object.keys(b);for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return d}}return null}function j(a,b){return c("nullthrows")(h(a,b))}function b(a,b){return c("nullthrows")(i(a,b))}function d(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(j(f,b))}return c}function k(a,b){return(b=b[a])!=null?b:null}function l(a,b){return c("nullthrows")(k(a,b))}function e(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(l(f,b))}return c}function m(a,b){var c;Object.keys(b).forEach(function(d){b[d]===a&&(c=d)});return c}function f(a,b){return c("nullthrows")(m(a,b))}g.coerce=h;g.coerceNullable=a;g.coerceKey=i;g.assert=j;g.assertKey=b;g.assertIterable=d;g.coerceFromKey=k;g.assertFromKey=l;g.assertIterableFromKey=e;g.enumValueToKey=m;g.enumValueToKeyEnforcing=f}),98);
__d("PolarisQPActions",["FBLogger","PolarisInstajax","PolarisQPConstants","QuickPromotionIGWebBatchFetch","QuickPromotionNuxID","enumUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var e=a.map(function(a){return d("enumUtils").enumValueToKey(Number(a),c("QuickPromotionNuxID"))}).filter(Boolean);b({surfaceParams:a,type:"FETCH_QP_REQUESTED"});return d("QuickPromotionIGWebBatchFetch").fetchBatchQuickPromotionsIGWWWMigration(e).then(function(e){if(!e||!e.qp_data){b({surfaceParams:a,type:"FETCH_QP_FAILED"});return}var f={};e.qp_data.forEach(function(a){var b=a.data;f[a.surface]=b?c("nullthrows")(b.viewer.eligible_promotions.edges.filter(function(b){return a.surface===parseInt(d("PolarisQPConstants").SURFACES.PAGE_TOP,10)?b.node.bloks_view_v2!==null:!0}).map(function(b){b.node.bloks_view_v2&&(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree=JSON.parse(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree));var c=b.node.logging_data;c=c?JSON.parse(c):void 0;return babelHelpers["extends"]({},b.node,{logging_data:c,surface_id:a.surface})})):[]});b({promotions:f,type:"FETCH_QP_SUCCEEDED"})},function(e){b({surfaceParams:a,type:"FETCH_QP_FAILED"}),e instanceof d("PolarisInstajax").AjaxError||c("FBLogger")("ig_web").catching(e)})}}function b(a){return function(b){b({feedFilter:a,type:"SET_FEED_QP_FILTERS"})}}function e(){return{type:"SET_QP_DISMISSED"}}g.fetchBatchQuickPromotionAction=a;g.setFeedPageFilter=b;g.dismissQP=e}),98);
__d("PolarisQPContainer.react",["PolarisLogger","PolarisQPConstants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$4=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.primary)},c.$5=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.secondary)},c.$6=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.dismiss)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a=this.props,b=a.promotionId;a=a.surfaceId;return{nux_id:c("nullthrows")(a),promotion_id:b}};e.componentDidMount=function(){this.props.component&&this.$2()};e.$3=function(a){var b=this.$1();d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({object_id:a},b))};e.$2=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,this.$1())};e.render=function(){var a=this.props.component,b=this.props,c=b.body,d=b.bulletList,e=b.dismissAction,f=b.image,g=b.imageSize,h=b.parameters,j=b.primaryAction,k=b.refetchPromotions,l=b.secondaryAction;b=b.title;return a!=null&&i.jsx(a,{body:c,bulletList:d,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:this.$6,onPrimaryButtonClick:this.$4,onSecondaryButtonClick:this.$5,parameters:h,primaryAction:j,refetchPromotions:k,secondaryAction:l,title:b})};return b}(i.PureComponent);g["default"]=a}),98);
__d("PolarisQPFetaAccountAutoMigrationDialog.react",["FXFetaAutoMigrationPromptDialog.entrypoint","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c;b=i;var k=h||(h=c("react")),l=b.useEffect,m=b.useRef;function a(){var a=j(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("FXFetaAutoMigrationPromptDialog.entrypoint"),b,void 0,n);var d=b[0],e=m(!1),f;a[1]!==d?(b=function(){e.current===!1&&(e.current=!0,d({routeProps:{noticeType:"IG_MIGRATION_MOMENT_NOTICE"}}))},f=[d],a[1]=d,a[2]=b,a[3]=f):(b=a[2],f=a[3]);l(b,f);return null}function n(){return k.jsx("div",{})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisQPFetaSavePasswordInterstitial.react",["CAAFetaSavePasswordInterstitial.entrypoint","PolarisOneTapLogin","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;function a(){var a=c("useIGDSEntryPointDialog")(c("CAAFetaSavePasswordInterstitial.entrypoint"),{},void 0,function(){return j.jsx("div",{})}),b=a[0],e=l(!1),f=d("PolarisOneTapLogin").isCAASpiDialogEligible();k(function(){!e.current&&f&&(e.current=!0,b({}))},[b,e,f]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisQPStandardMegaphone.react",["cx","IGDSBox.react","InstagramODS","PolarisIGCoreButton.react","PolarisQPHelperModule.react","PolarisReactRedux.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){var b=j(12),d=a.action,e=a.isPrimary;a=a.onClick;var f=e?2:3,g=!e,h;b[0]!==e?(h=(e?"_a9_v":"")+(e?"":" _a9_w"),b[0]=e,b[1]=h):h=b[1];b[2]!==h?(e={__className:h},b[2]=h,b[3]=e):e=b[3];b[4]!==g||b[5]!==e||b[6]!==a||b[7]!==d.title.text?(h=k.jsx(c("PolarisIGCoreButton.react"),{borderless:g,dangerouslySetClassName:e,fullWidth:!0,onClick:a,children:d.title.text}),b[4]=g,b[5]=e,b[6]=a,b[7]=d.title.text,b[8]=h):h=b[8];b[9]!==f||b[10]!==h?(g=k.jsx(c("IGDSBox.react"),{marginTop:f,position:"relative",children:h}),b[9]=f,b[10]=h,b[11]=g):g=b[11];return g}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideMegaphone:!1},c.$1=function(a,b,d){b===void 0&&(b=!0),b&&c.setState({hideMegaphone:!0}),a&&a(d)},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){c("InstagramODS").incr("web.notifications.react_qp_render")};e.render=function(){if(this.props.showCookieModal===!0||this.state.hideMegaphone)return null;var a=this.props,b=a.body,e=a.dismissAction,f=a.image,g=a.title;a=a.type;return k.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisUA").isMobile()?0:8,position:"relative",children:k.jsx("section",{className:"_a9_x"+(a==="loggedOut"?" _a9_y":"")+(a==="loggedInHalfSheet"?" _a9_z":""),children:k.jsxs("div",{className:"_a9_-",children:[k.jsx(d("PolarisQPHelperModule.react").QPDismiss,{className:"_a9__",dismissAction:e,onClick:this.$2}),k.jsxs("div",{className:"_aa00",children:[k.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_aa01",image:f,size:this.props.imageSize}),k.jsxs("span",{className:"_aa02",children:[k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa03",text:g}),k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa04",text:b})]}),k.jsxs("span",{className:"_aa05",children:[k.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),k.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})]})]})]})})})};return b}(k.Component);b.defaultProps={type:"default"};function a(a){return{showCookieModal:a.cookieModal.visible}}e=d("PolarisReactRedux.react").connect(a)(b);g._QPStandardMegaphone=b;g.QPStandardMegaphone=e}),98);
__d("PolarisQPFooterBanner.react",["PolarisQPStandardMegaphone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(11),c=a.body,e=a.dismissAction,f=a.image,g=a.imageSize,h=a.onDismissButtonClick,k=a.onPrimaryButtonClick,l=a.onSecondaryButtonClick,m=a.primaryAction,n=a.secondaryAction;a=a.title;var o;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==n||b[9]!==a?(o=j.jsx(d("PolarisQPStandardMegaphone.react").QPStandardMegaphone,{body:c,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:h,onPrimaryButtonClick:k,onSecondaryButtonClick:l,primaryAction:m,secondaryAction:n,title:a,type:"loggedOut"}),b[0]=c,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=a,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("PolarisQPFullscreenBulletListInterstitial.react",["cx","fbt","IGDSAdPanoOutline24Icon.react","IGDSIconButton.react","IGDSLicensingPanoOutline24Icon.react","IGDSMetaLogoPrimaryIcon.react","IGDSPaymentsPanoOutline24Icon.react","IGDSShieldPanoOutlineIcon.react","IGDSUserCirclePanoOutlineIcon.react","IGDSUsersPanoOutline24Icon.react","IGDSXPanoOutlineIcon.react","PolarisFXAccountCenterStrings","PolarisFastLink.react","PolarisGenericStrings","PolarisQPHelperModule.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideInterstitial:!1},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(a,b,c){b===void 0&&(b=!0),b&&(this.setState({hideInterstitial:!0}),this.props.refetchPromotions!=null&&this.props.refetchPromotions()),a&&a(c)};e.render=function(){var a;if(this.state.hideInterstitial)return null;var b=this.props.bulletList,e=[k.jsx(c("IGDSUserCirclePanoOutlineIcon.react"),{alt:i._("__JHASH__y2HYsl1GNm7__JHASH__"),color:"ig-primary-text",size:24},"user-circle-pano"),k.jsx(c("IGDSUsersPanoOutline24Icon.react"),{alt:i._("__JHASH__5GiTGGdhiYp__JHASH__"),color:"ig-primary-text",size:24},"users-pano"),k.jsx(c("IGDSShieldPanoOutlineIcon.react"),{alt:i._("__JHASH__Qw9kmMLG_Gv__JHASH__"),color:"ig-primary-text",size:24},"shield-pano"),k.jsx(c("IGDSLicensingPanoOutline24Icon.react"),{alt:i._("__JHASH__d33W1S_cGn-__JHASH__"),color:"ig-primary-text",size:24},"licensing-pano"),k.jsx(c("IGDSAdPanoOutline24Icon.react"),{alt:i._("__JHASH__Pj6SzNnXKmq__JHASH__"),color:"ig-primary-text",size:24},"ad-pano"),k.jsx(c("IGDSPaymentsPanoOutline24Icon.react"),{alt:i._("__JHASH__JQIo63LcK61__JHASH__"),color:"ig-primary-text",size:24},"payments-pano")];return k.jsx("div",{className:"_a9-g",children:k.jsxs("div",{className:"_a9-h",children:[k.jsx("div",{className:"_a9-i",children:k.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:k.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),k.jsx("div",{className:"_a9-j",children:k.jsx(c("IGDSMetaLogoPrimaryIcon.react"),{alt:d("PolarisFXAccountCenterStrings").WATERMARK_FAMILY_APPS_LOGO_ALT,color:"ig-primary-text",size:60})}),k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-k",text:this.props.title}),k.jsx("div",{className:"_a9-l",children:k.jsxs("p",{className:"_a9-m",children:[(a=this.props.body)==null?void 0:a.text," ",k.jsx(c("PolarisFastLink.react"),{className:"_a9-n",href:(a=this.props.secondaryAction)==null?void 0:a.url,target:"_blank",children:(a=this.props.secondaryAction)==null?void 0:a.title.text})]})}),b!=null?k.jsx("ul",{children:b.map(function(a,b){return k.jsxs("li",{className:"_a9-o",children:[e[b],k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-p",text:{text:a.title}})]},a.title)})}):null]})})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisQPFullscreenInterstitial.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSXPanoOutlineIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisQPHelperModule.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));a=i;a.useCallback;var k=a.c;function l(a){var b=k(6),d=a.action,e=a.isPrimary,f=a.onClick;b[0]!==f?(a=function(a){f(),a.preventDefault()},b[0]=f,b[1]=a):a=b[1];a=a;e=!e;var g;b[2]!==e||b[3]!==a||b[4]!==d.title.text?(g=j.jsx(c("PolarisIGCoreButton.react"),{borderless:e,fullWidth:!0,onClick:a,children:d.title.text}),b[2]=e,b[3]=a,b[4]=d.title.text,b[5]=g):g=b[5];return g}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideInterstitial:!1},c.$1=function(a,b,d){b===void 0&&(b=!0),b&&c.setState({hideInterstitial:!0}),a&&a(d)},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){return this.state.hideInterstitial?null:j.jsx("div",{className:"_a9_4",children:j.jsxs("div",{className:"_a9_5",children:[j.jsx("div",{className:"_aqt-",children:j.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:j.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),j.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_a9_6",image:this.props.image,size:this.props.imageSize}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_7",text:this.props.title}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_8",text:this.props.body}),j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),j.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})})]})})};return b}(j.Component);g["default"]=b}),98);
__d("PolarisQPHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(!a)return null;a=a.find(function(a){return a.name===b});return a==null?void 0:a.string_value}function b(a,b){if(!a)return null;a=a.find(function(a){return a.name===b});switch(a==null?void 0:a.string_value){case"top":return"top";default:return null}}f.getQPParameter=a;f.getQPArrowPositionParameter=b}),66);
__d("PolarisQPNidoEnrollmentInterstitial.react",["PolarisNidoEnrollmentDialog.entrypoint","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.c;function a(){var a=k(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeParams:{},routeProps:{}},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("PolarisNidoEnrollmentDialog.entrypoint"),b);var d=b[0],e=j(!1),f;a[1]!==d?(b=function(){e.current===!1&&(e.current=!0,d({}))},f=[d],a[1]=d,a[2]=b,a[3]=f):(b=a[2],f=a[3]);i(b,f);return null}g["default"]=a}),98);
__d("PolarisQPNidoGraduationInterstitial.react",["PolarisNidoGraduationDialog.entrypoint","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.c;function a(){var a=k(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeParams:{},routeProps:{}},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("PolarisNidoGraduationDialog.entrypoint"),b);var d=b[0],e=j(!1),f;a[1]!==d?(b=function(){e.current===!1&&(e.current=!0,d({}))},f=[d],a[1]=d,a[2]=b,a[3]=f):(b=a[2],f=a[3]);i(b,f);return null}g["default"]=a}),98);
__d("PolarisQPStandardDialog.react",["IGCoreDialog.react","IGRouter_DO_NOT_USE.react","PolarisIGCoreDialogCircleMedia","PolarisQPHelperModule.react","browserHistory_DO_NOT_USE","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideDialog:!1},c.$3=function(a){c.props.primaryAction&&(c.$2(c.props.primaryAction),c.props.onPrimaryButtonClick&&c.props.onPrimaryButtonClick(a))},c.$4=function(a){c.props.secondaryAction&&(c.$2(c.props.secondaryAction),c.props.onSecondaryButtonClick&&c.props.onSecondaryButtonClick(a))},c.$5=function(){c.props.dismissAction&&(c.$1(),c.props.onDismissButtonClick&&c.props.onDismissButtonClick())},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){this.setState({hideDialog:!0})};e.$2=function(a){a.dismiss_promotion&&this.$1();if(a.url){var b=d("PolarisQPHelperModule.react").getQPDeepLinkUrl(a.url);!c("isStringNullOrEmpty")(b)?this.props.history.push(b):d("browserHistory_DO_NOT_USE").redirect(a.url)}};e.render=function(){if(this.state.hideDialog)return null;var a=this.props,b=a.body,e=a.image,f=a.imageSize,g=a.primaryAction,h=a.secondaryAction;a=a.title;e=i.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:i.jsx(d("PolarisQPHelperModule.react").QPImage,{image:e,size:f})});return i.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:b==null?void 0:b.text,media:e,onModalClose:this.$5,title:a==null?void 0:a.text,children:[g&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$3,children:(f=g.title)==null?void 0:f.text}),h&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$4,children:(b=h.title)==null?void 0:b.text})]})};return b}(i.Component);b=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=b}),98);
__d("PolarisQPTooltipComponent.react",["IGDSBox.react","IGDSText.react","PolarisDisappearingTooltip.react","PolarisIGCoreConstants","PolarisNavigationHelpers","PolarisNavigationLayoutContext","PolarisQPActions","PolarisQPConstants","PolarisQPHelpers","PolarisReactRedux.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=300;function a(a){var b=i(16),e=a.parameters;a=a.title;var f=d("PolarisReactRedux.react").useDispatch(),g=d("PolarisReactRedux.react").useSelector(l);a=a==null?void 0:a.text;var h=d("PolarisQPHelpers").getQPParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.tooltip_duration),m;b[0]!==e?(m=d("PolarisQPHelpers").getQPArrowPositionParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.tooltip_arrow_position),b[0]=e,b[1]=m):m=b[1];m=m;e=(e=d("PolarisQPHelpers").getQPParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.max_width))!=null?e:k;h=Number(h)*1e3;h=h||c("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS;var n;b[2]!==f?(n=function(){return f(d("PolarisQPActions").dismissQP())},b[2]=f,b[3]=n):n=b[3];n=n;var o=d("PolarisNavigationLayoutContext").usePolarisNavigationLayoutContext();o=o.navigationPosition;var p=d("PolarisUA").isDesktop();e=d("PolarisUA").isDesktop()?"min("+e+"px, min(80vw, "+(p?d("PolarisNavigationHelpers").TOOLTIP_MAX_WIDTH:k)+"px))":"80vw";b[4]!==a?(p=j.jsx(c("IGDSText.react"),{breakWord:!0,color:"primaryText",textAlign:"center",weight:"semibold",zeroMargin:!0,children:a}),b[4]=a,b[5]=p):p=b[5];var q;b[6]!==e||b[7]!==p?(q=j.jsx(c("IGDSBox.react"),{maxWidth:e,position:"relative",children:p}),b[6]=e,b[7]=p,b[8]=q):q=b[8];e=q;q=(p=m)!=null?p:o;b[9]!==a||b[10]!==g||b[11]!==q||b[12]!==e||b[13]!==h||b[14]!==n?(m=a!=null&&g!==!0?j.jsx(c("PolarisDisappearingTooltip.react"),{autoHideAfter:h,color:"primary",disableTooltipHideOnDismount:!0,onTooltipHide:n,position:q==="bottom"?"above":q==="top"?"below":"start",tooltip:j.jsx("div",{className:"x1kuktng",children:j.jsx(c("IGDSText.react"),{color:"primaryText",size:"body",textAlign:"start",zeroMargin:!0,children:e})}),children:j.jsx("div",{})}):null,b[9]=a,b[10]=g,b[11]=q,b[12]=e,b[13]=h,b[14]=n,b[15]=m):m=b[15];return m}function l(a){return a.qp.qpDismissed}g["default"]=a}),98);
__d("SaharaCometConsentExtractExperienceFromExtraParams",[],(function(a,b,c,d,e,f){"use strict";var g="__aectx__";function a(a){if(a==null)return null;if(!Object.prototype.hasOwnProperty.call(a,g))return null;a=a[g];if(typeof a!=="string")return null;a=JSON.parse(a);return a}f.maybeExtractConsentExperienceFromExtraParams=a}),66);
__d("SaharaCometConsentClientSupportedFeatures.entrypointutils",[],(function(a,b,c,d,e,f){"use strict";a={components:["HEADER_TITLE","HEADER_CONTENT","BUTTONS_PRIMARY","BUTTONS_SECONDARY","CONTENT_PARAGRAPH","CONTENT_LIST","SECTION_TITLE","SECTION_CONTENT","CONTENT_TOGGLE"]};f["default"]=a}),66);
__d("SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8651884674821634"}),null);
__d("SaharaCometConsentFlowContextualRootQuery$Parameters",["SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SaharaCometConsentFlowContextualRootQuery_facebookRelayOperation"),metadata:{},name:"SaharaCometConsentFlowContextualRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("memoizeByReference",[],(function(a,b,c,d,e,f){"use strict";var g=typeof WeakMap==="function";function a(a){var b=g?new WeakMap():new Map(),c=function(c){if(b.has(c)){var d=b.get(c);if(d!==void 0)return d[0]}d=a(c);b.set(c,[d]);return d};return c}f["default"]=a}),66);
__d("getGraphQLEnumSafe",["flipObject","memoizeByReference"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b==null)return null;a=h(a);return!Object.prototype.hasOwnProperty.call(a,b)?null:a[b]}var h=c("memoizeByReference")(c("flipObject"));g["default"]=a}),98);
__d("SaharaCometConsentFlowContextual.entrypoint",["ConsentFlowName","ConsentSurface","FBLogger","JSResourceForInteraction","SaharaCometConsentClientSupportedFeatures.entrypointutils","SaharaCometConsentFlowContextualRootQuery$Parameters","getGraphQLEnumSafe"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=c("getGraphQLEnumSafe")(c("ConsentFlowName"),a.routeParams.flow);if(b==null){var d;throw c("FBLogger")("consent_ui_infra").mustfixThrow("Could not find associated GraphQL enum for flowName: "+((d=a.routeParams.flow)!=null?d:"null"),"consent_ui_infra")}d=c("getGraphQLEnumSafe")(c("ConsentSurface"),a.routeParams.surface);if(d==null){var e;throw c("FBLogger")("consent_ui_infra").mustfixThrow("Could not find associated GraphQL enum for surface: "+((e=a.routeParams.surface)!=null?e:"null"),"consent_ui_infra")}return{queries:{saharaCometConsentContextualRootQueryRef:{parameters:c("SaharaCometConsentFlowContextualRootQuery$Parameters"),variables:{client_supported_features:c("SaharaCometConsentClientSupportedFeatures.entrypointutils"),device_id:a.routeParams.device_id,experience_id:a.routeParams.experience_id,extra_params_json:(e=a.routeParams.extra_params_json)!=null?e:"{}",flow_name:b,runtime:"SAHARA",source:a.routeParams.source,surface:d}}}}},root:c("JSResourceForInteraction")("SaharaCometConsentFlowContextualRoot.react").__setRef("SaharaCometConsentFlowContextual.entrypoint")};g["default"]=a}),98);
__d("useBaseDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef;function n(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,h=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var k=a[0],n=a[1],o=a[2],p=(e=k)!=null?e:h,q=m(null);l(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){k?o():h.dispose(),q.current=null},6e4)}},[o,p.isDisposed,h,j,n,k]);b=babelHelpers["extends"]({},g,{onClose:f});return i.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:h,props:b})}n.displayName=n.name+" [from "+f.id+"]";function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=k(c("CometDialogContext"));return j(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),m=n,o=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:m,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:e},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(m=k)!=null?m:c("tracePolicyFromResource")("comet.dialog",a.root)},o)},[f,a,g,e,b])}g["default"]=a}),98);
__d("useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL",["SaharaCometConsentExtractExperienceFromExtraParams","SaharaCometConsentFlowContextual.entrypoint","cr:567","react","useBaseDynamicEntryPointDialog","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useCallback;function a(a){a===void 0&&(a="facebook_comet");var e=c("useBaseDynamicEntryPointDialog")(c("SaharaCometConsentFlowContextual.entrypoint"),void 0,b("cr:567")!=null?b("cr:567"):function(){return j.jsx("div",{})}),f=k(function(b){var f=b.callbacks,g=b.device_id,h=b.flow,i=b.params;b=b.source;var j=d("SaharaCometConsentExtractExperienceFromExtraParams").maybeExtractConsentExperienceFromExtraParams(i);j=(j=j==null?void 0:j.id)!=null?j:c("uuidv4")();g={device_id:g,experience_id:j,extra_params_json:JSON.stringify(i),flow:h,source:b,surface:a};e({routeParams:g,routeProps:{}},{onClose:function(){},userlandConsentExperienceCallbacks:f})},[e,a]);return f}g["default"]=a}),98);
__d("usePolarisQPCustomActionLaunchOregonCustomGenderConsent",["ConsentFlowName","FBLogger","getJSEnumSafe","react","useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(){var a=i(2),b=c("useSaharaCometConsentFlowContextualAPI__EXPERIMENTAL")("instagram_web"),d;a[0]!==b?(d=function(a){a=k(a);var d=j(a==null?void 0:a.flow);if(d==null){c("FBLogger")("consent_ui_infra").mustfix("cannot parse consent flow name: %s from custom action url for custom gender consent sent by QP config");return}a=a==null?void 0:a.source;if(a==null){c("FBLogger")("consent_ui_infra").mustfix("cannot parse consent flow source: %s from custom action url for custom gender consent sent by QP config",a);return}b({flow:d,source:a})},a[0]=b,a[1]=d):d=a[1];return d}function j(a){var b=Object.keys(c("ConsentFlowName")).find(function(b){return c("ConsentFlowName")[b]===a});return b==null?null:c("getJSEnumSafe")(c("ConsentFlowName"),b)}function k(a){var b={};a=Object.entries(a);for(var c=0;c<a.length;c++){var d=a[c],e=d[0];d=d[1];b[e]=typeof d==="string"?d:String(d)}return b}g["default"]=a}),98);
__d("usePolarisQPCustomClickHandler",["FXFetaPreMigrationDialog.entrypoint","FXFetaToSDialog.entrypoint","PolarisQPHelperModule.react","react","useIGDSEntryPointDialog","usePolarisQPCustomActionLaunchOregonCustomGenderConsent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).c,k=h||(h=c("react"));function a(){var a=j(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeProps:{entry_point:"fx_feta_pre_migration_dialog"}},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("FXFetaPreMigrationDialog.entrypoint"),b,void 0,m);var e=b[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeProps:{entry_point:"fx_feta_migration_tos_dialog"}},a[1]=b):b=a[1];b=c("useIGDSEntryPointDialog")(c("FXFetaToSDialog.entrypoint"),b,void 0,l);var f=b[0],g=c("usePolarisQPCustomActionLaunchOregonCustomGenderConsent")();a[2]!==e||a[3]!==f||a[4]!==g?(b=function(a,b){bb6:switch(a){case d("PolarisQPHelperModule.react").QPCustomActionURL.FX_FETA_PRE_MIGRATION_DIALOG:e({routeProps:{noticeType:"IG_PRE_MIGRATION_NOTICE",useDialog:!0}});break bb6;case d("PolarisQPHelperModule.react").QPCustomActionURL.FX_FETA_TOS_DIALOG:f({routeProps:{noticeType:"IG_TERMS_OF_SERVICE_NOTICE",useDialog:!0}});break bb6;case d("PolarisQPHelperModule.react").QPCustomActionURL.OREGON_CUSTOM_GENDER_CONSENT_URL:g(b)}},a[2]=e,a[3]=f,a[4]=g,a[5]=b):b=a[5];return b}function l(){return k.jsx("div",{})}l.displayName=l.name+" [from "+f.id+"]";function m(){return k.jsx("div",{})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisQPWWWBloksRenderer.react",["cx","IGWebBloksApp","PolarisLogger","PolarisQPConstants","PolarisQPHelperModule.react","PolarisUA","react","usePolarisQPCustomClickHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useState;function a(a){var b=a.bloks_payload,e=a.logging_data,f=a.promotionId,g=a.surfaceId;a=a.triggers;var h=n(!0),i=h[0],o=h[1],p=m(function(){return{instance_log_data:e,nux_id:g,promotion_id:f}},[e,g,f]);l(function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,p)},[p]);var q=c("usePolarisQPCustomClickHandler")();h=k(function(a,b){(a==="DISMISS"||b.length===0)&&o(!1);b=d("PolarisQPHelperModule.react").getQPCustomActionDataFromUrl(b);if(a==="PRIMARY"&&b!=null){var c=b.action;b=b.actionData;c!=null&&q(c,b);o(!1)}d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({},p,{object_id:a.toLowerCase()}))},[p]);if(!i)return null;i=a!=null&&a.includes(d("PolarisQPConstants").TRIGGERS.instagram_feed_header);return j.jsx("div",{className:"_a9_9"+(d("PolarisUA").isDesktop()&&i?" _aeky":""),children:j.jsx("div",{className:"_a9_b",children:j.jsx(c("IGWebBloksApp"),{bridgeOverrides_DEPRECATED:{onQPClick:h},payload:b})})})}a.displayName=a.name+" [from "+f.id+"]";e=j.memo(a);g["default"]=e}),98);
__d("PolarisQPManager.react",["cx","FBLogger","PolarisQPActions","PolarisQPConstants","PolarisQPContainer.react","PolarisQPFetaAccountAutoMigrationDialog.react","PolarisQPFetaSavePasswordInterstitial.react","PolarisQPFooterBanner.react","PolarisQPFullscreenBulletListInterstitial.react","PolarisQPFullscreenInterstitial.react","PolarisQPNidoEnrollmentInterstitial.react","PolarisQPNidoGraduationInterstitial.react","PolarisQPStandardDialog.react","PolarisQPStandardMegaphone.react","PolarisQPTooltipComponent.react","PolarisQPWWWBloksRenderer.react","PolarisReactRedux.react","polarisLogAction","polarisQPSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=this.props,b=a.promotion;a=a.slot;b||this.props.onLoadQPs(d("PolarisQPConstants").SLOT_TO_SURFACES[a])};e.$1=function(a){var b=d("PolarisQPConstants").TEMPLATES;switch(a.name){case b.standard_megaphone_ig:case b.standard_megaphone:return d("PolarisQPStandardMegaphone.react").QPStandardMegaphone;case b.iig_dialog:return c("PolarisQPStandardDialog.react");case b.iig_fullscreen_bullet_list:return c("PolarisQPFullscreenBulletListInterstitial.react");case b.iig_celebration_fullscreen:case b.iig_fullscreen:case b.iig_fullscreen_rectangular_image:return c("PolarisQPFullscreenInterstitial.react");case b.instagram_direct_launcher:c("FBLogger")("ig_web").mustfix("IG Web does not currently support the instagram_direct_launcher template");return null;case b.instagram_footer_banner:return c("PolarisQPFooterBanner.react");case b.instagram_tool_tip:return c("PolarisQPTooltipComponent.react");case b.feta_account_auto_migration_dialog:return c("PolarisQPFetaAccountAutoMigrationDialog.react");case b.feta_save_password_interstitial:return c("PolarisQPFetaSavePasswordInterstitial.react");case b.ig_nido_enrollment:return c("PolarisQPNidoEnrollmentInterstitial.react");case b.ig_nido_graduation:return c("PolarisQPNidoGraduationInterstitial.react");default:c("FBLogger")("ig_web").mustfix("Attempted to render unsupported QP template type: "+a.name);return null}};e.render=function(){var a=this,b=this.props,e=b.promotion;b=b.WrapperComponent;b=b===void 0?j.Fragment:b;if(!e)return null;var f=e.bloks_view_v2,g=e.creatives,h=e.id,i=e.logging_data,k=e.surface_id,l=e.template;e=e.triggers;g=g[0];var m=g.bullet_list,n=g.content,o=g.dismiss_action,p=g.image,q=g.primary_action,r=g.secondary_action;g=g.title;if(f){c("polarisLogAction")("bloksRenderQP",{target_id:h});f=j.jsx(c("PolarisQPWWWBloksRenderer.react"),{bloks_payload:f.component.bundle.bloks_bundle_tree,logging_data:i,promotionId:h,surfaceId:k,triggers:e});return l.name==="fixed_banner_ig"?j.jsx(b,{children:j.jsx("div",{className:"_a9-q",children:f})}):j.jsx(b,{children:f})}return j.jsx(b,{children:j.jsx(c("PolarisQPContainer.react"),{body:n,bulletList:m,component:this.$1(l),dismissAction:o,image:p,imageSize:d("PolarisQPConstants").IMAGE_SIZES[l.name],parameters:l.parameters,primaryAction:q,promotionId:h,refetchPromotions:this.props.slot===d("PolarisQPConstants").SLOTS.settings?function(){return a.props.onLoadQPs(d("PolarisQPConstants").SLOT_TO_SURFACES[a.props.slot])}:null,secondaryAction:r,surfaceId:k,title:g})})};return b}(j.PureComponent);function a(a,b){return{promotion:d("polarisQPSelectors").getValidPromotion(a,b)}}function b(a){return{onLoadQPs:function(b){a(d("PolarisQPActions").fetchBatchQuickPromotionAction(b))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);
__d("SaharaCometConsentFlowContextualConsentFallbackLoadingStateIGDS.react",["IGDSDialog.react","IGDSSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("IGDSDialog.react"),{closeButtonPosition:"hidden",enablePopInAnimation:!1,fixedHeight:!0,fixedWidth:!0,size:"large",children:i.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xh8yej3",children:i.jsx(c("IGDSSpinner.react"),{})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("Base64",[],(function(a,b,c,d,e,f){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function h(a){a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2);return String.fromCharCode(g.charCodeAt(a>>>18),g.charCodeAt(a>>>12&63),g.charCodeAt(a>>>6&63),g.charCodeAt(a&63))}var i=">___?456789:;<=_______\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function j(a){a=i.charCodeAt(a.charCodeAt(0)-43)<<18|i.charCodeAt(a.charCodeAt(1)-43)<<12|i.charCodeAt(a.charCodeAt(2)-43)<<6|i.charCodeAt(a.charCodeAt(3)-43);return String.fromCharCode(a>>>16,a>>>8&255,a&255)}var k={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;a=(a+"\0\0".slice(b)).replace(/[\s\S]{3}/g,h);return a.slice(0,a.length+b-2)+"==".slice(b)},decode:function(a){a=a.replace(/[^A-Za-z0-9+\/]/g,"");var b=a.length+3&3;a=(a+"AAA".slice(b)).replace(/..../g,j);a=a.slice(0,a.length+b-3);try{return decodeURIComponent(escape(a))}catch(a){throw new Error("Not valid UTF-8")}},encodeObject:function(a){return k.encode(JSON.stringify(a))},decodeObject:function(a){return JSON.parse(k.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,a.map(function(a){return g.charCodeAt((a|-(a>63?1:0))&-(a>0?1:0)&63)}))}};a=k;f["default"]=a}),66);
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err","killswitch"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(d);g=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;d&&(this._key_prefix=d);a==="AUTO"||!a?d="memory":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&(c("killswitch")("CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS")?this.clear():this.clearOwnKeys())}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b("cr:8958").stringify(g)):g=b("cr:8958").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b("cr:8958").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b("cr:8958").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};d._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};d.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("ChannelClientID",["MqttWebDeviceID","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("21118")?c("uuidv4")():(a=c("MqttWebDeviceID")==null?void 0:c("MqttWebDeviceID").clientID)!=null?a:c("uuidv4")();b={getID:function(){return h}};f.exports=b}),34);
__d("CometSuspenseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1828945");b=d("FalcoLoggerInternal").create("comet_suspense",a);e=b;g["default"]=e}),98);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter2=d;e.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),d].concat(c.__v))}});return e}var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("MqttEnvWebSocket",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c("clearTimeout")(a)};a.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c("setTimeout").apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d("MqttEnvWebSocket").createWebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,"sid",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c}function c(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})}function e(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserNameUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("gkx")("21096"))return!1;return a!=null?a:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}g.getMqttForegroundStatus=a;g.getUserAgent=b}),98);
__d("MqttUserName",["MqttUserNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d("MqttUserNameUtils").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d("MqttUserNameUtils").getUserAgent(),aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttWebSocketUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype}f.hasWSSupport=b}),66);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;a=a.assetIds;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){this.$3.push(a)};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!g)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttConfig",["MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MqttWebConfig")}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$6(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null)}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;f=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+f);f=r/(r+j);r=n&&this.getBrowserConnectivity();var s={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:f.toString(),device_id:this.$4,hostname:k},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(j=this.$5)==null?void 0:j.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return s})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$8(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$8(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(b=this.$5)==null?void 0:b.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$7(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$9(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$8=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$10();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$9=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$7=function(a){this.$9(a,0,!1)};b.$10=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$6=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("21121");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("FbtLogging",["cr:1094907","cr:8828"],(function(a,b,c,d,e,f,g){"use strict";a=b("cr:1094907")==null?void 0:b("cr:1094907").logImpression;c=b("cr:8828")==null?void 0:b("cr:8828").logImpressionV2;g.logImpression=a;g.logImpressionV2=c}),98);
__d("IGDOverLSMqttChannel",["CurrentUser","Env","MqttChannel","MqttEnv","MqttEnvInitializer","MqttWebConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c("MqttEnvInitializer").initialize();function j(a){d("MqttEnv").setIsUserLoggedInNow(c("CurrentUser").isLoggedIn);var b=c("CurrentUser").getAppID()==null?936619743392459:Number(c("CurrentUser").getAppID());return new(c("MqttChannel"))({appId:b,capabilities:c("MqttWebConfig").capabilities,chatVisibility:!0,clientCapabilities:c("MqttWebConfig").clientCapabilities,clientType:"cookie_auth",deviceId:a,endpoint:(i||(i=c("Env"))).ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",initialSubscribedTopics:c("MqttWebConfig").subscribedTopics,phpOverride:c("MqttWebConfig").hostNameOverride,pollingEndpoint:(i||(i=c("Env"))).ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:c("CurrentUser").getPossiblyNonFacebookUserID()})}var k=null,l;function m(a){k==null&&(k=j(a));a=k;l==null?void 0:l(a);return a}function a(){return new(h||(h=b("Promise")))(function(a){k?a(m()):l=function(b){a(b)}})}function e(){k!=null&&(k.shutdown(),k=null)}g.getInstance=m;g.waitAndGetInstance=a;g.shutdownAndClear=e}),98);
__d("IGWebCallWindowControllerLoader",["FBLogger","JSResourceForInteraction","Promise","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("RTWebCallWindowOpener").__setRef("IGWebCallWindowControllerLoader"),j=c("requireDeferred")("ZenonCallWindowController").__setRef("IGWebCallWindowControllerLoader"),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));a=function(){function a(a,b){this.$1=null,this.$2=a,this.$3=b}var d=a.prototype;d.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield (h||(h=b("Promise"))).all([j.load(),i.load()])),d=a[0];a=a[1];this.$1=new d(this.$2,{callWindowInitializerResource:this.$3,callWindowOpener:new a(),uriBuilderResource:c("JSResourceForInteraction")("IGCallUriBuilder").__setRef("IGWebCallWindowControllerLoader")})}catch(a){c("FBLogger")("rtc_www").catching(a).warn("Failed to initialize call window controller")}});function d(){return a.apply(this,arguments)}return d}();d.initCall=function(a){if(this.$1)return this.$1.initCall(a);else throw new k()};return a}();a.ResourceNotReadyError=k;g["default"]=a}),98);
__d("IGWebPreCallContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);g["default"]=b}),98);
__d("ZenonCallInviteModelLoader",["BaseEventEmitter","Promise","asyncToGeneratorRuntime","emptyFunction","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("ZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader"),j=c("requireDeferred")("delegateZenonCallInviteModel").__setRef("ZenonCallInviteModelLoader");a=function(a){babelHelpers.inheritsLoose(d,a);function d(b){var d;d=a.call(this)||this;d.$ZenonCallInviteModelLoader$p_1=null;d.getCurrentInvite=function(){return null};d.startListening=function(a){this.$ZenonCallInviteModelLoader$p_1=a};d.stopListening=function(){this.$ZenonCallInviteModelLoader$p_1=null};d.dismiss=c("emptyFunction");d.accept=c("emptyFunction");d.decline=c("emptyFunction");d.$ZenonCallInviteModelLoader$p_2=b;return d}var e=d.prototype;e.init=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([i.load(),j.load()])),c=a[0];a=a[1];c=new c(this.$ZenonCallInviteModelLoader$p_2);a(this,c);this.$ZenonCallInviteModelLoader$p_1!==null&&c.startListening(this.$ZenonCallInviteModelLoader$p_1)});function c(){return a.apply(this,arguments)}return c}();return d}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("OCCastingZenonUtils",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){"use strict";b=function(a){return a==="Connected"||a==="Connecting"};function a(){return c("gkx")("1930")||c("gkx")("25763")&&(c("UserAgent").isBrowser("Chrome for iOS")||c("UserAgent").isBrowser("Mobile Safari"))}g.hasCallStarted=b;g.isBrowserSupportedForMobileWebCasting=a}),98);
__d("RTWebIncomingRingConfiguration",["OCCastingZenonUtils","UserAgent","ZenonRTWebBrowserFeatureSupport","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("UserAgent").isBrowser("Chrome >= 77")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 79")||c("UserAgent").isBrowser("Opera >= 67")||c("UserAgent").isBrowser("Firefox >= 70")||c("UserAgent").isBrowser("Safari >= 16")&&c("gkx")("24226")||c("UserAgent").isBrowser("Safari >= 15.4")&&c("gkx")("24227")||c("UserAgent").isBrowser("Oculus Browser >= 6")&&c("gkx")("24228")||d("OCCastingZenonUtils").isBrowserSupportedForMobileWebCasting()}function b(){return c("gkx")("23430")&&d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()}g.isSupportedClient=a;g.isE2EESupportedClient=b}),98);
__d("ZenonIncomingRingSDK",["BaseEventEmitter","RTWebIncomingRingConfiguration","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("ZenonParentCallsManager").__setRef("ZenonIncomingRingSDK"),i=[1,2,15,16];a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonIncomingRingSDK$p_1=[],c.$ZenonIncomingRingSDK$p_2=[],b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.init=function(a){var b=this;this.$ZenonIncomingRingSDK$p_3=a;h.onReady(function(c){b.callsManager==null&&(b.callsManager=new c(a));c=b.callsManager;c.addListener("unsupportedRing",function(a){return b.emit("unsupportedRing",a)});c.addListener("incomingRing",function(a){var c;if(a.actorID!=null&&!((c=b.$ZenonIncomingRingSDK$p_3)==null?void 0:c.enableIncomingActorCalls))return;b.emit("incomingRing",a)});c.addListener("ringCancel",function(a){return b.emit("ringCancel",a)});c.initListeners(b.$ZenonIncomingRingSDK$p_1);while(b.$ZenonIncomingRingSDK$p_2.length>0){var d=b.$ZenonIncomingRingSDK$p_2.shift();c.startOutgoingCallIntent(d.nonce,d.callParams)}})};c.initListeners=function(a){var b=this.callsManager;if(b!=null)b.initListeners(a);else{(b=this.$ZenonIncomingRingSDK$p_1).push.apply(b,a)}};c.removeListeners=function(a){var b=this;if(this.callsManager!=null)this.callsManager.removeListeners(a);else{var c=function(){if(e){if(f>=d.length)return"break";g=d[f++]}else{f=d.next();if(f.done)return"break";g=f.value}var a=g;b.$ZenonIncomingRingSDK$p_1=b.$ZenonIncomingRingSDK$p_1.filter(function(b){return b!==a})};for(var d=a,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;a=c();if(a==="break")break}}};c.isCallSupported=function(a){switch(a.type){case"thread":if(this.$ZenonIncomingRingSDK$p_3&&i.includes(a.threadType)){return(a=d("RTWebIncomingRingConfiguration").isSupportedClient())!=null?a:!1}break;default:return!1}return!1};c.startCallIntent=function(a,b){this.callsManager?this.callsManager.startOutgoingCallIntent(a,b):this.$ZenonIncomingRingSDK$p_2.push({callParams:b,nonce:a})};return b}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("IGWebPreCallContextSingleton",["FBLogger","IGWebCallWindowControllerLoader","JSResource","ZenonCallInviteModelLoader","ZenonIncomingRingSDK","gkx","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IgSignalingListener").__setRef("IGWebPreCallContextSingleton"),i=!1,j;function a(a){if(!c("gkx")("25307"))return null;if(j!=null)return j;try{var b=new(c("ZenonIncomingRingSDK"))();j={callInviteModel:new(c("ZenonCallInviteModelLoader"))(b),callWindowController:new(c("IGWebCallWindowControllerLoader"))(a,c("JSResource")("IGWebCallWindowInitializer").__setRef("IGWebPreCallContextSingleton")),incomingRingSDK:b};return j}catch(a){c("FBLogger")("rtc_www").catching(a).mustfix("Pre-call context initialization failed! This breaks all calling!");return null}}function b(a){if(!c("gkx")("25307"))return null;if(i)return j;i=!0;c("promiseDone")(j.callInviteModel.init());c("promiseDone")(j.callWindowController.init());j.incomingRingSDK.init({enableIncomingActorCalls:!1,relayEnvironment:a});c("promiseDone")(h.load(),function(a){j.incomingRingSDK.initListeners([new a()])});return j}g.create=a;g.init=b}),98);
__d("IGWebPreCallProvider.react",["CometRelay","IGWebPreCallContext","IGWebPreCallContextSingleton","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.c;function a(a){var b=k(9);a=a.children;var e=d("CometRelay").useRelayEnvironment(),f;b[0]!==e?(f=function(){return d("IGWebPreCallContextSingleton").create({relayEnvironment:e})},b[0]=e,b[1]=f):f=b[1];var g=c("useStable")(f),h;b[2]!==g||b[3]!==e?(f=function(){g&&(d("IGWebPreCallContextSingleton").init(e),g.callInviteModel.startListening({callsBlocked:!1}))},h=[g,e],b[2]=g,b[3]=e,b[4]=f,b[5]=h):(f=b[4],h=b[5]);j(f,h);b[6]!==g||b[7]!==a?(f=i.jsx(c("IGWebPreCallContext").Provider,{value:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("InstagramODSObserver",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("BaseEventEmitter"))();b=a;g["default"]=b}),98);
__d("InstagramODSImpl",["InstagramODSObserver","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i="instagram",j={addListener:function(a){c("InstagramODSObserver").addListener("event",a)},incr:function(a,b){b===void 0&&(b=1),(h||(h=d("ODS"))).bumpEntityKey(5588,i,a,b),c("InstagramODSObserver").emit("event",{count:b,key:a})},incr_CAREFUL_WHEN_USE_DYNAMIC_KEY:function(a,b){j.incr(a,b)}};a=j;g["default"]=a}),98);
__d("IntlQtEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1848815");b=d("FalcoLoggerInternal").create("intl_qt_event",a);e=b;g["default"]=e}),98);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;this.promise=new(g||(g=b("Promise")))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();f["default"]=a}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult"],(function(a,b,c,d,e,f,g){"use strict";var h,i="fetch_pull",j="fetch_pull_finish",k="fetch_",l=6e4,m="action",n="chunked",o="send",p="true",q=5,r=20,s=10,t=5e3,u=typeof window!=="undefined"?window:self;a=function(){function a(){this.$1="",this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(c("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof u.fetch==="function"};var e=a.prototype;e.run=function(a,b,c,e,f,g,h,i){this.$1=d("MqttUtils").endpointWithSessionId(a,b),this.$3=b,this.$4=c,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$20()};e.isTopicSupported=function(a){return!0};e.publish=function(a,b){return this.$21(a,b)};e.publishBinary=function(a,b){return this.$21(a,b)};e.$21=function(a,d){if(this.$14!=="ReceivingData"){this.$2.bumpCounter(k+"publish."+a+".invalidstate");return(h||(h=b("Promise"))).reject("not connected")}else{this.$2.bumpCounter(k+"publish."+a+".publish");var e=new(c("PromiseResult"))();a={topic:a,payload:d,promiseResult:e};this.$15.push(a);this.$22();return e.promise}};e.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};e.$23=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(k+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};e.$24=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(k+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};e.$25=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(k+"publish_request_failed");this.$14!=="ReceivingData"||c===q?(this.$24(a,d),this.$18=!1,this.$2.bumpCounter(k+"publish_request_failed_final"),this.$22()):this.$26(a,b,c+1)};e.$27=function(a,b,c,d){if(!d.ok){this.$2.bumpCounter(k+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=s){this.$2.bumpCounter(k+"409_reset");this.$28(new Error("Too many 409 errors"));return}}this.$25(a,b,c,this.$29(d));return}this.$2.bumpCounter(k+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$23(a);this.$18=!1;this.$22()};e.$22=function(){if(this.$14!=="ReceivingData")return;if(this.$18)return;if(this.$15.length===0&&this.$16.length===0)return;this.$18=!0;var a=this.$15.slice(0,r);this.$15=this.$15.slice(r,this.$15.length);this.$17!=null&&d("MqttEnv").Env.clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,r);this.$16=this.$16.slice(r,this.$16.length);this.$26(a,b,0)};e.$26=function(a,b,c){var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+c);f=d("MqttUtils").endpointWithExtraParameter(this.$1,m,o);var g=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:d("MqttEnv").Env.random()}});g=this.$5.gen(this.$3,[],g,b);this.$2.bumpCounter(k+"publish_request");d("MqttUtils").promiseDoneWithTimeout(u.fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:g,keepalive:!1}),function(d){return e.$27(a,b,c,d)},function(d){return e.$25(a,b,c,d)},l)};e.$30=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$31(!1,a);this.$2.bumpCounter(k+"error");this.$14="Error"};e.$32=function(a){var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ});a=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(a){if(!(a instanceof d("MqttProtocolCodec").WireMessage.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=d("MqttEnv").Env.setTimeout(function(){b.$22()},t)));return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}});for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$2.bumpCounter(k+"response_"+((h=h.topic)!=null?h:"void"))}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$33()};e.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(k+"ping")};e.$28=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(k+"done"),this.$34(a.message),this.$8(),this.$14="Done"};e.$35=function(a,b,c){var e=this;if(c!=null)try{this.$32(c)}catch(a){this.$28(a);this.$2.bumpCounter(k+"dataDecodeException");return}if(b){this.$28(new Error("EOF"));return}d("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$35(a,b,c)},function(a){return e.$28(a)})};e.$36=function(a){if(!a.ok){this.$2.bumpCounter(k+"error.http."+a.status);this.$30(this.$29(a));return}a=a.body;if(!a){this.$30(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(k+"success");this.$31(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$35(a,!1,null)};e.$34=function(a){this.$2.eventLogPullFinish({pullEventName:j,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};e.$31=function(a,b){this.$2.eventLogPull({pullEventName:i,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};e.$20=function(){var a=this;if(this.$14!=="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(k+"request");this.$10=Date.now();var b=d("MqttUtils").endpointWithExtraParameter(this.$1,n,p);d("MqttUtils").promiseDoneWithTimeout(u.fetch(b,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$36(b)},function(b){return a.$30(b)},l)};e.$29=function(a){return new Error("Http error, status="+a.status)};return a}();g["default"]=a}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=120*1e3,j="simple_pull",k="longpolling_";a=function(){function a(){this.$3="",this.$4=0,this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(c("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var e=a.prototype;e.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};e.isTopicSupported=function(a){return this.$13.has(a)};e.publish=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.publishBinary=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};e.$15=function(a,b){if(this.$1===a)return;this.$1=a;a==="Error"&&b!=null&&this.$10(b);this.$2.debugTrace("LongPollingClient","_changeStatus : "+a)};e.$16=function(a){if(this.$1!=="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$2.bumpCounter(k+"success");this.$18(!0,null);this.$15("ResponseReceived");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof d("MqttProtocolCodec").WireMessage.Publish}).map(function(a){if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}}else return{}});this.$8(a);this.$9()};e.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$2.bumpCounter(k+"error."+a);this.$15("Error",a)};e.$18=function(a,b){this.$2.eventLogPull({pullEventName:j,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};e.$14=function(a){var b=this;if(this.$1!=="Ready"||this.$12)return;this.$2.bumpCounter(k+"request");try{this.$11=Date.now(),this.$12=new(c("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(c("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return b.$16(a)}).setNetworkFailureHandler(function(a){b.$17("Network",a)}).setErrorHandler(function(a){b.$17("Error",a)}).setAbortHandler(function(a){b.$17("Abort",null)}).setTimeoutHandler(function(){b.$17("Timeout",null)}).setTimeout(i).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();g["default"]=a}),98);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};b.onPollShutdownAbort=function(){this.$1.forEach(function(a){a.onPollShutdownAbort()})};return a}();f["default"]=a}),66);
__d("exponentialBackoff",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=null);var c=null,e=0;function f(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=function(){a.apply(b,g)};if(c===null){var j=Math.max(0,Math.pow(2,Math.min(e,6))*(1e3+d("MqttEnv").Env.random()*100)-2e3);c=d("MqttEnv").Env.setTimeout(function(){i(),c=null},j)}e++}f.reset=function(){e=0,c!=null&&(d("MqttEnv").Env.clearTimeout(c),c=null)};f.isPending=function(){return c!=null};return f}g["default"]=a}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=1e3,k=3e3,l="mqtt_should_longpoll",m="last_lp",n="yes",o="no";a=function(){function a(a,b,e,f,g,h,i,j,k){var l=this;this.$23=function(){try{if(!l.$30())return;l.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var a=l.$31();l.$14=a;var b=l.$9(),c=l.$10();b=b.filter(function(b){return a.isTopicSupported(b)});c=c.filter(function(b){return a.isTopicSupported(b.topic)});if(b.length===0&&c.length===0){l.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");l.$14=null;d("MqttEnv").Env.setTimeout(function(){l.$23()},1e3);return}var e=d("MqttUtils").generateSessionId();a.run(l.$6,e,l.$7.gen(e,b,c),l.$7,function(){return l.$32()},function(a){return l.$33(a)},function(){return l.$34()},function(a){return l.$35(a)});l.$19.onPollRequestSent();e=b.join(",");b=c.map(function(a){return a.topic}).join(",");l.$5.debugTrace("LongPollingRunner","Making a poll request to "+l.$6+". SubscribedTopics:"+e+". Publishes:"+b)}catch(a){a&&l.$5.logErrorWarn(a,"lp_js_error"),l.$11(new(d("MqttTypes").MqttChannelError)(!1,"js error lp",a)),l.$35("lp_js_error")}};this.$6=a;this.$7=b;this.$1=f;this.$2=0;this.$3=e;this.$4=d("MqttWebSocketUtils").hasWSSupport();this.$5=d("MqttEnv").Env.getLoggerInstance();this.$8=g;this.$9=h;this.$10=i;this.$11=j;this.$12=k;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(c("MqttLongPollingHookCollection"))();this.$18=c("exponentialBackoff")(this.$23,this);this.$20=0;this.$21=o;a=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch);b=c("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");b?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&b}var e=a.prototype;e.addHook=function(a){this.$19.addHook(a)};e.start=function(){var a=this;this.$21=d("MqttEnv").Env.configRead(m,o);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();d("MqttEnv").Env.setTimeout(function(){a.$23()},j+100);d("MqttEnv").Env.setTimeout(function(){a.$23()},k+100)};e.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null};e.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};e.publish=function(a,b,c){return this.$24(a,b)};e.publishBinary=function(a,b,c){return this.$24(a,b)};e.$24=function(a,c){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a)))if(typeof c==="string")return this.$14.publish(a,c);else return this.$14.publishBinary(a,c);return(h||(h=b("Promise"))).reject()};e.onConnectAttempt=function(){};e.onConnectFailure=function(){this.$2++,this.$23()};e.onConnected=function(){};e.onConnectSuccess=function(){this.$1=!0,d("MqttEnv").Env.configWrite(m,null)};e.onConnectionLost=function(){};e.onConnectionDisconnect=function(){};e.onSubscribe=function(a){};e.onUnsubscribe=function(a){};e.onPublish=function(a){};e.onMessage=function(a){};e.onWSFatal=function(){this.$3=!0,this.$23()};e.getStatus=function(){return this.$15};e.getRequestStatus=function(){return this.$16};e.$25=function(a){a!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};e.$26=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};e.$27=function(){this.$17=0};e.$28=function(){this.$17++,this.$17>=i&&this.$25("LPError")};e.$29=function(){var a,b=(a=d("MqttEnv")).Env.genGk(a.MqttGkNames.mqtt_lp_no_delay),c=a.Env.genGk(a.MqttGkNames.mqtt_ws_polling_enabled);a=a.Env.genGk(a.MqttGkNames.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(b)+" enabled:"+String(c)+" fastPoll:"+String(a)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!c)return!1;if(b){this.$5.bumpCounter(l+".nd");return!0}if(!this.$4){this.$5.bumpCounter(l+".na");return!0}if(this.$3){this.$5.bumpCounter(l+".fatal");return!0}if(this.$1)return!1;if(a){c=Date.now()-this.$20;if(this.$21===n){if(this.$2>=1)return!0;if(c>j){this.$5.bumpCounter(l+".fastdelay");return!0}}else if(c>k){this.$5.bumpCounter(l+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(l+".failure");return!0}return!1};e.$30=function(){if(this.$14!=null)return!1;var a=this.$29();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27());return a};e.$31=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(c("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(c("MqttLongPollingClient"))()}};e.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),d("MqttEnv").Env.configWrite(m,n),this.$26("ReceivingData")};e.$33=function(a){var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(b=0;b<a.length;b++){var c=a[b];this.$19.onPollResponse(c.topic);this.$8(c.topic,c.payload,c.qos)}};e.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")};e.$35=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")};return a}();g["default"]=a}),98);
__d("PolarisCallGatingHelpers",["PolarisUA","RTWebIncomingRingConfiguration","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return i()||j()?!1:!0}function a(){return c("gkx")("24007")&&c("gkx")("24008")===!0}function i(){return c("gkx")("24007")&&!c("gkx")("24008")===!0}function j(){return!d("PolarisUA").isDesktop()||!d("RTWebIncomingRingConfiguration").isSupportedClient()}function b(){return!h()?!1:c("gkx")("25357")===!0}function e(){return!h()?!1:c("gkx")("2432")===!0}function f(){return!h()?!1:!c("justknobx")._("471")}function k(){return c("qex")._("83")===!0}g.isWebCallingEnabled=h;g.isVerifiedUserAndCallingEnabled=a;g.isWebCallingRingtoneEnabled=b;g.isZenonIncomingRingEnabled=e;g.isIncomingCallEnabled=f;g.isCallsPathMigrationEnabled=k}),98);
__d("PolarisSwitchAccountsModalLazy.react",["CometPlaceholder.react","IGCoreModal.react","IGDSBox.react","IGDSSpinner.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSwitchAccountsModal.react").__setRef("PolarisSwitchAccountsModalLazy.react"));function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("IGCoreModal.react"),{children:j.jsx(c("IGDSBox.react"),{alignItems:"center",height:112,justifyContent:"center",position:"relative",width:"100%",children:j.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),children:j.jsx(k,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744334");b=d("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e=b;g["default"]=e}),98);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("TrustedTypesNoOpPolicy_DO_NOT_USE",["TrustedTypes","TrustedTypesUtils"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:d("TrustedTypesUtils").noop,createHTML:d("TrustedTypesUtils").noop,createScript:d("TrustedTypesUtils").noop};b=c("TrustedTypes").createPolicy("noop-do-not-use",a);e=b;g["default"]=e}),98);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);
__d("VideoPlayerWithLiveVideoInterruptedOverlay.react",["fbt","CometLoadingAnimation.react","FDSTextPairing.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(){var a=(j||(j=d("VideoPlayerHooks"))).useStreamInterrupted(),b=j.useIsLiveRewindActive();return!a||b?null:k.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{children:k.jsxs("div",{className:"x6s0dn4 x18l40ae x1ey2m1c x9f619 x78zum5 xdt5ytf xds687c x17qophe xl56j7k x10l6tqk x13vifvy",children:[k.jsx("div",{children:k.jsx(c("FDSTextPairing.react"),{body:h._("__JHASH__VF7_ry1JLc___JHASH__"),bodyColor:"white",headline:h._("__JHASH__BFvlG3IxPd7__JHASH__"),headlineColor:"white",level:2,textAlign:"center"})}),k.jsx("div",{className:"xc9qbxq x1sy10c2 x1n2onr6 x14qfxbe",children:k.jsx(c("CometLoadingAnimation.react"),{size:36})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WebStorageCleanupReason",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(){return g}function b(a){g=a}f.getLastCleanupReason=a;f.setLastCleanupReason=b}),66);
__d("ZenonAppProvider",["IGDWebUtils","ZenonActorHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ZenonActorHooks").ZenonActor.getAppID()==null?null:Number(d("ZenonActorHooks").ZenonActor.getAppID());return d("IGDWebUtils").isInstagramWebSupportedApp(a)}function b(){var a=d("ZenonActorHooks").ZenonActor.getAppID()==null?null:Number(d("ZenonActorHooks").ZenonActor.getAppID());return h(a)}function c(){var a=d("ZenonActorHooks").ZenonActor.getAppID()==null?null:Number(d("ZenonActorHooks").ZenonActor.getAppID());return i(a)}function e(){return d("ZenonActorHooks").ZenonActor.getAppID()==null?!1:Number(d("ZenonActorHooks").ZenonActor.getAppID())===2763362503905702||Number(d("ZenonActorHooks").ZenonActor.getAppID())===1013624499181349}function f(){return d("ZenonActorHooks").ZenonActor.getAppID()==null?!1:Number(d("ZenonActorHooks").ZenonActor.getAppID())===772021112871879}function h(a){return a!=null?a===2763362503905702||a===1013624499181349:!1}function i(a){return a!=null?a===351299233827255:!1}g.isInstagramApp=a;g.isOculusApp=b;g.isHorizonApp=c;g.isOculusCastingSite=e;g.isMessengerWebApp=f}),98);
__d("ZenonActorHooks",["CurrentUser","FBLogger","ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=!1,l=!1,m=new Set();function n(a,b){b===void 0&&(b="Fallback to CurrentUser"),m.has(a)||(c("FBLogger")("rtc_www").blameToPreviousFrame().info("ZenonActor."+a+" - "+b),m.add(a))}function a(){return[o.getID(),function(a){n("useZenonActor:setter","This setter should not be used as Zenon should currently doesn't allow switching Actor"),h=a}]}function b(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);if(h!==null){if(l)return;n("initZenonActor","ZenonActor is being reinitalized. This may indicate unneccessary ZenonActorProvider's to RelayEnvironmentProvider's in the component tree.")}l=l||b;k=k||c;typeof a==="string"||typeof a==="number"?(h=a.toString(),i=null,j=null):(a==null?void 0:a.actorID)!=null&&(h=a.actorID.toString(),i=a.name,j=a.shortName)}var o={getAccountID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();return o.isOculusCastingUser()?c("CurrentUser").getEOCPU():c("CurrentUser").getAccountID()},getAppID:function(){return c("CurrentUser").getAppID()},getID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(o.isOculusCastingUser())return c("CurrentUser").getEOCPU();if(o.isHorizonWebUser()&&!c("gkx")("5683"))return c("CurrentUser").getEPOU();if(h===null){n("getID");return c("CurrentUser").getID()}else return h},getName:function(){var a;return(a=i)!=null?a:c("CurrentUser").getName()},getShortName:function(){var a;return(a=j)!=null?a:c("CurrentUser").getShortName()},isEmployee:function(){return c("CurrentUser").isEmployee()},isHorizonWebUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isHorizonApp()},isInstagramUser:function(){return c("CurrentUser").getEIMU()!==0&&d("ZenonAppProvider").isInstagramApp()},isLoggedIn:function(){return c("CurrentUser").isLoggedIn()},isLoggedInNow:function(){return c("CurrentUser").isLoggedInNow()},isMessengerCallGuestUser:function(){return c("CurrentUser").isMessengerCallGuestUser()},isOculusCastingUser:function(){return c("CurrentUser").getEOCPU()!==0&&d("ZenonAppProvider").isOculusApp()},isOculusUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isOculusApp()},isPage:function(){return k},isTestUser:function(){return c("CurrentUser").isTestUser()},isWorkishUser:function(){return c("CurrentUser").isWorkroomsUser()||c("CurrentUser").isWorkUser()},isWorkroomsUser:function(){return c("CurrentUser").isWorkroomsUser()},isWorkUser:function(){return c("CurrentUser").isWorkUser()}};g.useZenonActor=a;g.initZenonActor=b;g.ZenonActor=o}),98);
__d("ZenonAuditedCheckpointLogId",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RP_ROOMS_INFRA_WWW__E2EE","RP_ROOMS_INFRA_WWW__WASM","RP_ROOMS_INFRA_WWW__LOGGER_INFRA","RP_ROOMS_INFRA_WWW__STATE_MACHINE","RP_ROOMS_INFRA_WWW__ERROR","RP_ROOMS_INFRA_WWW__E2EE_DEVICE_VERIFIER","RP_ROOMS_INFRA_WWW__PLATFORM"]);c=a;f["default"]=c}),66);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonOpeningAnotherCallError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonConferenceNameMutationFailedError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonIncompleteControllerParamsError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonUnsupportedThreadTypeError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonCannotAcceptInviteError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonInviteNotFoundError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonUninitializedError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("isEmployeeTestUserZenonLogging",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("25162")||c("gkx")("25152")||c("gkx")("25209")}g["default"]=a}),98);
__d("ZenonInfraActionsLogger",["Log","RpWebInfraActionsLoggerEventFalcoEvent","ZenonAuditedCheckpointLogId","formatDate","isEmployeeTestUserZenonLogging","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.setE2eeIsMandatedForCall=function(a){this.$3.set(a,!0)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("isEmployeeTestUserZenonLogging")())return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$4.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$4.get(a);this.$4["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;if(c("justknobx")._("854"))return;b=(b=this.$3.get((b=this.$1.signalingID)!=null?b:""))!=null?b:!1;if(b&&!c("justknobx")._("1021"))return;if(b&&a.auditId==null){b="Encountered an unaudited log line, dropping it.";a.error!=null?this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,error:b}):this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,checkpoint:b});return}if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.signalingID)!=null?b:this.$1.signalingID==null?void 0:String(this.$1.signalingID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("ZenonSignalingProtocol",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MW:"mw",MWPP:"mw++"});c=a;f["default"]=c}),66);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/yKsQCAUqcFZ/
 */
__d("dexie-4.0.1-alpha.22",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.Dexie=c())})(this,function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return b(a,c)};function c(a,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");b(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}var d=function(){d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return d.apply(this,arguments)};function e(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))}var f=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:a,g=Object.keys,h=Array.isArray;typeof Promise!=="undefined"&&!f.Promise&&(f.Promise=Promise);function i(a,b){if(typeof b!=="object")return a;g(b).forEach(function(c){a[c]=b[c]});return a}var j=Object.getPrototypeOf,k={}.hasOwnProperty;function l(a,b){return k.call(a,b)}function m(a,b){typeof b==="function"&&(b=b(j(a))),(typeof Reflect==="undefined"?g:Reflect.ownKeys)(b).forEach(function(c){o(a,c,b[c])})}var n=Object.defineProperty;function o(a,b,c,d){n(a,b,i(c&&l(c,"get")&&typeof c.get==="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function p(a){return{from:function(b){a.prototype=Object.create(b.prototype);o(a.prototype,"constructor",a);return{extend:m.bind(null,a.prototype)}}}}var q=Object.getOwnPropertyDescriptor;function r(a,b){var c=q(a,b);return c||(c=j(a))&&r(c,b)}var s=[].slice;function t(a,b,c){return s.call(a,b,c)}function u(a,b){return b(a)}function v(a){if(!a)throw new Error("Assertion Failed")}function aa(a){f.setImmediate?setImmediate(a):setTimeout(a,0)}function ba(a,b){return a.reduce(function(a,c,d){c=b(c,d);c&&(a[c[0]]=c[1]);return a},{})}function ca(a,b,c){try{a.apply(null,c)}catch(a){b&&b(a)}}function w(a,b){if(l(a,b))return a[b];if(!b)return a;if(typeof b!=="string"){var c=[];for(var d=0,e=b.length;d<e;++d){var f=w(a,b[d]);c.push(f)}return c}f=b.indexOf(".");if(f!==-1){d=a[b.substr(0,f)];return d===void 0?void 0:w(d,b.substr(f+1))}return void 0}function x(a,b,c){if(!a||b===void 0)return;if("isFrozen"in Object&&Object.isFrozen(a))return;if(typeof b!=="string"&&"length"in b){v(typeof c!=="string"&&"length"in c);for(var d=0,e=b.length;d<e;++d)x(a,b[d],c[d])}else{d=b.indexOf(".");if(d!==-1){e=b.substr(0,d);d=b.substr(d+1);if(d==="")c===void 0?h(a)&&!isNaN(parseInt(e))?a.splice(e,1):delete a[e]:a[e]=c;else{var f=a[e];(!f||!l(a,e))&&(f=a[e]={});x(f,d,c)}}else c===void 0?h(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c}}function da(a,b){typeof b==="string"?x(a,b,void 0):"length"in b&&[].map.call(b,function(b){x(a,b,void 0)})}function ea(a){var b={};for(var c in a)l(a,c)&&(b[c]=a[c]);return b}var fa=[].concat;function ga(a){return fa.apply([],a)}var y="Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ga([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return f[a]}),ha=new Set(y.map(function(a){return f[a]}));function ia(a){var b={};for(var c in a)if(l(a,c)){var d=a[c];b[c]=!d||typeof d!=="object"||ha.has(d.constructor)?d:ia(d)}return b}function ja(a){for(var b in a)if(l(a,b))return!1;return!0}var ka=null;function z(a){ka=new WeakMap();a=la(a);ka=null;return a}function la(a){if(!a||typeof a!=="object")return a;var b=ka.get(a);if(b)return b;if(h(a)){b=[];ka.set(a,b);for(var c=0,d=a.length;c<d;++c)b.push(la(a[c]))}else if(ha.has(a.constructor))b=a;else{c=j(a);b=c===Object.prototype?{}:Object.create(c);ka.set(a,b);for(d in a)l(a,d)&&(b[d]=la(a[d]))}return b}var ma={}.toString;function na(a){return ma.call(a).slice(8,-1)}var oa=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator",pa=typeof oa==="symbol"?function(a){var b;return a!=null&&(b=a[oa])&&b.apply(a)}:function(){return null};function qa(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b>=0}var ra={};function A(a){var b,c,d,e;if(arguments.length===1){if(h(a))return a.slice();if(this===ra&&typeof a==="string")return[a];if(e=pa(a)){c=[];while(d=e.next(),!d.done)c.push(d.value);return c}if(a==null)return[a];b=a.length;if(typeof b==="number"){c=new Array(b);while(b--)c[b]=a[b];return c}return[a]}b=arguments.length;c=new Array(b);while(b--)c[b]=arguments[b];return c}var sa=typeof Symbol!=="undefined"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},B=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ta(a,b){B=a,ua=b}var ua=function(){return!0},va=!new Error("").stack;function C(){if(va)try{C.arguments;throw new Error()}catch(a){return a}return new Error()}function wa(a,b){var c=a.stack;if(!c)return"";b=b||0;c.indexOf(a.name)===0&&(b+=(a.name+a.message).split("\n").length);return c.split("\n").slice(b).filter(ua).map(function(a){return"\n"+a}).join("")}y=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var D=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];y=y.concat(D);var xa={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ya(a,b){this._e=C(),this.name=a,this.message=b}p(ya).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+wa(this._e,2))}},toString:function(){return this.name+": "+this.message}});function za(a,b){return a+". Errors: "+Object.keys(b).map(function(a){return b[a].toString()}).filter(function(a,b,c){return c.indexOf(a)===b}).join("\n")}function Aa(a,b,c,d){this._e=C(),this.failures=b,this.failedKeys=d,this.successCount=c,this.message=za(a,b)}p(Aa).from(ya);function Ba(a,b){this._e=C(),this.name="BulkError",this.failures=Object.keys(b).map(function(a){return b[a]}),this.failuresByPos=b,this.message=za(a,this.failures)}p(Ba).from(ya);var Ca=y.reduce(function(a,b){return a[b]=b+"Error",a},{}),Da=ya,E=y.reduce(function(b,c){var d=c+"Error";function a(a,b){this._e=C(),this.name=d,!a?(this.message=xa[c]||d,this.inner=null):typeof a==="string"?(this.message="".concat(a).concat(b?"\n "+b:""),this.inner=b||null):typeof a==="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a)}p(a).from(Da);b[c]=a;return b},{});E.Syntax=SyntaxError;E.Type=TypeError;E.Range=RangeError;var Ea=D.reduce(function(a,b){a[b+"Error"]=E[b];return a},{});function Fa(a,b){if(!a||a instanceof ya||a instanceof TypeError||a instanceof SyntaxError||!a.name||!Ea[a.name])return a;b=new Ea[a.name](b||a.message,a);"stack"in a&&o(b,"stack",{get:function(){return this.inner.stack}});return b}D=y.reduce(function(a,b){["Syntax","Type","Range"].indexOf(b)===-1&&(a[b+"Error"]=E[b]);return a},{});D.ModifyError=Aa;D.DexieError=ya;D.BulkError=Ba;function F(){}function Ga(a){return a}function Ha(a,b){return a==null||a===Ga?b:function(c){return b(a(c))}}function G(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function Ia(a,b){return a===F?b:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,e=this.onerror;this.onsuccess=null;this.onerror=null;var f=b.apply(this,arguments);d&&(this.onsuccess=this.onsuccess?G(d,this.onsuccess):d);e&&(this.onerror=this.onerror?G(e,this.onerror):e);return f!==void 0?f:c}}function Ja(a,b){return a===F?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null;b.apply(this,arguments);c&&(this.onsuccess=this.onsuccess?G(c,this.onsuccess):c);d&&(this.onerror=this.onerror?G(d,this.onerror):d)}}function Ka(a,b){return a===F?b:function(c){var d=a.apply(this,arguments);i(c,d);var e=this.onsuccess,f=this.onerror;this.onsuccess=null;this.onerror=null;var g=b.apply(this,arguments);e&&(this.onsuccess=this.onsuccess?G(e,this.onsuccess):e);f&&(this.onerror=this.onerror?G(f,this.onerror):f);return d===void 0?g===void 0?void 0:g:i(d,g)}}function La(a,b){return a===F?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function Ma(a,b){return a===F?b:function(){var c=a.apply(this,arguments);if(c&&typeof c.then==="function"){var d=this,e=arguments.length,f=new Array(e);while(e--)f[e]=arguments[e];return c.then(function(){return b.apply(d,f)})}return b.apply(this,arguments)}}var Na={},Oa=100,Pa=20,Qa=100;y=typeof Promise==="undefined"?[]:function(){var a=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[a,j(a),a];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,j(b),a]}();var Ra=y[0],Sa=y[1],Ta=y[2],Ua=Sa&&Sa.then,Va=Ra&&Ra.constructor,Wa=!!Ta,Xa=!1,Ya=Ta?function(){Ta.then(pb)}:f.setImmediate?setImmediate.bind(null,pb):f.MutationObserver?function(){var a=document.createElement("div");new MutationObserver(function(){pb(),a=null}).observe(a,{attributes:!0});a.setAttribute("i","1")}:function(){setTimeout(pb,0)},Za=function(a,b){eb.push([a,b]),ab&&(Ya(),ab=!1)},$a=!0,ab=!0,H=[],bb=[],cb=null,db=Ga,I={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:F,pgp:!1,env:{},finalize:F},J=I,eb=[],K=0,fb=[];function L(a){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this._lib=!1;var b=this._PSD=J;B&&(this._stackHolder=C(),this._prev=null,this._numPrev=0);if(typeof a!=="function"){if(a!==Na)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];this._state===!1&&jb(this,this._value);return}this._state=null;this._value=null;++b.ref;ib(this,a)}var gb={get:function(){var a=J,b=Ab;function c(c,d){var e=this,f=!a.global&&(a!==J||b!==Ab),g=f&&!P(),h=new L(function(b,h){lb(e,new hb(Jb(c,a,f,g),Jb(d,a,f,g),b,h,a))});B&&ob(h,this);return h}c.prototype=Na;return c},set:function(a){o(this,"then",a&&a.prototype===Na?gb:{get:function(){return a},set:gb.set})}};m(L.prototype,{then:gb,_then:function(a,b){lb(this,new hb(null,null,a,b,J))},"catch":function(b){if(arguments.length===1)return this.then(null,b);var a=arguments[0],c=arguments[1];return typeof a==="function"?this.then(null,function(b){return b instanceof a?c(b):wb(b)}):this.then(null,function(b){return b&&b.name===a?c(b):wb(b)})},"finally":function(a){return this.then(function(b){a();return b},function(b){a();return wb(b)})},stack:{get:function(){if(this._stack)return this._stack;try{Xa=!0;var a=nb(this,[],Pa);a=a.join("\nFrom previous: ");this._state!==null&&(this._stack=a);return a}finally{Xa=!1}}},timeout:function(a,b){var c=this;return a<Infinity?new L(function(d,e){var f=setTimeout(function(){return e(new E.Timeout(b))},a);c.then(d,e)["finally"](clearTimeout.bind(null,f))}):this}});typeof Symbol!=="undefined"&&Symbol.toStringTag&&o(L.prototype,Symbol.toStringTag,"Dexie.Promise");I.env=Gb();function hb(a,b,c,d,e){this.onFulfilled=typeof a==="function"?a:null,this.onRejected=typeof b==="function"?b:null,this.resolve=c,this.reject=d,this.psd=e}m(L,{all:function(){var a=A.apply(null,arguments).map(Db);return new L(function(b,c){a.length===0&&b([]);var d=a.length;a.forEach(function(e,f){return L.resolve(e).then(function(c){a[f]=c,--d||b(a)},c)})})},resolve:function(a){if(a instanceof L)return a;if(a&&typeof a.then==="function")return new L(function(b,c){a.then(b,c)});var b=new L(Na,!0,a);ob(b,cb);return b},reject:wb,race:function(){var a=A.apply(null,arguments).map(Db);return new L(function(b,c){a.map(function(a){return L.resolve(a).then(b,c)})})},PSD:{get:function(){return J},set:function(a){return J=a}},totalEchoes:{get:function(){return Ab}},newPSD:O,usePSD:Hb,scheduler:{get:function(){return Za},set:function(a){Za=a}},rejectionMapper:{get:function(){return db},set:function(a){db=a}},follow:function(a,b){return new L(function(c,d){return O(function(b,c){var d=J;d.unhandleds=[];d.onunhandled=c;d.finalize=G(function(){var a=this;tb(function(){a.unhandleds.length===0?b():c(a.unhandleds[0])})},d.finalize);a()},b,c,d)})}});Va&&(Va.allSettled&&o(L,"allSettled",function(){var a=A.apply(null,arguments).map(Db);return new L(function(b){a.length===0&&b([]);var c=a.length,d=new Array(c);a.forEach(function(a,e){return L.resolve(a).then(function(a){return d[e]={status:"fulfilled",value:a}},function(a){return d[e]={status:"rejected",reason:a}}).then(function(){return--c||b(d)})})})}),Va.any&&typeof AggregateError!=="undefined"&&o(L,"any",function(){var a=A.apply(null,arguments).map(Db);return new L(function(b,c){a.length===0&&c(new AggregateError([]));var d=a.length,e=new Array(d);a.forEach(function(a,f){return L.resolve(a).then(function(a){return b(a)},function(a){e[f]=a,--d||c(new AggregateError(e))})})})}));function ib(a,b){try{b(function(b){if(a._state!==null)return;if(b===a)throw new TypeError("A promise cannot be resolved with itself.");var c=a._lib&&qb();b&&typeof b.then==="function"?ib(a,function(a,c){b instanceof L?b._then(a,c):b.then(a,c)}):(a._state=!0,a._value=b,kb(a));c&&rb()},jb.bind(null,a))}catch(b){jb(a,b)}}function jb(a,b){bb.push(b);if(a._state!==null)return;var c=a._lib&&qb();b=db(b);a._state=!1;a._value=b;B&&b!==null&&typeof b==="object"&&!b._promise&&ca(function(){var c=r(b,"stack");b._promise=a;o(b,"stack",{get:function(){return Xa?c&&(c.get?c.get.apply(b):c.value):a.stack}})});ub(a);kb(a);c&&rb()}function kb(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)lb(a,b[c]);c=a._PSD;--c.ref||c.finalize();K===0&&(++K,Za(function(){--K===0&&sb()},[]))}function lb(a,b){if(a._state===null){a._listeners.push(b);return}var c=a._state?b.onFulfilled:b.onRejected;if(c===null)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref;++K;Za(mb,[c,a,b])}function mb(a,b,c){try{cb=b;var d,e=b._value;b._state?d=a(e):(bb.length&&(bb=[]),d=a(e),bb.indexOf(e)===-1&&vb(b));c.resolve(d)}catch(a){c.reject(a)}finally{cb=null,--K===0&&sb(),--c.psd.ref||c.psd.finalize()}}function nb(a,b,c){if(b.length===c)return b;var d="";if(a._state===!1){var e=a._value,f,g;e!=null?(f=e.name||"Error",g=e.message||e,d=wa(e,0)):(f=e,g="");b.push(f+(g?": "+g:"")+d)}B&&(d=wa(a._stackHolder,2),d&&b.indexOf(d)===-1&&b.push(d),a._prev&&nb(a._prev,b,c));return b}function ob(a,b){var c=b?b._numPrev+1:0;c<Oa&&(a._prev=b,a._numPrev=c)}function pb(){qb()&&rb()}function qb(){var a=$a;$a=!1;ab=!1;return a}function rb(){var a,b,c;do while(eb.length>0){a=eb;eb=[];c=a.length;for(b=0;b<c;++b){var d=a[b];d[0].apply(null,d[1])}}while(eb.length>0);$a=!0;ab=!0}function sb(){var a=H;H=[];a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});a=fb.slice(0);var b=a.length;while(b)a[--b]()}function tb(a){function b(){a(),fb.splice(fb.indexOf(b),1)}fb.push(b);++K;Za(function(){--K===0&&sb()},[])}function ub(a){H.some(function(b){return b._value===a._value})||H.push(a)}function vb(a){var b=H.length;while(b)if(H[--b]._value===a._value){H.splice(b,1);return}}function wb(a){return new L(Na,!1,a)}function M(a,b){var c=J;return function(){var d=qb(),e=J;try{Q(c,!0);return a.apply(this,arguments)}catch(a){b&&b(a)}finally{Q(e,!1),d&&rb()}}}var N={awaits:0,echoes:0,id:0},xb=0,yb=[],zb=0,Ab=0,Bb=0;function O(b,a,c,d){var e=J,f=Object.create(e);f.parent=e;f.ref=0;f.global=!1;f.id=++Bb;var g=I.env;f.env=Wa?{Promise:L,PromiseProp:{value:L,configurable:!0,writable:!0},all:L.all,race:L.race,allSettled:L.allSettled,any:L.any,resolve:L.resolve,reject:L.reject,nthen:Kb(g.nthen,f),gthen:Kb(g.gthen,f)}:{};a&&i(f,a);++e.ref;f.finalize=function(){--this.parent.ref||this.parent.finalize()};g=Hb(f,b,c,d);f.ref===0&&f.finalize();return g}function Cb(){N.id||(N.id=++xb);++N.awaits;N.echoes+=Qa;return N.id}function P(){if(!N.awaits)return!1;--N.awaits===0&&(N.id=0);N.echoes=N.awaits*Qa;return!0}(""+Ua).indexOf("[native code]")===-1&&(Cb=P=F);function Db(a){if(N.echoes&&a&&a.constructor===Va){Cb();return a.then(function(a){P();return a},function(a){P();return R(a)})}return a}function Eb(a){++Ab,(!N.echoes||--N.echoes===0)&&(N.echoes=N.id=0),yb.push(J),Q(a,!0)}function Fb(){var a=yb[yb.length-1];yb.pop();Q(a,!1)}function Q(a,b){var c=J;(b?N.echoes&&(!zb++||a!==J):zb&&(!--zb||a!==J))&&Ib(b?Eb.bind(null,a):Fb);if(a===J)return;J=a;c===I&&(I.env=Gb());if(Wa){b=I.env.Promise;var d=a.env;Sa.then=d.nthen;b.prototype.then=d.gthen;(c.global||a.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),b.all=d.all,b.race=d.race,b.resolve=d.resolve,b.reject=d.reject,d.allSettled&&(b.allSettled=d.allSettled),d.any&&(b.any=d.any))}}function Gb(){var a=f.Promise;return Wa?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject,nthen:Sa.then,gthen:a.prototype.then}:{}}function Hb(a,b,c,d,e){var f=J;try{Q(a,!0);return b(c,d,e)}finally{Q(f,!1)}}function Ib(a){Ua.call(Ra,a)}function Jb(a,b,c,d){return typeof a!=="function"?a:function(){var e=J;c&&Cb();Q(b,!0);try{return a.apply(this,arguments)}finally{Q(e,!1),d&&Ib(P)}}}function Kb(a,b){return function(c,d){return a.call(this,Jb(c,b),Jb(d,b))}}var R=L.reject;function Lb(a,b,c,d){if(!a.idbdb||!a._state.openComplete&&!J.letThrough&&!a._vip){if(a._state.openComplete)return R(new E.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._options.autoOpen)return R(new E.DatabaseClosed());a.open()["catch"](F)}return a._state.dbReadyPromise.then(function(){return Lb(a,b,c,d)})}else{var e=a._createTransaction(b,c,a._dbSchema);try{e.create(),a._state.PR1398_maxLoop=3}catch(e){if(e.name===Ca.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a._close();return a.open().then(function(){return Lb(a,b,c,d)})}return R(e)}return e._promise(b,function(a,b){return O(function(){J.trans=e;return d(a,b,e)})}).then(function(a){if(b==="readwrite")try{e.idbtrans.commit()}catch(a){}return b==="readonly"?a:e._completion.then(function(){return a})})}}y="4.0.1-alpha.22";var Mb=String.fromCharCode(65535),Nb=-Infinity,S="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ob="String expected.",Pb=[],Qb=typeof navigator!=="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Rb=Qb,Sb=Qb,Tb=function(a){return!/(dexie\.js|dexie\.min\.js)/.test(a)},Ub="__dbnames",Vb="readonly",Wb="readwrite";function Xb(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}var Yb={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1};function Zb(a){return typeof a==="string"&&!/\./.test(a)?function(b){b[a]===void 0&&a in b&&(b=z(b),delete b[a]);return b}:function(a){return a}}function $b(){throw E.Type()}function T(a,b){try{var c=cc(a),d=cc(b);if(c!==d){if(c==="Array")return 1;if(d==="Array")return-1;if(c==="binary")return 1;if(d==="binary")return-1;if(c==="string")return 1;if(d==="string")return-1;if(c==="Date")return 1;return d!=="Date"?NaN:-1}switch(c){case"number":case"Date":case"string":return a>b?1:a<b?-1:0;case"binary":return bc(dc(a),dc(b));case"Array":return ac(a,b)}}catch(a){}return NaN}function ac(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f){var g=T(a[f],b[f]);if(g!==0)return g}return c===d?0:c<d?-1:1}function bc(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f)if(a[f]!==b[f])return a[f]<b[f]?-1:1;return c===d?0:c<d?-1:1}function cc(a){var b=typeof a;if(b!=="object")return b;if(ArrayBuffer.isView(a))return"binary";b=na(a);return b==="ArrayBuffer"?"binary":b}function dc(a){if(a instanceof Uint8Array)return a;return ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var ec=function(){function a(){}a.prototype._trans=function(a,b,c){var d=this._tx||J.trans,e=this.name;function f(c,d,a){if(!a.schema[e])throw new E.NotFound("Table "+e+" not part of transaction");return b(a.idbtrans,a)}var g=qb();try{return d&&d.db===this.db?d===J.trans?d._promise(a,f,c):O(function(){return d._promise(a,f,c)},{trans:d,transless:J.transless||J}):Lb(this.db,a,[this.name],f)}finally{g&&rb()}};a.prototype.get=function(a,b){var c=this;return a&&a.constructor===Object?this.where(a).first(b):this._trans("readonly",function(b){return c.core.get({trans:b,key:a}).then(function(a){return c.hook.reading.fire(a)})}).then(b)};a.prototype.where=function(a){if(typeof a==="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var b=g(a);if(b.length===1)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){if(a.compound&&b.every(function(b){return a.keyPath.indexOf(b)>=0})){for(var c=0;c<b.length;++c)if(b.indexOf(a.keyPath[c])===-1)return!1;return!0}return!1}).sort(function(a,b){return a.keyPath.length-b.keyPath.length})[0];if(c&&this.db._maxKey!==Mb){var d=c.keyPath.slice(0,b.length);return this.where(d).equals(d.map(function(b){return a[b]}))}!c&&B&&!1;var e=this.schema.idxByName,f=this.db._deps.indexedDB;function i(a,b){return f.cmp(a,b)===0}d=b.reduce(function(b,c){var d=b[0];b=b[1];var f=e[c],g=a[c];return[d||f,d||!f?Xb(b,f&&f.multi?function(a){a=w(a,c);return h(a)&&a.some(function(a){return i(g,a)})}:function(a){return i(g,w(a,c))}):b]},[null,null]);var j=d[0];d=d[1];return j?this.where(j.name).equals(a[j.keyPath]).filter(d):c?this.filter(d):this.where(b).equals("")};a.prototype.filter=function(a){return this.toCollection().and(a)};a.prototype.count=function(a){return this.toCollection().count(a)};a.prototype.offset=function(a){return this.toCollection().offset(a)};a.prototype.limit=function(a){return this.toCollection().limit(a)};a.prototype.each=function(a){return this.toCollection().each(a)};a.prototype.toArray=function(a){return this.toCollection().toArray(a)};a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};a.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))};a.prototype.reverse=function(){return this.toCollection().reverse()};a.prototype.mapToClass=function(a){var b=this,d=b.db,e=b.name;this.schema.mappedClass=a;a.prototype instanceof $b&&(a=function(a){c(b,a);function b(){return a!==null&&a.apply(this,arguments)||this}Object.defineProperty(b.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0});b.prototype.table=function(){return e};return b}(a));var f=new Set();for(b=a.prototype;b;b=j(b))Object.getOwnPropertyNames(b).forEach(function(a){return f.add(a)});b=function(b){if(!b)return b;var c=Object.create(a.prototype);for(var d in b)if(!f.has(d))try{c[d]=b[d]}catch(a){}return c};this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=b;this.hook("reading",b);return a};a.prototype.defineClass=function(){function a(a){i(this,a)}return this.mapToClass(a)};a.prototype.add=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Zb(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"add",keys:b!=null?[b]:null,values:[g]})}).then(function(a){return a.numFailures?L.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype.update=function(a,b){if(typeof a==="object"&&!h(a)){var c=w(a,this.schema.primKey.keyPath);return c===void 0?R(new E.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(b)}else return this.where(":id").equals(a).modify(b)};a.prototype.put=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Zb(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"put",values:[g],keys:b!=null?[b]:null})}).then(function(a){return a.numFailures?L.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype["delete"]=function(a){var b=this;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(a){return a.numFailures?L.reject(a.failures[0]):void 0})};a.prototype.clear=function(){var a=this;return this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"deleteRange",range:Yb})}).then(function(a){return a.numFailures?L.reject(a.failures[0]):void 0})};a.prototype.bulkGet=function(a){var b=this;return this._trans("readonly",function(c){return b.core.getMany({keys:a,trans:c}).then(function(a){return a.map(function(a){return b.hook.reading.fire(a)})})})};a.prototype.bulkAdd=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new E.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new E.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Zb(d)):b;return e.core.mutate({trans:c,type:"add",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new Ba("".concat(e.name,".bulkAdd(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkPut=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new E.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new E.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Zb(d)):b;return e.core.mutate({trans:c,type:"put",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new Ba("".concat(e.name,".bulkPut(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkUpdate=function(b){var c=this,d=this.core,a=b.map(function(a){return a.key}),e=b.map(function(a){return a.changes}),f=[];return this._trans("readwrite",function(g){return d.getMany({trans:g,keys:a,cache:"clone"}).then(function(h){var i=[],j=[];b.forEach(function(a,b){var d=a.key;a=a.changes;var e=h[b];if(e){for(var g=0,k=Object.keys(a);g<k.length;g++){var l=k[g],m=a[l];if(l===c.schema.primKey.keyPath){if(T(m,d)!==0)throw new E.Constraint("Cannot update primary key in bulkUpdate()")}else x(e,l,m)}f.push(b);i.push(d);j.push(e)}});var k=i.length;return d.mutate({trans:g,type:"put",keys:i,values:j,updates:{keys:a,changeSpecs:e}}).then(function(a){var b=a.numFailures;a=a.failures;if(b===0)return k;for(var d=0,e=Object.keys(a);d<e.length;d++){var g=e[d],h=f[Number(g)];if(h!=null){var i=a[g];delete a[g];a[h]=i}}throw new Ba("".concat(c.name,".bulkUpdate(): ").concat(b," of ").concat(k," operations failed"),a)})})})};a.prototype.bulkDelete=function(a){var b=this,c=a.length;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:a})}).then(function(a){var d=a.numFailures,e=a.lastResult;a=a.failures;if(d===0)return e;throw new Ba("".concat(b.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),a)})};return a}();function fc(a){var b={},c=function(d,e){if(e){var c=arguments.length,f=new Array(c-1);while(--c)f[c-1]=arguments[c];b[d].subscribe.apply(null,f);return a}else if(typeof d==="string")return b[d]};c.addEventType=f;for(var d=1,e=arguments.length;d<e;++d)f(arguments[d]);return c;function f(a,d,e){if(typeof a==="object")return i(a);d||(d=La);e||(e=F);var f={subscribers:[],fire:e,subscribe:function(a){f.subscribers.indexOf(a)===-1&&(f.subscribers.push(a),f.fire=d(f.fire,a))},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(d,e)}};b[a]=c[a]=f;return f}function i(a){g(a).forEach(function(b){var c=a[b];if(h(c))f(b,a[b][0],a[b][1]);else if(c==="asap")var d=f(b,Ga,function(){var a=arguments.length,b=new Array(a);while(a--)b[a]=arguments[a];d.subscribers.forEach(function(a){aa(function(){a.apply(null,b)})})});else throw new E.InvalidArgument("Invalid event config")})}}function gc(a,b){p(b).from({prototype:a});return b}function hc(a){return gc(ec.prototype,function(b,c,d){this.db=a,this._tx=d,this.name=b,this.schema=c,this.hook=a._allTables[b]?a._allTables[b].hook:fc(null,{creating:[Ia,F],reading:[Ha,Ga],updating:[Ka,F],deleting:[Ja,F]})})}function ic(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function jc(a,b){a.filter=Xb(a.filter,b)}function kc(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return Xb(d(),b())}:b;a.justLimit=c&&!d}function lc(a,b){a.isMatch=Xb(a.isMatch,b)}function mc(a,b){if(a.isPrimKey)return b.primaryKey;var c=b.getIndexByKeyPath(a.index);if(!c)throw new E.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return c}function nc(a,b,c){var d=mc(a,b.schema);return b.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:d,range:a.range}})}function oc(a,b,c,d){var e=a.replayFilter?Xb(a.filter,a.replayFilter()):a.filter;if(!a.or)return pc(nc(a,d,c),Xb(a.algorithm,e),b,!a.keysOnly&&a.valueMapper);else{var f={},g=function(a,c,d){if(!e||e(c,d,function(a){return c.stop(a)},function(a){return c.fail(a)})){var g=c.primaryKey,h=""+g;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(g));l(f,h)||(f[h]=!0,b(a,c,d))}};return Promise.all([a.or._iterate(g,c),pc(nc(a,d,c),a.algorithm,g,!a.keysOnly&&a.valueMapper)])}}function pc(a,b,c,d){var e=d?function(a,b,e){return c(d(a),b,e)}:c,f=M(e);return a.then(function(a){if(a)return a.start(function(){var c=function(){return a["continue"]()};(!b||b(a,function(a){return c=a},function(b){a.stop(b),c=F},function(b){a.fail(b),c=F}))&&f(a.value,a,function(a){return c=a});c()})})}var qc=function(){function a(){}a.prototype._read=function(a,b){var c=this._ctx;return c.error?c.table._trans(null,R.bind(null,c.error)):c.table._trans("readonly",a).then(b)};a.prototype._write=function(a){var b=this._ctx;return b.error?b.table._trans(null,R.bind(null,b.error)):b.table._trans("readwrite",a,"locked")};a.prototype._addAlgorithm=function(a){var b=this._ctx;b.algorithm=Xb(b.algorithm,a)};a.prototype._iterate=function(a,b){return oc(this._ctx,a,b,this._ctx.table.core)};a.prototype.clone=function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);a&&i(c,a);b._ctx=c;return b};a.prototype.raw=function(){this._ctx.valueMapper=null;return this};a.prototype.each=function(a){var b=this._ctx;return this._read(function(c){return oc(b,a,c,b.table.core)})};a.prototype.count=function(a){var b=this;return this._read(function(a){var c=b._ctx,d=c.table.core;if(ic(c,!0))return d.count({trans:a,query:{index:mc(c,d.schema),range:c.range}}).then(function(a){return Math.min(a,c.limit)});else{var e=0;return oc(c,function(){++e;return!1},a,d).then(function(){return e})}}).then(a)};a.prototype.sortBy=function(a,b){var c=a.split(".").reverse(),d=c[0],e=c.length-1;function f(a,b){return b?f(a[c[b]],b-1):a[d]}var g=this._ctx.dir==="next"?1:-1;function h(a,b){a=f(a,e);b=f(b,e);return a<b?-g:a>b?g:0}return this.toArray(function(a){return a.sort(h)}).then(b)};a.prototype.toArray=function(a){var b=this;return this._read(function(a){var c=b._ctx;if(c.dir==="next"&&ic(c,!0)&&c.limit>0){var d=c.valueMapper,e=mc(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:e,range:c.range}}).then(function(a){a=a.result;return d?a.map(d):a})}else{var f=[];return oc(c,function(a){return f.push(a)},a,c.table.core).then(function(){return f})}},a)};a.prototype.offset=function(a){var b=this._ctx;if(a<=0)return this;b.offset+=a;ic(b)?kc(b,function(){var b=a;return function(a,c){if(b===0)return!0;if(b===1){--b;return!1}c(function(){a.advance(b),b=0});return!1}}):kc(b,function(){var b=a;return function(){return--b<0}});return this};a.prototype.limit=function(a){this._ctx.limit=Math.min(this._ctx.limit,a);kc(this._ctx,function(){var b=a;return function(a,c,d){--b<=0&&c(d);return b>=0}},!0);return this};a.prototype.until=function(a,b){jc(this._ctx,function(c,d,e){if(a(c.value)){d(e);return b}else return!0});return this};a.prototype.first=function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)};a.prototype.last=function(a){return this.reverse().first(a)};a.prototype.filter=function(a){jc(this._ctx,function(b){return a(b.value)});lc(this._ctx,a);return this};a.prototype.and=function(a){return this.filter(a)};a.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)};a.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";this._ondirectionchange&&this._ondirectionchange(this._ctx.dir);return this};a.prototype.desc=function(){return this.reverse()};a.prototype.eachKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.key,c)})};a.prototype.eachUniqueKey=function(a){this._ctx.unique="unique";return this.eachKey(a)};a.prototype.eachPrimaryKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.primaryKey,c)})};a.prototype.keys=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)};a.prototype.primaryKeys=function(a){var b=this._ctx;if(b.dir==="next"&&ic(b,!0)&&b.limit>0)return this._read(function(a){var c=mc(b,b.table.core.schema);return b.table.core.query({trans:a,values:!1,limit:b.limit,query:{index:c,range:b.range}})}).then(function(a){a=a.result;return a}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)};a.prototype.uniqueKeys=function(a){this._ctx.unique="unique";return this.keys(a)};a.prototype.firstKey=function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)};a.prototype.lastKey=function(a){return this.reverse().firstKey(a)};a.prototype.distinct=function(){var a=this._ctx;a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var b={};jc(this._ctx,function(a){a=a.primaryKey.toString();var c=l(b,a);b[a]=!0;return!c});return this};a.prototype.modify=function(a){var b=this,c=this._ctx;return this._write(function(d){var e;if(typeof a==="function")e=a;else{var f=g(a),h=f.length;e=function(b){var c=!1;for(var d=0;d<h;++d){var e=f[d],g=a[e];w(b,e)!==g&&(x(b,e,g),c=!0)}return c}}var i=c.table.core,j=i.schema.primaryKey,k=j.outbound,l=j.extractKey,m=b.db._options.modifyChunkSize||200,n=[],o=0,p=[],q=function(a,b){var c=b.failures;b=b.numFailures;o+=a-b;for(a=0,b=g(c);a<b.length;a++){var d=b[a];n.push(c[d])}};return b.clone().primaryKeys().then(function(b){var f=function(g){var h=Math.min(m,b.length-g);return i.getMany({trans:d,keys:b.slice(g,g+h),cache:"immutable"}).then(function(j){var n=[],o=[],p=k?[]:null,r=[];for(var s=0;s<h;++s){var t=j[s],u={value:z(t),primKey:b[g+s]};e.call(u,u.value,u)!==!1&&(u.value==null?r.push(b[g+s]):!k&&T(l(t),l(u.value))!==0?(r.push(b[g+s]),n.push(u.value)):(o.push(u.value),k&&p.push(b[g+s])))}var v=ic(c)&&c.limit===Infinity&&(typeof a!=="function"||a===rc)&&{index:c.index,range:c.range};return Promise.resolve(n.length>0&&i.mutate({trans:d,type:"add",values:n}).then(function(a){for(var b in a.failures)r.splice(parseInt(b),1);q(n.length,a)})).then(function(){return(o.length>0||v&&typeof a==="object")&&i.mutate({trans:d,type:"put",keys:p,values:o,criteria:v,changeSpec:typeof a!=="function"&&a}).then(function(a){return q(o.length,a)})}).then(function(){return(r.length>0||v&&a===rc)&&i.mutate({trans:d,type:"delete",keys:r,criteria:v}).then(function(a){return q(r.length,a)})}).then(function(){return b.length>g+h&&f(g+m)})})};return f(0).then(function(){if(n.length>0)throw new Aa("Error modifying one or more objects",n,o,p);return b.length})})})};a.prototype["delete"]=function(){var a=this._ctx,b=a.range;return ic(a)&&(a.isPrimKey&&!Sb||b.type===3)?this._write(function(c){var d=a.table.core.schema.primaryKey,e=b;return a.table.core.count({trans:c,query:{index:d,range:e}}).then(function(b){return a.table.core.mutate({trans:c,type:"deleteRange",range:e}).then(function(a){var c=a.failures;a.lastResult;a.results;a=a.numFailures;if(a)throw new Aa("Could not delete some values",Object.keys(c).map(function(a){return c[a]}),b-a);return b-a})})}):this.modify(rc)};return a}(),rc=function(a,b){return b.value=null};function sc(a){return gc(qc.prototype,function(b,c){this.db=a;var d=Yb,e=null;if(c)try{d=c()}catch(a){e=a}c=b._ctx;b=c.table;var f=b.hook.reading.fire;this._ctx={table:b,index:c.index,isPrimKey:!c.index||b.schema.primKey.keyPath&&c.index===b.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:e,or:c.or,valueMapper:f!==Ga?f:null}})}function tc(a,b){return a<b?-1:a===b?0:1}function uc(a,b){return a>b?-1:a===b?0:1}function U(a,b,c){a=a instanceof Bc?new a.Collection(a):a;a._ctx.error=c?new c(b):new TypeError(b);return a}function vc(a){return new a.Collection(a,function(){return Ac("")}).limit(0)}function wc(a){return a==="next"?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function xc(a){return a==="next"?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function yc(b,c,d,e,a,f){var g=Math.min(b.length,e.length),h=-1;for(var i=0;i<g;++i){var j=c[i];if(j!==e[i]){if(a(b[i],d[i])<0)return b.substr(0,i)+d[i]+d.substr(i+1);if(a(b[i],e[i])<0)return b.substr(0,i)+e[i]+d.substr(i+1);return h>=0?b.substr(0,h)+c[h]+d.substr(h+1):null}a(b[i],j)<0&&(h=i)}if(g<e.length&&f==="next")return b+d.substr(b.length);return g<b.length&&f==="prev"?b.substr(0,d.length):h<0?null:b.substr(0,h)+e[h]+d.substr(h+1)}function zc(a,b,c,d){var e,f,g,h,i,j,k,l=c.length;if(!c.every(function(a){return typeof a==="string"}))return U(a,Ob);function m(a){e=wc(a);f=xc(a);g=a==="next"?tc:uc;var b=c.map(function(a){return{lower:f(a),upper:e(a)}}).sort(function(a,b){return g(a.lower,b.lower)});h=b.map(function(a){return a.upper});i=b.map(function(a){return a.lower});j=a;k=a==="next"?"":d}m("next");a=new a.Collection(a,function(){return V(h[0],i[l-1]+d)});a._ondirectionchange=function(a){m(a)};var n=0;a._addAlgorithm(function(a,c,d){var e=a.key;if(typeof e!=="string")return!1;var m=f(e);if(b(m,i,n))return!0;else{var o=null;for(var p=n;p<l;++p){var q=yc(e,m,h[p],i[p],g,j);q===null&&o===null?n=p+1:(o===null||g(o,q)>0)&&(o=q)}o!==null?c(function(){a["continue"](o+k)}):c(d);return!1}});return a}function V(a,b,c,d){return{type:2,lower:a,upper:b,lowerOpen:c,upperOpen:d}}function Ac(a){return{type:1,lower:a,upper:a}}var Bc=function(){function a(){}Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0});a.prototype.between=function(a,b,c,d){c=c!==!1;d=d===!0;try{return this._cmp(a,b)>0||this._cmp(a,b)===0&&(c||d)&&!(c&&d)?vc(this):new this.Collection(this,function(){return V(a,b,!c,!d)})}catch(a){return U(this,S)}};a.prototype.equals=function(a){return a==null?U(this,S):new this.Collection(this,function(){return Ac(a)})};a.prototype.above=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(a,void 0,!0)})};a.prototype.aboveOrEqual=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(a,void 0,!1)})};a.prototype.below=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(void 0,a,!1,!0)})};a.prototype.belowOrEqual=function(a){return a==null?U(this,S):new this.Collection(this,function(){return V(void 0,a)})};a.prototype.startsWith=function(a){return typeof a!=="string"?U(this,Ob):this.between(a,a+Mb,!0,!0)};a.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):zc(this,function(a,b){return a.indexOf(b[0])===0},[a],Mb)};a.prototype.equalsIgnoreCase=function(a){return zc(this,function(a,b){return a===b[0]},[a],"")};a.prototype.anyOfIgnoreCase=function(){var a=A.apply(ra,arguments);return a.length===0?vc(this):zc(this,function(a,b){return b.indexOf(a)!==-1},a,"")};a.prototype.startsWithAnyOfIgnoreCase=function(){var a=A.apply(ra,arguments);return a.length===0?vc(this):zc(this,function(a,b){return b.some(function(b){return a.indexOf(b)===0})},a,Mb)};a.prototype.anyOf=function(){var a=this,b=A.apply(ra,arguments),c=this._cmp;try{b.sort(c)}catch(a){return U(this,S)}if(b.length===0)return vc(this);var d=new this.Collection(this,function(){return V(b[0],b[b.length-1])});d._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,b.sort(c)};var e=0;d._addAlgorithm(function(a,d,f){var g=a.key;while(c(g,b[e])>0){++e;if(e===b.length){d(f);return!1}}if(c(g,b[e])===0)return!0;else{d(function(){a["continue"](b[e])});return!1}});return d};a.prototype.notEqual=function(a){return this.inAnyRange([[Nb,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})};a.prototype.noneOf=function(){var a=A.apply(ra,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch(a){return U(this,S)}var b=a.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[Nb,b]]},null);b.push([a[a.length-1],this.db._maxKey]);return this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})};a.prototype.inAnyRange=function(c,d){var e=this,a=this._cmp,f=this._ascending,g=this._descending,h=this._min,i=this._max;if(c.length===0)return vc(this);if(!c.every(function(a){return a[0]!==void 0&&a[1]!==void 0&&f(a[0],a[1])<=0}))return U(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",E.InvalidArgument);var j=!d||d.includeLowers!==!1,k=d&&d.includeUppers===!0;function b(b,c){var d=0,e=b.length;for(;d<e;++d){var f=b[d];if(a(c[0],f[1])<0&&a(c[1],f[0])>0){f[0]=h(f[0],c[0]);f[1]=i(f[1],c[1]);break}}d===e&&b.push(c);return b}var l=f;function m(a,b){return l(a[0],b[0])}var n;try{n=c.reduce(b,[]),n.sort(m)}catch(a){return U(this,S)}var o=0,p=k?function(a){return f(a,n[o][1])>0}:function(a){return f(a,n[o][1])>=0},q=j?function(a){return g(a,n[o][0])>0}:function(a){return g(a,n[o][0])>=0};function r(a){return!p(a)&&!q(a)}var s=p;d=new this.Collection(this,function(){return V(n[0][0],n[n.length-1][1],!j,!k)});d._ondirectionchange=function(a){a==="next"?(s=p,l=f):(s=q,l=g),n.sort(m)};d._addAlgorithm(function(a,b,c){var d=a.key;while(s(d)){++o;if(o===n.length){b(c);return!1}}if(r(d))return!0;else if(e._cmp(d,n[o][1])===0||e._cmp(d,n[o][0])===0)return!1;else{b(function(){l===f?a["continue"](n[o][0]):a["continue"](n[o][1])});return!1}});return d};a.prototype.startsWithAnyOf=function(){var a=A.apply(ra,arguments);if(!a.every(function(a){return typeof a==="string"}))return U(this,"startsWithAnyOf() only works with strings");return a.length===0?vc(this):this.inAnyRange(a.map(function(a){return[a,a+Mb]}))};return a}();function Cc(a){return gc(Bc.prototype,function(b,c,d){this.db=a;this._ctx={table:b,index:c===":id"?null:c,or:d};this._cmp=this._ascending=T;this._descending=function(a,b){return T(b,a)};this._max=function(a,b){return T(a,b)>0?a:b};this._min=function(a,b){return T(a,b)<0?a:b};this._IDBKeyRange=a._deps.IDBKeyRange;if(!this._IDBKeyRange)throw new E.MissingAPI()})}function W(a){return M(function(b){Dc(b);a(b.target.error);return!1})}function Dc(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var Ec="storagemutated",X="x-storagemutated-1",Y=fc(null,Ec),Fc=function(){function a(){}a.prototype._lock=function(){v(!J.global);++this._reculock;this._reculock===1&&!J.global&&(J.lockOwnerFor=this);return this};a.prototype._unlock=function(){v(!J.global);if(--this._reculock===0){J.global||(J.lockOwnerFor=null);while(this._blockedFuncs.length>0&&!this._locked()){var a=this._blockedFuncs.shift();try{Hb(a[1],a[0])}catch(a){}}}return this};a.prototype._locked=function(){return this._reculock&&J.lockOwnerFor!==this};a.prototype.create=function(a){var b=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;v(!this.idbtrans);if(!a&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new E.DatabaseClosed(d);case"MissingAPIError":throw new E.MissingAPI(d.message,d);default:throw new E.OpenFailed(d)}if(!this.active)throw new E.TransactionInactive();v(this._completion._state===null);a=this.idbtrans=a||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):c.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));a.onerror=M(function(c){Dc(c),b._reject(a.error)});a.onabort=M(function(c){Dc(c),b.active&&b._reject(new E.Abort(a.error)),b.active=!1,b.on("abort").fire(c)});a.oncomplete=M(function(){b.active=!1,b._resolve(),"mutatedParts"in a&&Y.storagemutated.fire(a.mutatedParts)});return this};a.prototype._promise=function(a,b,c){var d=this;if(a==="readwrite"&&this.mode!=="readwrite")return R(new E.ReadOnly("Transaction is readonly"));if(!this.active)return R(new E.TransactionInactive());if(this._locked())return new L(function(e,f){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,f)},J])});else if(c)return O(function(){var a=new L(function(a,c){d._lock();var e=b(a,c,d);e&&e.then&&e.then(a,c)});a["finally"](function(){return d._unlock()});a._lib=!0;return a});else{var e=new L(function(a,c){var e=b(a,c,d);e&&e.then&&e.then(a,c)});e._lib=!0;return e}};a.prototype._root=function(){return this.parent?this.parent._root():this};a.prototype.waitFor=function(a){var b=this._root(),c=L.resolve(a);if(b._waitingFor)b._waitingFor=b._waitingFor.then(function(){return c});else{b._waitingFor=c;b._waitingQueue=[];var d=b.idbtrans.objectStore(b.storeNames[0]);(function a(){++b._spinCount;while(b._waitingQueue.length)b._waitingQueue.shift()();b._waitingFor&&(d.get(-Infinity).onsuccess=a)})()}var e=b._waitingFor;return new L(function(a,d){c.then(function(c){return b._waitingQueue.push(M(a.bind(null,c)))},function(a){return b._waitingQueue.push(M(d.bind(null,a)))})["finally"](function(){b._waitingFor===e&&(b._waitingFor=null)})})};a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new E.Abort()))};a.prototype.table=function(a){var b=this._memoizedTables||(this._memoizedTables={});if(l(b,a))return b[a];var c=this.schema[a];if(!c)throw new E.NotFound("Table "+a+" not part of transaction");c=new this.db.Table(a,c,this);c.core=this.db.core.table(a);b[a]=c;return c};return a}();function Gc(a){return gc(Fc.prototype,function(b,c,d,e,f){var g=this;this.db=a;this.mode=b;this.storeNames=c;this.schema=d;this.chromeTransactionDurability=e;this.idbtrans=null;this.on=fc(this,"complete","error","abort");this.parent=f||null;this.active=!0;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new L(function(a,b){g._resolve=a,g._reject=b});this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(a){var b=g.active;g.active=!1;g.on.error.fire(a);g.parent?g.parent._reject(a):b&&g.idbtrans&&g.idbtrans.abort();return R(a)})})}function Hc(a,b,c,d,e,f,g){return{name:a,keyPath:b,unique:c,multi:d,auto:e,compound:f,src:(c&&!g?"&":"")+(d?"*":"")+(e?"++":"")+Ic(b)}}function Ic(a){return typeof a==="string"?a:a?"["+[].join.call(a,"+")+"]":""}function Jc(a,b,c){return{name:a,primKey:b,indexes:c,mappedClass:null,idxByName:ba(c,function(a){return[a.name,a]})}}function Kc(a){return a.length===1?a[0]:a}var Lc=function(a){try{a.only([[]]);Lc=function(){return[[]]};return[[]]}catch(a){Lc=function(){return Mb};return Mb}};function Mc(a){if(a==null)return function(){return void 0};else if(typeof a==="string")return Nc(a);else return function(b){return w(b,a)}}function Nc(a){var b=a.split(".");if(b.length===1)return function(b){return b[a]};else return function(b){return w(b,a)}}function Oc(a){return[].slice.call(a)}var Pc=0;function Qc(a){return a==null?":id":typeof a==="string"?a:"[".concat(a.join("+"),"]")}function Rc(a,b,c){function d(a,b){var c=Oc(a.objectStoreNames);return{schema:{name:a.name,tables:c.map(function(a){return b.objectStore(a)}).map(function(a){var b=a.keyPath,c=a.autoIncrement,d=h(b),e=b==null,f={};e={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:e,compound:d,keyPath:b,autoIncrement:c,unique:!0,extractKey:Mc(b)},indexes:Oc(a.indexNames).map(function(b){return a.index(b)}).map(function(b){var c=b.name,d=b.unique,e=b.multiEntry;b=b.keyPath;var a=h(b);c={name:c,compound:a,keyPath:b,unique:d,multiEntry:e,extractKey:Mc(b)};f[Qc(b)]=c;return c}),getIndexByKeyPath:function(a){return f[Qc(a)]}};f[":id"]=e.primaryKey;b!=null&&(f[Qc(b)]=e.primaryKey);return e})},hasGetAll:c.length>0&&"getAll"in b.objectStore(c[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function e(a){if(a.type===3)return null;if(a.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var c=a.lower,d=a.upper,e=a.lowerOpen;a=a.upperOpen;c=c===void 0?d===void 0?null:b.upperBound(d,!!a):d===void 0?b.lowerBound(c,!!e):b.bound(c,d,!!e,!!a);return c}function f(b){var c=b.name;function d(d){var f=d.trans,b=d.type,a=d.keys,g=d.values,h=d.range;return new Promise(function(d,i){d=M(d);i=f.objectStore(c);var j=i.keyPath==null,k=b==="put"||b==="add";if(!k&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var l=(a||g||{length:1}).length;if(a&&g&&a.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(l===0)return d({numFailures:0,failures:{},results:[],lastResult:void 0});var m,n=[],o=[],p=0,q=function(a){++p,Dc(a)};if(b==="deleteRange"){if(h.type===4)return d({numFailures:p,failures:o,results:[],lastResult:void 0});h.type===3?n.push(m=i.clear()):n.push(m=i["delete"](e(h)))}else{j=k?j?[g,a]:[g,null]:[a,null];var r=j[0];j=j[1];if(k)for(k=0;k<l;++k)n.push(m=j&&j[k]!==void 0?i[b](r[k],j[k]):i[b](r[k])),m.onerror=q;else for(k=0;k<l;++k)n.push(m=i[b](r[k])),m.onerror=q}var s=function(c){c=c.target.result;n.forEach(function(a,b){return a.error!=null&&(o[b]=a.error)});d({numFailures:p,failures:o,results:b==="delete"?a:n.map(function(a){return a.result}),lastResult:c})};m.onerror=function(a){q(a),s(a)};m.onsuccess=s})}function a(b){var d=b.trans,f=b.values,a=b.query,g=b.reverse,h=b.unique;return new Promise(function(b,i){b=M(b);var j=a.index,k=a.range,l=d.objectStore(c);l=j.isPrimaryKey?l:l.index(j.name);j=g?h?"prevunique":"prev":h?"nextunique":"next";var m=f||!("openKeyCursor"in l)?l.openCursor(e(k),j):l.openKeyCursor(e(k),j);m.onerror=W(i);m.onsuccess=M(function(a){var c=m.result;if(!c){b(null);return}c.___id=++Pc;c.done=!1;var e=c["continue"].bind(c),f=c.continuePrimaryKey;f&&(f=f.bind(c));var g=c.advance.bind(c);a=function(){throw new Error("Cursor not started")};var h=function(){throw new Error("Cursor not stopped")};c.trans=d;c.stop=c["continue"]=c.continuePrimaryKey=c.advance=a;c.fail=M(i);c.next=function(){var a=this,b=1;return this.start(function(){return b--?a["continue"]():a.stop()}).then(function(){return a})};c.start=function(a){var b=new Promise(function(a,b){a=M(a),m.onerror=W(b),c.fail=b,c.stop=function(b){c.stop=c["continue"]=c.continuePrimaryKey=c.advance=h,a(b)}}),d=function(){if(m.result)try{a()}catch(a){c.fail(a)}else c.done=!0,c.start=function(){throw new Error("Cursor behind last entry")},c.stop()};m.onsuccess=M(function(a){m.onsuccess=d,d()});c["continue"]=e;c.continuePrimaryKey=f;c.advance=g;d();return b};b(c)},i)})}function f(a){return function(b){return new Promise(function(f,g){f=M(f);var h=b.trans,i=b.values,j=b.limit,d=b.query,k=j===Infinity?void 0:j,l=d.index;d=d.range;h=h.objectStore(c);h=l.isPrimaryKey?h:h.index(l.name);l=e(d);if(j===0)return f({result:[]});if(a){d=i?h.getAll(l,k):h.getAllKeys(l,k);d.onsuccess=function(a){return f({result:a.target.result})};d.onerror=W(g)}else{var m=0,n=i||!("openKeyCursor"in h)?h.openCursor(l):h.openKeyCursor(l),o=[];n.onsuccess=function(a){a=n.result;if(!a)return f({result:o});o.push(i?a.value:a.primaryKey);if(++m===j)return f({result:o});a["continue"]()};n.onerror=W(g)}})}}return{name:c,schema:b,mutate:d,getMany:function(b){var d=b.trans,a=b.keys;return new Promise(function(b,e){b=M(b);var f=d.objectStore(c),g=a.length,h=new Array(g),i=0,j=0,k=function(a){a=a.target;(h[a._pos]=a.result)!=null;++j===i&&b(h)};e=W(e);for(var l=0;l<g;++l){var m=a[l];m!=null&&(m=f.get(a[l]),m._pos=l,m.onsuccess=k,m.onerror=e,++i)}i===0&&b(h)})},get:function(a){var b=a.trans,d=a.key;return new Promise(function(a,e){a=M(a);var f=b.objectStore(c);f=f.get(d);f.onsuccess=function(b){return a(b.target.result)};f.onerror=W(e)})},query:f(g),openCursor:a,count:function(b){var a=b.query,d=b.trans,f=a.index,g=a.range;return new Promise(function(a,b){var h=d.objectStore(c);h=f.isPrimaryKey?h:h.index(f.name);var i=e(g);i=i?h.count(i):h.count();i.onsuccess=M(function(b){return a(b.target.result)});i.onerror=W(b)})}}}d=d(a,c);c=d.schema;var g=d.hasGetAll;d=c.tables.map(function(a){return f(a)});var i={};d.forEach(function(a){return i[a.name]=a});return{stack:"dbcore",transaction:a.transaction.bind(a),table:function(a){var b=i[a];if(!b)throw new Error("Table '".concat(a,"' not found"));return i[a]},MIN_KEY:-Infinity,MAX_KEY:Lc(b),schema:c}}function Sc(a,b){return b.reduce(function(a,b){b=b.create;return d(d({},a),b(a))},a)}function Tc(a,b,c,d){var e=c.IDBKeyRange;c.indexedDB;c=Sc(Rc(b,e,d),a.dbcore);return{dbcore:c}}function Uc(a,b){var c=a._novip;a=b.db;a=Tc(c._middlewares,a,c._deps,b);c.core=a.dbcore;c.tables.forEach(function(a){var b=a.name;c.core.schema.tables.some(function(a){return a.name===b})&&(a.core=c.core.table(b),c[b]instanceof c.Table&&(c[b].core=a.core))})}function Vc(a,b,c,d){var e=a._novip;c.forEach(function(a){var c=d[a];b.forEach(function(b){var d=r(b,a);(!d||"value"in d&&d.value===void 0)&&(b===e.Transaction.prototype||b instanceof e.Transaction?o(b,a,{get:function(){return this.table(a)},set:function(b){n(this,a,{value:b,writable:!0,configurable:!0,enumerable:!0})}}):b[a]=new e.Table(a,c))})})}function Wc(a,b){var c=a._novip;b.forEach(function(a){for(var b in a)a[b]instanceof c.Table&&delete a[b]})}function Xc(a,b){return a._cfg.version-b._cfg.version}function Yc(a,b,c,d){var e=a._dbSchema,f=a._createTransaction("readwrite",a._storeNames,e);f.create(c);f._completion["catch"](d);var h=f._reject.bind(f),i=J.transless||J;O(function(){J.trans=f,J.transless=i,b===0?(g(e).forEach(function(a){ad(c,a,e[a].primKey,e[a].indexes)}),Uc(a,c),L.follow(function(){return a.on.populate.fire(f)})["catch"](h)):Zc(a,b,f,c)["catch"](h)})}function Zc(a,b,c,d){var e=a._novip,f=[];a=e._versions;var h=e._dbSchema=ed(e,e.idbdb,d),i=!1;a=a.filter(function(a){return a._cfg.version>=b});a.forEach(function(a){f.push(function(){var f=h,j=a._cfg.dbschema;hd(e,f,d);hd(e,j,d);h=e._dbSchema=j;var k=$c(f,j);k.add.forEach(function(a){ad(d,a[0],a[1].primKey,a[1].indexes)});k.change.forEach(function(a){if(a.recreate)throw new E.Upgrade("Not yet support for changing primary key");else{var b=d.objectStore(a.name);a.add.forEach(function(a){return dd(b,a)});a.change.forEach(function(a){b.deleteIndex(a.name),dd(b,a)});a.del.forEach(function(a){return b.deleteIndex(a)})}});var l=a._cfg.contentUpgrade;if(l&&a._cfg.version>b){Uc(e,d);c._memoizedTables={};i=!0;var m=ea(j);k.del.forEach(function(a){m[a]=f[a]});Wc(e,[e.Transaction.prototype]);Vc(e,[e.Transaction.prototype],g(m),m);c.schema=m;var n=sa(l);n&&Cb();var o;j=L.follow(function(){o=l(c);if(o&&n){var a=P.bind(null,null);o.then(a,a)}});return o&&typeof o.then==="function"?L.resolve(o):j.then(function(){return o})}}),f.push(function(b){if(!i||!Rb){var d=a._cfg.dbschema;cd(d,b)}Wc(e,[e.Transaction.prototype]);Vc(e,[e.Transaction.prototype],e._storeNames,e._dbSchema);c.schema=e._dbSchema})});function j(){return f.length?L.resolve(f.shift()(c.idbtrans)).then(j):L.resolve()}return j().then(function(){bd(h,d)})}function $c(a,b){var c={del:[],add:[],change:[]},d;for(d in a)b[d]||c.del.push(d);for(d in b){var e=a[d],f=b[d];if(!e)c.add.push([d,f]);else{var g={name:d,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(e.primKey.keyPath||"")!==""+(f.primKey.keyPath||"")||e.primKey.auto!==f.primKey.auto&&!Qb)g.recreate=!0,c.change.push(g);else{e=e.idxByName;f=f.idxByName;var h;for(h in e)f[h]||g.del.push(h);for(h in f){var i=e[h],j=f[h];!i?g.add.push(j):i.src!==j.src&&g.change.push(j)}(g.del.length>0||g.add.length>0||g.change.length>0)&&c.change.push(g)}}}return c}function ad(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(a){return dd(e,a)});return e}function bd(a,b){g(a).forEach(function(c){b.db.objectStoreNames.contains(c)||ad(b,c,a[c].primKey,a[c].indexes)})}function cd(a,b){[].slice.call(b.db.objectStoreNames).forEach(function(c){return a[c]==null&&b.db.deleteObjectStore(c)})}function dd(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function ed(a,b,c){var d={};a=t(b.objectStoreNames,0);a.forEach(function(a){var b=c.objectStore(a),e=b.keyPath,f=Hc(Ic(e),e||"",!1,!1,!!b.autoIncrement,e&&typeof e!=="string",!0),g=[];for(var h=0;h<b.indexNames.length;++h){var i=b.index(b.indexNames[h]);e=i.keyPath;i=Hc(i.name,e,!!i.unique,!!i.multiEntry,!1,e&&typeof e!=="string",!1);g.push(i)}d[a]=Jc(a,f,g)});return d}function fd(a,b,c){a=a._novip;a.verno=b.version/10;c=a._dbSchema=ed(a,b,c);a._storeNames=t(b.objectStoreNames,0);Vc(a,[a._allTables],g(c),c)}function gd(a,b){b=ed(a,a.idbdb,b);b=$c(b,a._dbSchema);return!(b.add.length||b.change.some(function(a){return a.add.length||a.change.length}))}function hd(a,b,c){a=a._novip;var d=c.db.objectStoreNames;for(var e=0;e<d.length;++e){var g=d[e],h=c.objectStore(g);a._hasGetAll="getAll"in h;for(var i=0;i<h.indexNames.length;++i){var j=h.indexNames[i],k=h.index(j).keyPath;k=typeof k==="string"?k:"["+t(k).join("+")+"]";if(b[g]){var l=b[g].idxByName[k];l&&(l.name=j,delete b[g].idxByName[k],b[g].idxByName[j]=l)}}}typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function id(a){return a.split(",").map(function(a,b){a=a.trim();var c=a.replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return Hc(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),h(d),b===0)})}var jd=function(){function a(){}a.prototype._parseStoresSpec=function(a,b){g(a).forEach(function(c){if(a[c]!==null){var d=id(a[c]),e=d.shift();if(e.multi)throw new E.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new E.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new E.Schema("Index must have a name and cannot be an empty string")});b[c]=Jc(c,e,d)}})};a.prototype.stores=function(a){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,a):a;a=b._versions;var c={},d={};a.forEach(function(a){i(c,a._cfg.storesSource),d=a._cfg.dbschema={},a._parseStoresSpec(c,d)});b._dbSchema=d;Wc(b,[b._allTables,b,b.Transaction.prototype]);Vc(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],g(d),d);b._storeNames=g(d);return this};a.prototype.upgrade=function(a){this._cfg.contentUpgrade=Ma(this._cfg.contentUpgrade||F,a);return this};return a}();function kd(a){return gc(jd.prototype,function(b){this.db=a,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ld(a,b){var c=a._dbNamesDB;c||(c=a._dbNamesDB=new je(Ub,{addons:[],indexedDB:a,IDBKeyRange:b}),c.version(1).stores({dbnames:"name"}));return c.table("dbnames")}function md(a){return a&&typeof a.databases==="function"}function nd(a){var b=a.indexedDB;a=a.IDBKeyRange;return md(b)?Promise.resolve(b.databases()).then(function(a){return a.map(function(a){return a.name}).filter(function(a){return a!==Ub})}):ld(b,a).toCollection().primaryKeys()}function od(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!md(c)&&b!==Ub&&ld(c,a).put({name:b})["catch"](F)}function pd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!md(c)&&b!==Ub&&ld(c,a)["delete"](b)["catch"](F)}function qd(a){return O(function(){J.letThrough=!0;return a()})}function rd(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var b;return new Promise(function(a){var c=function(){return indexedDB.databases()["finally"](a)};b=setInterval(c,100);c()})["finally"](function(){return clearInterval(b)})}function sd(a){var b=a._state,c=a._deps.indexedDB;if(b.isBeingOpened||a.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?R(b.dbOpenError):a});B&&(b.openCanceller._stackHolder=C());b.isBeingOpened=!0;b.dbOpenError=null;b.openComplete=!1;var d=b.openCanceller;function e(){if(b.openCanceller!==d)throw new E.DatabaseClosed("db.open() was cancelled")}var f=b.dbReadyResolve,g=null,h=!1;return L.race([d,(typeof navigator==="undefined"?L.resolve():rd()).then(function(){return new L(function(d,f){e();if(!c)throw new E.MissingAPI();var i=a.name,j=b.autoSchema?c.open(i):c.open(i,Math.round(a.verno*10));if(!j)throw new E.MissingAPI();j.onerror=W(f);j.onblocked=M(a._fireOnBlocked);j.onupgradeneeded=M(function(d){g=j.transaction;if(b.autoSchema&&!a._options.allowEmptyDB){j.onerror=Dc;g.abort();j.result.close();var e=c.deleteDatabase(i);e.onsuccess=e.onerror=M(function(){f(new E.NoSuchDatabase("Database ".concat(i," doesnt exist")))})}else{g.onerror=W(f);e=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;h=e<1;a._novip.idbdb=j.result;Yc(a,e/10,g,f)}},f);j.onsuccess=M(function(){g=null;var c=a._novip.idbdb=j.result,e=t(c.objectStoreNames);if(e.length>0)try{e=c.transaction(Kc(e),"readonly");b.autoSchema?fd(a,c,e):(hd(a,a._dbSchema,e),!gd(a,e));Uc(a,e)}catch(a){}Pb.push(a);c.onversionchange=M(function(c){b.vcFired=!0,a.on("versionchange").fire(c)});c.onclose=M(function(b){a.on("close").fire(b)});h&&od(a._deps,i);d()},f)})})]).then(function(){e();b.onReadyBeingFired=[];return L.resolve(qd(function(){return a.on.ready.fire(a.vip)})).then(function c(){if(b.onReadyBeingFired.length>0){var d=b.onReadyBeingFired.reduce(Ma,F);b.onReadyBeingFired=[];return L.resolve(qd(function(){return d(a.vip)})).then(c)}})})["finally"](function(){b.onReadyBeingFired=null,b.isBeingOpened=!1}).then(function(){return a})["catch"](function(c){b.dbOpenError=c;try{g&&g.abort()}catch(a){}d===b.openCanceller&&a._close();return R(c)})["finally"](function(){b.openComplete=!0,f()})}function td(a){var b=function(b){return a.next(b)},c=function(b){return a["throw"](b)},d=f(b),e=f(c);function f(a){return function(b){b=a(b);var c=b.value;return b.done?c:!c||typeof c.then!=="function"?h(c)?Promise.all(c).then(d,e):d(c):c.then(d,e)}}return f(b)()}function ud(a,b,c){var d=arguments.length;if(d<2)throw new E.InvalidArgument("Too few arguments");var e=new Array(d-1);while(--d)e[d-1]=arguments[d];c=e.pop();var f=ga(e);return[a,f,c]}function vd(a,b,c,d,e){return L.resolve().then(function(){var f=J.transless||J,g=a._createTransaction(b,c,a._dbSchema,d);g.explicit=!0;f={trans:g,transless:f};if(d)g.idbtrans=d.idbtrans;else try{g.create(),a._state.PR1398_maxLoop=3}catch(d){if(d.name===Ca.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a._close();return a.open().then(function(){return vd(a,b,c,null,e)})}return R(d)}var h=sa(e);h&&Cb();var i;f=L.follow(function(){i=e.call(g,g);if(i)if(h){var a=P.bind(null,null);i.then(a,a)}else typeof i.next==="function"&&typeof i["throw"]==="function"&&(i=td(i))},f);return(i&&typeof i.then==="function"?L.resolve(i).then(function(a){return g.active?a:R(new E.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return i})).then(function(a){d&&g._resolve();return g._completion.then(function(){return a})})["catch"](function(a){g._reject(a);return R(a)})})}function wd(a,b,c){a=h(a)?a.slice():[a];for(var d=0;d<c;++d)a.push(b);return a}function xd(a){return d(d({},a),{table:function(b){var c=a.table(b);b=c.schema;var e={},f=[];function g(a,b,c){var h=Qc(a),i=e[h]=e[h]||[],j=a==null?0:typeof a==="string"?1:a.length,k=b>0;h=d(d({},c),{name:k?"".concat(h,"(virtual-from:").concat(c.name,")"):c.name,lowLevelIndex:c,isVirtual:k,keyTail:b,keyLength:j,extractKey:Mc(a),unique:!k&&c.unique});i.push(h);h.isPrimaryKey||f.push(h);if(j>1){k=j===2?a[0]:a.slice(0,j-1);g(k,b+1,c)}i.sort(function(a,b){return a.keyTail-b.keyTail});return h}var h=g(b.primaryKey.keyPath,0,b.primaryKey);e[":id"]=[h];for(var i=0,j=b.indexes;i<j.length;i++){var k=j[i];g(k.keyPath,0,k)}function l(a){a=e[Qc(a)];return a&&a[0]}function m(b,c){return{type:b.type===1?2:b.type,lower:wd(b.lower,b.lowerOpen?a.MAX_KEY:a.MIN_KEY,c),lowerOpen:!0,upper:wd(b.upper,b.upperOpen?a.MIN_KEY:a.MAX_KEY,c),upperOpen:!0}}function n(b){var a=b.query.index;return a.isVirtual?d(d({},b),{query:{index:a.lowLevelIndex,range:m(b.query.range,a.keyTail)}}):b}k=d(d({},c),{schema:d(d({},b),{primaryKey:h,indexes:f,getIndexByKeyPath:l}),count:function(a){return c.count(n(a))},query:function(a){return c.query(n(a))},openCursor:function(d){var b=d.query.index,e=b.keyTail,f=b.isVirtual,g=b.keyLength;if(!f)return c.openCursor(d);function h(b){function c(c){c!=null?b["continue"](wd(c,d.reverse?a.MAX_KEY:a.MIN_KEY,e)):d.unique?b["continue"](b.key.slice(0,g).concat(d.reverse?a.MIN_KEY:a.MAX_KEY,e)):b["continue"]()}c=Object.create(b,{"continue":{value:c},continuePrimaryKey:{value:function(d,c){b.continuePrimaryKey(wd(d,a.MAX_KEY,e),c)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var a=b.key;return g===1?a[0]:a.slice(0,g)}},value:{get:function(){return b.value}}});return c}return c.openCursor(n(d)).then(function(a){return a&&h(a)})}});return k}})}var yd={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:xd};function zd(a,b,c,d){c=c||{};d=d||"";g(a).forEach(function(e){if(!l(b,e))c[d+e]=void 0;else{var f=a[e],g=b[e];if(typeof f==="object"&&typeof g==="object"&&f&&g){var h=na(f),i=na(g);h!==i?c[d+e]=b[e]:h==="Object"?zd(f,g,c,d+e+"."):f!==g&&(c[d+e]=b[e])}else f!==g&&(c[d+e]=b[e])}});g(b).forEach(function(e){l(a,e)||(c[d+e]=b[e])});return c}function Ad(a,b){return b.type==="delete"?b.keys:b.keys||b.values.map(a.extractKey)}var Bd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return d(d({},a),{table:function(b){var c=a.table(b),f=c.schema.primaryKey,g=d(d({},c),{mutate:function(a){var g=J.trans,h=g.table(b).hook,i=h.deleting,j=h.creating,k=h.updating;switch(a.type){case"add":if(j.fire===F)break;return g._promise("readwrite",function(){return m(a)},!0);case"put":if(j.fire===F&&k.fire===F)break;return g._promise("readwrite",function(){return m(a)},!0);case"delete":if(i.fire===F)break;return g._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(i.fire===F)break;return g._promise("readwrite",function(){return n(a)},!0)}return c.mutate(a);function m(b){var g=J.trans,a=b.keys||Ad(f,b);if(!a)throw new Error("Keys missing");b=b.type==="add"||b.type==="put"?d(d({},b),{keys:a}):d({},b);b.type!=="delete"&&(b.values=e([],b.values,!0));b.keys&&(b.keys=e([],b.keys,!0));return Cd(c,b,a).then(function(d){var e=a.map(function(a,c){var e=d[c],h={onerror:null,onsuccess:null};if(b.type==="delete")i.fire.call(h,a,e,g);else if(b.type==="add"||e===void 0){var m=j.fire.call(h,a,b.values[c],g);a==null&&m!=null&&(a=m,b.keys[c]=a,f.outbound||x(b.values[c],f.keyPath,a))}else{m=zd(e,b.values[c]);var n=k.fire.call(h,m,a,e,g);if(n){var o=b.values[c];Object.keys(n).forEach(function(a){l(o,a)?o[a]=n[a]:x(o,a,n[a])})}}return h});return c.mutate(b).then(function(c){var f=c.failures,g=c.results,h=c.numFailures;c=c.lastResult;for(var i=0;i<a.length;++i){var j=g?g[i]:a[i],k=e[i];j==null?k.onerror&&k.onerror(f[i]):k.onsuccess&&k.onsuccess(b.type==="put"&&d[i]?b.values[i]:j)}return{failures:f,results:g,numFailures:h,lastResult:c}})["catch"](function(a){e.forEach(function(b){return b.onerror&&b.onerror(a)});return Promise.reject(a)})})}function n(a){return o(a.trans,a.range,1e4)}function o(a,b,e){return c.query({trans:a,values:!1,query:{index:f,range:b},limit:e}).then(function(c){var f=c.result;return m({type:"delete",keys:f,trans:a}).then(function(c){if(c.numFailures>0)return Promise.reject(c.failures[0]);if(f.length<e)return{failures:[],numFailures:0,lastResult:void 0};else return o(a,d(d({},b),{lower:f[f.length-1],lowerOpen:!0}),e)})})}}});return g}})}};function Cd(a,b,c){return b.type==="add"?Promise.resolve([]):a.getMany({trans:b.trans,keys:c,cache:"immutable"})}function Dd(a,b,c){try{if(!b)return null;if(b.keys.length<a.length)return null;var d=[];for(var e=0,f=0;e<b.keys.length&&f<a.length;++e){if(T(b.keys[e],a[f])!==0)continue;d.push(c?z(b.values[e]):b.values[e]);++f}return d.length===a.length?d:null}catch(a){return null}}var Ed={stack:"dbcore",level:-1,create:function(a){return{table:function(b){var c=a.table(b);return d(d({},c),{getMany:function(a){if(!a.cache)return c.getMany(a);var b=Dd(a.keys,a.trans._cache,a.cache==="clone");return b?L.resolve(b):c.getMany(a).then(function(b){a.trans._cache={keys:a.keys,values:a.cache==="clone"?z(b):b};return b})},mutate:function(a){a.type!=="add"&&(a.trans._cache=null);return c.mutate(a)}})}}}};function Fd(a){return!("from"in a)}var Z=function(a,b){if(this)i(this,arguments.length?{d:1,from:a,to:arguments.length>1?b:a}:{d:0});else{var c=new Z();a&&"d"in a&&i(c,a);return c}};m(Z.prototype,(xd={add:function(a){Hd(this,a);return this},addKey:function(a){Gd(this,a,a);return this},addKeys:function(a){var b=this;a.forEach(function(a){return Gd(b,a,a)});return this}},xd[oa]=function(){return Jd(this)},xd));function Gd(a,b,c){var d=T(b,c);if(isNaN(d))return;if(d>0)throw RangeError();if(Fd(a))return i(a,{from:b,to:c,d:1});d=a.l;var e=a.r;if(T(c,a.from)<0){d?Gd(d,b,c):a.l={from:b,to:c,d:1,l:null,r:null};return Kd(a)}if(T(b,a.to)>0){e?Gd(e,b,c):a.r={from:b,to:c,d:1,l:null,r:null};return Kd(a)}T(b,a.from)<0&&(a.from=b,a.l=null,a.d=e?e.d+1:1);T(c,a.to)>0&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1);b=!a.r;d&&!a.l&&Hd(a,d);e&&b&&Hd(a,e)}function Hd(a,b){function c(a,b){var d=b.from,e=b.to,f=b.l;b=b.r;Gd(a,d,e);f&&c(a,f);b&&c(a,b)}Fd(b)||c(a,b)}function Id(a,b){b=Jd(b);var c=b.next();if(c.done)return!1;var d=c.value;a=Jd(a);var e=a.next(d.from),f=e.value;while(!c.done&&!e.done){if(T(f.from,d.to)<=0&&T(f.to,d.from)>=0)return!0;T(d.from,f.from)<0?d=(c=b.next(f.from)).value:f=(e=a.next(d.from)).value}return!1}function Jd(a){var b=Fd(a)?null:{s:0,n:a};return{next:function(a){var c=arguments.length>0;while(b)switch(b.s){case 0:b.s=1;if(c)while(b.n.l&&T(a,b.n.from)<0)b={up:b,n:b.n.l,s:1};else while(b.n.l)b={up:b,n:b.n.l,s:1};case 1:b.s=2;if(!c||T(a,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3;b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Kd(a){var b;b=(((b=a.r)===null||b===void 0?void 0:b.d)||0)-(((b=a.l)===null||b===void 0?void 0:b.d)||0);b=b>1?"r":b<-1?"l":"";if(b){var c=b==="r"?"l":"r",e=d({},a),f=a[b];a.from=f.from;a.to=f.to;a[b]=f[b];e[b]=f[c];a[c]=e;e.d=Ld(e)}a.d=Ld(a)}function Ld(a){var b=a.r;a=a.l;return(b?a?Math.max(b.d,a.d):b.d:a?a.d:0)+1}function Md(a,b){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Nd(a,b){switch(a){case"query":return b.values&&!b.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}function Od(a,b){g(b).forEach(function(c){a[c]?Hd(a[c],b[c]):a[c]=ia(b[c])});return a}var Pd={stack:"dbcore",level:0,name:"Observability",create:function(a){var b=a.schema.name,c=new Z(a.MIN_KEY,a.MAX_KEY);return d(d({},a),{transaction:function(b,c,d){if(!J.subscr)return a.transaction(b,c,d);if(c!=="readonly")throw new E.ReadOnly("write transaction not allowed within liveQueries");return a.transaction(b,c,d)},table:function(e){var f=a.table(e),i=f.schema,j=i.primaryKey,k=j.extractKey,l=j.outbound,m=d(d({},f),{mutate:function(g){var k=g.trans,l=g.mutatedParts||(g.mutatedParts={}),m=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return l[a]||(l[a]=new Z())},n=m(""),o=m(":dels"),d=g.type,p=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Ad(j,g).filter(function(a){return a}),g.values]:[],a=p[0];p=p[1];var q=g.trans._cache;if(h(a)){n.addKeys(a);q=d==="delete"||a.length===p.length?Dd(a,q):null;!q&&d!=="add"&&o.addKeys(a);(q||p)&&Qd(m,i,q,p)}else if(a){d={from:a.lower,to:a.upper};o.add(d);n.add(d)}else n.add(c),o.add(c),i.indexes.forEach(function(a){return m(a.name).add(c)});return f.mutate(g).then(function(b){a&&(g.type==="add"||g.type==="put")&&n.addKeys(b.results);k.mutatedParts=Od(k.mutatedParts||{},l);return b})}}),n=function(b){b=b.query;var c=b.index;b=b.range;return[c,new Z((c=b.lower)!==null&&c!==void 0?c:a.MIN_KEY,(c=b.upper)!==null&&c!==void 0?c:a.MAX_KEY)]},o={get:function(a){return[j,new Z(a.key)]},getMany:function(a){return[j,new Z().addKeys(a.keys)]},count:n,query:n,openCursor:n};g(o).forEach(function(a){m[a]=function(g){var h=J.subscr,i=!!h,j=Md(J,f)&&Nd(a,g),m=j?g.obsSet={}:h;if(i){var n=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return m[a]||(m[a]=new Z())},p=n(""),q=n(":dels"),r=o[a](g),s=r[0],t=r[1];n(s.name||"").add(t);if(!s.isPrimaryKey)if(a==="count")q.add(c);else{var u=a==="query"&&l&&g.values&&f.query(d(d({},g),{values:!1}));return f[a].apply(this,arguments).then(function(b){if(a==="query"){if(l&&g.values)return u.then(function(a){a=a.result;p.addKeys(a);return b});var c=g.values?b.result.map(k):b.result;g.values?p.addKeys(c):q.addKeys(c)}else if(a==="openCursor"){var d=b,e=g.values;return d&&Object.create(d,{key:{get:function(){q.addKey(d.primaryKey);return d.key}},primaryKey:{get:function(){var a=d.primaryKey;q.addKey(a);return a}},value:{get:function(){e&&p.addKey(d.primaryKey);return d.value}}})}return b})}}return f[a].apply(this,arguments)}});return m}})}};function Qd(a,b,c,d){function e(b){var e=a(b.name||"");function f(a){return a!=null?b.extractKey(a):null}var g=function(a){return b.multiEntry&&h(a)?a.forEach(function(a){return e.addKey(a)}):e.addKey(a)};(c||d).forEach(function(a,b){a=c&&f(c[b]);b=d&&f(d[b]);T(a,b)!==0&&(a!=null&&g(a),b!=null&&g(b))})}b.indexes.forEach(e)}function Rd(a,b){return b.lower===void 0?!0:b.lowerOpen?T(a,b.lower)>0:T(a,b.lower)>=0}function Sd(a,b){return b.upper===void 0?!0:b.upperOpen?T(a,b.upper)<0:T(a,b.upper)<=0}function Td(a,b){return Rd(a,b)&&Sd(a,b)}function Ud(a,b,c,d,e,f){if(!c||c.length===0)return a;var g=b.query.index;d=d.schema.primaryKey;var h=d.extractKey,i=g.extractKey,j=(g.lowLevelIndex||g).extractKey;d=c.reduce(function(a,c){var d=a,e=c.type==="add"||c.type==="put"?c.values.filter(function(a){return Td(i(a),b.query.range)}).map(function(a){a=z(a);f&&Object.freeze(a);return a}):[];switch(c.type){case"add":d=a.concat(b.values?e:e.map(function(a){return h(a)}));break;case"put":var g=new Z().addKeys(c.values.map(function(a){return h(a)}));d=a.filter(function(a){a=b.values?h(a):a;return!Id(new Z(a),g)}).concat(b.values?e:e.map(function(a){return h(a)}));break;case"delete":var j=new Z().addKeys(c.keys);d=a.filter(function(a){a=b.values?h(a):a;return!Id(new Z(a),j)});break;case"deleteRange":var k=c.range;d=a.filter(function(a){return!Td(h(a),k)});break}return d},a);if(d===a)return a;d.sort(function(a,b){return T(j(a),j(b))||T(h(a),h(b))});b.limit&&b.limit<Infinity&&(d.length>b.limit?d.length=b.limit:a.length===b.limit&&d.length<b.limit&&(e.dirty=!0));return f?Object.freeze(d):d}var Vd={};function Wd(a,b){return T(a.lower,b.lower)===0&&T(a.upper,b.upper)===0&&!!a.lowerOpen===!!b.lowerOpen&&!!a.upperOpen===!!b.upperOpen}function Xd(a,b,c,d){if(a===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;a=T(a,b);if(a===0){if(c&&d)return 0;if(c)return 1;if(d)return-1}return a}function Yd(a,b,c,d){if(a===void 0)return b!==void 0?1:0;if(b===void 0)return-1;a=T(a,b);if(a===0){if(c&&d)return 0;if(c)return-1;if(d)return 1}return a}function Zd(a,b){return Xd(a.lower,b.lower,a.lowerOpen,b.lowerOpen)<=0&&Yd(a.upper,b.upper,a.upperOpen,b.upperOpen)>=0}function $d(b,c,a,d){b=Vd["idb://".concat(b,"/").concat(c)];if(!b)return[];c=b.queries[a];if(!c)return[null,!1,b,null];var e=d.query?d.query.index.name:null;c=c[e||""];if(!c)return[null,!1,b,null];switch(a){case"query":e=c.find(function(a){return a.req.limit===d.limit&&a.req.values===d.values&&Wd(a.req.query.range,d.query.range)});if(e)return[e,!0,b,c];a=c.find(function(a){var b="limit"in a.req?a.req.limit:Infinity;return b>=d.limit&&(d.values?a.req.values:!0)&&Zd(a.req.query.range,d.query.range)});return[a,!1,b,c];case"count":e=c.find(function(a){return Wd(a.req.query.range,d.query.range)});return[e,!!e,b,c]}}function ae(a,b){return Object.keys(a).some(function(c){return b[c]&&Id(b[c],a[c])})}var be={},ce=!1;function de(a){Od(be,a),ce||(ce=!0,queueMicrotask(function(){ce=!1;var a=be;be={};ee(a)}))}function ee(a,b){b===void 0&&(b=!1);var c=new Set();for(var d in a){var e=/^idb\:\/\/(.*)\/(.*)\//.exec(d);if(e){var f=e[1];e=e[2];f=Vd["idb://".concat(f,"/").concat(e)];f&&fe(f,a,c,b)}}c.forEach(function(a){return a()})}function fe(a,b,c,d){var e=d&&[];for(var f=0,g=Object.entries(a.queries.query);f<g.length;f++){var h=g[f],i=h[0];h=h[1];var j=d&&[];for(var k=0,h=h;k<h.length;k++){var l=h[k];l.obsSet&&ae(b,l.obsSet)?l.subscribers.forEach(function(a){return c.add(a)}):d&&j.push(l)}d&&e.push([i,j])}if(d)for(l=0,k=e;l<k.length;l++){h=k[l];var i=h[0],j=h[1];a.queries.query[i]=j}}function ge(a,b,c,d){a.subscribers.add(c),d.addEventListener("abort",function(){a.subscribers["delete"](c),a.subscribers.size===0&&he(a,b)})}function he(a,b){setTimeout(function(){a.subscribers.size===0&&qa(b,a)},3e3)}var ie={stack:"dbcore",level:0,name:"Cache",create:function(a){var b=a.schema.name,c=d(d({},a),{transaction:function(c,d,e){var f=a.transaction(c,d,e);if(d==="readwrite"){var g=new AbortController();e=g.signal;var h=function(e){return function(){g.abort();if(d==="readwrite"){var h=new Set();for(var i=0,j=c;i<j.length;i++){var k=j[i],l=Vd["idb://".concat(b,"/").concat(k)];k=a.table(k);if(l){var m=l.optimisticOps.filter(function(a){return a.trans===f});if(m.length>0){l.optimisticOps=l.optimisticOps.filter(function(a){return a.trans!==f});for(var n=0,l=Object.values(l.queries.query);n<l.length;n++){var o=l[n];for(var p=0,q=o.slice();p<q.length;p++){var r=q[p];if(r.res!=null&&f.mutatedParts)if(e&&!r.dirty){var s=Object.isFrozen(r.res);s=Ud(r.res,r.req,m,k,r,s);r.dirty?(qa(o,r),r.subscribers.forEach(function(a){return h.add(a)})):s!==r.res&&(r.res=s,r.promise=L.resolve({result:s}))}else r.dirty&&qa(o,r),r.subscribers.forEach(function(a){return h.add(a)})}}}}}h.forEach(function(a){return a()})}}};f.addEventListener("abort",h(!1),{signal:e});f.addEventListener("error",h(!1),{signal:e});f.addEventListener("complete",h(!0),{signal:e})}return f},table:function(c){var e=a.table(c),f=e.schema.primaryKey,g=d(d({},e),{mutate:function(a){if(f.outbound||J.trans.db._options.cache==="disabled")return e.mutate(a);var g=Vd["idb://".concat(b,"/").concat(c)];if(!g)return e.mutate(a);var h=e.mutate(a);(a.type==="add"||a.type==="put")&&(a.values.length>=50||Ad(f,a).some(function(a){return a==null}))?h.then(function(b){var c=d(d({},a),{values:a.values.map(function(a,c){a=f.keyPath.includes(".")?z(a):d({},a);x(a,f.keyPath,b.results[c]);return a})});g.optimisticOps.push(c);queueMicrotask(function(){return de(a.mutatedParts)})}):(g.optimisticOps.push(a),de(a.mutatedParts),h["catch"](function(){qa(g.optimisticOps,a),de(a.mutatedParts)}));return h},query:function(a){if(!Md(J,e)||!Nd("query",a))return e.query(a);var d=J.trans.db._options.cache==="immutable",f=J,g=f.requery;f=f.signal;var h=$d(b,c,"query",a),i=h[0],j=h[1],k=h[2],l=h[3];if(i&&j)i.obsSet=a.obsSet;else{h=e.query(a).then(function(a){var b=a.result;i.res=b;if(d){for(var c=0,e=b.length;c<e;++c)Object.freeze(b[c]);Object.freeze(b)}else a.result=z(b);return a})["catch"](function(a){l&&i&&qa(l,i);return Promise.reject(a)});i={obsSet:a.obsSet,promise:h,subscribers:new Set(),type:"query",req:a,dirty:!1};l?l.push(i):(l=[i],k||(k=Vd["idb://".concat(b,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map(),optimisticOps:[],unsignaledParts:{}}),k.queries.query[a.query.index.name||""]=l)}ge(i,l,g,f);return i.promise.then(function(b){return{result:Ud(b.result,a,k===null||k===void 0?void 0:k.optimisticOps,e,i,d)}})}});return g}});return c}},je=function(){function a(b,c){var e=this;this._middlewares={};this.verno=0;var f=a.dependencies;this._options=c=d({addons:a.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c);this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};f=c.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:F,dbReadyPromise:null,cancelOpen:F,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};g.dbReadyPromise=new L(function(a){g.dbReadyResolve=a});g.openCanceller=new L(function(a,b){g.cancelOpen=b});this._state=g;this.name=b;this.on=fc(this,"populate","blocked","versionchange","close",{ready:[Ma,F]});this.on.ready.subscribe=u(this.on.ready.subscribe,function(b){return function(c,d){a.vip(function(){var a=e._state;if(a.openComplete)a.dbOpenError||L.resolve().then(c),d&&b(c);else if(a.onReadyBeingFired)a.onReadyBeingFired.push(c),d&&b(c);else{b(c);var f=e;d||b(function a(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(a)})}})}});this.Collection=sc(this);this.Table=hc(this);this.Transaction=Gc(this);this.Version=kd(this);this.WhereClause=Cc(this);this.on("versionchange",function(a){a.newVersion>0?!1:!1,e.close()});this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?!1:!1});this._maxKey=Lc(c.IDBKeyRange);this._createTransaction=function(a,b,c,d){return new e.Transaction(a,b,c,e._options.chromeTransactionDurability,d)};this._fireOnBlocked=function(a){e.on("blocked").fire(a),Pb.filter(function(a){return a.name===e.name&&a!==e&&!a._state.vcFired}).map(function(b){return b.on("versionchange").fire(a)})};this.use(Ed);this.use(ie);this.use(Pd);this.use(yd);this.use(Bd);this.vip=Object.create(this,{_vip:{value:!0}});f.forEach(function(a){return a(e)})}a.prototype.version=function(a){if(isNaN(a)||a<.1)throw new E.Type("Given version is not a positive number");a=Math.round(a*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new E.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=this._versions,c=b.filter(function(b){return b._cfg.version===a})[0];if(c)return c;c=new this.Version(a);b.push(c);b.sort(Xc);c.stores({});this._state.autoSchema=!1;return c};a.prototype._whenReady=function(a){var b=this;return this.idbdb&&(this._state.openComplete||J.letThrough||this._vip)?a():new L(function(a,c){if(b._state.openComplete)return c(new E.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._options.autoOpen){c(new E.DatabaseClosed());return}b.open()["catch"](F)}b._state.dbReadyPromise.then(a,c)}).then(a)};a.prototype.use=function(a){var b=a.stack,c=a.create,d=a.level;a=a.name;a&&this.unuse({stack:b,name:a});var e=this._middlewares[b]||(this._middlewares[b]=[]);e.push({stack:b,create:c,level:d==null?10:d,name:a});e.sort(function(a,b){return a.level-b.level});return this};a.prototype.unuse=function(a){var b=a.stack,c=a.name,d=a.create;b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(a){return d?a.create!==d:c?a.name!==c:!1}));return this};a.prototype.open=function(){var a=this;return Hb(I,function(){return sd(a)})};a.prototype._close=function(){var a=this._state,b=Pb.indexOf(this);b>=0&&Pb.splice(b,1);if(this.idbdb){try{this.idbdb.close()}catch(a){}this._novip.idbdb=null}a.dbReadyPromise=new L(function(b){a.dbReadyResolve=b});a.openCanceller=new L(function(b,c){a.cancelOpen=c})};a.prototype.close=function(){this._close();var a=this._state;this._options.autoOpen=!1;a.dbOpenError=new E.DatabaseClosed();a.isBeingOpened&&a.cancelOpen(a.dbOpenError)};a.prototype["delete"]=function(){var a=this,b=arguments.length>0,c=this._state;return new L(function(d,e){var f=function(){a.close();var b=a._deps.indexedDB.deleteDatabase(a.name);b.onsuccess=M(function(){pd(a._deps,a.name),d()});b.onerror=W(e);b.onblocked=a._fireOnBlocked};if(b)throw new E.InvalidArgument("Arguments not allowed in db.delete()");c.isBeingOpened?c.dbReadyPromise.then(f):f()})};a.prototype.backendDB=function(){return this.idbdb};a.prototype.isOpen=function(){return this.idbdb!==null};a.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"};a.prototype.hasFailed=function(){return this._state.dbOpenError!==null};a.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(a.prototype,"tables",{get:function(){var a=this;return g(this._allTables).map(function(b){return a._allTables[b]})},enumerable:!1,configurable:!0});a.prototype.transaction=function(){var a=ud.apply(this,arguments);return this._transaction.apply(this,a)};a.prototype._transaction=function(a,b,c){var d=this,e=J.trans;(!e||e.db!==this||a.indexOf("!")!==-1)&&(e=null);var f=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");var g,h;try{h=b.map(function(a){a=a instanceof d.Table?a.name:a;if(typeof a!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a});if(a=="r"||a===Vb)g=Vb;else if(a=="rw"||a==Wb)g=Wb;else throw new E.InvalidArgument("Invalid transaction mode: "+a);if(e){if(e.mode===Vb&&g===Wb)if(f)e=null;else throw new E.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");e&&h.forEach(function(a){if(e&&e.storeNames.indexOf(a)===-1)if(f)e=null;else throw new E.SubTransaction("Table "+a+" not included in parent transaction.")});f&&e&&!e.active&&(e=null)}}catch(a){return e?e._promise(null,function(b,c){c(a)}):R(a)}var i=vd.bind(null,this,g,h,e,c);return e?e._promise(g,i,"lock"):J.trans?Hb(J.transless,function(){return d._whenReady(i)}):this._whenReady(i)};a.prototype.table=function(a){if(!l(this._allTables,a))throw new E.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]};return a}(),ke=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",le=function(){function a(a){this._subscribe=a}a.prototype.subscribe=function(a,b,c){return this._subscribe(!a||typeof a==="function"?{next:a,error:b,complete:c}:a)};a.prototype[ke]=function(){return this};return a}(),me;try{me={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch(a){me={indexedDB:null,IDBKeyRange:null}}function ne(a){var b=!1,c,d=new le(function(d){var e=sa(a);function f(b){e&&Cb();b=O(a,b);e&&b["finally"](P);return b}var g=!1,h,i={},j={},k={get closed(){return g},unsubscribe:function(){if(g)return;g=!0;h&&h.abort();l&&Y.storagemutated.unsubscribe(n)}};d.start&&d.start(k);var l=!1;function m(){return ae(j,i)}var n=function(a){Od(i,a),m()&&o()},o=function(){if(g||!me.indexedDB)return;i={};var a={};h&&h.abort();h=new AbortController();var e={subscr:a,signal:h.signal,requery:o,trans:null},k=f(e);Promise.resolve(k).then(function(f){b=!0;c=f;if(g||e.signal.aborted)return;i={};j=a;!ja(j)&&!l&&(Y(Ec,n),l=!0);d.next&&d.next(f)},function(a){b=!1;if(!["DatabaseClosedError","AbortError"].includes(a===null||a===void 0?void 0:a.name)){if(g)return;d.error&&d.error(a)}})};o();return k});d.hasValue=function(){return b};d.getValue=function(){return c};return d}var oe=je;m(oe,d(d({},D),{"delete":function(a){a=new oe(a,{addons:[]});return a["delete"]()},exists:function(a){return new oe(a,{addons:[]}).open().then(function(a){a.close();return!0})["catch"]("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return nd(oe.dependencies).then(a)}catch(a){return R(new E.MissingAPI())}},defineClass:function(){function a(a){i(this,a)}return a},ignoreTransaction:function(a){return J.trans?Hb(J.transless,a):a()},vip:qd,async:function(a){return function(){try{var b=td(a.apply(this,arguments));return!b||typeof b.then!=="function"?L.resolve(b):b}catch(a){return R(a)}}},spawn:function(a,b,c){try{a=td(a.apply(c,b||[]));return!a||typeof a.then!=="function"?L.resolve(a):a}catch(a){return R(a)}},currentTransaction:{get:function(){return J.trans||null}},waitFor:function(a,b){a=L.resolve(typeof a==="function"?oe.ignoreTransaction(a):a).timeout(b||6e4);return J.trans?J.trans.waitFor(a):a},Promise:L,debug:{get:function(){return B},set:function(a){ta(a,a==="dexie"?function(){return!0}:Tb)}},derive:p,extend:i,props:m,override:u,Events:fc,on:Y,liveQuery:ne,extendObservabilitySet:Od,getByKeyPath:w,setByKeyPath:x,delByKeyPath:da,shallowClone:ea,deepClone:z,getObjectDiff:zd,cmp:T,asap:aa,minKey:Nb,addons:[],connections:Pb,errnames:Ca,dependencies:me,cache:Vd,semVer:y,version:y.split(".").map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,c*2)})}));oe.maxKey=Lc(oe.dependencies.IDBKeyRange);typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"&&(Y(Ec,function(a){if(!$){var b;Qb?(b=document.createEvent("CustomEvent"),b.initCustomEvent(X,!0,!0,a)):b=new CustomEvent(X,{detail:a});$=!0;dispatchEvent(b);$=!1}}),addEventListener(X,function(a){a=a.detail;$||pe(a)}));function pe(a){var b=$;try{$=!0,Y.storagemutated.fire(a),ee(a,!0)}finally{$=b}}var $=!1;if(typeof BroadcastChannel!=="undefined"){var qe=new BroadcastChannel(X);typeof qe.unref==="function"&&qe.unref();Y(Ec,function(a){$||qe.postMessage(a)});qe.onmessage=function(a){a.data&&pe(a.data)}}else if(typeof self!=="undefined"&&typeof navigator!=="undefined"){Y(Ec,function(a){try{$||(typeof localStorage!=="undefined"&&localStorage.setItem(X,JSON.stringify({trig:Math.random(),changedParts:a})),typeof self.clients==="object"&&e([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(b){return b.postMessage({type:X,changedParts:a})}))}catch(a){}});typeof addEventListener!=="undefined"&&addEventListener("storage",function(a){if(a.key===X){a=JSON.parse(a.newValue);a&&pe(a.changedParts)}});xd=self.document&&navigator.serviceWorker;xd&&xd.addEventListener("message",re)}function re(a){a=a.data;a&&a.type===X&&pe(a.changedParts)}L.rejectionMapper=Fa;ta(B,Tb);D=Object.freeze({__proto__:null,Dexie:je,liveQuery:ne,Entity:$b,cmp:T,"default":je,RangeSet:Z,mergeRanges:Hd,rangesOverlap:Id});d(je,D,{"default":je});return je})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("dexie_maw",["dexie-4.0.1-alpha.22"],(function(a,b,c,d,e,f){e.exports=b("dexie-4.0.1-alpha.22")()}),null);
/**
 * License: https://www.facebook.com/legal/license/CCT5pM3qiNk/
 */
__d("tweetnacl-auth-1.0.1",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f){"use strict";var g=b("tweetnacl-1.0.3");c={};var h={exports:c};function i(){(function(a,b){typeof h!=="undefined"&&h.exports?h.exports=b(g()):a.nacl.auth=b(a.nacl)})(this,function(a){if(!a)throw new Error("tweetnacl not loaded");var b=128,c=64;function d(d,e){var f=new Uint8Array(b+Math.max(c,d.length)),g;e.length>b&&(e=a.hash(e));for(g=0;g<b;g++)f[g]=54;for(g=0;g<e.length;g++)f[g]^=e[g];f.set(d,b);d=a.hash(f.subarray(0,b+d.length));for(g=0;g<b;g++)f[g]=92;for(g=0;g<e.length;g++)f[g]^=e[g];f.set(d,b);return a.hash(f.subarray(0,b+d.length))}function e(a,b){var c=new Uint8Array(32);c.set(d(a,b).subarray(0,32));return c}e.full=function(a,b){return d(a,b)};e.authLength=32;e.authFullLength=64;e.keyLength=32;return e})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("tweetnacl-auth",["tweetnacl-auth-1.0.1"],(function(a,b,c,d,e,f){e.exports=b("tweetnacl-auth-1.0.1")()}),null);/*FB_PKG_DELIM*/
__d("IIGDAPI",["MAWBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("MAWBridge").getBridge().sendAndReceive("backend","igdapi",{args:c,type:a})}}g.makeBridgedApi=a}),98);
__d("IGDBridgedAPI",["IIGDAPI"],(function(a,b,c,d,e,f,g){"use strict";b={33:(a=d("IIGDAPI")).makeBridgedApi("33"),46:a.makeBridgedApi("46"),sendEditMessage:a.makeBridgedApi("sendEditMessage"),sendMediaMessage:a.makeBridgedApi("sendMediaMessage"),sendOrRemoveReaction:a.makeBridgedApi("sendOrRemoveReaction"),sendXmaReceiverFetch:a.makeBridgedApi("sendXmaReceiverFetch")};c=b;g["default"]=c}),98);
__d("IGDXMAAttachmentUtil",["bx"],(function(a,b,c,d,e,f,g){"use strict";d=c("bx").getURL(c("bx")("13341"));var h=String.fromCodePoint(128293),i=String.fromCodePoint(128546),j=String.fromCodePoint(128079),k=String.fromCodePoint(128558),l=String.fromCodePoint(128514),m=String.fromCodePoint(128525);function a(a){return a!=null?a===h||a===i||a===j||a===k||a===l?!0:a===m:!1}function b(a,b){return a==="xma_ig_comment_action_url"&&b==="xma_ig_comment_media_action_url"}g.DEFAULT_PROFILE_URL=d;g.isEmojiReaction=a;g.isXmaPostComment=b}),98);
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=void 0,d[0]=d[1]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[46],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],contactReachabilityStatusType:a[43],restrictionType:a[44],waConnectStatus:a[45],isEmployee:!1,pageType:a[47]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[52])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";e.exports=a}),null);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(d.taskDispatchPriority,b.i64.cast([0,1e3]))?c[0]=b.i64.cast([0,734739218]):c[0]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";e.exports=a}),null);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};g.staticCachedModules=a}),98);
__d("LSDynamicDependencies",["Bootloader","LSStaticDependencies","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=babelHelpers["extends"]({},d("LSStaticDependencies").staticCachedModules),j={_tombstone:!0};function a(a){var d=new Map();for(a of a){var e=a.name;e!=null&&!m(e)&&d.set(e,c("nullthrows")(a.value))}if(d.size===0)return(h||(h=b("Promise"))).resolve();var f=new(h||(h=b("Promise")))(function(a){var e={},g=[],h=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;e[c]={be:1,r:[]};g.push(c);i[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield f;return i[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var j of d)h(j);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});k(c("Bootloader"),g,function(b){Array.from(d.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()})});return f}function k(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function l(a){return a.charAt(0).toUpperCase()+a.slice(1)}function m(a){return a in i&&i[a]!==j}var n=c("justknobx")._("2800");function e(a,d,e){var f=new Map();for(a of(a=a)!=null?a:[]){m(a)||f.set(a,"LS"+l(a))}for(d of(a=d)!=null?a:[]){!m(d+".bs")?f.set(d+".bs","LS"+l(d)+".nop"):d+".nop"in i||f.set(d+".nop","LS"+l(d)+".nop")}for(d of(a=e)!=null?a:[]){d in i||f.set(d,"LS"+l(d))}if(f.size===0)return(h||(h=b("Promise"))).resolve();var g=new(h||(h=b("Promise")))(function(a,d){var e={},h=[],l=function(a){var c=a[0];a=a[1];e[a]={be:1,r:[]};h.push(a);i[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield g}catch(a){i[c]=j;throw a}return i[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var m of f)l(m);c("Bootloader").handlePayload({compMap:e,consistency:{rev:c("SiteData").client_revision}});var o=k(c("Bootloader"),h,function(b){c("clearTimeout")(p),Array.from(f.entries()).forEach(function(a,c){var d=a[0];a[1];i[d]=b[c]}),a()}),p=c("setTimeout")(function(){o.remove(),d(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",n,Array.from(f.keys())))},n)});return g}g.cachedModules=i;g.TOMBSTONE=j;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){a._tag="i64";return a},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_comet").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","ReStoreKeyComparer","ReStoreVaulting","isNativeTask","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function n(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("unrecoverableViolation")("cannot insert native task in dynamic mode","messenger_web_product");return d.upsert(a,l(g))}}}function o(a,b){return p.apply(this,arguments)}function p(){p=babelHelpers.wrapAsyncGenerator(function*(a,b){var c=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(a.next()));c=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!c.done)yield c.value,c=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=babelHelpers.wrapAsyncGenerator(function*(a,b,c){var e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()));while(!e.done&&!f.done){var g=(h||(h=d("ReStoreKeyComparer"))).compareKey(e.value[0],f.value[0]);g===0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next())),f=(yield babelHelpers.awaitAsyncGenerator(b.next()))):g*(c==="asc"?1:-1)<0?(yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()))):(yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next())))}while(!e.done)yield e.value,e=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!f.done)yield f.value,f=(yield babelHelpers.awaitAsyncGenerator(b.next()))});return r.apply(this,arguments)}function a(a,b,e,f,g,h,i,l){var p=new Set(),r=a.length>1,s=a.length===1&&a[0][1]==null,t=a.map(function(a){var c=a[0],i=a[1];return c.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var c=a.map(function(a){return h(a,b)});a=c.length===(i==null?e.primaryKeyIds:e.indexes[i]).length&&c.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,f=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=async function(){var a;if(f)return{done:!0};f=!0;var b=c.map(function(a){a=a.start;return a[0]});a=await (a=i==null?g:g.index(i)).get.apply(a,b);if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}},b};return a()}return m(i==null?g:g.index(i),c,b)})}).flat().reduce(function(c,d){return a.length>1?o(c,d):q(c,d,b)});function u(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=u,a.next=async function(){var a,b,d,f=await t.next(),h;while(!f.done){var m=f.value;b=m[0];d=m[1];a=s?b:e.primaryKeyIds.map(function(a){return d[a]});if(k(i,e,d)){h=f;f=await t.next();continue}if(j(e.name)&&i&&d!=null&&d.transportKey!=="FBBroker"){h=f;f=await t.next();continue}if(r){m=JSON.stringify(a);if(p.has(m)){f=await t.next();continue}p.add(m)}break}if(h!=null){b=h.value[1].transportKey;c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,b)}return f.done||a==null||d==null?{done:!0}:{done:!1,value:n(a,d,g,e,i)}},a}return u()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.fetch=a}),98);
__d("LSIterationOperations",["FBLogger","I64","LSDict","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=async function(){var c=await a.next();while(!c.done&&!await b(c.value.item))c=await a.next();return c},c}function k(a,b,d){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,d)},e.next=async function(){while(f<b){var e=await a.next();e=e.done;if(e){c("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",b);return{done:!0}}f++}if(f<d){f++;return a.next()}return{done:!0}},e}async function a(a,b){var c=await a.next(),d=[];while(!c.done)d.push(c.value),c=await a.next();for(c of d)await b(c)}async function l(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function b(a,b,c){c===void 0&&(c=[]);var e={ASC:1,DESC:-1},f=function(a,c){a=a.item;c=c.item;for(var f=0;f<b.length;f++){var g=b[f];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*e[b[f][1]]}return 0},g=function(){var b=babelHelpers.wrapAsyncGenerator(function*(){var b=(yield babelHelpers.awaitAsyncGenerator(a.next())),e,g=[];while(!b.done){var i=[];for(var j=c.length-1;j>=0;j--)i.push(b.value.item[c[j]]);if(e!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(e,i)!==0){for(j of g.sort(f))yield j;g=[]}b.done||g.push(b.value);e=i;b=(yield babelHelpers.awaitAsyncGenerator(a.next()))}if(g.length)for(j of g.sort(f))yield j});return function(){return b.apply(this,arguments)}}();return g()}async function e(a){var b=0,c=await a.next();while(!c.done)b++,c=await a.next();return(i||(i=d("I64"))).of_int32(b)}function f(a,b){return{forEach:async function(e){var f=await l(a);f=f.reduce(function(c,d){d=d.item[b];var a=(c.get(d)||0)+1;return c.set(d,a)},new(c("LSDict"))());for(f of f.entries()){var g,h=f[0],j=f[1];await e((g={},g[b]=h,g.group_count=(i||(i=d("I64"))).of_int32(j),g))}}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=b;g.count=e;g.groupBy=f}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("XPlatReactTextEncoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextEncoder;f.TextEncoder=a}),66);
__d("base64Binary",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b="";for(var c=0;c<a.byteLength;c+=3){var d=a.subarray(c,c+3);b+=k(d)}d=(a.byteLength+2)%3;return b.slice(0,b.length+d-2)+"==".slice(d)}function b(a){var b;a.length%4===0||h(0,51156);var c=a.length/4;b=(b=(b=a.match(/={0,2}$/))==null?void 0:b[0].length)!=null?b:0;b=new Uint8Array(c*3-b);for(var d=0;d<c;d++){var e=l(a.slice(d*4,d*4+4));b.set(e.subarray(0,b.byteLength-d*3),d*3)}return b}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=">___?456789:;<=___\0___\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function k(a){var b;a=a[0]<<16|((b=a[1])!=null?b:0)<<8|((b=a[2])!=null?b:0);return String.fromCharCode(i.charCodeAt(a>>>18),i.charCodeAt(a>>>12&63),i.charCodeAt(a>>>6&63),i.charCodeAt(a&63))}function l(a){a=j.charCodeAt(a.charCodeAt(0)-43)<<18|j.charCodeAt(a.charCodeAt(1)-43)<<12|j.charCodeAt(a.charCodeAt(2)-43)<<6|j.charCodeAt(a.charCodeAt(3)-43);return new Uint8Array([a>>>16,a>>>8&255,a&255])}g.encode=a;g.decode=b}),98);
__d("LS",["FBLogger","I64","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationHelpers","LSIterationOperations","LSJson","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);n=function(){return a};return a}var o="LS_WEB";function p(a){return a.name.match(/secure_|inbox(?!_)/i)}var q=d("MessengerLogHistory").getInstance("ls");function r(a){return d("base64Binary").decode(a).buffer}var s={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return s.compareTo(a,b)>=0},gt:function(a,b){return s.compareTo(a,b)>0},le:function(a,b){return s.compareTo(a,b)<=0},lt:function(a,b){return s.compareTo(a,b)<0},neq:function(a,b){return!s.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function t(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(h||(h=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function u(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}function v(a,b,e,f,g){var h=a[b.name];return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,u,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,u,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("unrecoverableViolation")("cannot put native task via LS transport","messenger_web_product");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function w(a,b,d,e,f,g){return{metadata:d,table:function(h){h=d.tableNames[d.tableIds[h]];if(b===0&&p(h))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return v(a,h,e,f,g)},transactionId:a.__internal__transaction_id}}function x(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var y=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function z(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function A(a,b,c){b=(h||(h=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function B(a,b,e,f,g,h,p,v,C){p===void 0&&(p={});v===void 0&&(v=void 0);var D=[],E=w(h,a,b,p,D,C),F=async function(b,f){var g;if(typeof f==="string"){g=e[f.toString()];if(g==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+f,"messenger_web_product");if(g===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",f);g.load&&(g=await g.load());g=g.call}else g=f.call;for(var i=arguments.length,j=new Array(i>2?i-2:0),k=2;k<i;k++)j[k-2]=arguments[k];return g.apply(void 0,[h,a].concat(j))},G=async function(b){var f;if(typeof b==="string"){f=e[b+".bs"]||e[b+".nop"];if(f==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");if(f===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);f.load&&(f=await f.load());f=f}else f=b;try{for(var g=arguments.length,i=new Array(g>1?g-1:0),j=1;j<g;j++)i[j-1]=arguments[j];return f.apply(void 0,[h,a].concat(i))}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a}},H=function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:r,blobs:s,constructor:{n:t},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},ct:d("LSIterationOperations").count,db:E,fe:d("LSIterationOperations").forEach,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,ftr:d("LSIterationOperations").filter,gb:d("LSIterationOperations").groupBy,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(a,b){return z(f,a,b)},localizeAsync:function(a,b){return Promise.resolve(z(f,a,b))},localizeV2:function(a,b){return A(g,a,b)},localizeV2Async:function(a,b){return Promise.resolve(A(g,a,b))},logger:function(a){if(v)return{debug:v,info:v,mustfix:v,warn:v};var b=c("FBLogger")("messenger_web_product");if(a.startsWith("epoch mismatch")||a.startsWith("cursor mismatch")){a=function(a){q.error(a,"error");a=a!=null?a.replace(/[\s,]+/g,"_"):"epoch_or_cursor_mismatch";(i||(i=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return q.debug(a)},info:function(a){return q.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function d(e){var f;return c("LSInt64Lite").lt(e,a)?b(e).then(function(){return d(c("LSInt64Lite").add(e,t(n())))}):((f=self.Promise)!=null?f:Promise).resolve()}return d(t(m()))},loopSync:function(a,b){for(var d=t(l());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,t(k())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,d){d=u(d,"asc");return{end:c.end&&d.end?b(d.end,c.end):d.end||c.end,start:c.start&&d.start?a(d.start,c.start):d.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:t,nativeOperation:G,nativeTypeOperation:F,nop:G,notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:F,print:function(a){},resolve:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(a)},rm:c("LSInt64Lite").of_int32(a),sb:d("LSIterationOperations").sortBy,seq:H,sequence:H,slc:I,slice:I,sortBy:d("LSIterationOperations").sortBy,sp:async function(i){for(var j=arguments.length,k=new Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m;if(typeof i==="string"){m=e[i];if(m==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+i,"messenger_web_product");if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",i);m.load&&(m=await m.load())}else m=i;var n=this;switch(a){case 0:n=B(2,b,e,f,g,h,p,v,C);break;case 2:n=B(1,b,e,f,g,h,p,v,C);break}var q=x(m),r=y.shouldLogSproc(q),s={args:k,shouldLog:r,sprocName:q};D.push(q);var t;try{t=y.call(s);var u=await m.apply(void 0,k.concat([n]));y.logSprocDone(s,t,2);return u}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",i);y.logSprocDone(s,t,3);throw a}finally{D.pop()}},storedProcedure:async function(i){for(var j=arguments.length,k=new Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m;if(typeof i==="string"){m=e[i];if(m==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+i,"messenger_web_product");if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",i);m.load&&(m=await m.load())}else m=i;var n=this;switch(a){case 0:n=B(2,b,e,f,g,h,p,v,C);break;case 2:n=B(1,b,e,f,g,h,p,v,C);break}var q=x(m),r=y.shouldLogSproc(q),s={args:k,shouldLog:r,sprocName:q};D.push(q);var t;try{t=y.call(s);var u=await m.apply(void 0,k.concat([n]));y.logSprocDone(s,t,2);return u}catch(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(o,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",i);y.logSprocDone(s,t,3);throw a}finally{D.pop()}},ta:d("LSIterationOperations").toArray,throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}B.n=t;g.default=B}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSDatabaseSingletonLazyWrapper",["LSDatabaseSingleton"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}g["default"]=a}),98);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){var i;a=function(a,b){switch(a){case"2285622730":return h._("__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._("__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._("__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._("__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._("__JHASH__U3_S6m-Asci__JHASH__");case"2375715979":return h._("__JHASH__wwqS06IKURT__JHASH__");case"3810165735":return h._("__JHASH___xK_oqrbVu3__JHASH__",[h._param("user_name",b(0))]);case"3921131020":return h._("__JHASH__mtqLMpBAIfE__JHASH__");case"1899892426":return h._("__JHASH__AcX9AAMg2Jv__JHASH__");case"3287869262":return h._("__JHASH__nh5Ig-KQkRx__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._("__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._("__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._("__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._("__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._("__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._("__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._("__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._("__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._("__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._("__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._("__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._("__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._("__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._("__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._("__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._("__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._("__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._("__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._("__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._("__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._("__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._("__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._("__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._("__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._("__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._("__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._("__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._("__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._("__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._("__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._("__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._("__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._("__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._("__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._("__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"2051792592":return h._("__JHASH__wrYW1iMsokY__JHASH__");case"3686831438":return h._("__JHASH__jxXuvG9WsQ-__JHASH__",[h._param("user_name",b(0))]);case"1247108605":return h._("__JHASH__wezHuMnDNgf__JHASH__",[h._param("receiver_name",b(0))]);case"2966876020":return h._("__JHASH__V86-MgG4uJ1__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"1056933543":return h._("__JHASH__9X7TkYsxkJ9__JHASH__");case"1167688664":return h._("__JHASH__HgpZLsXXBv2__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._("__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._("__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._("__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._("__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._("__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._("__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"2552112149":return h._("__JHASH__rGkOrOdVN7r__JHASH__");case"969211470":return h._("__JHASH__0c4ttO8K44x__JHASH__",[h._param("user_name",b(0))]);case"1257875092":return h._("__JHASH__5wtZ0w7wjWl__JHASH__");case"692355749":return h._("__JHASH__ZxojgdAFPM9__JHASH__",[h._param("user_name",b(0))]);case"411761881":return h._("__JHASH__9gOGTtdjrZE__JHASH__");case"3395044660":return h._("__JHASH__R5lkKLgSqO3__JHASH__",[h._param("user_name",b(0))]);case"2973334239":return h._("__JHASH__BCqXnePZxrY__JHASH__");case"3616471048":return h._("__JHASH__NfWlT4Kxbzi__JHASH__",[h._param("user_name",b(0))]);case"476264474":return h._("__JHASH__SH0YqdP7IKV__JHASH__");case"3124021488":return h._("__JHASH__aEbyYGfOeat__JHASH__",[h._param("user_name",b(0))]);case"3471188061":return h._("__JHASH__mUkKfPWP8w___JHASH__");case"2776822462":return h._("__JHASH__2bPnhlt5UjK__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._("__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._("__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._("__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._("__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._("__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._("__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._("__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._("__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._("__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._("__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._("__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._("__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._("__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"313217698":return h._("__JHASH__rG1E-FG-TxB__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._("__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._("__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"1907280305":return h._("__JHASH__3P1HxS_1jfg__JHASH__",[h._param("other_user",b(0))]);case"1112375422":return h._("__JHASH__a5_sxn3ZWZn__JHASH__",[h._param("other_user",b(0))]);case"3575257287":return h._("__JHASH__czVm_Pwt6t9__JHASH__",[h._param("num_messages",b(0))]);case"1416259530":return h._("__JHASH__h8shxIRIHov__JHASH__");case"1681736754":return h._("__JHASH__cOR9lVJ4jCg__JHASH__",[h._param("num_channels",b(0))]);case"2213485461":return h._("__JHASH__SWrWBV0LcfO__JHASH__");case"3802288555":return h._("__JHASH__-r9R1SJrWwS__JHASH__");case"1420387436":return h._("__JHASH__Gzgbn2ufLNM__JHASH__",[h._param("num_messages",b(0))]);case"3321340421":return h._("__JHASH___P-lwtylUhP__JHASH__",[h._param("other_user",b(0))]);case"3199643703":return h._("__JHASH__YBxxz_Vibx6__JHASH__");case"3307909120":return h._("__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._("__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._("__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._("__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._("__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._("__JHASH__JBe8j08K09-__JHASH__");case"1531706844":return h._("__JHASH__bZt0xiZTnI-__JHASH__");case"3989800917":return h._("__JHASH__LU51Dz-OBab__JHASH__");case"2421884758":return h._("__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._("__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._("__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._("__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._("__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._("__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._("__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._("__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._("__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._("__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2856734260":return h._("__JHASH__yQuJ1OMUVjP__JHASH__");case"3569041084":return h._("__JHASH__3k8IWsw1-6Y__JHASH__");case"1640318912":return h._("__JHASH__JXT3riixpEu__JHASH__",[h._param("user",b(0))]);case"2814174244":return h._("__JHASH__hI4gbzrBlXq__JHASH__");case"3475381825":return h._("__JHASH__71WGCM_QR6l__JHASH__",[h._param("preamble",b(0)),h._param("time",b(1))]);case"2794389366":return h._("__JHASH__8dRN_uv1Ey6__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2528404281":return h._("__JHASH__ypkuSNWTmvD__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"3691614683":return h._("__JHASH__Gt2ASOwx3aR__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2356292598":return h._("__JHASH__BkWfpfnRWrH__JHASH__",[h._param("user",b(0))]);case"3184734723":return h._("__JHASH__lritNDvzWHc__JHASH__");case"2352696798":return h._("__JHASH__4w1HQhVySfH__JHASH__");case"261320435":return h._("__JHASH__Yz7gQUpuAdz__JHASH__");case"1369731110":return h._("__JHASH__KVOi7QtdIiz__JHASH__");case"216075330":return h._("__JHASH__YIi23RvfAOM__JHASH__",[h._param("user_name",b(0))]);case"3093868587":return h._("__JHASH__zy0vB4g7bUg__JHASH__",[h._param("user_name",b(0))]);case"1965569930":return h._("__JHASH__Tjhx4Uo9tx2__JHASH__",[h._param("user_name",b(0))]);case"3981943156":return h._("__JHASH__ixrUZRszn_J__JHASH__",[h._param("user_name",b(0))]);case"2071149394":return h._("__JHASH__cOvKzCJo9pt__JHASH__",[h._param("user_name",b(0))]);case"2414298738":return h._("__JHASH__HW7JxEhyqTG__JHASH__",[h._param("user_name",b(0))]);case"4050223159":return h._("__JHASH__DIFtX0dJhWX__JHASH__");case"3387070852":return h._("__JHASH__7lkRbksMys6__JHASH__",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);case"2779070802":return h._("__JHASH__VQfKxCig0vy__JHASH__",[h._param("sender_name",b(0)),h._param("game_name",b(1))]);case"3748497596":return h._("__JHASH__5SAbOrcrYuU__JHASH__",[h._param("game_name",b(0))]);case"1346982727":return h._("__JHASH__VQ2HMGY9wwv__JHASH__",[h._param("game_name",b(0))]);case"3688076717":return h._("__JHASH__JjXwyclLQBa__JHASH__",[h._param("sender_name",b(0))]);case"967111183":return h._("__JHASH__w7ck8Nknn5M__JHASH__");case"4202164190":return h._("__JHASH__ri623MWPdFQ__JHASH__",[h._param("sender_name",b(0)),h._param("receiver_name",b(1))]);default:return""}};b=a;g["default"]=b}),226);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h={dynamic:!1};function a(a,e){e===void 0&&(e=h);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a,void 0,void 0,e.dynamic);return b("cr:8709")!=null?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21});f["default"]=a}),66);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSXmaContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST:-1,NONE:0,IG_SINGLE_IMAGE_POST_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,IG_MULTI_MEDIA_RESPONSE:1020,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,FB_COMMENT_MENTION_SHARE:2010,FB_STORY_LWI_REPLY:2011,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING:3002,MSG_LOCATION_SHARING_V2:3003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:3004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:3005,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_THREADS_POST_SHARE:3011,MSG_FILE:3012,MSG_AVATAR_DETAILS:3013,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_SHARED_ALBUM_REPLY:3016,MSG_SHARED_ALBUM:3017,MSG_OCCAMADILLO_XMA:3018,MSG_GEN_AI_1P_SEARCH_RESULT:3019,MSG_EARLY_ACCESS_FB_SHARE:3020,MSG_GEN_AI_SUBSCRIPTION:3021,MSG_GEN_AI_REMINDER:3022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:3023,MSG_MAGICAL_MESSENGER_PLACES:3024,MSG_RECEIVER_FETCH_FALLBACK:3025,MSG_MAGICAL_MESSENGER_TASKS:3026,MSG_NOTE_REPLY:3027,MSG_NOTE_MENTION:3028,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,DATACLASS_SENDER_COPY:5e3,OC_AVATAR_STATIC_STICKER:6e3,LIVE_LOCATION:7e3});f["default"]=a}),66);
__d("MNLSXMALayoutType",[],(function(a,b,c,d,e,f){a=Object.freeze({SINGLE:0,HSCROLL:1,XCENTER:2,PORTRAIT:4,LAYERED:5,PLACEHOLDER:6,EXPIRED_PLACEHOLDER:7,PILE_PROMPT:8,STACK:9,SHARED_STACK:10,STACK_CARD:11,STANDARD_DXMA:12,DXMA_PLACEHOLDER:13,THREAD_SHORTCUT:14,LIST_DXMA:15,GRID:16,BLOKS_XMA:17,TWO_CARD:18,NOTE:19,VSTACK:20,SQUIRCLE:21});f["default"]=a}),66);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15,TROPHY:16,DXMA_LIVE:17,DXMA_LIVE_ENDED:18});f["default"]=a}),66);
__d("MWLinkRegex",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="(?:(?:[a-z]+:)?//)?",b="(?:\\S+(?::\\S*)?@)?",c="(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)",d="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",e="(?:\\.(?:((?:[a-z\\u00a1-\\uffff]{2,}))))\\.?",f="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?';a="(?:"+a+"|www\\.)"+b+"(?:localhost|"+c+d+e+")"+f+g;return new RegExp(a,"ig")}function b(){var a="(^|)[^@\\s]+@[^@]+[.][^@\\s]+(?!\\S)";return new RegExp(a,"ig")}f.getLinkRegex=a;f.getEmailRegex=b}),66);
__d("URLMatcherConfig",[],(function(a,b,c,d,e,f){e.exports={tlds:"(?:\\.(com|\ud55c\uad6d|\uc0bc\uc131|\ub2f7\ucef4|\ub2f7\ub137|\u9999\u6e2f|\u9999\u683c\u91cc\u62c9|\u9910\u5385|\u98df\u54c1|\u98de\u5229\u6d66|\u96fb\u8a0a\u76c8\u79d1|\u96c6\u56e2|\u901a\u8ca9|\u8d2d\u7269|\u8c37\u6b4c|\u8bfa\u57fa\u4e9a|\u8054\u901a|\u7f51\u7edc|\u7f51\u7ad9|\u7f51\u5e97|\u7f51\u5740|\u7ec4\u7ec7\u673a\u6784|\u79fb\u52a8|\u73e0\u5b9d|\u70b9\u770b|\u6fb3\u9580|\u6e38\u620f|\u6de1\u9a6c\u9521|\u673a\u6784|\u66f8\u7c4d|\u65f6\u5c1a|\u65b0\u95fb|\u65b0\u52a0\u5761|\u653f\u5e9c|\u653f\u52a1|\u624b\u8868|\u624b\u673a|\u6211\u7231\u4f60|\u6148\u5584|\u5fae\u535a|\u5e7f\u4e1c|\u5de5\u884c|\u5bb6\u96fb|\u5a31\u4e50|\u5929\u4e3b\u6559|\u5927\u62ff|\u5927\u4f17\u6c7d\u8f66|\u5728\u7ebf|\u5609\u91cc\u5927\u9152\u5e97|\u5609\u91cc|\u5546\u6807|\u5546\u5e97|\u5546\u57ce|\u53f0\u7063|\u53f0\u6e7e|\u516c\u76ca|\u516c\u53f8|\u516b\u5366|\u5065\u5eb7|\u4fe1\u606f|\u4f5b\u5c71|\u4f01\u4e1a|\u4e2d\u6587\u7f51|\u4e2d\u570b|\u4e2d\u56fd|\u4e2d\u4fe1|\u4e16\u754c|\u30dd\u30a4\u30f3\u30c8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|\u30bb\u30fc\u30eb|\u30b9\u30c8\u30a2|\u30b3\u30e0|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u307f\u3093\u306a|\u10d2\u10d4|\u0e44\u0e17\u0e22|\u0e04\u0e2d\u0e21|\u0dbd\u0d82\u0d9a\u0dcf|\u0d2d\u0d3e\u0d30\u0d24\u0d02|\u0cad\u0cbe\u0cb0\u0ca4|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|\u0b2d\u0b3e\u0b30\u0b24|\u0aad\u0abe\u0ab0\u0aa4|\u0a2d\u0a3e\u0a30\u0a24|\u09ad\u09be\u09f0\u09a4|\u09ad\u09be\u09b0\u09a4|\u09ac\u09be\u0982\u09b2\u09be|\u0938\u0902\u0917\u0920\u0928|\u092d\u093e\u0930\u094b\u0924|\u092d\u093e\u0930\u0924\u092e\u094d|\u092d\u093e\u0930\u0924|\u0928\u0947\u091f|\u0915\u0949\u092e|\u0680\u0627\u0631\u062a|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0647\u0645\u0631\u0627\u0647|\u0645\u0648\u0642\u0639|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0645\u0644\u064a\u0633\u064a\u0627|\u0645\u0635\u0631|\u0643\u0648\u0645|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0642\u0637\u0631|\u0641\u0644\u0633\u0637\u064a\u0646|\u0639\u0645\u0627\u0646|\u0639\u0631\u0628|\u0639\u0631\u0627\u0642|\u0634\u0628\u0643\u0629|\u0633\u0648\u0631\u064a\u0629|\u0633\u0648\u062f\u0627\u0646|\u062a\u0648\u0646\u0633|\u0628\u06be\u0627\u0631\u062a|\u0628\u064a\u062a\u0643|\u0628\u0627\u0632\u0627\u0631|\u0628\u0627\u0631\u062a|\u0627\u06cc\u0631\u0627\u0646|\u0627\u0645\u0627\u0631\u0627\u062a|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u062a\u0635\u0627\u0644\u0627\u062a|\u0627\u0628\u0648\u0638\u0628\u064a|\u05e7\u05d5\u05dd|\u0570\u0561\u0575|\u049b\u0430\u0437|\u0443\u043a\u0440|\u0441\u0440\u0431|\u0441\u0430\u0439\u0442|\u0440\u0444|\u0440\u0443\u0441|\u043e\u0440\u0433|\u043e\u043d\u043b\u0430\u0439\u043d|\u043c\u043e\u0441\u043a\u0432\u0430|\u043c\u043e\u043d|\u043c\u043a\u0434|\u043a\u043e\u043c|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0435\u044e|\u0434\u0435\u0442\u0438|\u0431\u0435\u043b|\u0431\u0433|\u03b5\u03bb|zw|zuerich|zone|zm|zippo|zip|zero|zara|zappos|za|yun|yt|youtube|you|yokohama|yoga|yodobashi|ye|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xn--zfr164b|xn--ygbi2ammx|xn--yfro4i67o|xn--y9a3aq|xn--xkc2dl3a5ee0h|xn--xkc2al3hye2a|xn--xhq521b|xn--wgbl6a|xn--wgbh1c|xn--w4rs40l|xn--w4r85el8fhu5dnra|xn--vuq861b|xn--vhquv|xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--unup4y|xn--tiq49xqyj|xn--tckwe|xn--t60b56a|xn--ses554g|xn--s9brj9c|xn--rvc1e0am3e|xn--rovu88b|xn--rhqv96g|xn--qxam|xn--qcka1pmc|xn--q9jyb4c|xn--pssy2u|xn--pgbs0dh|xn--pbt977c|xn--p1ai|xn--p1acf|xn--ogbpf8fl|xn--o3cw4h|xn--nyqy26a|xn--nqv7fs00ema|xn--nqv7f|xn--node|xn--ngbrx|xn--ngbe9e0a|xn--ngbc5azd|xn--mxtq1m|xn--mk1bu44c|xn--mix891f|xn--mgbx4cd0ab|xn--mgbtx2b|xn--mgbt3dhd|xn--mgbpl2fh|xn--mgbi4ecexp|xn--mgbgu82a|xn--mgberp4a5d4ar|xn--mgbca7dzdo|xn--mgbc0a9azcg|xn--mgbbh1a71e|xn--mgbbh1a|xn--mgbb9fbpob|xn--mgbayh7gpa|xn--mgbai9azgqp6j|xn--mgbab2bd|xn--mgbaam7a8h|xn--mgbaakc7dvf|xn--mgba7c0bbn0a|xn--mgba3a4f16a|xn--mgba3a3ejt|xn--mgb9awbf|xn--lgbbat1ad8j|xn--l1acc|xn--kput3i|xn--kpu716f|xn--kpry57d|xn--kprw13d|xn--kcrx77d1x4a|xn--jvr189m|xn--jlq61u9w7b|xn--j6w193g|xn--j1amh|xn--j1aef|xn--io0a7i|xn--imr513n|xn--i1b6b1a6a2e|xn--hxt814e|xn--h2brj9c8c|xn--h2brj9c|xn--h2breg3eve|xn--gk3at1e|xn--gecrj9c|xn--gckr3f0f|xn--g2xx48c|xn--fzys8d69uvgm|xn--fzc2c9e2c|xn--fpcrj9c3d|xn--flw351e|xn--fjq720a|xn--fiqz9s|xn--fiqs8s|xn--fiq64b|xn--fiq228c5hs|xn--fhbei|xn--fct429k|xn--estv75g|xn--efvy88h|xn--eckvdtc9d|xn--e1a4c|xn--d1alf|xn--d1acj3b|xn--czru2d|xn--czrs0t|xn--czr694b|xn--clchc0ea0b2g2a9gcd|xn--cg4bki|xn--cck2b3b|xn--c2br7g|xn--c1avg|xn--bck1b9a5dre4c|xn--b4w605ferd|xn--9krt00a|xn--9et52u|xn--9dbq2a|xn--90ais|xn--90ae|xn--90a3ac|xn--8y0a063a|xn--80aswg|xn--80asehdb|xn--80aqecdr1a|xn--80ao21a|xn--80adxhks|xn--6qq986b3xl|xn--6frz82g|xn--5tzm5g|xn--5su34j936bgsg|xn--55qx5d|xn--55qw42g|xn--54b7fta0cc|xn--4gbrim|xn--45q11c|xn--45brj9c|xn--45br5cyl|xn--42c2d9a|xn--3pxu8k|xn--3oq18vl8pn36a|xn--3hcrj9c|xn--3e0b707e|xn--3ds443g|xn--3bst00m|xn--30rr7y|xn--2scrj9c|xn--1qqw23a|xn--1ck2e1b|xn--11b4c3d|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|ws|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|wf|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|vu|voyage|voto|voting|vote|volvo|volkswagen|vodka|vn|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vi|vg|vet|versicherung|verm\xf6gensberatung|verm\xf6gensberater|verisign|ventures|vegas|ve|vc|vanguard|vana|vacations|va|uz|uy|us|ups|uol|uno|university|unicom|uk|ug|uconnect|ubs|ubank|ua|tz|tw|tvs|tv|tushu|tunes|tui|tube|tt|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|tr|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|to|tn|tmall|tm|tl|tkmaxx|tk|tjx|tjmaxx|tj|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|th|tg|tf|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|td|tci|tc|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|sz|systems|symantec|sydney|sy|sx|swiss|swiftcover|swatch|sv|suzuki|surgery|surf|support|supply|supplies|sucks|su|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|st|srt|srl|sr|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|so|sncf|sn|smile|smart|sm|sling|sl|skype|sky|skin|ski|sk|sj|site|singles|sina|silk|si|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sh|sg|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|se|sd|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sc|sbs|sbi|sb|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|sa|ryukyu|rwe|rw|run|ruhr|rugby|ru|rsvp|rs|room|rogers|rodeo|rocks|rocher|ro|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|re|raid|radio|racing|qvc|quest|quebec|qpon|qa|py|pwc|pw|pub|pt|ps|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|pr|post|porn|politie|poker|pohl|pnc|pn|pm|plus|plumbing|playstation|play|place|pl|pk|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|ph|pg|pfizer|pf|pet|pe|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|page|pa|ovh|ott|otsuka|osaka|origins|organic|org|orange|oracle|open|ooo|onyourside|online|onl|onion|ong|one|omega|om|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nz|nyc|nu|ntt|nrw|nra|nr|np|nowtv|nowruz|now|norton|northwesternmutual|nokia|no|nl|nissay|nissan|ninja|nikon|nike|nico|ni|nhk|ngo|ng|nfl|nf|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|ne|nc|nba|navy|natura|nationwide|name|nagoya|nadex|nab|na|mz|my|mx|mw|mv|mutual|museum|mu|mtr|mtn|mt|msd|ms|mr|mq|mp|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mo|mn|mma|mm|mls|mlb|ml|mk|mitsubishi|mit|mint|mini|mil|microsoft|miami|mh|mg|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|me|md|mckinsey|mc|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|ma|ly|lv|luxury|luxe|lupin|lundbeck|lu|ltda|ltd|lt|ls|lr|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lk|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|li|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lc|lb|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|la|kz|kyoto|ky|kw|kuokgroup|kred|krd|kr|kpn|kpmg|kp|kosher|komatsu|koeln|kn|km|kiwi|kitchen|kindle|kinder|kim|kia|ki|kh|kg|kfh|kerryproperties|kerrylogistics|kerryhotels|ke|kddi|kaufen|juniper|juegos|jprs|jpmorgan|jp|joy|jot|joburg|jobs|jo|jnj|jmp|jm|jll|jlc|jio|jewelry|jetzt|jeep|je|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|it|istanbul|ist|ismaili|iselect|is|irish|ir|iq|ipiranga|io|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|in|immobilien|immo|imdb|imamat|im|il|ikano|ifm|ieee|ie|id|icu|ice|icbc|ibm|hyundai|hyatt|hughes|hu|ht|hsbc|hr|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hn|hm|hkt|hk|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|gy|gw|guru|guitars|guide|guge|gucci|guardian|gu|gt|gs|group|grocery|gripe|green|gratis|graphics|grainger|gr|gq|gp|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gn|gmx|gmo|gmbh|gmail|gm|globo|global|gle|glass|glade|gl|giving|gives|gifts|gift|gi|gh|ggee|gg|gf|george|genting|gent|gea|ge|gdn|gd|gbiz|gb|gay|garden|gap|games|game|gallup|gallo|gallery|gal|ga|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fr|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fo|fm|fly|flowers|florist|flir|flights|flickr|fk|fj|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|fi|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|eu|etisalat|et|esurance|estate|esq|es|erni|ericsson|er|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|eg|ee|education|edu|edeka|eco|ec|eat|earth|dz|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|domains|doha|dog|dodge|doctor|docs|do|dnp|dm|dk|dj|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|de|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cz|cyou|cymru|cy|cx|cw|cv|cuisinella|cu|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cr|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|co|cn|cm|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cl|ck|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|ci|church|chrysler|chrome|christmas|chintai|cheap|chat|chase|channel|chanel|ch|cg|cfd|cfa|cf|cern|ceo|center|ceb|cd|cc|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|ca|bzh|bz|by|bw|bv|buzz|buy|business|builders|build|bugatti|budapest|bt|bs|brussels|brother|broker|broadway|bridgestone|bradesco|br|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bo|bnpparibas|bnl|bn|bmw|bms|bm|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|bj|biz|bio|bingo|bing|bike|bid|bible|bi|bharti|bh|bg|bf|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|be|bd|bcn|bcg|bbva|bbt|bbc|bb|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|ba|azure|az|axa|ax|aws|aw|avianca|autos|auto|author|auspost|audio|audible|audi|auction|au|attorney|athleta|at|associates|asia|asda|as|arte|art|arpa|army|archi|aramco|arab|ar|aquarelle|aq|apple|app|apartments|aol|ao|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|am|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|al|akdn|airtel|airforce|airbus|aigo|aig|ai|agency|agakhan|ag|africa|afl|afamilycompany|af|aetna|aero|aeg|ae|adult|ads|adac|ad|actor|active|aco|accountants|accountant|accenture|academy|ac|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa))"}}),null);
__d("URLMatcher",["URLMatcherConfig"],(function(a,b,c,d,e,f){d="!\"#%&'()*,-./:;<>?@[\\]^_`{|}";f="\u2000-\u206f\xab\xbb\uff08\uff09";var g="(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])",h="(?:https?)://";g="(?:(?:"+g+"[.]){3}"+g+")";var i="\\[(?:(?:[A-Fa-f0-9]{1,4}::?){1,7}[A-Fa-f0-9]{1,4})\\]",j="(?:\\b)www\\d{0,3}[.]";d="[^\\s"+d+f+"]";f="(?:(?:(?:[.:\\-_%@]|"+d+")*"+d+")|"+i+")";d="(?::\\d+){0,1}";var k="(?=[/?#])";b=b("URLMatcherConfig").tlds;var l="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+k+"))";k="(?:(?:"+h+f+d+")|(?:"+g+d+")|(?:"+i+d+")|(?:"+j+f+b+d+")|(?:"+f+b+d+"))";g="[/#?]";i="\\([^\\s()<>]+\\)";var m="[^\\s()<>?#]+",n=new RegExp(l,"im"),o="^\\[[0-9]{1,4}:[0-9]{1,4}:[A-Fa-f0-9]{1,4}\\]",p=new RegExp(o,"im"),q="(?:(?:"+g+")(?:(?:"+i+"|"+m+")*)*)*",r=new RegExp("((?:"+k+")(?:"+q+"))","im");function a(){r.compile()}var s=new RegExp("((?:"+h+f+d+")|(?:"+j+f+b+d+"))"),t=/[\s\'\";]/,u=new RegExp(g,"im"),v=new RegExp("[\\s!\"#%&'()*,./:;<>?@[\\]^`{|}\xab\xbb\u2000-\u206f\uff08\uff09]","im"),w=new RegExp("[\\s()<>?#]","im"),x=new RegExp("\\s()<>"),y=function(a){if(a!=null&&a.indexOf("@")!=-1)return s.exec(a)?a:null;else return a},z=function(a){return new RegExp("((?:"+l+")(?:"+q+"))",a)};function c(){return r.source}o=function(a){return A(a,z("im"))};i=function(a){return B(a,z("igm"))};m=function(a){return A(a,r)};var A=function(a,b){b=b.exec(a);return b==null||b.length===0?null:y(b[1]||null)},B=function(a,b){a=a.match(b);return a==null?[]:a.filter(Boolean)||[]};k=function(a){return n.exec(a)};h=function(a){return!t.test(a.charAt(a.length-1))};j=function(a){a=a;var b=!1;do{var c=n.exec(a);if(!c)return null;b=!1;if(c[0][0]==="["&&c.index>0&&a[c.index-1]==="@"){var d=p.exec(c[0]);d&&(b=!0,a=a.substr(c.index+d[0].length))}}while(b);if(!c)return null;d=a.substr(c.index+c[0].length);if(d.length===0||!u.test(d[0]))return y(c[0]);b=0;a=0;var e=1,f=["(","["],g=[")","]"],h=0,i=a;for(var j=1;j<d.length;j++){var k=d[j];if(i===a){if(f.includes(k))h+=1,i=e;else if(u.test(k)||!v.test(k))b=j;else if(w.test(k))break}else if(f.includes(k))h+=1;else if(g.includes(k))h-=1,h===0&&(i=a,b=j);else if(x.test(k))break}return y(c[0]+d.substring(0,b+1))};f={compilePermissiveHostPathMatcher:a,permissiveHostPathMatch:m,permissiveMatch:o,permissiveMultiMatch:i,matchToPattern:A,multiMatchToPattern:B,matchHost:k,trigger:h,match:j,getPermissiveHostPathMatcherSource:c};e.exports=f}),null);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("EntMessageReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({REGULAR:0,BUMP:1});f["default"]=a}),66);
__d("FDSTextWebUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null?void 0:a==="tertiary"?"tertiary":a}function b(a){return a==null?void 0:a==="tertiary"?"tertiary":a}function c(a){return a==null?void 0:a==="tertiary"?"tertiary":a}f.getFDSBodyColor=a;f.getFDSHeadlineColor=b;f.getFDSMetaColor=c}),66);
__d("IWAAPI",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";b=1;function a(a){return function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return d("WABridge").getBridge().sendAndReceive("backend","waapi",{type:a,args:c})}}g.version=b;g.makeBridgedApi=a}),98);
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"add_messenger_contact",c.i64.cast([0,308]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactAddMessengerContactStoredProcedure";e.exports=a}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.contactId;return c("LSAddMessengerContact").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.forEach(b.filter(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){var d=a.item;return b.sequence([function(a){return b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(d.taskDispatchPriority,b.i64.cast([0,1e3]))?c[0]=b.i64.cast([0,734739218]):c[0]=b.i64.cast([0,734737036])}])})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreCancelTaskByQueueNameStoredProcedure";e.exports=a}),null);
__d("LSContactGender",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});f["default"]=a}),66);
__d("LSContactIdType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});f["default"]=a}),66);
__d("LSContactType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,USER:1,PAGE:2,PAGE_PERSONA:3});f["default"]=a}),66);
__d("LSContactTypeExact",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FB_USER:1,MESSENGER_ONLY:2,DEACTIVATED_ALLOWED_ON_MESSENGER:3,MESSENGER_KID:4,FB_PAGE:5,FB_PAGE_PERSONA:6,IG_USER:7,MESSENGER_CALL_GUEST:8,WHATSAPP:9,GUEST_USER:10,IG_BUSINESS_USER:11,IG_CREATOR_USER:12,FB_SINGLE_OWNER_ADDITIONAL_PROFILE:13,PROXY_OCULUS_USER:14,WORK_VC_ENDPOINT:15,GENERATIVE_AI_BOT:16,COMMUNITY_CHAT:17,INTEROP_3P_USER:18,FB_ONLY_NOT_ALLOWED_ON_MESSENGER:19,MESSENGER_ONLY_NOT_ALLOWED_ON_FB:20,ADDITIONAL_PROFILE_PLUS:21,GROUP_ANONYMOUS_PROFILE:50,USER_FOR_SUPPORT:51});f["default"]=a}),66);
__d("LSContactViewerRelationship",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,NOT_CONTACT:1,CONTACT_OF_VIEWER:2,FACEBOOK_FRIEND:3,SOFT_CONTACT:4});f["default"]=a}),66);
__d("LSContactWorkForeignEntityType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});f["default"]=a}),66);
__d("LSDatascriptEvaluatorDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSDatascriptEvaluator").__setRef("LSDatascriptEvaluatorDeferred");function a(){return h.load()}g["default"]=a}),98);
__d("LSDeleteThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),void 0],c[0]=e[0],c[1]=e[1],e):(d=a.item,e=[d.parentThreadKey,d.disappearingThreadKey],c[0]=e[0],c[1]=e[1],e)})},function(a){return b.count(b.db.table(9).fetch([[[c[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(a){return c[3]=a})},function(d){return a[1]&&b.i64.neq(c[0],b.i64.cast([0,0]))&&b.i64.eq(c[3],b.i64.cast([0,1]))?b.sequence([function(d){return b.forEach(b.db.table(9).fetch([[[a[0]],[c[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}]):b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.i64.neq(c[1],void 0)?0:0}])}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThreadStoredProcedure";e.exports=a}),null);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f,g){"use strict";var h={file:null,photo:null,video:null},i={"image/gif":"video","image/webp":"video"};function j(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function k(a,b,d){h[a]==null&&(h[a]=j(d));d=h[a];if(d==null)throw c("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var e=i[b];return e!=null?e===a:d.some(function(a){return b.startsWith(a)})}function a(a){return k("photo",a,d("UFICommentFileInputAcceptValues").photos)}function b(a){return k("video",a,d("UFICommentFileInputAcceptValues").videos)}function e(a){return k("file",a,d("UFICommentFileInputAcceptValues").files)}g.mimeTypeAcceptStringToArray=j;g.isMimeTypeForPhoto=a;g.isMimeTypeForVideo=b;g.isMimeTypeForFile=e}),98);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(g||(g=b("Promise")))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f["default"]=a}),66);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";var h=8;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(12,16).reduce(function(a,b,c){return a+String.fromCharCode(b)},"");if(b==="VP8X"){b=a[20];b=b.toString(2).padStart(8,"0");if(b[6]==="1")return!i(a)}return!0})}function i(a){var b=12,c=0;while(c<2&&b+h<a.length){var d=j(a,b);d==="ANMF"&&c++;d=k(a,b+4);var e=d%2;d=h+d+e;b+=d}return c>1}function j(a,b){return a.slice(b,b+4).reduce(function(a,b,c){return a+String.fromCharCode(b)},"")}function k(a,b){return parseInt(a.slice(b,b+4).reduce(function(a,b,c){return b.toString(2).padStart(8,"0")+a},""),2)}g["default"]=a}),98);
__d("LSGetAttachmentType",["LSIntEnum","MessagingAttachmentType","asyncToGeneratorRuntime","cometIsMimeTypeForMedia","genIsNonAnimatedWebPFile"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a.type==="image/webp"?(h||(h=d("LSIntEnum"))).ofNumber((yield c("genIsNonAnimatedWebPFile")(a))?c("MessagingAttachmentType").IMAGE:c("MessagingAttachmentType").VIDEO):j(a)});return i.apply(this,arguments)}function j(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a==="audio/wav")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a==="image/gif")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)}g.LSGetAttachmentType=a;g.LSGetAttachmentTypeSyncButLessAccurate=j}),98);
__d("LSGroupParticipantJoinState",[],(function(a,b,c,d,e,f){a=Object.freeze({MEMBER:0,PENDING:1,INVITED:2});f["default"]=a}),66);
__d("LSInitSyncCompleteSubscription",["I64","LSIntEnum","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return new(j||(j=b("Promise")))(function(b,e){var f=d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(c).subscribe(function(a,c){if(c.operation==="delete")return;if((h||(h=d("I64"))).equal(c.value.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2))){f();return b()}})})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(b)).then(function(c){if(c!=null&&(h||(h=d("I64"))).equal(c.syncStatus,(i||(i=d("LSIntEnum"))).ofNumber(2)))return;return k(a,b)})}function c(a){return k(a,(i||(i=d("LSIntEnum"))).ofNumber(1))}g.maybeWaitForSyncGroup=a;g.use=c}),98);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSIssueNewError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(6).add({errorId:void 0,taskId:a[0],errorCode:a[1],errorTitleText:a[2],errorBodyText:a[3],issuedTimestampMs:c[0],errorExtraData:a[4],presentationStyle:a[5]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewErrorStoredProcedure";e.exports=a}),null);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.taskId;d[1]=b.errorCode;d[2]=b.errorTitleText;d[3]=b.errorBodyText;d[4]=b.errorExtraData;d[5]=b.presentationStyle;return c("LSIssueNewError").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueNewFireAndForgetTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(5).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[0]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewFireAndForgetTaskStoredProcedure";e.exports=a}),null);
__d("LSMailboxTaskCompletionApiOnTaskInsertion",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.islc(b.db.table(232).fetch(),0,b.i64.to_float(b.i64.cast([0,1]))),function(c){c=c.item;return b.db.table(233).add({taskId:a[0],notificationScopeKey:c.notificationScopeKey,notificationName:c.notificationName})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreMailboxTaskCompletionApiOnTaskInsertionStoredProcedure";e.exports=a}),null);
__d("LSIssueNewTaskWithExtraOperations",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[11]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsStoredProcedure";e.exports=a}),null);
__d("LSIssueNewTaskWithExtraOperationsAndGetTaskID",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],c.i64.cast([0,0])).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.storedProcedure(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsAndGetTaskIDStoredProcedure";e.exports=a}),null);
__d("LSMailboxType",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER:0,COMMUNITIES:1,TINCAN:1024,TAM:4096});f["default"]=a}),66);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure";e.exports=a}),null);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSMessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});f["default"]=a}),66);
__d("LSMessagingThreadAttributionType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNKNOWN_TEST:1,UNKNOWN_FAILURE_RETRY:2,MESSENGER_INBOX:65536,MESSENGER_INBOX_IN_THREAD:65537,MESSENGER_INBOX_THREAD_LIST:65538,MESSENGER_INBOX_NESTED_FOLDER:65539,MESSENGER_INBOX_RECENT_THREADS:65540,MESSENGER_INBOX_REMAINING_THREADS:65541,MESSENGER_INBOX_MESSAGE_SEARCH:65542,MESSENGER_INBOX_IMAGE_SENDING:65543,MESSENGER_INBOX_FORWARD:65544,MESSENGER_INBOX_ARCHIVED_THREADS:65545,MESSENGER_INBOX_PENDING_REQUESTS:65546,MESSENGER_INBOX_ACTIVE_CONTACTS:65547,MESSENGER_INBOX_THREAD_BANNER_BOTTOM_SHEET:65548,MESSENGER_INBOX_PEOPLE_YOU_MAY_KNOW:65549,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET:65550,MESSENGER_INBOX_HOLIDAY_CARD_SHARE_SHEET_QP:65551,MESSENGER_UNIVERSAL_SEARCH:131072,MESSENGER_UNIVERSAL_SEARCH_NULL_STATE:131073,MESSENGER_UNIVERSAL_SEARCH_KEY_PRESSED:131074,MESSENGER_UNIVERSAL_SEARCH_MESSAGE_SEARCH:131075,MESSENGER_UNIVERSAL_SEARCH_ADVANCED_CONTENT_SEARCH:131076,MESSENGER_UNIVERSAL_SEARCH_AI_PROMPT:131077,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD:131078,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_AIRPLANE_SEND:131079,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_KEYBOARD_SEND:131080,MESSENGER_UNIVERSAL_SEARCH_AI_TYPEAHEAD_DONUT:131081,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_DONUT:131082,MESSENGER_UNIVERSAL_SEARCH_AI_NULLSTATE_AIRPLANE_SEND:131083,MESSENGER_UNIVERSAL_SEARCH_META_AI_SEARCH_RESULT:131084,MONTAGE_AND_ACTIVE_NOW:196608,MONTAGE_AND_ACTIVE_NOW_MONTAGE_INBOX_UNIT:196609,MONTAGE_AND_ACTIVE_NOW_ACTIVE_NOW:196610,MONTAGE_AND_ACTIVE_NOW_INBOX_COMPOSER:196611,MONTAGE_AND_ACTIVE_NOW_ACTIVE_AND_HAS_STORY:196612,MONTAGE_AND_ACTIVE_NOW_CUSTOM_STATUS:196613,MONTAGE_AND_ACTIVE_NOW_NOTES:196614,MONTAGE_AND_ACTIVE_NOW_SEE_ALL_ACTIVE:196615,MONTAGE_AND_ACTIVE_NOW_AN_TRAY_STORY_REPLY:196616,MESSENGER_ACTIVE_NOW_FRIENDS_TAB:262144,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_FRIENDS_TAB:262145,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_PLACE_HOLDER:262146,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE:262147,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_RECENT_ACTIVE_AND_STORY:262148,MESSENGER_ACTIVE_NOW_FRIENDS_TAB_CONTENT_DISCOVERY:262149,MESSENGER_PENDING_REQUESTS:327680,MESSENGER_PENDING_REQUESTS_INBOX_THREAD_LIST:327681,MESSENGER_PENDING_REQUESTS_PENDING_REQUESTS_PAGE:327682,MESSENGER_BROADCAST_FLOW:393216,MESSENGER_BROADCAST_FLOW_FROM_MESSENGER:393217,MESSENGER_BROADCAST_FLOW_FROM_FB:393218,MESSENGER_BROADCAST_FLOW_FROM_EXTERNAL:393219,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_SHARESHEET:393220,MESSENGER_BROADCAST_FLOW_FROM_FB__NEWSFEED_GOODWILL_COMPOSER:393221,MESSENGER_BROADCAST_FLOW_FROM_FB__SHORTS_VIEWER:393222,MESSENGER_BROADCAST_FLOW_FORWARD_GUTTER:393223,MESSENGER_BROADCAST_FLOW_FORWARD_LONGCLICK:393224,MESSENGER_BROADCAST_FLOW_MESSENGER_PHOTO_VIEW:393225,MESSENGER_OMNIPICKER:458752,MESSENGER_OMNIPICKER_NULL_STATE:458753,MESSENGER_OMNIPICKER_KEY_PRESSED:458754,MESSENGER_NOTIFICATION:524288,MESSENGER_NOTIFICATION_IN_THREAD_REPLY:524289,MESSENGER_NOTIFICATION_LONGPRESS_REPLY:524290,MESSENGER_NOTIFICATION_LONGPRESS_REACTION:524291,CLICK_TO_MESSENGER_AD:589824,CLICK_TO_MESSENGER_AD_FROM_NEWSFEED:589825,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA:589826,CLICK_TO_MESSENGER_AD_VIEW_AND_MESSAGE:589827,CLICK_TO_MESSENGER_AD_SEND_MESSAGE_CTA__NEWSFEED_CTM_ADS_CTA:589828,PAYMENTS:655360,PAYMENTS_BUBBLE_CLICK:655361,RTC:720896,RTC_VOIP_INCALL:720897,RTC_DRAWER_PROMOTION:720898,FB_PAGE:786432,FB_PAGE_ABOUT_CARD:786433,FB_PAGE_PROFILE_HEADER_MESSAGE_BUTTON:786434,FB_PAGE_PROFILE_FOOTER_MESSAGE_BUTTON:786435,FB_PAGE_PROFILE_MORE_DRAWER:786436,FB_PAGE_RESPONSIVENESS_CONTEXT_CARD:786437,FB_PAGE_PYMM_RHC:786439,FB_PROFILE:851968,FB_PROFILE_TIMELINE_MESSAGE_BUTTON:851969,FB_PROFILE_FACEBOOK_PROFILE:851970,FB_PROFILE_MESSAGE_BUTTON:851971,FB_PROFILE_MESSAGE_BUTTON_BLOKS_URL:851972,FB_PROFILE_PROFILE_HEADER_COMPOSER:851973,FB_SEARCH:917504,FB_SEARCH_CONTEXTUAL_PROFILE_ACTION_BAR_FROM_SEARCH:917505,FB_SEARCH_SEARCH_MESSAGE_BUTTON:917506,FB_SEARCH_FB_MESSAGE_SEARCH_RESULTS:917507,FB_SEARCH_HIGH_CONFIDENCE_CARD:917508,FB_SEARCH_MENTIONS:917509,FB_SEARCH_NULLSTATE_CTA:917510,FB_SEARCH_NULL_STATE:917511,FB_SEARCH_TYPEAHEAD:917512,FB_SEARCH_TYPEAHEAD_AIRPLANE_SEND:917513,FB_SEARCH_TYPEAHEAD_KEYBOARD_SEND:917514,FB_SEARCH_TYPEAHEAD_DONUT:917515,FB_SEARCH_NULL_STATE_DONUT:917516,FB_SEARCH_NULL_STATE_AIRPLANE_SEND:917517,FB_SEARCH_NULL_STATE_KEYBOARD_SEND:917518,FB_SEARCH_SERP_PROMPT_SUGGESTIONS:917519,CRYPTO:983040,MESSENGER_MONTAGE_COMPOSER:1048576,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB:1048577,MESSENGER_MONTAGE_COMPOSER_FRIENDS_TAB_STORY_AND_ACTIVE_NOW:1048578,MESSENGER_MONTAGE_REPLY:1114112,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE:1114113,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT:1114114,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR:1114115,MESSENGER_MONTAGE_REPLY_INBOX_THREAD_LIST_PROFILE_AUTHOR_PROFILE:1114116,MESSENGER_MONTAGE_REPLY_REPLY_CONTEXT_AUTHOR_PROFILE:1114117,MESSENGER_MONTAGE_REPLY_THREAD_NAV_BAR_AUTHOR_PROFILE:1114118,MESSENGER_MONTAGE_REPLY_ONE_TO_ONE_CHAT_THREAD_STORY_BUBBLE:1114119,MESSENGER_THREAD_MEMBERS_LIST:1179648,MARKETPLACE:1245184,MARKETPLACE_ACTIVITY_BANNER:1245185,MARKETPLACE_SEND_MESSAGE:1245186,MARKETPLACE_GEN_AI_ACCORDION_META_AI_PILL:1245187,MARKETPLACE_GEN_AI_ACCORDION_FOLLOW_UP_QUESTION:1245188,MARKETPLACE_GEN_AI_PRICE_CHECK_META_AI_PILL:1245189,MARKETPLACE_GEN_AI_PRICE_CHECK_FOLLOW_UP_QUESTION:1245190,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_GENERIC:1245191,MARKETPLACE_META_AI_PILLS_MODULE_META_AI_PILL_WITH_PROMPT:1245192,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_GENERIC:1245193,MARKETPLACE_GEN_AI_ENRICHED_DESCRIPTION_META_AI_PILL_WITH_PROMPT:1245194,FB_STORY:1310720,FB_STORY_VIEWER_SHEET_MENU:1310721,FB_STORY_VIEWER_SHEET_ROW:1310722,FB_STORY_STORIES_JEWEL_NOTIFICATION:1310723,FB_STORY_STORIES_PUSH_NOTIFICATION:1310724,FB_STORY_STORIES_VIEWER_CONSUMER_REPLY:1310725,FB_STORY_STORIES_VIEWER_CONSUMER_ARTIFACT:1310726,FB_STORY_STORIES_PAGE_STORY_CONVERSATIONS:1310727,FB_STORY_SOCIAL_CONTEXT_CONVERSATIONS:1310728,FB_STORY_MENTIONS:1310729,FB_STORY_SELF_STORY_SEND:1310730,FB_STORY_SHARESHEET:1310731,FB_STORY_NOTES:1310732,WORKSPEED:1376256,WORKSPEED_COMPOSER_LIKE_BUTTON:1376257,WORKSPEED_COMPOSER_GIF_PICKER:1376258,MDOTME:1441792,MDOTME_ORGANIC_POST:1441793,MDOTME_MARKETING_EMAIL:1441794,MDOTME_MBS_OFFSITE_EMAIL:1441795,CUSTOMER_CHAT_PLUGIN:1507328,CUSTOMER_CHAT_PLUGIN_MOBILE_REDIRECT:1507329,CUSTOMER_CHAT_PLUGIN_UPGRADE_FLOW:1507330,CUSTOMER_CHAT_PLUGIN_RE_ENGAGEMENT:1507331,FB_FEED:1572864,FB_FEED_ORGANIC_POST:1572865,FB_FEED_ORGANIC_POST_VIEW_AND_MESSAGE:1572866,FB_FEED_QUESTION_TRIGGERED_CONVO:1572867,FB_FEED_DYNAMIC_HOVER_CARD:1572868,FB_FEED_ORGANIC_POST__NEWSFEED_PAGE_POST_CTA:1572869,FB_FEED_ORGANIC_POST__NEWSFEED_BUMPER_SMCTA:1572870,FB_FEED_BCF_OPEN_CHAT_BUTTON:1572871,FB_FEED_REACTORS_LIST_MESSAGE_BUTTON:1572872,FB_FEED_REPLY_TO_AUTHOR:1572873,FB_FEED_UFI_SEND_SUGGESTIONS:1572874,FB_FEED_BCF:1572875,FB_FEED_COMMUNITY_CHATS_FEED_POST:1572876,FB_FEED_SOCIAL_CONNECTIONS_QP:1572877,FB_FEED_META_AI_DEEP_DIVES:1572878,FB_FEED_META_AI_SHARE_SHEET:1572879,FB_FEED_META_AI_TRENDING_DISCOVER_UNIT:1572880,FB_FEED_META_AI_POST_DEEPDIVE_PILL:1572881,FB_FEED_META_AI_EDUCATIONAL_QP:1572882,FB_FEED_META_AI_ENTITY_SUMMARIZATION_DISCOVER_UNIT:1572883,FB_FEED_META_AI_COMMENTS_SUMMARY:1572884,FB_FEED_META_AI_FAB:1572885,FB_FEED_META_AI_ADS_CAMPAIGN:1572886,FB_FEED_META_AI_ANSWERSHEET:1572887,FB_FEED_META_AI_BOOKMARK:1572888,FB_NOTIFICATION:1638400,FB_NOTIFICATION_JEWEL_NOTIF:1638401,FB_NOTIFICATION_PUSH_NOTIF:1638402,FB_EVENT:1703936,FB_EVENT_MESSAGE_HOST:1703937,FB_EVENT_SHARE_CLASS_MATERIALS:1703938,SUPPORT_RESOURCES:1769472,SUPPORT_RESOURCES_FRX_ACTION:1769473,LEAD_GEN_MESSAGING:1835008,LEAD_GEN_MESSAGING_PRE_SUBMISSION:1835009,LEAD_GEN_MESSAGING_POST_SUBMISSION:1835010,LEAD_GEN_MESSAGING_CROSS_CHANNEL_VERTICAL_PRESENT_ANDROID:1835011,LEAD_GEN_MESSAGING_CROSS_CHANNEL_HSCROLL_ANDROID:1835012,MESSENGER_GRAPH:1900544,MESSENGER_GRAPH_SELECT_CONTACT:1900545,MESSENGER_CHAT:1966080,MESSENGER_CHAT_FROM_JEWEL__THREAD_LIST:1966081,MESSENGER_CHAT_IN_THREAD:1966082,MESSENGER_CHAT_FORWARD:1966083,MESSENGER_ARCHIVED_THREADS:2031616,MESSENGER_ARCHIVED_THREADS_ARCHIVED_THREADS_FOLDER:2031617,JEWEL:2097152,JEWEL_THREAD_LIST:2097153,JEWEL_SEARCH:2097154,JEWEL_NEW_MESSAGE:2097155,JEWEL_NESTED_FOLDER:2097156,CHATHEADS:2162688,CHATHEADS_RECENT_THREADS:2162689,CHATHEADS_OVERFLOW:2162690,CHATHEADS_NEW_MESSAGE:2162691,SIDEBAR:2228224,SIDEBAR_CONTACTS_LIST:2228225,SIDEBAR_CONTACTS_SEARCH:2228226,SIDEBAR_CONTACTS_GROUPS:2228227,SIDEBAR_CONTACTS_COMMUNITY_CHATS:2228228,MESSENGER_COMMUNITY_MESSAGING:2293760,MESSENGER_COMMUNITY_MESSAGING_COMMUNITY_CHANNEL:2293761,MESSENGER_COMMUNITY_MESSAGING_FULLSCREEN_CHAT:2293762,FB_PLATFORM_LOGIN:2359296,FB_PLATFORM_LOGIN_LOGIN_CONNECT_WITH_MESSENGER:2359297,CONTACT_MANAGER:2424832,CONTACT_MANAGER_CONTACT_SHARE:2424833,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_LIST:2424834,CONTACT_MANAGER_PEOPLE_TAB_CONTACT_SEARCH:2424835,CONTACT_MANAGER_ICON_CONTACT_LIST:2424836,CONTACT_MANAGER_ICON_CONTACT_SEARCH:2424837,MESSAGING_INBOX_IN_BLUE:2490368,MESSAGING_INBOX_IN_BLUE_THREAD_LIST:2490369,MESSAGING_INBOX_IN_BLUE_PEOPLE_PICKER:2490370,MESSAGING_INBOX_IN_BLUE_INBOX_ICON:2490371,MESSAGING_INBOX_IN_BLUE_SWIPE_FROM_RIGHT:2490372,MESSAGING_INBOX_IN_BLUE_MIB_NOTIFICATION:2490373,MESSAGING_INBOX_IN_BLUE_ACTIVE_NOW:2490374,MESSAGING_INBOX_IN_BLUE_SUGGESTED_CHATS:2490375,MESSAGING_INBOX_IN_BLUE_CHAT_PREVIEW_BANNER:2490376,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_CORE_NULL_STATE:2490377,MESSAGING_INBOX_IN_BLUE_MESSAGE_REQUESTS:2490378,MESSAGING_INBOX_IN_BLUE_SPAM:2490379,MESSAGING_INBOX_IN_BLUE_FB_GROUPS:2490380,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_BUTTON:2490381,MESSAGING_INBOX_IN_BLUE_MESSENGER_PEEK_STATE_TOOLTIP:2490382,MESSAGING_INBOX_IN_BLUE_BROADCAST_FLOW:2490383,MESSAGING_INBOX_IN_BLUE_THREAD_VIEW_HEADER:2490384,MESSAGING_INBOX_IN_BLUE_PRIVACY_SETTINGS:2490385,MESSAGING_INBOX_IN_BLUE_ARCHIVED_CHATS:2490386,MESSAGING_INBOX_IN_BLUE_UNIVERSAL_SEARCH:2490387,MESSAGING_INBOX_IN_BLUE_INBOX_SEARCH_BAR:2490388,MIB_NOTIFICATION:2555904,MIB_NOTIFICATION_PUSH_NOTIFICATION:2555905,MIB_NOTIFICATION_JEWEL_NOTIFICATION:2555906,MIB_NOTIFICATION_DIRECT_PUSH_NOTIF:2555907,MIB_NOTIFICATION_DIRECT_JEWEL_NOTIF:2555908,MESSENGER_RESTRICTED_ACCOUNTS:2621440,ARMADILLO_CUTOVER_THREAD_LINKING_MESSAGE:2686976,CALLS_TAB:2752512,MINI_SHOP_VIEW_MENU_BUTTON:2818048,SHARESHEET:2883584,SHARESHEET_GENERALIZED_BROADCAST_FLOW:2883585,SHARESHEET_OFF_PLATFORM_SHARING_H_SCROLL:2883586,SHARESHEET_BROADCAST_CHANNEL:2883587,UFI:2949120,UFI_GENERALIZED_BROADCAST_FLOW:2949121,CHATHEAD_CLICK_COLLAPSED:3014656,TIMELINE_MESSAGE_BUTTON:3080192,DIRECT_REPLY_INTENT:3145728,FB_GROUPS:3211264,FB_GROUPS_INBOX:3211265,FB_GROUPS_PICKER_EXISTING_CHAT:3211266,FB_GROUPS_PICKER_JOIN_CHAT:3211267,FB_GROUPS_MEMBER_LIST:3211268,FB_GROUPS_INLINE_COMPOSER:3211269,FB_GROUPS_SCOPED_SEARCH:3211270,FB_GROUPS_UNJOINED_MALL_HEADER:3211271,FB_GROUPS_DISCOVER_FEED_UNIT:3211272,FB_GROUPS_ANSWER_AGENT_CONTEXTUAL_PROFILE:3211273,FB_GROUPS_ANSWER_AGENT_FOLLOWUP_SECTION:3211274,FB_GROUPS_NOTIFICATION_MESSAGING_IN_BLUE_DIRECT_MESSAGE:3211275,FB_GROUPS_UGC:3211276,FB_GROUPS_UGC_POST:3211277,FB_GROUPS_UGC_MALL_PLINK:3211278,FB_GROUPS_UGC_MALL_NUX:3211279,FB_GROUPS_UGC_ADMIN_TESTING:3211280,FB_GROUPS_UGC_INTRO_POST:3211281,DEVICES:3276800,DEVICES_STELLA:3276801,FB_WELLBEING:3342336,FB_WELLBEING_INCALL_UNBLOCKING_NOTIFICATION:3342337,MESSENGER_DEEP_LINKING:3407872,READ_ONLY_CUTOVER_THREAD:3473408,READ_ONLY_CUTOVER_THREAD_ARMADILLO_THREAD:3473409,ARMADILLO_THREAD:3538944,ARMADILLO_THREAD_READ_ONLY_CUTOVER_THREAD:3538945,ARMADILLO_THREAD_EXTERNAL_LINK:3538946,FB_SHORTS:3604480,FB_SHORTS_PROFILE:3604481,FB_SHORTS_REACTORS_LIST_MESSAGE_BUTTON:3604482,SEND_PLUGIN:3670016,SEND_AS_MESSAGE_FROM_NT:3735552,MESSENGER_PUBLIC_CHATS_MESSAGING:3801088,MESSENGER_GROWTH:3866624,MESSENGER_GROWTH_NOTIFICATIONS_ENTRYPOINT:3866625,FRIENDS_HOME:3932160,FRIENDS_HOME_ACTIVE_NOW:3932161,FRIENDS_HOME_MESSAGE_NEW_FRIENDS:3932162,FRIENDS_HOME_POST_ACCEPT_MESSAGING:3932163,FRIENDS_HOME_SENDER_POST_ACCEPT_WAVE:3932164,EXTERNAL_LINK_XMA:3997696,EXTERNAL_LINK_XMA_FROM_COMPOSER:3997697,EXTERNAL_LINK_XMA_FROM_DEEP_LINKING:3997698,EXTERNAL_LINK_XMA_FROM_SHARE_EXTENSION:3997699,FB_NOTIFICATIONS:4063232,QUICK_PROMOTION:4128768,QUICK_PROMOTION_CTA:4128769,QUICK_PROMOTION_INTERSTITIAL:4128770,QUICK_PROMOTION_TOP_BANNER:4128771,FBM_IN_APP_NOTIFS:4194304,CREATOR_SUPPORT:4259840,CREATOR_SUPPORT_MESSENGER_TOAST:4259841,FB_INSTANT_GAME:4325376,COMMUNITY_CHATS_IN_FEED:4390912,COMMUNITY_CHATS_IN_FEED_PERMALINK:4390913,UNIFIED_BUSINESS_INBOX:4456448,ROLLCALL:4521984,HIGHLIGHTS_TAB:4587520,HIGHLIGHTS_TAB_FEED_INLINE:4587521,HIGHLIGHTS_TAB_MEDIA_VIEWER:4587522,HIGHLIGHTS_TAB_THREAD_VIEW:4587523,HIGHLIGHTS_TAB_FEED_INLINE_CONNECTED_CHAT:4587524,HIGHLIGHTS_TAB_FEED_INLINE_LOCAL_EVENT:4587525,HIGHLIGHTS_TAB_FEED_INLINE_FRIENDS_UPDATE:4587526,HIGHLIGHTS_TAB_FEED_INLINE_BIRTHDAY:4587527,HIGHLIGHTS_TAB_MEDIA_VIEWER_CONNECTED_CHAT:4587528,HIGHLIGHTS_TAB_MEDIA_VIEWER_FRIENDS_UPDATE:4587529,HIGHLIGHTS_TAB_THREAD_VIEW_CONNECTED_CHAT:4587530,HIGHLIGHTS_TAB_THREAD_VIEW_LOCAL_EVENT:4587531,HIGHLIGHTS_TAB_THREAD_VIEW_FRIENDS_UPDATE:4587532,HIGHLIGHTS_TAB_THREAD_VIEW_BIRTHDAY:4587533,HIGHLIGHTS_TAB_THREAD_VIEW_NOTE:4587534,HIGHLIGHTS_TAB_FEED_INLINE_NOTE:4587535,HIGHLIGHTS_TAB_CONNECTED_BROADCAST_CHANNEL_SHARE_SHEET:4587536,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER_BIRTHDAY:4587537,HIGHLIGHTS_TAB_SHARE_SHEET_HOLIDAY_CARD:4587538,HIGHLIGHTS_TAB_META_AI_BIRTHDAY:4587539,HIGHLIGHTS_TAB_QUICK_REACT_CONNECTED_CHAT:4587540,HIGHLIGHTS_TAB_QUICK_REACT_LOCAL_EVENT:4587541,HIGHLIGHTS_TAB_QUICK_REACT_FRIENDS_UPDATE:4587542,HIGHLIGHTS_TAB_QUICK_REACT_BIRTHDAY:4587543,HIGHLIGHTS_TAB_QUICK_REACT_STORIES:4587544,HIGHLIGHTS_TAB_QUICK_REACT_NOTE:4587545,HIGHLIGHTS_TAB_QUICK_REACT_LIFE_EVENT:4587546,MARKETPLACE_INBOX:4653056,ONE_TAP_MESSAGE_QUICK_SHARE:4718592,HIGHLIGHTS_TAB_STORIES_TRAY:4784128,FB_BIRTHDAY_CENTER:4849664,MESSENGER_SIRIKIT:4915200,MESSENGER_SIRIKIT_CALLKIT_QUICK_REPLY:4915201,MESSENGER_SIRIKIT_VOICE_COMMAND:4915202,CLICK_TO_SUBSCRIBE_AD:4980736,HIGHLIGHTS_TAB_SMART_REPLY_DRAWER:5046272,FB_UNIVERSAL_SEARCH:5111808,FB_UNIVERSAL_SEARCH_NULL_STATE_SUGGESTED:5111809,FB_UNIVERSAL_SEARCH_NULL_STATE_RECENT:5111810,FB_UNIVERSAL_SEARCH_QUERY_RESULTS:5111811,FBLITE_MESSAGING:5177344,FBLITE_MESSAGING_FROM_EXTERNAL:5177345,FBLITE_MESSAGING_FORWARD_FROM_BROADCAST_FLOW:5177346,FBLITE_MESSAGING_IN_THREAD:5177349,FBLITE_MESSAGING_ACTIVE_NOW:5177352,FBLITE_MESSAGING_ARCHIVED_CHATS:5177353,FBLITE_MESSAGING_SPAM:5177354,FBLITE_MESSAGING_MESSAGE_REQUESTS:5177355,FBLITE_MESSAGING_MARKETPLACE:5177356,FBLITE_MESSAGING_THREAD_MEMBERS_LIST:5177357,FBLITE_MESSAGING_READONLY_VERSION_OF_CUTOVER_THREAD:5177358,FBLITE_MESSAGING_NOTIFICATION:5242880,FBLITE_MESSAGING_NOTIFICATION_IN_THREAD_REPLY:5242881,FBLITE_MESSAGING_NOTIFICATION_DIRECT_REPLY:5242882,FBLITE_INBOX:5308416,FBLITE_INBOX_UNIVERSAL_SEARCH:5308417,FBLITE_INBOX_PEOPLE_PICKER:5308418,FBLITE_INBOX_RECENT_THREADS:5308419,FBLITE_INBOX_REMAINING_THREADS:5308420,SHARED_ALBUM:5373952,QUICK_REPLIES:5439488,QUICK_REPLIES_TRAY:5439489,MESSENGER_CTA_AFTER_CALL_ENDS:5505024,MESSENGER_CONVERSATION_SHORTCUT:5570560,CC_ADMIN_SEND_MESSAGE_HINT_CARD:5636096,CC_MEMBER_SEND_MESSAGE_HINT_CARD:5701632,MSGR_AVATAR_DETAILS:5767168,PRIVATE_SHARING_FORWARD_SUPER_SHARE_SHEET:5832704,MEMORIES:5898240,META_AI_TAB:5963776,MEMORIES_NOTIFICATION:6029312,MEMORIES_QUICK_PROMOTION:6094848,MEMORIES_HIGHLIGHTS_TAB:6160384,MEMORIES_LIST:6225920,MSGR_PYMK_LIST_SCREEN:6291456,INSTAGRAM_WEB_SENDS:6356992,AI_SUGGESTED_PROMPT_TRAY:6422528,AI_SUGGESTED_PROMPT_ICEBREAKER:6488064,COMMUNITY_INVITE:6553600,COMMUNITY_CHAT_INVITE:6619136,AI_DISCOVERY_BOTTOM_SHEET:6684672,IN_THREAD_INVITE_MODEL:6750208,SUPPORT_FOLDER:6815744,MARKETPLACE_PDP:6881280,QR_CODE:6946816,WRITE_WITH_AI:7012352,AI_HOME_CHAT_WITH_AI:7077888,AI_HOME_INBOX_QP:7143424,AI_AGENT_MESSAGE_SHARE:7208960,AI_HOME_FROM_THREAD:7274496,AI_HOME_FROM_FOLDER_LIST:7340032,AI_HOME_FROM_FB_BOOKMARK:7405568});f["default"]=a}),66);
__d("LSMoveThreadToArchivedFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a.item;return c({folderName:"",parentThreadKey:b.i64.cast([-1,4294967286])})}))})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMoveThreadToArchivedFolderStoredProcedure";e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var d=b.update;b.item;return d({folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),igFolder:a[1]})})},function(b){return c.db.table(173).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[4]=b.clientThreadPk,c.db.table(276).fetch([[[d[4]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?0:(a.item,c.forEach(c.db.table(276).fetch([[[d[4]]]]),function(a){var b=a.update;a.item;return b({folderType:c.i64.cast([0,0])})}))}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("sync_group",d[0]),d[2].set("ig_folder",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"message_request",c.i64.cast([0,66]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticAcceptMessageRequestStoredProcedure";e.exports=a}),null);
__d("LSOptimisticAcceptMessageRequestStoredProcedure",["LSOptimisticAcceptMessageRequest","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.igFolder;return c("LSOptimisticAcceptMessageRequest").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure";e.exports=a}),null);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.readWatermarkTimestampMs;return c("LSOptimisticMarkThreadReadV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[4]=b.syncGroup,c.i64.neq(d[4],void 0)?d[3]=d[4]:d[3]=c.i64.cast([0,1]),d[0]=d[3])})},function(d){return[c.i64.cast([0,1]),c.i64.cast([0,2])].some(function(b){return c.i64.eq(a[1],b)})?c.storedProcedure(b("LSMoveThreadToArchivedFolder"),a[0]):c.storedProcedure(b("LSDeleteThread"),a[0],!1)},function(e){return c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,146]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[0],void 0,c.i64.cast([0,0]),c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[2],threadKey:a[0],removeType:a[1],syncGroup:d[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticRemoveThreadStoredProcedure";e.exports=a}),null);
__d("LSOptimisticRemoveThreadStoredProcedure",["LSOptimisticRemoveThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.removeType;return c("LSOptimisticRemoveThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticUpdateThreadDisappearingSetting",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("wa_jid",void 0),d[2].set("thread_key",a[0]),d[2].set("disappearing_ttl",a[1]),d[2].set("updated_timestamp",a[2]),d[2].set("updated_by",a[3]),d[2].set("sync_group",c.i64.cast([0,95])),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"disappearing_setting",c.i64.cast([0,714]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUpdateThreadDisappearingSettingStoredProcedure";e.exports=a}),null);
__d("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure",["LSOptimisticUpdateThreadDisappearingSetting","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.threadKey;d[1]=b.disappearingTtl;d[2]=b.updatedTimestamp;d[3]=b.updatedBy;return c("LSOptimisticUpdateThreadDisappearingSetting").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","asyncToGeneratorRuntime","emptyFunction","err","justknobx","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=["acs_sync"];function a(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,k){var l=new Set(),m=[],n=0,o=!0,p,q,r=new(i||(i=b("Promise")))(function(a,b){p=a,q=b}),s=c("uuidv4")(),t=!0,u=(yield a.runInTransaction(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i){yield i.mailbox_task_completion_notification_context.add({notificationName:g,notificationScopeKey:s});var r=a.tables.pending_tasks.subscribe(function(a,b){a=(h||(h=d("I64"))).to_string(a[0]);if(b.operation==="add"||b.operation==="put"){var e=b.value;if(c("justknobx")._("2903")&&j.some(function(a){return e.queueName.startsWith(a)}))return;if(k!=null&&e.queueName!==k)return;l.add(a)}else l["delete"](a)}),v=c("emptyFunction"),w=a.tables.mailbox_task_completion_api_tasks.subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===s){a=(h||(h=d("I64"))).to_string(b.value.taskId);l["delete"](a);b=b.value.success;b==null?t&&(m.push(a),n+=1):(o=b&&o,n-=1)}});v=a.subscribeToCommit(function(){n===0&&l.size===0&&(w(),r(),v(),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of m)yield a.mailbox_task_completion_api_tasks["delete"]((h||(h=d("I64"))).of_string(b))});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",void 0,f.id+":150")),o?p(u):q(c("err")("Not all tasks for "+g+" succeeded")))});try{var x=(yield e(i));yield i.mailbox_task_completion_notification_context["delete"](s);return x}catch(a){v();w();r();throw a}});return function(a){return i.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"));t=!1;return r});return k.apply(this,arguments)}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.id;return c("LSRefetchContactRowIfExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreRemoveErrorStoredProcedure";e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.errorId;return c("LSRemoveError").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("LSThreadRemoveType",[],(function(a,b,c,d,e,f){a=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1,IGNORE_THREAD:2});f["default"]=a}),66);
__d("LSVerifyContactRowExistsStoredProcedure",["LSVerifyContactRowExists","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.id;d[1]=b.contactIdType;d[2]=b.profilePictureUrl;d[3]=b.name;d[4]=b.contactType;d[5]=b.profilePictureFallbackUrl;d[6]=b.profilePictureUrlExpirationTimestampMs;d[7]=b.urlExpirationTimestampMs;d[8]=b.normalizedNameForSearch;d[9]=b.isMemorialized;d[10]=b.isBlocked;d[11]=b.blockedByViewerStatus;d[12]=b.canViewerMessage;d[13]=b.isSelf;d[14]=b.authorityLevel;d[15]=b.capabilities;d[16]=b.capabilities2;d[17]=b.workForeignEntityType;d[18]=b.gender;d[19]=b.contactViewerRelationship;d[20]=b.secondaryName;return c("LSVerifyContactRowExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeInitOfflineQueueSyncCompleteHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncCompleteHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Complete")})}g.call=a}),98);
__d("MAWChatJid",["FBLogger","I64","Promise","ReQL","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){a=d("WAJids").threadIdForChatJid(a);return(i||(i=d("I64"))).of_string(a)}function k(a,e){try{return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(j(e))).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Invalid chatJid: "+e);return(h||(h=b("Promise"))).reject(a)}}function a(a,b,d){return k(a,b).then(function(a){if(a!=null)return a;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[toThreadKey] No mapping record for chatJid, source: %s",d)})}function e(a,e){try{return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(e)).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Invalid integer jid: "+(i||(i=d("I64"))).to_string(e));return(h||(h=b("Promise"))).reject(a)}}g.toIntegerJid=j;g.toThreadKeyMaybe=k;g.toThreadKey=a;g.toThreadKeyMaybeForChatJidInteger=e}),98);
__d("MWEncryptedBackupsLocalStorageEntryEnum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INTERSTITIAL_DIALOG_VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_interstitial_dialog_verify_device_nux_dismissed",VERIFY_DEVICE_NUX_DISMISSED:"maw_eb_verify_device_in_thread_nux_dismissed",ENCRYPTED_BACKUPS_OPT_OUT:"maw_encrypted_backups_opt_out",MW_ENCRYPTED_BACKUPS_USER_CLICKED_ON_SETTINGS:"mw_encrypted_backups_user_clicked_on_settings",MW_ENCRYPTED_BACKUPS_HIGH_FRICTION_RESTORE_DISMISSED:"mw_encrypted_backups_high_friction_restore__dismissed",ENCRYPTED_BACKUPS_TURN_OFF_SECURE_STORAGE:"mw_encrypted_backups_turn_off_secure_storage",ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT:"mw_encrypted_backups_remember_browser_consent",ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY:"maw_eb_restored_successfully",MW_EB_SHOULD_NOT_DISPLAY_SOFTBLOCK:"mw_eb_should_not_display_softblock",MW_EB_HAS_RESTORED_IN_CURRENT_SESSION:"maw_eb_has_restored_in_current_session",MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2:"maw_eb_has_restored_in_current_session_temp",ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY:"maw_eb_onboarded_successfully",EB_ONBOARDING_DEFER_UPSELL_UNTIL_TIME:"mw_eb_onboarding_defer_upsell_until_time",EB_ONBOARDING_QP_DISMISSED:"mw_eb_onboarding_qp_dismissed",EB_MOBILE_ONBOARDING_QP_DISMISSED:"mw_eb_mobile_onboarding_qp_dismissed",EBSM_CORRUPTION_WIPE:"ebsm_corruption_wipe",MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE:"mw_eb_has_opted_out_of_auto_restore"});c=a;f["default"]=c}),66);
__d("getMWEncryptedBackupsIsLocalStorageSupported",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){if((h||(h=c("WebStorage"))).getLocalStorage()==null){c("FBLogger")("labyrinth_web").warn("Local storage not supported");return!1}if((h||(h=c("WebStorage"))).isLocalStorageQuotaExceeded()){c("FBLogger")("labyrinth_web").warn("Local storage quota exceeded");return!1}return!0}g.getMWEncryptedBackupsIsLocalStorageSupported=a}),98);
__d("MWEncryptedBackupsSharedState",["WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.db,c=a.stateKey;a=a.stateValue;var d=a===void 0?"true":a;return b.runInTransaction(function(a){return a.experiences_shared_state.upsert([c],{stateKey:c,stateValue:d})},"readwrite","background",void 0,f.id+":33")}function j(a){var b,e=a.db;a=a.stateKey;if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return;b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a);if(b!=null){var f;(f=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:f.removeItem(a);c("promiseDone")(i({db:e,stateKey:a,stateValue:b}))}return b}function a(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});if(a.length===0){c=j({db:b,stateKey:d});return c!=null}return!0}function b(a){var b=a.db,c=a.sharedStateTable,d=a.stateKey;a=c.filter(function(a){return a.stateKey===d});c=a[0];return(c==null?void 0:c.stateValue)!=null?c.stateValue:j({db:b,stateKey:d})}function e(a){var b=a.db,c=a.sharedStateRow;a=a.stateKey;return c==null?j({db:b,stateKey:a}):c.stateValue}function k(a){var b=a.db,c=a.stateKey;return b.runInTransaction(function(a){return a.experiences_shared_state["delete"](c)},"readwrite","background",void 0,f.id+":127")}g.upsertEBSharedStateEntry=i;g.getEntryPresentInLocalStorage=j;g.getIsEntryPresentInSharedState=a;g.getEntryValueFromSharedState=b;g.getEntryValue=e;g.deleteEntry=k}),98);
__d("MWPreloadableQueries",["I64","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate).getKeyRange(b)};e=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_nullstate_ctas.index("threadKeyCtaId")).getKeyRange(b)};f=function(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(b)};var i=function(a,b){return d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b).take(6)},j=function(a,b,e){return e.forEach(function(e){var f;c("promiseDone")((f=d("ReQL")).toArrayAsync(f.fromTableDescending(a.tables.reactions).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.tables.reactions_v2).getKeyRange(b,e.messageId)));c("promiseDone")(f.toArrayAsync(f.fromTableDescending(a.tables.attachments).getKeyRange(b,e.messageId)))})},k=function(a,b){return d("ReQL").fromTableAscending(a.tables.community_folders).getKeyRange(b)},l=function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.threads).getKeyRange(b)).then(function(b){(b==null?void 0:b.parentThreadKey)!=null&&k(a,b.parentThreadKey)})},m=function(a,b){return d("ReQL").fromTableAscending(a.tables.thread_proactive_warning_settings).getKeyRange(b)},n=function(a,b){return d("ReQL").fromTableAscending(a.tables.in_thread_banner).getKeyRange(b)};function a(a,b){return d("ReQL").fromTableAscending(a.tables.media_staging).filter(function(a){return!a.isSent&&(h||(h=d("I64"))).equal(a.threadKey,b)})}g.threadNullStateQuery=b;g.threadNullStateCtaQuery=e;g.getCutoverThreadByThreadKey=f;g.getMostRecentMessagesInThread=i;g.getReactionsForMessages=j;g.getCommunityFolderQuery=k;g.getCommunityFolderForThreadParentQuery=l;g.getProactiveWarningsForThreadQuery=m;g.getThreadBannerQuery=n;g.getMediaStagingQuery=a}),98);
__d("MAWThreadCutover",["I64","LSContactBitOffset","LSDatabaseSingleton","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWPActor.react","MWPreloadableQueries","ReQL","ReQLSuspense","UserAgent","WAJids","asyncToGeneratorRuntime","gkx","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return(yield z(a))!=null});return k.apply(this,arguments)}function l(a){var b=(j||(j=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a):d("ReQL").empty()},[b,a],f.id+":42")!=null}function e(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return c("gkx")("26365")&&a?d("MWPreloadableQueries").getCutoverThreadByThreadKey(e,a):d("ReQL").empty()},[e,a],f.id+":54"))==null?void 0:b.showOpenMessageHistory;return b===!1}function m(a,b){return d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(b)}function n(a,b){return d("ReQL").fromTableAscending(a.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,b)})}function o(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a==null?d("ReQL").empty():m(b,a)},[b,a],f.id+":87");return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():n(b,e.jid)},[b,e],f.id+":95")}function p(a,b){return d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.openThreadId)}function q(a){var b=(j||(j=c("useReStore")))(),e=o(a);return d("ReQLSuspense").useFirst(function(){return e==null?d("ReQL").empty():p(b,e)},[b,e],f.id+":116")}function r(a){a=o(a);if(a!=null)return a.openThreadId}function s(a){return o(a)!=null}function t(a,b){b=d("WAJids").threadIdForChatJid(b);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange((h||(h=d("I64"))).of_string(b))).then(function(a){return a!=null})}function u(){var a=(j||(j=c("useReStore")))(),b=d("MWPActor.react").useActor();a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b),f.id+":151");return a!=null&&((b=d("LSContactBitOffset").has(75,a))!=null?b:!1)}function v(){var a=(j||(j=c("useReStore")))(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.experiences_shared_state).getKeyRange(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY)},[a],f.id+":166");b=d("MWEncryptedBackupsSharedState").getEntryValue({db:a,sharedStateRow:b,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY});return b!=null}function w(a){var b=(j||(j=c("useReStore")))(),e=a!=null?(h||(h=d("I64"))).of_string(a):void 0,g=l(e);return d("ReQLSuspense").useFirst(function(){if(g&&e!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).filter(function(a){return(h||(h=d("I64"))).equal(a.jid,e)}).map(function(a){return(h||(h=d("I64"))).to_string(a.serverThreadKey)});else return d("ReQL").empty()},[b,e,g],f.id+":187")}function x(){return c("gkx")("1593")?c("UserAgent").isBrowser("Chrome"):!0}function y(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){if(a!=null)return d("MWPreloadableQueries").getCutoverThreadByThreadKey(b,a);else return d("ReQL").empty()},[b,a],f.id+":216"),g=e==null?void 0:e.armadilloThreadId;e=d("ReQLSuspense").useFirst(function(){if(g!=null)return d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table.index("jid")).getKeyRange(g);else return d("ReQL").empty()},[g,b.tables.mi_act_mapping_table],f.id+":227");return e==null?void 0:e.serverThreadKey}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.mi_act_mapping_table).getKeyRange(a)));if(c==null)return void 0;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.cutover_threads).filter(function(a){return(h||(h=d("I64"))).equal(a.armadilloThreadId,c.jid)})));return a});return A.apply(this,arguments)}g.isCutoverThreadKey=a;g.useIsCutoverOpenThread=l;g.useIsDualThreadCutoverOpenThread=e;g.getMiActMappings=m;g.getCutoverThreadsByJid=n;g.useGetCutoverMapping=o;g.getThreadByCutoverThread=p;g.useCutoverOpenThread=q;g.useGetCutoverOpenThreadKey=r;g.useIsCutoverSecureThread=s;g.isCutoverSecureThreadFromChatJid=t;g.useIsCurrentUserCutoverUser=u;g.useGetHasUserRestoredBefore=v;g.useGetCutoverSecureThreadKey=w;g.useSupportedCutoverEnvironment=x;g.useCutoverSecureThreadKeyForOpenThreadKey=y;g.getCutoverThreadBySecureThreadKey=z}),98);
__d("MAWCommonSetupBridge",["BrowserLockManager","CurrentUser","ErrorTransport","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadAttributionType","MAWBridge","MAWChatJid","MAWCrossWorkerPortal","MAWCurrentUser","MAWDbMedia","MAWEBSwitch","MAWFrontendMediaUtils","MAWJobActionsV2","MAWMICSafe","MAWThreadCutover","MAWVault","MAWXMAUtils","MWLogSend","MultipleTabsLogger","ODS","Promise","QPLEvent","QPLUserFlow","URLMatcher","WACrossWorkerPortal","WADevToolMessageChannel","WADevToolsBridge","WAExceededStorageQuota","WAJids","WALogger","cr:2691","err","gkx","justknobx","pageID","promiseDone","qpl","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m;function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["fbErrorProxy: "," ",""]);n=function(){return a};return a}var o=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonSetupBridge"),p=new Set([25312111,25311870]),q=new Map(),r=new Map(),s=new Map([[(a=d("MAWDbMedia")).MEDIA_TYPE.IMAGE,8],[a.MEDIA_TYPE.VIDEO,10],[a.MEDIA_TYPE.GIF,6],[a.MEDIA_TYPE.STICKER,4],[a.MEDIA_TYPE.PTT,11],[a.MEDIA_TYPE.DOCUMENT_FILE,9]]),t=new Set([25312150,25313100,1056840931,25299294]);function u(a,b){return a+"_"+b}function v(a,b,c,d,e,f,g,h){if(e)return 43;if(a==="revokeMsg")return 26;if(f!=null)return f;if(c)return 3;if(d&&g===!1)return 13;if(h===!0)return 13;e=b!=null?s.get(b):null;return(a=e)!=null?a:0}function w(a,b,e){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(f){return d("MAWThreadCutover").isCutoverSecureThreadFromChatJid(f,a).then(function(a){c("QPLUserFlow").addAnnotations(b,{bool:{is_cutover:a}},{instanceKey:e})})})}var x={fbErrorProxy:function(a){var b;d("ErrorTransport").log(a);d("WALogger").ERROR(n(),(b=a==null?void 0:a.messageFormat)!=null?b:"unknown",a==null?void 0:(b=a.messageParams)==null?void 0:b.toString())},log:function(a){var b=a.logLevel,c=a.logString,d=a.tags;switch(b){case"log":o.onReadyImmediately(function(a){a=a.info;return a(c,d)});return;case"warn":o.onReadyImmediately(function(a){a=a.warn;return a(c,d)});return;case"logRestricted":o.onReadyImmediately(function(a){a=a.logRestricted;return a(c,d)});return;case"debug":break;case"error":break;default:break}},logError:function(a){var b=a.entriesToReport,c=a.framesToPop,d=a.logString,e=a.message,f=a.stack,g=a.tags;o.onReadyImmediately(function(a){a=a.logError;return a(d,g,e,f,c,b)})},odsBumpEntityKey:function(a){var b=a.amount,e=a.entity;a=a.key;(j||(j=d("ODS"))).bumpEntityKey(3185,e,a+"."+(c("CurrentUser").getAppID()||"unknown"),b)},onJobFinished:function(a){a.type==="createGroup"&&a.originalArgs.key!=null&&d("MAWJobActionsV2").recentFinishedJobsCache.set(a.originalArgs.key,a.result);switch(a.type){case"sendMsg":case"sendMediaMsg":case"sendReactionMsg":case"sendXMAShareMsg":case"forwardMsg":var b=a.originalArgs.chatJid,e=a.type==="sendXMAShareMsg"?a.originalArgs.xmaMsgExternalId:a.originalArgs.externalId;q.set(u(b,e),babelHelpers["extends"]({},a.originalArgs,{type:"sendMsg"}));break;case"sendEditMsg":b=a.originalArgs.args.originalProtocolMsgId.chat;e=a.originalArgs.externalId;q.set(u(b,e),babelHelpers["extends"]({},a.originalArgs,{chatJid:b,type:"editMsg"}));break;case"revokeMsgs":e=a.result;e.forEach(function(a){var b=a.deleting;a=a.original;q.set(u(b.chat,b.externalId),{chatJid:a.chat,externalId:a.externalId,type:"revokeMsg"})});break;case"sendAppData":b=a.originalArgs;var f=a.result;(e=b.args.contents.actions)==null?void 0:e.forEach(function(a){a=a.messageAction;if(a==null||a.type!=="delete_for_me"||f.type!=="not_sent")return;r.set(f.appDataExternalId,{chatJid:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId,type:"deleteMsgForMe"})});break}if(a.type==="sendWrittenMsg"){b=a.originalArgs.protocolMsgId;e=b.chat;b=b.externalId;e=u(e,b);var g=q.get(e);q["delete"](e);if(a.result.success&&g!=null){var h,j=g.type!=="revokeMsg"?b:g.externalId,m=g.args,n=g.chatJid;e=g.file;b=g.type;g=g.type==="editMsg";var o=(m==null?void 0:m.reactToAuthor)!=null,p=null;o&&(p=(m==null?void 0:m.reaction)!=null?20:27);o=(m==null?void 0:m.specialTextSize)!=null;e=e!=null?d("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(e.type).mediaType:null;var s=(m==null?void 0:m.xmaMessageType)!=null,t=(m==null?void 0:m.quote)!=null||d("MAWXMAUtils").isXMAStoryReply(m==null?void 0:m.xmaMessageType);h=c("URLMatcher").match(d("MAWVault").unvault((h=m==null?void 0:m.content)!=null?h:""));h=h!=null&&h.length>0;var w=v(b,e,o,s,g,p,t,h),x=d("WAJids").switchOnMsgrChatJidType(n,{group:function(){return(k||(k=d("LSIntEnum"))).ofNumber(16)},user:function(){return(k||(k=d("LSIntEnum"))).ofNumber(15)}});c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){var b=(m==null?void 0:m.source)!=null?m.source:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN);c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,n,"MAWCommonSetupBridge::sendWrittenMsg").then(function(e){var f;if(c("justknobx")._("154")&&d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&(c("BrowserLockManager")!=null&&!d("MultipleTabsLogger").hasUniqueLock()))return;d("MWLogSend").log(a,{actor:(l||(l=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:w,backend:1,hasReply:t,initatingSource:m==null?void 0:m.initiatingSource,messagingThreadId:l.to_string(e),msgTtl:m==null?void 0:(f=m.ephemeralSetting)==null?void 0:f.ephemeralExpirationInSec,offlineThreadingId:j,sendType:1,source:b,threadKey:e,threadType:x})}))}))}}if(a.type==="sendWrittenAppData"){b=a.originalArgs.appDataExternalId;e=r.get(b);r["delete"](b);if(e!=null&&e.type==="deleteMsgForMe"&&a.result.type==="success"){var y=e.chatJid,z=e.externalId,A=d("WAJids").switchOnMsgrChatJidType(y,{group:function(){return(k||(k=d("LSIntEnum"))).ofNumber(16)},user:function(){return(k||(k=d("LSIntEnum"))).ofNumber(15)}});c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){c("promiseDone")(d("MAWChatJid").toThreadKey(a.tables,y,"MAWCommonSetupBridge::sendWrittenAppData").then(function(b){d("MWLogSend").log(a,{actor:(l||(l=d("I64"))).of_string(d("MAWCurrentUser").getID()),attachmentFbids:[],attachmentType:25,backend:1,hasReply:!1,messagingThreadId:l.to_string(b),offlineThreadingId:z,sendType:3,source:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").UNKNOWN),threadKey:b,threadType:A})}))}))}}},qplEvent:function(a){var e=a.action,f=a.annotations,g=a.debugInfo,i=a.error,j=a.event,k=a.instanceKey,l=a.timeoutInMs,n=a.timestamp;if(!c("CurrentUser").isEmployee()&&p.has((m||(m=d("QPLEvent"))).getMarkerId(j)))return;var o=k||0;k=f==null?void 0:(a=f.string)==null?void 0:a.jid;a=k!=null?d("WAJids").validateChatJid(k):void 0;k=t.has((m||(m=d("QPLEvent"))).getMarkerId(j))&&a!=null?w(a,j,o):(h||(h=b("Promise"))).resolve();switch(e.type){case"start":c("QPLUserFlow").start(j,{annotations:babelHelpers["extends"]({},f||{},{bool:babelHelpers["extends"]({},(f==null?void 0:f.bool)||{},{dqOnWorm:c("gkx")("5443"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),is_pdb:c("gkx")("24032"),isArmadilloPublicLaunchUser:c("gkx")("23405"),isDev:0,isGifSearchEnbled:!0,isM1M2OverrideUser:c("gkx")("24022"),isRestoreDBEnabled:c("gkx")("23906"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()})}),instanceKey:o,timeoutInMs:l,timestamp:n});break;case"success":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endSuccess(j,{annotations:f,instanceKey:o,timestamp:n})});break;case"cancel":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endCancel(j,{annotations:f,instanceKey:o,timestamp:n})});break;case"point":f&&c("QPLUserFlow").addAnnotations(j,f,{instanceKey:o});(m||(m=d("QPLEvent"))).getMarkerId(j)===1056839232?d("MAWMICSafe").markEvent(e.name,n):c("QPLUserFlow").addPoint(j,e.name,{instanceKey:o,timestamp:n});break;case"annotations":c("QPLUserFlow").addAnnotations(j,(a=f)!=null?a:{},{instanceKey:o});break;case"failure":c("QPLUserFlow").addAnnotations(j,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:o});k["finally"](function(){c("QPLUserFlow").endFailure(j,e.name,{annotations:f,instanceKey:o,timestamp:n})});break;case"error":c("QPLUserFlow").markError(j,e.name,{debugInfo:g,error:i,instanceKey:o});break;default:throw c("err")("Bridge sends unreachable qplEvent action type")}}},y=function(a,b){a.push(b);return a};e=function(a){var e=a.customizeEventHandlers;a=a.worker;var f=d("MAWBridge").getBridge();f.setHandlers("event",babelHelpers["extends"]({},x,e));e=d("MAWCrossWorkerPortal").getOrCreateCrossWorkerPortal(f,["backend"],y,{onAfterSend:function(a){a=(a=a.content.arg)==null?void 0:(a=a.args)==null?void 0:(a=a.args)==null?void 0:a.s2sInstanceKey;a!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"cross_worker_portal_bridge_called",{instanceKey:a})},onBeforeSend:function(a){a=(a=a.content.arg)==null?void 0:(a=a.args)==null?void 0:(a=a.args)==null?void 0:a.s2sInstanceKey;a!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"cross_worker_portal_calling_bridge",{instanceKey:a})}});e.setPort(a);if(c("gkx")("3282")){var g=d("WADevToolsBridge").getDevToolBridge();a=new MessageChannel();var i=d("WACrossWorkerPortal").attachPortal(g,["backend"],y,c("pageID")),j=d("WACrossWorkerPortal").attachPortal(g,["devtool"],y,c("pageID"));d("WADevToolMessageChannel").onCreateNewChannel(function(a){i.setPort(a.port1)});j.setPort(a.port1);b("cr:2691")==null?void 0:b("cr:2691").connectAddonPort(a.port2);e.addListener(function(a,b){return g.fireAndForget("devtool","bridgeMessage",{direction:b==="outgoing"?"toWorker":"toMain",msg:a,ts:Date.now()},!0)})}return(h||(h=b("Promise"))).resolve(f)};g.MEDIA_TYPE_TO_ATTACHMENT_TYPE=s;g.initBridge=e}),98);
__d("MAWEphemeralMsgAutoResetSystemId",[],(function(a,b,c,d,e,f){"use strict";a="-111111";b=a;f["default"]=b}),66);
__d("MAWEphemeralSettingsUpdate",["FBLogger","I64","LSOptimisticUpdateThreadDisappearingSettingStoredProcedure","MAWChatJid","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","Promise","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWEphemeralSettingsUpdate"),k=c("requireDeferred")("LSFactory").__setRef("MAWEphemeralSettingsUpdate"),l=c("requireDeferred")("WATimeUtils").__setRef("MAWEphemeralSettingsUpdate");function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){a=(yield a.threads.get(e));if(a!=null){e=a.disappearingSettingUpdatedTs;a=a.disappearingSettingTtl;if(e==null||a==null)return!0;if((i||(i=d("I64"))).lt(e,(i||(i=d("I64"))).of_float(c))&&!(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).of_int32(b)))return!0}return!1});return n.apply(this,arguments)}function o(a,b,c,d,e,f,g){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,l,n){var o=(yield m(a,e,f,j));if(!o)return(h||(h=b("Promise"))).resolve();l&&c("FBLogger")("labyrinth_web").addMetadata("LABYRINTH_WEB","APP_VERSION","OCCAM_EPHEMERAL_SETTINGS_UPDATE").info("[Occam][Web] Ephemeral Settings Updated.");o=(yield k.load());return c("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure")(o(a),{disappearingTtl:(i||(i=d("I64"))).of_int32(e),threadKey:j,updatedBy:i.of_string(g?c("MAWEphemeralMsgAutoResetSystemId"):(l=n)!=null?l:d("MAWCurrentUser").getID()),updatedTimestamp:i.of_float(f)})});return p.apply(this,arguments)}function a(a,b,c,d){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){var e=(yield j.load());e=(yield e());return e.runInTransaction(function(e){return o(e,a,b,c,d,!1)},"readwrite")});return q.apply(this,arguments)}function e(a,b,c,d,e){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var i=(yield j.load());i=(yield i());return i.runInTransaction(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i){var j=(yield d("MAWChatJid").toThreadKeyMaybe(i,f));return j!=null?o(i,a,(yield l.load()).castUnixTimeToMillisTime(c),e,j,g):(h||(h=b("Promise"))).resolve()});return function(a){return i.apply(this,arguments)}}(),"readwrite")});return r.apply(this,arguments)}g.updateEphemeralSettingsWithTxn=o;g.updateEphemeralSettings=a;g.updateEphemeralSettingsByChatJid=e}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);i=function(){return a};return a}var j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),k=c("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return!1},user:function(){return!0}})){var e=(yield j.load());e=(yield e());b=(b=b)!=null?b:yield d("MAWChatJid").toThreadKeyMaybe(e.tables,a);if(b!=null){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(b)));if(e!=null&&e.disappearingSettingTtl!=null){b={ephemeralExpirationInSec:(h||(h=d("I64"))).to_int32(e.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:e.disappearingSettingUpdatedBy!=null?d("WATimeUtils").castMilliSecondsToUnixTime((h||(h=d("I64"))).to_float(e.disappearingSettingUpdatedBy)):d("WATimeUtils").unixTime()};return b}return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:a}).then(function(b){d("WALogger").LOG(i(),a,b);if(b!=null){c("promiseDone")(k.load().then(function(c){return c.updateEphemeralSettingsByChatJid(b.ephemeralExpirationInSec,b.ephemeralLastUpdatedOrSetTimestamp,!1,a,!0)}));return b}return void 0})}});return l.apply(this,arguments)}g.getEphemeralSetting=a}),98);
__d("mergeDeepInto",["invariant","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("mergeHelpers")).ArrayStrategies,i=c.checkArrayStrategy,j=c.checkMergeArrayArgs,k=c.checkMergeLevel,l=c.checkMergeObjectArgs,m=c.isTerminal,n=c.normalizeMergeArg,o=function(a,b,c,d){l(a,b);k(d);var e=b?Object.keys(b):[];for(var f=0;f<e.length;f++){var g=e[f];q(a,b,g,c,d)}},p=function(a,b,c,d){j(a,b);k(d);if(c===h.Concat)a.push.apply(a,b);else{var e=Math.max(a.length,b.length);for(var f=0;f<e;f++)q(a,b,f,c,d)}},q=function(a,b,c,d,e){var f=b[c];b=Object.prototype.hasOwnProperty.call(b,c);var i=b&&m(f),j=b&&Array.isArray(f),k=b&&!j&&!j,l=a[c],n=Object.prototype.hasOwnProperty.call(a,c),q=n&&m(l),r=n&&Array.isArray(l),s=n&&!r&&!r;q?i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k?(a[c]={},o(a[c],f,d,e+1)):b||(a[c]=l):r?i?a[c]=f:j?(d&&h[d]||g(0,5117),d===h.Clobber&&(l.length=0),p(l,f,d,e+1)):k&&(a[c]={},o(a[c],f,d,e+1)):s?i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k&&o(l,f,d,e+1):n||(i?a[c]=f:j?(a[c]=[],p(a[c],f,d,e+1)):k&&(a[c]={},o(a[c],f,d,e+1)))};function a(a,b,c){b=n(b);i(c);o(a,b,c,0)}f["default"]=a}),66);
__d("WebAsyncStorage",["Deferred","Promise","gkx","mergeDeepInto","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h;a=typeof window!=="undefined"?window:self;var i=a.indexedDB,j=1,k="data",l=!1,m;d=Date.now();var n=new(c("Deferred"))(),o=3;function p(){var a=i.open("AsyncStorage",j),b=c("gkx")("4585");a.onerror=function(c){c=(c=a.error)!=null?c:new Error("Failed to open AsyncStorage IndexedDB instance.");if(b&&c.name==="UnknownError"&&o>0){o--;return p()}n.reject(c)};a.onsuccess=function(a){l&&!1,m=a.target.result,n.resolve({db:m}),m.onerror=function(a){a=new Error("AsyncStorage error: "+a.target.error.message);n.reject(a)}};a.onupgradeneeded=function(a){a=a.currentTarget.result;if(a.objectStoreNames&&a.objectStoreNames.contains(k))return;a.createObjectStore(k,{keyPath:"key"})}}i&&p();function q(a,b){if(m)try{a()}catch(a){b&&b(a)}else n.getPromise().then(function(){l&&!1,q(a,b)},function(a){b&&b(a)})}e={setItem:function(a,b,c){this.multiSet([[a,b]],function(a){c(a&&a[0]||null)})},getItem:function(a,b){this.multiGet([a],function(a,c){c=c!==void 0&&c[0]!==void 0&&c[0][1]!==void 0?c[0][1]:null;b(a&&a[0]||null,c)})},removeItem:function(a,b){this.multiRemove([a],function(a){b(a&&a[0]||null)})},multiGet:function(a,b){var c=[];this._multiOp(a,"readonly",function(a){return b(a,c)},function(a){return a},function(a,b,d){b&&a===b.key?(l&&!1,c.push([a,b.value.value])):c.push([a,null])})},multiSet:function(a,b){if(this._persistentWritesDisabled){b(new Array(a.length).fill("writes disabled"));return}this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,c){if(b&&a[0]===b.key){var d=b.value;d.value=a[1];l&&!1;b.update(d)}else c.push(a)})},multiMerge:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a[0]},function(a,b,d){if(b&&a[0]===b.key){var e=b.value,f=JSON.parse(e.value);c("mergeDeepInto")(f,JSON.parse(a[1]),c("mergeHelpers").ArrayStrategies.Clobber);l&&!1;e.value=JSON.stringify(f);b.update(e)}else l&&!1,d.push(a)})},multiRemove:function(a,b){this._multiOp(a,"readwrite",b,function(a){return a},function(a,b,c){b&&a===b.key&&(l&&!1,b["delete"]())})},getAllKeys:function(a){q(function(){var b=m.transaction([k],"readonly");b=b.objectStore(k).openCursor();var c=[];b.onsuccess=function(b){b=b.target.result;if(!b){a(null,c);return}c.push(b.key);b["continue"]()}},function(b){return a(null,[])})},clear:function(a){q(function(){var b=m.transaction([k],"readwrite");b=b.objectStore(k).openCursor();b.onsuccess=function(b){b=b.target.result;if(!b){a(null);return}b["delete"]();b["continue"]()}},function(b){return a(null)})},_multiOp:function(a,b,c,d,e){q(function(){var f=!1,g=a.slice().sort(function(a,b){a=d(a);b=d(b);if(a===b){var e=new Error("AsyncStorage._multiOp cannot process duplicate keys.");c&&c([e]);f=!0;return 0}return a<b?-1:1});if(f)return;var h=m.transaction([k],b),i=h.objectStore(k).openCursor(),j=[],n=0;i.onsuccess=function(a){a=a.target.result;if(!a){while(n<g.length)e(g[n],a,j),n++;o();return}var b=a.key;l&&!1;while(d(g[n])<=b){l&&!1;e(g[n],a,j);n++;if(n===g.length){o();return}}b=d(g[n]);a["continue"](b)};function o(){var a=h.objectStore(k);j.forEach(function(b){l&&!1,a.add({key:b[0],value:b[1]})})}h.oncomplete=function(){c&&c(null)};h.onerror=function(a){a=new Error("IndexedDB error: "+a.target.error.message);c&&c([a])};l&&!1},function(a){c&&c([a])})},_persistentWritesDisabled:!1,disablePersistentWrites:function(){this._persistentWritesDisabled=!0},isOpenPromiseSettled:function(){return n.isSettled()},isOperational:function(){return i==null?(h||(h=b("Promise"))).resolve(!1):n.getPromise().then(function(){return!0})["catch"](function(){return!1})}};f=e;g["default"]=f}),98);
__d("MAWIsIDBOperational",["Promise","WebAsyncStorage","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function l(a){a===void 0&&(a=!1);return a&&!c("WebAsyncStorage").isOpenPromiseSettled()?(h||(h=b("Promise"))).resolve(!1):c("WebAsyncStorage").isOperational()}var m=!1;function a(){var a=k(m),b=a[0],d=a[1];j(function(){c("promiseDone")(l().then(function(a){d(a),m=a}))},[d]);return b}g.isIDBOperational=l;g.useIsIDBOperational=a}),98);
__d("MAWMiActGetMappingWithMawTypes",["I64","MAWJids","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=(h||(h=d("I64"))).to_string(a.jid);b=b?d("WAJids").toGroupJid(c):d("MAWJids").toUserJid(c);return{clientThreadPk:a.clientThreadPk,jid:b,serverThreadKey:a.serverThreadKey}}g["default"]=a}),98);
__d("MAWMiActIsPlaceholderChatId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).lt(a,h.zero)}g.isPlaceholderClientThreadPk=a}),98);
__d("MAWMiActThreadLifecycleState",[],(function(a,b,c,d,e,f){"use strict";a={ACT_THREAD_ONLY:"ACT_THREAD_ONLY",AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:"AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW",AUTHORITATIVE_THREAD_ONLY:"AUTHORITATIVE_THREAD_ONLY",CLIENT_PARTIAL_MI_THREAD:"CLIENT_PARTIAL_MI_THREAD",CLIENT_PARTIAL_MI_THREAD_WITH_ACT:"CLIENT_PARTIAL_MI_THREAD_WITH_ACT",JID_MISSING_MAPPING_ROW:"JID_MISSING_MAPPING_ROW",JID_MISSING_MI_THREAD:"JID_MISSING_MI_THREAD",MI_AND_ACT_THREAD_COMPLETE:"MI_AND_ACT_THREAD_COMPLETE",OPTIMISTIC_THREAD_NO_ACT:"OPTIMISTIC_THREAD_NO_ACT",OPTIMISTIC_THREAD_WITH_ACT:"OPTIMISTIC_THREAD_WITH_ACT",SERVER_PARTIAL_MI_THREAD:"SERVER_PARTIAL_MI_THREAD",THREAD_KEY_ONLY:"THREAD_KEY_ONLY"};f.MiActThreadStatesEnum=a}),66);
__d("MAWMiActGetThreadLifecycleState",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMiActGetMappingWithMawTypes","MAWMiActIsPlaceholderChatId","MAWMiActThreadLifecycleState","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e){var f=(i||(i=d("LSIntEnum"))).toNumber(a.authorityLevel);if(f===c("LSAuthorityLevel").OPTIMISTIC)if(b!=null)return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT});else return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT};if(f===c("LSAuthorityLevel").CLIENT_PARTIAL)return b!=null?babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT}):{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").SERVER_PARTIAL)return{serverThreadKey:a.threadKey,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD};if(f===c("LSAuthorityLevel").AUTHORITATIVE){if(b==null)return{serverThreadKey:a.threadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW};if(!d("MAWMiActIsPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk))return babelHelpers["extends"]({},c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType)),{type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE});else if(d("MAWMiActIsPlaceholderChatId").isPlaceholderClientThreadPk(b.clientThreadPk)){var g=c("MAWMiActGetMappingWithMawTypes")(b,d("LSMessagingThreadTypeUtil").isGroup(a.threadType));return{jid:g.jid,jidInt64:b.jid,serverThreadKey:g.serverThreadKey,thread:a,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY}}}throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unknown thread lifecycle state for threadKey: %s, authorityLevel: %s, thread action: %s",(j||(j=d("I64"))).to_string(a.threadKey),f,e)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b)));if(e==null)return{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW};a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e.serverThreadKey)));return a==null?{jidInt64:b,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD}:k(a,e,c)});return m.apply(this,arguments)}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table).getKeyRange(c))]));var f=a[0];a=a[1];return f==null?{serverThreadKey:c,type:d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY}:k(f,a,e)});return o.apply(this,arguments)}function a(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield l(a,b,e));if(b.type===d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW&&c!=null)return n(a,(j||(j=d("I64"))).of_string(c),"MAWBridgeOccamadilloVerifyThreadExistsHandler");else return b});return p.apply(this,arguments)}g.getThreadLifecycleStateByJid=l;g.getThreadLifecycleStateByThreadKey=n;g.getThreadLifecycleStateByJidOrThreadKey=a}),98);
__d("MAWUnrecoverableDbErrors",[],(function(a,b,c,d,e,f){"use strict";var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="indexed_db_access_error",b)||babelHelpers.assertThisInitialized(c)}return b}(g);var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ear_init_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ebsm_hydration_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="wa_exceeded_storage_quota_error",a)||babelHelpers.assertThisInitialized(c)}return a}(g),k=null,l=new Set();function a(){return k}function b(a){k=a,l.forEach(function(b){return b(a)})}function c(a){return a==null?!1:a instanceof g}function d(a){l.add(a);return function(){return l["delete"](a)}}f.UnrecoverableDbError=g;f.IndexedDbAccessError=e;f.EarInitError=h;f.EbsmHydrationError=i;f.WAExceededStorageQuotaError=j;f.getError=a;f.setError=b;f.isUnrecoverableDbError=c;f.subscribe=d}),66);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"]);i=function(){return a};return a}function a(a,b){a=a;b=(b=b)!=null?b:"true";if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var e;d("WALogger").LOG(i(),a);(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(a,b)}}function b(a){a=a;if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.removeItem(a)}}function e(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a)}return null}function f(a){if(d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var b;a=a;return((b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null}return!0}g.mwEBCreateLocalStorageEntry=a;g.mwEBDeleteLocalStorageEntry=b;g.mwEBGetLocalStorageEntryValue=e;g.mwEBGetIsLocalStorageEntryValuePresent=f}),98);
__d("MWLSContactTypeExactUtils",["I64","LSContactTypeExact","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_USER))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_BUSINESS_USER)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").IG_CREATOR_USER))}g.isIgContact=a}),98);
__d("MessagingFolderTag",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",INTEROP:"interop",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",UNKNOWN:""});f["default"]=a}),66);
__d("ReQLSubscribe",["ErrorGuard","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=a.take(1);var e=(h||(h=c("ErrorGuard"))).guard(b),f=!1,g=null,i=a.subscribe(function(a,b){if(f)return;switch(b.operation){case"delete":(g==null||g.current!==void 0)&&(g={current:void 0},e(g.current));return;case"add":case"put":((a=g)==null?void 0:a.current)!==b.value&&(g={current:b.value},e(g.current))}});c("promiseDone")(d("ReQL").firstAsync(a),function(a){!f&&g==null&&(g={current:a},e(a))});return function(){f||(f=!0,i==null?void 0:i())}}g.subscribeToFirst=a}),98);
__d("TrustedTypesWebWorkerScriptURLPolicy",["TrustedTypes"],(function(a,b,c,d,e,f,g){"use strict";a={createScriptURL:function(a){return a}};b=c("TrustedTypes").createPolicy("web-worker-url",a);d=b;g["default"]=d}),98);
__d("WABridgedAPI",["IWAAPI"],(function(a,b,c,d,e,f,g){"use strict";b={queryGroups:(a=d("IWAAPI")).makeBridgedApi("queryGroups"),preEstablishSession:a.makeBridgedApi("preEstablishSession"),getDevices:a.makeBridgedApi("getDevices"),removeCurrentDevice:a.makeBridgedApi("removeCurrentDevice"),removeDevice:a.makeBridgedApi("removeDevice"),getCurrentUserDeviceList:a.makeBridgedApi("getCurrentUserDeviceList")};c=b;g["default"]=c}),98);
__d("WorkerBanzaiLazyQueueChannelClient",["BanzaiLazyQueue","WorkerFuncChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").exportChannel(c("BanzaiLazyQueue"),a,"banzai_lazyqueue_channel")}g.init=a}),98);
__d("WorkerClient",["WorkerBanzaiLazyQueueChannelClient","WorkerFuncChannel","WorkerQPLChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").activateChannels(a,"client","worker"),d("WorkerBanzaiLazyQueueChannelClient").init(a),d("WorkerQPLChannel").setMessagePort(a),e(["QuickPerformanceLogger"],function(a){return d("WorkerQPLChannel").initQPL(a)})}g.init=a}),98);
__d("coerceMessagingThreadTypeToLSThreadType",["LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("LSIntEnum"))).unwrapIntEnum(a)}g["default"]=a}),98);
__d("getWorkerInitScriptSPINParams",["SiteData","StaticSiteData","objectEntries"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b,d,e=(b=c("SiteData"))[(d=c("StaticSiteData")).spin_mhenv_key];d=babelHelpers["extends"]((a={},a[d.hs_key]=b.haste_session,a[d.spin_rev_key]=b[d.spin_rev_key],a[d.spin_branch_key]=b[d.spin_branch_key],a[d.spin_time_key]=b[d.spin_time_key],a),Boolean(e)?(b={},b[c("StaticSiteData").spin_mhenv_key]=e,b):null);return new Map(c("objectEntries")(d))}g["default"]=a}),98);
__d("isMWBumpMessage",["EntMessageReplyType","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(a==null?void 0:a.replyType)!=null&&(h||(h=d("I64"))).equal(a.replyType,(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP))}g["default"]=a}),98);
__d("isThreadLevelCutoverEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("68")===!0}g["default"]=a}),98);
__d("sendToSentQPLUtils",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return g[a]}function b(a,b){g[a]=b}f.getS2sKeyFromOfflineMessageId=a;f.setS2sKeyForOfflineMessageId=b}),66);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils",["Promise"],(function $module_ls_voprf_utils(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;

var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var EmscriptenEH=function(_Error){"use strict";babelHelpers.inheritsLoose(EmscriptenEH,_Error);function EmscriptenEH(){return _Error.apply(this,arguments)||this;}return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var EmscriptenSjLj=function(_EmscriptenEH){"use strict";babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}return EmscriptenSjLj;}(EmscriptenEH);var CppException=function(_EmscriptenEH2){"use strict";babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}return CppException;}(EmscriptenEH);var wasmBinaryFile;wasmBinaryFile="crypto_utils.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50180:function _(){return Module.getRandomValue();},50216:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx)){++endPtr;}if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var warnOnce=function warnOnce(text){if(!warnOnce.shown)warnOnce.shown={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx]){++idx;}endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 2147483648;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";babelHelpers.inheritsLoose(BindingError,_Error2);function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";babelHelpers.inheritsLoose(InternalError,_Error3);function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof EmscriptenEH))throw e;_setThrew(1,0);}}Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmMemory","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("DoubleKeyMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d||this.$1.set(a,d=new Map());d.set(b,c)};b.get=function(a,b){return(a=this.$1.get(a))==null?void 0:a.get(b)};b["delete"]=function(a,b){var c=this.$1.get(a);c&&(c["delete"](b),c.size===0&&this.$1["delete"](a))};b.getAll=function(a){return this.$1.get(a)};b.deleteAll=function(a){this.$1["delete"](a)};return a}();f.DoubleKeyMap=a}),66);
__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT"]);c=a;f["default"]=c}),66);
__d("FuncChannel",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var d=this,e;this.$2=[];this.callMessageHandler=function(a){return new(h||(h=b("Promise")))(function(b,c){a.result={resolveFunc:b,rejectFunc:c},d.$2.push(a)})};this.messageToCall=function(a){var b,e,f=d.proxyMethods[a.method];if(typeof f!=="function"){c("FBLogger")("worker").mustfix("proxyMethods[%s] is not a functions",a.method);return}b=(b=a.result)==null?void 0:b.resolveFunc;e=(e=a.result)==null?void 0:e.rejectFunc;if(typeof b==="function"&&typeof e==="function")try{var g=f.apply(a.thisArg,a.argList);b(g)}catch(a){e(a)}else return f.apply(a.thisArg,a.argList)};var f=this,g={},i=(e=a==null?void 0:a(g))!=null?e:{},j=babelHelpers["extends"]({},g);function k(a){j[a]=function(){var b={type:"call",method:a,thisArg:null,argList:Array.from(arguments)};return f.callMessageHandler(b)},g[a]=function(){var b=f.$1[a];if(typeof b!=="function"){c("FBLogger")("worker").mustfix("_backend[%s] is not a functions",a);return}return b.apply(f.$1,arguments)},i[a]==null&&(i[a]=g[a])}this.$1=j;if(a!=null){e=Object.keys(i);e.forEach(k);this.proxyMethods=i}else this.proxyMethods=new Proxy(i,{get:function(a,b){a=b;i[a]==null&&k(a);return i[a]}})}var d=a.prototype;d.flushBuffer=function(){var a=this.$2;this.$2=[];a.forEach(this.messageToCall)};d.setBackend=function(a){this.$1!==a&&(this.$1=a,this.flushBuffer());return this};d.setCallMessageHandler=function(a){this.callMessageHandler=a,this.flushBuffer()};return a}();g["default"]=a}),98);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWLogIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","err","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("err")("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(a=(c=a)!=null?c:k())!=null?a:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("LOG - Error performing transaction in log transactor","maw_db",a?{error:a}:{})})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1403");f=c("justknobx")._("1404");var j=c("justknobx")._("1401");function k(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function l(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function m(a){switch(a){case"logRestricted":return"warn";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:l(a.tags,"[]"),level:m(a.logLevel)}}function e(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:l(b,"[]"),level:"error"}}var n=[],o=[],p=5,q=0,r=!1,s=function(){n.length=0},t=function(a){a=y(a);o.length<p?o.push(a):o[q%p]=a;q=(q+1)%p},u=function(a){var c=[],d=0;while(d<a){var e=((q-d-1)%p+p)%p;e=o[e];c.push(e);d++}return(h||(h=b("Promise"))).resolve(c)},v=function(a,b){n.push({context:a,logEntry:b}),t({context:a,logEntry:b}),n.length>i?c("promiseDone")(w()):x()},w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1});return function(){return a.apply(this,arguments)}}(),x=c("throttle")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r)return;r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1}),f),y=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=k(b);return a},babelHelpers["extends"]({},a,{category:b+"-"+c("pageID")}))},z=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(y(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});f=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-j));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});var A=function(a){if(a<=o.length)return u(a);else return B(a)},B=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a["continue"]()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=l;g.formatLog=a;g.formatErrorForLogging=e;g.clearLogEntryCache=s;g.saveLogEntry=v;g.forceCachedLogEntryPersist=w;g.getEntries=f;g.getLastNEntries=A}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch","MAWEBUploadTrackingUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return;case 3:c("MAWEBSwitch").set(!0);return;case 2:case 4:default:c("MAWEBSwitch").set(!1);h();return}}function h(){d("MAWEBUploadTrackingUtils").getUploadQueueStartedCache().forEach(function(a,b,c){d("MAWEBUploadTrackingUtils").endSuccessWorkerOnly(a,"upload_tracking_cancelled_eb_turned_off",{string:{externalId:b,from:"backup state turned off"}}),d("MAWEBUploadTrackingUtils").removeExternalIdFromUploadQueueStartedCache(b)})}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);
__d("MAWEncyptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWErrorObject","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","QPLUserFlow","WAExceededStorageQuota","WALogger","WAWorkerGlobalScope","err","gkx","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]);j=function(){return a};return a}b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=1,n=null,o=null,p=null;function q(){return n}function a(){return n!=null}function r(a,e){e===void 0&&(e=0);var f=d("MAWCurrentUser").getID(),g=t(a);if(e>m){u(g,"ear_idb_retry_failed_max_reached");throw c("err")("Failed to create encryption DB after max retries")}if(n!=null){u(g,"ear_db_exists");return(i||(i=b("Promise"))).resolve()}if(indexedDB==null){u(g,"ear_idb_unavailable");throw c("err")("IndexedDB API not available")}u(g,"ear_db_open_start",{bool:{browserLockEnabled:c("BrowserLockManager")!=null}});return new(i||(i=b("Promise")))(function(b,i){try{p=d("MAWIndexedDbMetadata").encryptionDbName(f);var j=indexedDB.open(p),m=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("IndexedDB initialisation timeout in %s flow. openRequest: %s",String(a),(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",j.readyState))},1e4);j.onupgradeneeded=function(a){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);u(g,"ear_db_upgrade_start");a=a.target.result;if(!a.objectStoreNames.contains(k)){a=a.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});a.createIndex(l,l,{unique:!0})}u(g,"ear_db_upgrade_end")};j.onblocked=function(){u(g,"ear_db_open_blocked"),d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("EAR Open timed out while blocked"))},2e3)};j.onsuccess=function(f){var h=c("gkx")("4052");d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);var j=f.target.result;if(h&&!j.objectStoreNames.contains(k)){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);j.close();if(p==null){u(g,"ear_idb_retry_failed_missing_db");return i(c("err")("Attempting to delete encryption DB but _dbName is null"))}var l=indexedDB.deleteDatabase(p);l.onerror=function(){u(g,"ear_idb_retry_failed_delete_failed");return i(c("err")("Failed to delete malformed encryption DB: "+l.error.message))};l.onsuccess=function(){r(a,e+1).then(b)["catch"](i)};return}j.onversionchange=function(){j.close(),c("FBLogger")("messenger_e2ee_web").info("EAR onversionchange triggered"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),o==null?void 0:o()};u(g,"ear_db_open_end");n=j;b()};j.onerror=function(){u(g,"ear_db_open_error"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),i(j.error)}}catch(a){u(g,"ear_db_error"),i(a)}})}function e(a){o=o==null?a:o}function f(a){var b=d("MAWTransactionMode").READWRITE===a?"readwrite":"readonly";a=function(a){return function(){var e=q();if(e==null)throw c("err")("Making EAR transactor without encryption db init");var f=e.transaction(k,b);d("WAExceededStorageQuota").listenToQuotaExceededError(f);var g=f.objectStore(k);for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];return a.apply(void 0,[g].concat(i))["catch"](function(a){a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("Error performing transaction in encryption transactor v2","maw_db",a?{error:a}:{})})}};return a}function s(){n!=null&&n.close();return d("MAWIndexedDBDeletion").deleteDB(p,"ear")}function t(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(j());return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127")}}function u(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=q;g.isEncryptionDBInited=a;g.makeEncryptionDB=r;g.maybeSetEncryptionDbOnVersionChange=e;g.makeEncryptionMsgrTransactor=f;g.deleteEncryptionDB=s}),98);
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var d=a.descriptionForLogging,e=a.url,f=a.xmaContentType;return e==null||e===""?(h||(h=b("Promise"))).resolve():window.fetch(e).then(function(a){return a.blob()})["catch"](function(){c("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s, with XMA content type %s",d,f);return(h||(h=b("Promise"))).resolve()})}g.fetchBlob=a}),98);
__d("MAWFrontendMediaUtils",["MAWDbMedia"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp"&&b!==!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};c=(c=c)!=null?c:a.split("/")[0];switch(c){case"image":if(b===!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"xma-image"};else return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};case"application":default:return{mediaType:d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE,serverMediaType:"document"}}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);
__d("WAFixedSizeMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){a=a.max;this.$1=new Map();this.$2=new Map();this.$3=0;this.$4=100;this.$4=a}var b=a.prototype;b.has=function(a){return this.$1.has(a)};b.get=function(a){return this.$1.get(a)};b.set=function(a,b){this.$1.set(a,b);this.$2.set(this.$3,a);this.$3+=1;b=this.$2.get(this.$3-this.$4-1);b!=null&&(this.$1["delete"](b),this.$2["delete"](this.$3-this.$4-1))};b.clear=function(){this.$1.clear(),this.$2.clear(),this.$3=0};b.size=function(){return this.$1.size};return a}();f.FixedSizeMap=a}),66);
__d("MAWJobActionsV2",["MAWTransactionMode","Promise","WAFixedSizeMap","WAHex","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return new(h||(h=b("Promise")))(function(b,c){a.onsuccess=b,a.onerror=c})}function j(a){return i(a).then(function(a){return a.target.result})}function k(a,c,e){return new(h||(h=b("Promise")))(function(b,f){var g=a(d("MAWTransactionMode").READONLY).index(c);g=g.openCursor(IDBKeyRange.only(e));var h=[];g.onsuccess=function(a){a=a.target.result;if(!a){b(h);return}h.push(a.value);a["continue"]()};g.onerror=function(a){return f(a)}})}var l=new(d("WAFixedSizeMap").FixedSizeMap)({max:100});function a(a,c){var e,f=c.args,g=c.scheduleConfig,i=c.type,l=c.uniqKey;c=c.version;c=c===void 0?1:c;e=JSON.stringify([i,(e=l)!=null?e:d("WAHex").randomHex(32)]);var n={backedOffCount:0,current:f,original:f,scheduleConfig:g,startTime:d("WATimeUtils").unixTime(),step:"$unstarted",stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,stepUnexpectedErrorCount:0,type:i,uniqKey:e,version:c,waitUntil:null},o=function(){var b,c=a().add(n),d=j(c);if(n.uniqKey==null&&typeof ((b=c.transaction)==null?void 0:b.commit)==="function")try{c.transaction.commit()}catch(a){}return d.then(function(a){return{id:a,newlyCreated:!0}})};if(l!=null)return k(a,"uniqKey",e).then(function(c){if(c.length===0)return o();var d=[],e=null;c.forEach(function(b){b.step!=="$finished"?e=b:d.push(m(a,b.jobId))});return(h||(h=b("Promise"))).all(d).then(function(){return e!=null?{id:e.jobId,newlyCreated:!1}:o()})});else return o()}function m(a,b){return j(a()["delete"](b))}function c(a,b){return j(a().get(b))}function e(a,b){return j(a().put(b))}function f(a){return j(a().getAll())}function n(a){try{return i(a().clear()).then(function(){})}catch(a){if(a.name==="NotFoundError")return(h||(h=b("Promise"))).resolve();throw a}}g.recentFinishedJobsCache=l;g.maybeCreateJob=a;g.deletePersistedJob=m;g.readPersistedJob=c;g.updatePersistedJob=e;g.readAllPersistedJobs=f;g.clearJobs=n}),98);
__d("MWEARKeychainV3",["ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","MAWCryptoConsts","MAWCurrentUser","MAWEARGenNewKeychainCryptoKey","MAWEncyptionIndexedDbV2","MAWGenKeychainCryptoKeyWithVersion","MAWKeychainCrypto","MAWWebInitDataHelpers","MWEARKeychainV3Errors","MessengerWebInitData","Promise","ReStoreTabNotifier","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","err","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},k=babelHelpers["extends"]({},j),l="none";function a(){k=babelHelpers["extends"]({},j,{databaseEncryptionKeys:new Map()}),l="none"}var m="browserEncryptionMetaV2";function e(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l==="success"&&k.databaseEncryptionKeys.size!==0)return d("WAResultOrError").makeResult(o());var a=d("MAWCurrentUser").getID(),e=c("ReStoreTabNotifier")("channel-ear-keychain-v3-"+a);e==null?void 0:e.onEventReceive("notifyEarKeychain",w);d("LSPlatformLsInitLog").addPoint("ear_init_start");var f=[];try{d("LSPlatformLsInitLog").addPoint("ear_gen_key_start");var g=(yield c("MAWEARGenNewKeychainCryptoKey")());f=(yield new(i||(i=b("Promise")))(function(a,b){var h=t("readwrite"),i=h.objectStore(m).getAll();i.onerror=function(){return b(i.error)};i.onsuccess=function(){var j;f=s(i.result);if(!q(f))return a(f);var k=f.map(function(a){return a.version});j=(j=k[k.length-1])!=null?j:0;k.includes(j+1)&&c("FBLogger")("messenger_e2ee_web").mustfix("EAR version corruption: versions: %s",k.toString());var l=babelHelpers["extends"]({},g,{version:j+1});h.oncomplete=function(){f.push(babelHelpers["extends"]({},l,{id:l.version})),e.postMessage("notifyEarKeychain",l.version),d("LSPlatformLsInitLog").addPoint("ear_gen_key_end"),a(f)};var n=h.objectStore(m).put(l);n.onerror=function(){return b(c("FBLogger")("messenger_e2ee_web").catching(n.error).mustfixThrow("Failed to rotate EAR key"))}}}));d("LSPlatformLsInitLog").addPoint("ear_import_start");a=(yield i.all(f.map(function(a){return p(a).then(function(b){(a.accountKeyString==null||a.userKeyBaseString==null||a.appIdOrigin==null||a.formatVersion==null)&&(d("LSPlatformLsInitLog").addPoint("ear_import_entry_backfill"),c("promiseDone")(x(a)));return b})})));d("LSPlatformLsInitLog").addPoint("ear_import_end");for(a of a)k.databaseEncryptionKeys.set(a.version,a.key);v();d("LSPlatformLsInitLog").addPoint("ear_init_end");l="success";return d("WAResultOrError").makeResult(o())}catch(a){l="failure";d("LSPlatformLsInitLog").addPoint("ear_init_error");c("FBLogger")("messenger_e2ee_web").catching(c("getErrorSafe")(a)).mustfix("Failed to setup EAR Keychain V3");return d("WAResultOrError").makeError("keychain-setup-failure",a)}});return n.apply(this,arguments)}function o(){return k.latestVersion}function f(a){a===void 0&&(a=o());var b=k.databaseEncryptionKeys.get(a);if(b==null){c("promiseDone")(r(t("readonly")).then(function(b){var d=b.map(function(a){return a.version}).includes(a);c("FBLogger")("messenger_e2ee_web").info("EAR Keychain DB match found: %s. Version = %s. NumberVersions = %s",d,a,b.length)}));var e=o(),f=Array.from(k.databaseEncryptionKeys.keys());c("FBLogger")("messenger_e2ee_web").mustfix("EAR Key v%s was null. Latest version: %s has key: %s, keychain length: %s, currentLatestVersion: %s, init status %s, in worker %s",a,e,k.databaseEncryptionKeys.get(e)==null,k.databaseEncryptionKeys.size,Math.max.apply(Math,f),l,(h||(h=c("ExecutionEnvironment"))).isInWorker);throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+a+" was null.")}return{key:b,version:a}}function p(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)}function q(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function r(a){return u(a.objectStore(m).getAll()).then(s)}function s(a){var b=a.find(function(a){return a.version===null});b!=null&&c("FBLogger")("messenger_e2ee_web").mustfix("EAR Keychain Rotation null version: fields nonnull: %s %s %s %s %s %s",b.id==null,b.key==null,b.seed==null,b.formatVersion==null,b.accountKeyString==null,b.userKeyBaseString==null);b=a.filter(function(a){return a.version!==null});return b.sort(function(a,b){return a.version-b.version})}function t(a){var b=d("MAWEncyptionIndexedDbV2").getEncryptionDB();if(b==null)throw c("err")("Encryption IndexDB should've been initialized");return b.transaction(m,a,{durability:"relaxed"})}function u(a){return new(i||(i=b("Promise")))(function(b,c){a.onsuccess=function(){return b(a.result)},a.onerror=function(){return c(a.error)}})}var v=function(){var a=Array.from(k.databaseEncryptionKeys.keys());a.length>0?k.latestVersion=Math.max.apply(Math,a):c("FBLogger")("messenger_e2ee_web").mustfix("EAR latest version does not exist")},w=function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield r(t("readonly"))).find(function(b){return b.version===a});if(b==null)throw c("err")("Notified new Ear Key but missing in DB");b=(yield p(b));k.databaseEncryptionKeys.set(b.version,b.key);v()}catch(a){return c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("Failed to handleNewVersion. In worker %s.",(h||(h=c("ExecutionEnvironment"))).isInWorker)}})())},x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=a.formatVersion)!=null?b:1;var e=(yield d("MAWKeychainCrypto").generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(b))),f=(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),g=t("readwrite");g.objectStore(m).put(babelHelpers["extends"]({},a,{accountKeyString:e,appIdOrigin:c("MessengerWebInitData").appId,formatVersion:b,userKeyBaseString:f}))});return function(b){return a.apply(this,arguments)}}();function y(){if(l==="success"){k.databaseEncryptionKeys.size===0&&c("FBLogger")("messenger_e2ee_web").mustfix("Keychain initialised but no keys present");return!0}return!1}g.resetKeychain__TEST_ONLY_DO_NOT_USE=a;g.init=e;g.getLatestVersion=o;g.getDbEncryptionKey=f;g.isKeychainInitialised=y}),98);
__d("MAWKeychain",["MWEARKeychainV3"],(function(a,b,c,d,e,f,g){"use strict";a={getDbEncryptionKey:d("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:d("MWEARKeychainV3").getLatestVersion,init:d("MWEARKeychainV3").init};g["default"]=a}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("MAWMediaDownloadStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["DOWNLOADING","SUCCESS","NOT_MANUAL_RETRYABLE_FAILURE","MANUAL_RETRYABLE_FAILURE","MISSING_FILE"]);c=a;f["default"]=c}),66);
__d("MWSetupDBEncryption",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWEncyptionIndexedDbV2","MAWKeychain","MWEARKeychainV3","Promise","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b()};function a(a){j=a}var k="mw_ear_db";function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("MAWEncyptionIndexedDbV2").makeEncryptionDB(a);return yield j("init_setup_keychain",function(){return c("MAWKeychain").init()})}catch(e){var b=e instanceof Error?e:c("getErrorSafe")(e);c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("[%s] EAR setup error",String(a));return d("WAResultOrError").makeError("keychain-setup-failure",b)}});return m.apply(this,arguments)}function n(a){if(d("MAWEncyptionIndexedDbV2").getEncryptionDB()!=null&&d("MWEARKeychainV3").isKeychainInitialised())return(i||(i=b("Promise"))).resolve(d("WAResultOrError").makeResult(d("MWEARKeychainV3").getLatestVersion()));var e=c("gkx")("5522")?k.concat((h||(h=c("ExecutionEnvironment"))).isInWorker?"_worker":"_main"):k;if(c("BrowserLockManager")!=null)return new(i||(i=b("Promise")))(function(d,f){c("promiseDone")(c("BrowserLockManager").request(e,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield l(a));d(b)}catch(a){f(a)}})),function(a){},function(a){f(a)})});else return l(a)}function e(a,c){c===void 0&&(c=function(a){return!0});var d=null;return function(e){d==null&&(d=a(e).then(function(a){d=c(a)?(i||(i=b("Promise"))).resolve(a):null;return a})["catch"](function(a){d=null;throw a}));return d}}f=e(function(a){return n(a)},function(a){return(a==null?void 0:a.success)===!0});e=c("justknobx")._("2804")?f:n;g.setPerformanceMeasurementTool=a;g.init=e}),98);
__d("MainPageUrl",["ExecutionEnvironment","FBLogger","SimpleHook"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new URL("http://undefined"),j=new(d("SimpleHook").SimpleHook)();function k(){var a;return(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(i==null?void 0:(a=i.searchParams)==null?void 0:a.get("workerlog"))==="debug"}function a(a){try{k()&&c("FBLogger")("worker").debug("received url "+a);var b=new URL(a,i.href||"http://undefined");i.href!==b.href?(i.href=b.href,j.call(i)):k()&&c("FBLogger")("worker").debug("ignoring url: path didn't change in "+a)}catch(a){c("FBLogger")("worker").catching(a).warn("invalid url")}}typeof window==="object"&&typeof window.location==="object"&&typeof window.location.href==="string"&&a(window.location.href);g.mainPageUrl=i;g.onMainPageUrlChange=j;g.isWorkerLogEnabled=k;g.updateMainPageUrl=a}),98);
__d("NestedTimeRange",["SimpleHook","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(d("SimpleHook").SimpleHook)(),k=new(d("SimpleHook").SimpleHook)(),l="/";function m(a,b){return""+a+l+b}b=function(){function a(a,b){b===void 0&&(b=null),this.$3=0,this.$1=a,this.$2=b}var b=a.prototype;b.isRunning=function(){return this.$3>0};b.fullname=function(){return this.$2!==null?m(this.$2.fullname(),this.$1):this.$1};b.start=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());if(this.$3===0){var b;(b=this.$2)==null?void 0:b.start(a);this.__onStart(a)}++this.$3;return a};b.__onStart=function(a){j.call(this,a)};b.stop=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());--this.$3;if(this.$3===0){var b;this.__onStop(a);(b=this.$2)==null?void 0:b.stop(a)}return a};b.__onStop=function(a){k.call(this,a)};return a}();function a(){(i||(i=c("performance"))).mark&&(i||(i=c("performance"))).measure&&(j.add(function(a,b){(i||(i=c("performance"))).mark(a.fullname()+"_start")}),k.add(function(a,b){(i||(i=c("performance"))).measure(a.fullname(),a.fullname()+"_start")}))}g.OnRangeStart=j;g.OnRangeStop=k;g.TIME_RANGE_LEVEL_SEPARATOR=l;g.rangeFullName=m;g.NestedTimeRange=b;g.enableDevConsoleTimeline=a}),98);
__d("QLogEvent",["DoubleKeyMap","FBLogger","NestedTimeRange","QPLEvent","SimpleHook","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("DoubleKeyMap").DoubleKeyMap)(),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){a=b.call(this,a,d)||this;a.$QPLRange$p_1=c;i.set(c,a.fullname(),babelHelpers.assertThisInitialized(a));return a}var e=a.prototype;e.__onStart=function(a){b.prototype.__onStart.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_START",{timestamp:a})};e.__onStop=function(a){b.prototype.__onStop.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_END",{timestamp:a}),i["delete"](this.$QPLRange$p_1,this.fullname())};e.range=function(b){this.fullname().startsWith(d("NestedTimeRange").TIME_RANGE_LEVEL_SEPARATOR)||c("FBLogger")("qpl").warn("Range %s cannot have subrange since root name does not start with /",this.fullname());var e=d("NestedTimeRange").rangeFullName(this.fullname(),b);return(e=i.get(this.$QPLRange$p_1,e))!=null?e:new a(b,this.$QPLRange$p_1,this)};return a}(d("NestedTimeRange").NestedTimeRange),k=new(d("DoubleKeyMap").DoubleKeyMap)(),l=new((b=d("SimpleHook")).SimpleHook)(),m=new b.SimpleHook(),n=new b.SimpleHook(),o=new b.SimpleHook(),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f,g){var i;c===void 0&&(c=0);e===void 0&&(e=2);f===void 0&&(f=!1);var j=(h||(h=d("QPLEvent"))).getMarkerId(a);i=b.call(this,"event_"+j)||this;i.event=a;i.instanceKey=c;i.$QPLEvent$p_1=e;i.isUserFlow=f;i.$QPLEvent$p_2=g;k.set(j,c,babelHelpers.assertThisInitialized(i));return i}var e=a.prototype;e.action=function(a){this.$QPLEvent$p_1=a;return this};e.getAction=function(){return this.$QPLEvent$p_1};e.setIsUserFlow=function(a){this.isUserFlow=a;return this};e.startFromNavStart=function(){this.start(c("performanceNavigationStart")());return this};e.startFromTime=function(a){this.start(a);return this};e.__onStart=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStart(this,a);l.call(this,a)};e.__onStop=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStop(this,a);m.call(this,a);i.deleteAll(this);k["delete"]((h||(h=d("QPLEvent"))).getMarkerId(this.event),this.instanceKey)};e.range=function(a){var b;return(b=i.get(this,a))!=null?b:new j(a,this)};e.point=function(a,b){var c;b===void 0&&(b={});(c=this.$QPLEvent$p_2)==null?void 0:c.onPoint(this,a,b);n.call(this,a,b);return this};e.annotate=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onAnnotate(this,a);o.call(this,a);return this};return a}(d("NestedTimeRange").NestedTimeRange);function a(a,b,c){var e;b===void 0&&(b=0);return(e=k.get((h||(h=d("QPLEvent"))).getMarkerId(a),b))!=null?e:new p(a,b,2,!1,c)}g.OnEventStart=l;g.OnEventStop=m;g.OnEventPoint=n;g.OnEventAnnotate=o;g.QPLEvent=p;g.event=a}),98);
__d("SharedWorkerStatusLock",[],(function(a,b,c,d,e,f){"use strict";var g="sw-lock";function h(a){return g+"-"+a}function a(){var a=null,b;function c(){var c=self,d=c.navigator.locks;c.LockManager!=null&&d instanceof c.LockManager&&(b==null&&(b=new c.Promise(function(b){a=b})),d.request(h(c.name),function(a){if(a!=null)return b}))}function d(){a==null?void 0:a(),b=null,a=null}return{init:c,release:d}}f.getStatusLockName=h;f.getStatusLock=a}),66);
__d("TimedOnceFunc",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a,b){this.$2=!1,this.$4=a,this.$3=b,(h||(h=c("ExecutionEnvironment"))).isInBrowser&&this.$5()}var b=a.prototype;b.$6=function(){this.$1!=null&&clearTimeout(this.$1),this.$1=null};b.$5=function(){var a=this;this.isDone()||(this.$6(),this.$1=setTimeout(function(){a.$2=!0,a.run()},this.$3))};b.isDone=function(){return this.$4===null};b.isCancelled=function(){return this.$1===null&&this.$4!==null};b.run=function(){this.$6();if(this.$4!=null){var a=this.$4;this.$4=null;a(this.$2)}};b.getDelay=function(){return this.$3};b.delay=function(a){this.$3=(a=a)!=null?a:this.$3;this.$5()};b.cancel=function(){this.$6()};return a}();g.TimedOnceFunc=a}),98);
__d("VirtualMessageChannel",["invariant","Promise","SimpleHook","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=function(){function a(a){a===void 0&&(a=!1),this.$2=new(d("SimpleHook").SimpleHook)(),this.onmessage=null,this.onmessageerror=null,this.$3=a}var e=a.prototype;e.setRemotePort=function(a){this.$1=a};e.addEventListener=function(a,b,c){(a==="message"||a==="error")&&c==null||h(0,55320,a);if(a==="message")if(typeof b==="function")this.$2.add(b);else{c=b.handleEvent.bind(b);this.$2.add(c);b.__handler=c}};e.removeEventListener=function(a,b,c){if(typeof b==="function")this.$2.remove(b);else{a=b.__handler;this.$2.remove(a)}};e.postMessage=function(a,d){var e=this,f=function(){var b=c("nullthrows")(e.$1,"By now remote port must have value!");b.$2.call({data:a,ports:d})};this.$3?f():c("promiseDone")((i||(i=b("Promise"))).resolve(),f)};e.start=function(){};return a}();a=function(a,b){this.port1=new j(a),this.port2=new j(b),this.port1.setRemotePort(this.port2),this.port2.setRemotePort(this.port1)};g.VirtualMessagePort=j;g.VirtualMessageChannel=a}),98);
__d("WAAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};f.ABPropConfigs=a}),66);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("WAAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("WABridgeBatcher",["WAShiftTimer"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=1e3;a=function(){function a(a,b){var c=this;this.$1=null;this.$4=h;this.$5=Date.now();this.$6=new(d("WAShiftTimer").ShiftTimer)(function(){var a=c.$1;if(a==null)return;c.$1=null;c.$2(a)});this.$2=b;this.$3=a}var b=a.prototype;b.addEvent=function(a){var b=this.$1;this.$1=b?this.$3(b,a):[a];if(this.$6.isScheduled())return;b=this.$4;if(b<1){a=Date.now();var c=Math.max(a-this.$5,0)/i;b=Math.min(b+c,h);this.$4=b;this.$5=a}b>=1?(c=0,this.$4=b-1):(c=Math.ceil(i*(1-b)),this.$4=0);this.$6.onOrBefore(c)};b.cancel=function(){this.$1=null,this.$6.cancel()};return a}();g.BridgeBatcher=a}),98);
__d("WAByteArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b;var c=new Uint8Array(a);for(a=a-1;a>=0;a--)c[a]=b&255,b>>>=8;return c}function b(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function c(a,b){if(!a||!b)return!1;a=new Uint8Array(a);b=new Uint8Array(b);var c=a.length,d=b.length;if(c!==d)return!1;for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}f.intToBytes=a;f.uint8ArrayToBuffer=b;f.compareArrayBuffer=c}),66);
__d("WAPromiseCallSync",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){try{for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return(g||(g=b("Promise"))).resolve(a.apply(c,e))}catch(a){return(g||(g=b("Promise"))).reject(a)}}f.promiseCallSync=a}),66);
__d("WAPromiseManagement",["WAPromiseCallSync"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=null,c=function(){b||(b=d("WAPromiseCallSync").promiseCallSync(a)["finally"](function(){b=null}));return b};c.isPending=function(){return!!b};return c}function b(a,b){var c=new Map();return function(d){var e=a(d),f=c.get(e);if(f)return f;try{f=Promise.resolve(b(d))}catch(a){f=Promise.reject(a)}d=f["finally"](function(){return void c["delete"](e)});c.set(e,d);return d}}var h=new Set();function c(a){h.add(a),a["finally"](function(){h["delete"](a)})}g.nullaryCacheWhilePending=a;g.cacheWhilePending=b;g.preventGarbageCollection=c}),98);
__d("WACrossWorkerPortal",["Promise","WABridgeBatcher","WAErr","WALogger","WAPromiseManagement"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["absorbPortal: transferring request #",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected non-result to call"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected result to cast: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unrecognized result ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," response of ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," request for ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge queuing "," msgs"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge sending "," across (delayed)"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge received msg on old port"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge updating port"]);r=function(){return a};return a}var s=function(){function a(a,b,c,e,f){var g=this;this.port=null;this.$2=1;this.openRequests=new Map();this.listeners=new Set();this.processedRequests=new Set();this.$1=a;this.clientId=e;this.config=f;this.sendStream=new(d("WABridgeBatcher").BridgeBatcher)(b,function(a){g.$3(a)});c.forEach(function(b){a.setNamespaceHandler(b,g.$4(b))})}var e=a.prototype;e.$5=function(){var a=this.clientId!=null?this.clientId+"_":"";return""+a+this.$2++};e.$6=function(a){a=a.split("_");return a.length!==2?null:a[0]};e.addListener=function(a){var b=this;this.listeners.add(a);return function(){return b.listeners["delete"](a)}};e.setPort=function(a){var b=this;d("WALogger").LOG(r());this.port=a;this.sendStream.cancel();a.onmessage=function(c){if(b.port!==a){d("WALogger").WARN(q()).devConsole(c.data);return}c=c.data;if(!c||!Array.isArray(c))return;c.forEach(function(c){b.$7(c,"incoming"),b.$8(a,c)})};this.openRequests.forEach(function(a){a=a.request;d("WALogger").DEV(p(),a.name);b.sendStream.addEvent({type:"request",content:a})})};e.getBridge=function(){return this.$1};e.$4=function(a){var b=this;return function(c,d,e,f){b.$9(a,c,d,e,f)}};e.$9=function(a,b,c,d,e){var f=this.$5();a={requestId:f,expectsResponse:!!d,namespace:a,name:b,arg:c,silentLog:e};this.openRequests.set(f,{request:a,resolver:d});this.sendStream.addEvent({type:"request",content:a})};e.$10=function(a,b){if(a!==this.port)return;this.sendStream.addEvent({type:"result",content:b})};e.$3=function(a){var b,c=this,e=this.port;if(!e){d("WALogger").DEV(o(),a.length);return}((b=this.config)==null?void 0:b.onBeforeSend)&&a.forEach(this.config.onBeforeSend);e.postMessage(a);a.forEach(function(a){return c.$7(a,"outgoing")});((b=this.config)==null?void 0:b.onAfterSend)&&a.forEach(this.config.onAfterSend)};e.$7=function(a,b){this.listeners.forEach(function(c){return c(a,b)})};e.$8=function(a,e){var f=this;if(e.type==="request"){var g=e.content,i=g.namespace,o=g.name,p=g.requestId,q=g.arg,r=g.expectsResponse,s=g.silentLog;s||d("WALogger").LOG(n(),p,o);g=this.$1;if(r){r=g.sendAndReceive(i,o,q,s).then(function(b){f.$10(a,{requestId:p,type:"success",result:b,silentLog:s})},function(b){f.$10(a,{requestId:p,type:"error",result:String(b),silentLog:s})});d("WAPromiseManagement").preventGarbageCollection(r)}else{g.fireAndForget(i,o,q,s);r={type:"result",content:{requestId:p,type:"handled",silentLog:s}};this.$7(r,"outgoing");a.postMessage([r])}}else{e.type;g=e.content;i=g.requestId;o=g.type;q=g.result;r=g.silentLog;r||d("WALogger").DEV(m(),i,o);e=this.$6(i);if(e!==this.clientId||this.processedRequests.has(i))return;g=this.openRequests.get(i);if(!g){d("WALogger").WARN(l(),i);return}switch(o){case"success":case"error":this.openRequests["delete"](i);this.processedRequests.add(i);r=g.resolver;r?r(o==="success"?q:(h||(h=b("Promise"))).reject(c("WAErr")(q))):d("WALogger").ERROR(k(),q);break;case"handled":g.resolver?d("WALogger").ERROR(j()):(this.openRequests["delete"](i),this.processedRequests.add(i));break}}};return a}();function a(a,b,c,d,e){return new s(a,c,b,d,e)}function e(a){var b;(b=a.port)==null?void 0:b.close();a.port=null;a.sendStream.cancel();b=a.openRequests;a.openRequests=new Map();var c=a.getBridge();b.forEach(function(a){var b=a.request;a=a.resolver;var e=b.namespace,f=b.name,g=b.arg,h=b.silentLog;d("WALogger").LOG(i(),b.requestId);a?a(c.sendAndReceive(e,f,g,h)):c.fireAndForget(e,f,g,h)})}g.CrossWorkerPortal=s;g.attachPortal=a;g.killPortalAndSendPendingToBridge=e}),98);
__d("WADevToolsBridge",["WADynamicRouterAsync"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("WADynamicRouterAsync").DynamicRouter)();function a(){return h}g.getDevToolBridge=a}),98);
__d("WAPromiseTimeout",["Promise","WACustomError"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e){var f=null,g=new(h||(h=b("Promise")))(function(a,b){f=setTimeout(function(){b(new(d("WACustomError").TimeoutError)(e)),clearTimeout(f)},c)});return h.race([a,g])["finally"](function(){clearTimeout(f)})};g.promiseTimeout=a}),98);
__d("WorkerMessagePortLogging",["MainPageUrl","QLogEvent","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.random()<.1,i=20,j=100,k=50;function a(){return d("MainPageUrl").isWorkerLogEnabled()||d("MainPageUrl").mainPageUrl.searchParams.get("worker_log")===1}var l=0;function m(){return d("QLogEvent").event(c("qpl")._(41497718,"106"),l++)}function b(a,b,c){c===void 0&&(c=!1);if(b==null||!h)return;var d=b.sendDelayHighPrecision,e=b.sendTimestamp,f=b.sendDateTime,g=b.receiveTimestamp,l=b.receiveDateTime,n=m();n.startFromTime();var o=n.range("SEND_DELAY");o.start(e);o.stop(g);o=n.range("SEND_DELAY_LOW_PRECISION");o.start(f);o.stop(l);o=Math.abs(e-f);e=Math.abs(g-l);n.annotate({string:{port_name:a},"int":{send_delay:d,send_drift:o,receive_drift:e},bool:{send_delay_above_max:d!=null&&d>i,send_drift_above_max:o>j,receive_drift_above_max:e>j}});if(c){f=n.range("ROUND_TRIP");f.start(b.sendTimestamp);f.stop(b.receiveTimestamp);g=b.receiveTimestamp-b.sendTimestamp;n.annotate({"int":{round_trip:g},bool:{round_trip_above_max:g>k}})}n.stop()}g.isWorkerLogEnabled=a;g.logMessageTiming=b}),98);
__d("WorkerMessagePort",["Deferred","FBLogger","MainPageUrl","Promise","PromiseAnnotate","SimpleHook","VirtualMessageChannel","WorkerMessagePortLogging","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return a}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("SimpleHook").SimpleHook);function m(a,b){a=k(a);a.__timing=b}function n(a){return a.__timing}a=function(){var a=e.prototype;a.onMessageHandler=function(a){try{this.onMessage.call(a);var b=this.$1[a.type];!b?this.onUnhandledMessage.call(a):b.call(a)}catch(a){this.onError.call(a)}};function e(a,b){var e=this;this.$1={};this.onUnhandledMessage=new l();this.onMessage=new l();this.onPostMessage=new l();this.onError=new l();this.$2=a;this.name=b;this.$2.addEventListener("message",function(a){return e.onMessageHandler(k(a.data))});this.$2.addEventListener("error",function(a){return e.onError.call(a)});this.onPostMessage.add(function(a){m(a,{receiveDateTime:-1,receiveTimestamp:-1,sendDateTime:Date.now(),sendDelayHighPrecision:0,sendDelayLowPrecision:0,sendTimestamp:(j||(j=c("performanceAbsoluteNow")))()})});this.onMessage.add(function(a){a=n(a);if(a!=null){var b=a.sendDateTime,f=a.sendTimestamp,g=(j||(j=c("performanceAbsoluteNow")))(),h=Date.now();a.receiveTimestamp=g;a.receiveDateTime=h;a.sendDelayHighPrecision=g-f;a.sendDelayLowPrecision=h-b;d("WorkerMessagePortLogging").logMessageTiming(e.name,a)}})}a.postMessage=function(a,b){this.onPostMessage.call(a),b?this.$2.postMessage(a,b):this.$2.postMessage(a)};a.addMessageListener=function(a,b){var c=this.$1[a];c||(c=new l(),this.$1[a]=c);return c.add(b)};a.removeMessageListener=function(a,b){a=this.$1[a];return!!a&&a.remove(b)};a.onMessageOnce=function(a,c){var d=this;return new(i||(i=b("Promise")))(function(b){var e=d.addMessageListener(a,function(f){c(f)&&(d.removeMessageListener(a,e),b(f))})})};a.close=function(){if(this.$2 instanceof MessagePort)this.$2.close();else if(this.$2 instanceof Worker)this.$2.terminate();else if(this.$2 instanceof DedicatedWorkerGlobalScope)this.$2.close();else{var a;(a=(a=this.$2.close)!=null?a:this.$2.terminate)==null?void 0:a.call(this.$2)}};a.isWrappingVirtualMessagePort=function(){return this.$2 instanceof d("VirtualMessageChannel").VirtualMessagePort};return e}();function o(a){return k(a)}e=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f){var g;g=a.call(this,e,f)||this;var j=o(babelHelpers.assertThisInitialized(g)),k=new(c("Deferred"))();e=k.getPromise();j.addMessageListener("endpoint_started",function(a){k.resolve(a);var b=n(a);j.postMessage({endpoint:a.endpoint,startSendTimestamp:b==null?void 0:b.sendTimestamp,targetEndpoint:g.name,type:"endpoint_started_received"})});f=j.onMessageOnce("endpoint_started_received",function(){return!0});void (h||(h=d("PromiseAnnotate"))).setDisplayName(e,"endpoint_started");void h.setDisplayName(f,"endpoint_started_received");j.postMessage({endpoint:g.name,type:"endpoint_started"});c("promiseDone")(e,function(a){a=n(a);d("WorkerMessagePortLogging").logMessageTiming(g.name,a)});c("promiseDone")(f,function(a){a=n(a);a!=null&&d("WorkerMessagePortLogging").logMessageTiming(g.name,a,!0)});g.fullyConnected=(i||(i=b("Promise"))).race([e,f]).then(function(){return babelHelpers.assertThisInitialized(g)});return g}return e}(a);g.getMessageTiming=n;g.WorkerMessagePort=a;g.CastWorkerMessagePort=o;g.WorkerSyncedMessagePort=e}),98);
__d("WorkerFuncChannel",["invariant","DateConsts","ExecutionEnvironment","FBLogger","FuncChannel","MainPageUrl","Promise","TimedOnceFunc","VirtualMessageChannel","WorkerMessagePort","err","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k={serialize:function(a,b){b.push(a);return a},deserialize:function(a){return a}},l=1e4,m=0,n=5,o=n+1,p=function(){function a(a){var b=self.WeakRef;b&&(this.$1=new b(a))}var b=a.prototype;b.isDead=function(){return this.$1!=null&&this.$1.deref()==null};return a}(),q=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g){var i;f===void 0&&(f=null);g===void 0&&(g={});i=e.call(this,a)||this;i.$WorkerFuncChannel1=new Map();i.$WorkerFuncChannel2=new Map();i.$WorkerFuncChannel5={"function":{serialize:function(a,b){b=o++;i.$WorkerFuncChannel1.set(b,a);a={type:"function",value:b};return a},deserialize:function(a){var b=babelHelpers.assertThisInitialized(i),c=a.value;a=function(){var a={type:"call",id:c,method:"__anonymous",thisArg:null,argList:Array.from(arguments)};return b.callMessageHandler(a)};i.$WorkerFuncChannel2.set(c,new p(a));return a}},custom:{serialize:function(a,b){var c=a.constructor.name,d=i.$WorkerFuncChannel4[c];d!=null||h(0,63779,c);d=d.serialize(a,b);return{type:"custom",custom:c,value:d}},deserialize:function(a){var b=a.custom,c=i.$WorkerFuncChannel4[b];c!=null||h(0,63779,b);return c.deserialize(a.value)}},error:{serialize:function(a,b){b={name:a.name,message:a.message,stack:a.stack};return{type:"error",value:b}},deserialize:function(a){var b=c("err")(a.value.message);b.name=a.value.name;b.stack=a.value.stack;return b}},object:{serialize:function(a,b){b=a.constructor;if(b!==Object)throw new Error("Cannot clone class object");return{type:"object",value:a}},deserialize:function(a){return a.value}},raw:{serialize:function(a,b){return{type:"raw",value:a}},deserialize:function(a){return a.value}}};i.name=b;i.$WorkerFuncChannel3=f;i.$WorkerFuncChannel4=g;a=function(a){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("adsworker").debug("[Channel] removing callback ids: %s",a.join()),a.forEach(function(a){return i.$WorkerFuncChannel1["delete"](a)})};var k=i.__remoteInternalFunc(m,a);typeof jest===typeof void 0&&(j||(j=c("ExecutionEnvironment"))).isInBrowser&&setInterval(function(){var a=[];i.$WorkerFuncChannel2.forEach(function(b,c){b.isDead()&&(a.push(c),i.$WorkerFuncChannel2["delete"](c))});a.length>0?k(a):i.$WorkerFuncChannel2.size>5e3&&c("FBLogger")("adsworker").warn("[%s] has too many remaining refs %s",i.name,i.$WorkerFuncChannel2.size)},l);return i}var f=a.prototype;f.__remoteInternalFunc=function(a,b){(a>n||this.$WorkerFuncChannel1.get(a)!=null)&&c("FBLogger")("adsworker").mustfix("invalid internal func id %s",a);this.$WorkerFuncChannel1.set(a,b);b=this.$WorkerFuncChannel5["function"].deserialize({type:"function",value:a});return b};f.$WorkerFuncChannel6=function(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};f.$WorkerFuncChannel7=function(a){if(typeof a==="function")return"function";if(a===null)return"raw";if(typeof a!=="object")return"raw";if(Array.isArray(a))return"raw";if(this.$WorkerFuncChannel6(a))return"raw";var b=a.constructor.name;if(this.$WorkerFuncChannel4[b])return"custom";return a instanceof Error?"error":"object"};f.$WorkerFuncChannel8=function(a,b){var c=this.$WorkerFuncChannel7(a);return this.$WorkerFuncChannel5[c].serialize(a,b)};f.$WorkerFuncChannel9=function(a){var b=a;if(a!==null&&typeof a==="object"&&typeof a.type==="string"){var c=this.$WorkerFuncChannel5[a.type];if(c)return c.deserialize(a)}return b};f.__onPostOutMessage=function(a){return a};f.__callCallback=function(a,b){a.apply(null,b.argList)};f.setOutMessagePort=function(a,d){var e=this,f=[];this.setCallMessageHandler(function(d){d.thisArg=e.name;var g=[];d.argList=d.argList.map(function(a){return e.$WorkerFuncChannel8(a,g)});var h=new(i||(i=b("Promise")))(function(a,b){d.result={resolveFunc:e.$WorkerFuncChannel8(a,g),rejectFunc:e.$WorkerFuncChannel8(b,g)}}),j=e.__onPostOutMessage(d);j!=null&&(f!=null?f.push({message:d,transferList:g}):a.postMessage(d,g));h["catch"](function(a){c("FBLogger")("worker").catching(a).mustfix("Error: channel %s, remote call of %s returned error %s",e.name,d.method,a.message)});return h});c("promiseDone")(d||x.waitForRemote(this.name),function(){var b=f;f=null;b==null?void 0:b.forEach(function(b){a.postMessage(b.message,b.transferList)});e.$WorkerFuncChannel3==null?void 0:e.$WorkerFuncChannel3()})};f.__messageToCall=function(a){var b=this;a.argList=a.argList.map(function(a){return b.$WorkerFuncChannel9(a)});if(a.result){var d=a.result,e=d.resolveFunc;d=d.rejectFunc;e=this.$WorkerFuncChannel9(e);d=this.$WorkerFuncChannel9(d);a.result={resolveFunc:e,rejectFunc:d}}e=a.id;if(e===void 0)this.messageToCall(a);else{d=this.$WorkerFuncChannel1.get(e);d?this.__callCallback(d,a):c("FBLogger")("adsworker").mustfix("Error: callback is called but no longer available")}};f.setInMessagePort=function(a){var b=this;a.addMessageListener("call",function(a){typeof a.thisArg==="string"&&a.thisArg===b.name&&b.__messageToCall(a)});x.notifyReady(this.name)};f.setMessagePort=function(a){this.setInMessagePort(a);this.setOutMessagePort(a);return this};return a}(c("FuncChannel")),r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("WorkerMessagePort").WorkerMessagePort);function s(a,b,d,e){x.exportChannel(a,function(e){var f=e.syncPort;e=e.remoteNativePort;var g=b();a===g.name||h(0,54247,a,g.name);var i;e?(i=new r(e,f.name+"("+g.name+")"),e.start(),i.onError.add(function(a){c("FBLogger")("worker").catching(a).mustfix("error caught in remotePort");throw a})):i=f;g.setMessagePort(i).setBackend(d);c("promiseDone")(f.fullyConnected,function(){f.postMessage({type:"channelReady",channelName:g.name}),x.logState("EXPORTED",a)})})}function a(a,b,c,d){d===void 0&&(d={});return s(c,function(){return new q(function(b){return a},c,null,d)},a,b)}var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a,e){e===void 0&&(e="");var f=d("DateConsts").MS_PER_MIN*1;return b.call(this,function(){c("FBLogger")("worker").warn("Channel %s did not establish eventually. %s",a,e)},f)||this}return a}(d("TimedOnceFunc").TimedOnceFunc);function u(a,b){var e,f=null,g,h;b.isWrappingVirtualMessagePort()?(h=new(d("VirtualMessageChannel").VirtualMessageChannel)(!0,!0),e="on virtual dedicated channel"):(h=new MessageChannel(),e="on native dedicated channel",g=[h.port2]);var i=h.port1;f=h.port2;i.start();var j=new r(i,b.name+"("+a.name+")");c("promiseDone")(b.fullyConnected,function(){x.logState("IMPORTING "+e+" ",a.name);a.setInMessagePort(j);var d=new t(a.name,e);c("promiseDone")(b.onMessageOnce("channelReady",function(b){return b.channelName===a.name}),function(b){a.setOutMessagePort(j),d.cancel(),x.logState("ESTABLISHED",a.name)});b.postMessage({type:"channelImport",channelName:a.name,port:f},g)});return a.proxyMethods}function v(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d={});b=new q(function(b){return a},b,c,d);return b}function e(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e={});return u(v(a,c,d,e),b)}var w=function(){function a(){this.name=self.name+"_P"+Math.round(10*Math.random()),this.$1=new Map(),this.$2=new Set()}var e=a.prototype;e.logState=function(a,b){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("worker").debug("%s-%s %s",this.name,a,b)};e.$3=function(a){var b=this.$1.get(a);b==null&&(b={pendingPorts:null,onImportRequest:null},this.$1.set(a,b));return b};e.exportChannel=function(a,b){var d=this,e=this.$3(a);e.onImportRequest!=null&&c("FBLogger")("worker").debug("Re-exporting channel %s",a);e.onImportRequest=b;this.logState("REGISTERED",a);a=e.pendingPorts;if(a!=null){var f=a.filter(function(a){return d.$2.has(a.syncPort)});f.forEach(b);f.length<a.length?e.pendingPorts=a.filter(function(a){return!d.$2.has(a.syncPort)}):e.pendingPorts=null}return e};e.activate=function(a,b,d){var e=this;if(this.$2.has(a)){c("FBLogger")("worker").debug("Port %sis already duplicated ",a.name);return}this.$2.add(a);a.addMessageListener("channelImport",function(b){var c=b.channelName,d=e.$3(c);b={syncPort:a,remoteNativePort:b.port};d.onImportRequest!=null?d.onImportRequest(b):d.pendingPorts!=null?d.pendingPorts.push(b):d.pendingPorts=[b];e.logState("IMPORT REQUEST",c)})};e.notifyReady=function(a){};e.waitForRemote=function(a){return(i||(i=b("Promise"))).resolve()};return a}(),x=new w();function f(a,b,c){x.activate(a,b,c)}g.TransferableTransformer=k;g.WorkerFuncChannel=q;g.exportChannelOnPort=s;g.exportChannel=a;g.importChannelOnPort=u;g.makeChannel=v;g.importChannel=e;g.activateChannels=f}),98);
__d("WorkerQPLChannel",["WorkerFuncChannel","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("WorkerFuncChannel").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=(h||(h=c("performanceAbsoluteNow")))());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers["extends"]({},e,{timestamp:(h||(h=c("performanceAbsoluteNow")))()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=(h||(h=c("performanceAbsoluteNow")))());return a.markerEnd(b,d,e,f)}}},"qpl");function a(a){i.setMessagePort(a)}function b(a){i.setBackend(a)}g.setMessagePort=a;g.initQPL=b}),98);/*FB_PKG_DELIM*/
__d("BaseAspectRatioContainer.react",["react","react-strict-dom","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.aspectRatio,e=a.children,f=a.contentStyle,g=a.testid;g=a.xstyle;if(b<=0)throw c("unrecoverableViolation")("Aspect ratio must be a non-zero, positive number: "+b,"comet_ui");return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,g,j.dynamicTop(b)],children:e!=null&&i.jsx(d("react-strict-dom").html.div,{style:[j.content,f],children:e})})}a.displayName=a.name+" [from "+f.id+"]";var j={container:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0},content:{alignItems:"x1qjc9v5",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderEndStyle:"xu3j5b3",borderEndWidth:"xcfux6l",borderStartStyle:"x26u7qi",borderStartWidth:"xm0m39n",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",end:"xds687c",left:null,right:null,start:"x17qophe",justifyContent:"x1qughib",marginBottom:"xat24cr",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",marginTop:"xdj266r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingBottom:"x18d9i69",paddingEnd:"x4uap5",paddingStart:"xkhd6sd",paddingTop:"xexx8yu",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1ja2u2z",$$css:!0},dynamicTop:function(a){return[{paddingTop:"xbobb8a",$$css:!0},{"--paddingTop":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(100/a+"%")}]}};g["default"]=a}),98);
__d("BaseEntryPointPopoverTrigger.react",["BaseEntryPointPopoverContainer.react","BasePopoverTrigger.react","CometRelay","deepEquals","emptyFunction","react","tracePolicyFromResource","useCometPopoverInteractionTracing","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useRef;function a(a){var b=a.doNotCloseOnOutsideClick,e=a.entryPointParams,f=a.fallback,g=a.onVisibilityChange,h=a.otherProps,m=a.popoverEntryPoint,n=a.preloadTrigger,o=a.reflowToPosition,p=a.tracePolicy;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotCloseOnOutsideClick","entryPointParams","fallback","onVisibilityChange","otherProps","popoverEntryPoint","preloadTrigger","reflowToPosition","tracePolicy"]);p=c("useCometPopoverInteractionTracing")((p=p)!=null?p:c("tracePolicyFromResource")("comet.popover",m.root),"entrypoint",n);var q=c("useCometRelayEntrypointContextualEnvironmentProvider")();q=d("CometRelay").useEntryPointLoader(q,m);var r=q[0],s=q[1];q=q[2];var t=l(null),u=j(function(){if(e==null)return;if(r!==null&&c("deepEquals")(t.current,e))return;t.current=e;s(e)},[e,r,s]),v=k(function(){return{entryPointParams:e,entryPointReference:r,load:u,onClose:c("emptyFunction"),otherProps:h}},[e,r,u,h]),w=j(function(a){a&&u(),g&&g(a)},[u,g]);return i.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({doNotCloseOnOutsideClick:b,fallback:f,interactionTracker:p,onHighIntentPreload:u,onLayerDetached:q,onVisibilityChange:w,popover:c("BaseEntryPointPopoverContainer.react"),popoverPreloadResource:m.root,popoverProps:v,preloadTrigger:n,reflowToPosition:o},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometBackgroundImage.react",["CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={block:{display:"x1lliihq",$$css:!0},root:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var b=a.alt,d=a.displayBlock,e=a.draggable,f=a.loading,g=a.onError,h=a.onLoad;a=a.src;return i.jsx(c("CometImage.react"),{alt:b,draggable:e,loading:f||void 0,objectFit:"cover",onError:g,onLoad:h,src:a,xstyle:[j.root,d&&j.block]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometBlurredBackgroundImage.react",["CometBackgroundImage.react","XPlatReactEnvironment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={imageContainer:{filter:"xtea3wc",height:"xu1mrb",$$css:!0},imageContainerVR:{transform:"x15f76sd",$$css:!0},imageContainerWeb:{transform:"x1yyh9jt",width:"x1jx8tsq",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return i.jsx(d("react-strict-dom").html.div,{style:[j.root,b],children:i.jsx(d("react-strict-dom").html.div,{style:[j.imageContainer,d("XPlatReactEnvironment").isWeb()?j.imageContainerWeb:j.imageContainerVR],children:i.jsx(c("CometBackgroundImage.react"),babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTooltipDeferredImpl.react",["BaseTooltipImpl.react","CometProgressRingIndeterminate.react","FDSTextPairing.react","react","useCometTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.tooltipTheme,d=a.headline,e=a.tooltip;a=babelHelpers.objectWithoutPropertiesLoose(a,["tooltipTheme","headline","tooltip"]);b=c("useCometTheme")((b=b)!=null?b:"invert");var f=b[0];b=b[1];return i.jsx(f,{children:i.jsx(c("BaseTooltipImpl.react"),babelHelpers["extends"]({},a,{loadingState:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"dark",size:20}),tooltip:e!=null?i.jsx(c("FDSTextPairing.react"),{body:e,bodyColor:"primary",headline:d,headlineColor:"primary",level:4}):null,xstyle:b}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useStatesInMap",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b){var c=j(a),d=j({}),e=k(b),f=e[0],g=e[1];i(function(){if(c.current!==a){var e;c.current=a;g((e=d.current[a])!=null?e:b)}},[d,g,c,a,b]);i(function(){d.current[a]=f},[f,a]);return[f,g]}g["default"]=a}),98);
__d("CometWarningScreenContext",["react","useStatesInMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useCallback,l=d.useContext,m=d.useMemo,n=j({makeContentVisibleDespiteOverlay:function(){},overlaySettings:{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:!1,overlayExists:!1,overlayShown:!1,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:null},setAdditionalRequiredHeight:function(){},setIsOnFeedMedia:function(){},setOverlayExists:function(){},setParentRenderInstructions:function(){},showOverlay:function(){}});function a(a){var b=a.children,d=a.identifier,e=a.isOnFeedMedia,f=a.overlayExists,g=a.overlayShownOverride;a=a.videoController;e=c("useStatesInMap")(d,{additionalRequiredHeight:0,isContentVisibleDespiteOverlay:null,isOnFeedMedia:e,overlayExists:f,overlayShown:(d=g)!=null?d:f,parentRenderInstructions:"CLIP_TO_MEDIA",videoController:a});var h=e[0],j=e[1],l=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{overlayShown:a})})},[j]),o=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{isContentVisibleDespiteOverlay:a})})},[j]),p=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{overlayExists:a})})},[j]),q=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{isOnFeedMedia:a})})},[j]),r=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{additionalRequiredHeight:a})})},[j]),s=k(function(a){j(function(b){return babelHelpers["extends"]({},b,{parentRenderInstructions:a})})},[j]);g=m(function(){return{makeContentVisibleDespiteOverlay:o,overlaySettings:h,setAdditionalRequiredHeight:r,setIsOnFeedMedia:q,setOverlayExists:p,setParentRenderInstructions:s,showOverlay:l}},[h,r,l,o,p,s,q]);return i.jsx(n.Provider,{value:g,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=l(n);a=a.overlaySettings;return a.overlayExists}function e(){var a=l(n);a=a.overlaySettings;return a.videoController}function o(){var a=l(n);a=a.overlaySettings;return a.overlayShown}function p(){var a=l(n);a=a.overlaySettings;return a.isOnFeedMedia}function q(){var a=l(n);a=a.overlaySettings;return a.isContentVisibleDespiteOverlay}function r(){var a=o(),b=q();return!a?!0:b}function s(){var a=l(n);a=a.overlaySettings;return a.additionalRequiredHeight}function t(){var a=l(n);a=a.overlaySettings;return a.parentRenderInstructions}function u(){var a=l(n);a=a.showOverlay;return a}function v(){var a=l(n);a=a.makeContentVisibleDespiteOverlay;return a}function w(){var a=l(n);a=a.setOverlayExists;return a}function x(){var a=l(n);a=a.setIsOnFeedMedia;return a}function y(){var a=l(n);a=a.setAdditionalRequiredHeight;return a}function z(){var a=l(n);a=a.setParentRenderInstructions;return a}g.CometWarningScreenContextProvider=a;g.useHasOverlay=b;g.useHasVideoController=e;g.useIsOverlayShown=o;g.useIsOnFeedMedia=p;g.useIsContentVisibleDespiteOverlay=q;g.useIsContentVisible=r;g.useAdditionalRequiredHeight=s;g.useParentRenderInstructions=t;g.useShowOverlay=u;g.useMakeContentVisibleDespiteOverlay=v;g.useSetOverlayExists=w;g.useSetIsOnFeedMedia=x;g.useSetAdditionalRequiredHeight=y;g.useSetParentRenderInstructions=z}),98);
__d("FDSPopoverLoadingStateContent.react",["CometProgressRingIndeterminate.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xnnlda6",justifyContent:"xl56j7k",minWidth:"x18ip3f8",width:"xh8yej3",$$css:!0}};function a(a){a=a.xstyle;return i.jsx(d("react-strict-dom").html.div,{style:[j.root,a],children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSPopoverLoadingState.react",["fbt","BasePopoverReflowSheetContext","FDSPopover.react","FDSPopoverLoadingStateContent.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=a.withArrow,d=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["withArrow","xstyle"]);var e=k(c("BasePopoverReflowSheetContext"));e=e.isReflowSheet;return j.jsx(c("FDSPopover.react"),babelHelpers["extends"]({"aria-label":h._("__JHASH__6lD-XyRyuHe__JHASH__"),withArrow:e?!1:b},a,{children:j.jsx(c("FDSPopoverLoadingStateContent.react"),{xstyle:d})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDBroadcastChannelLoggerUtils",["MWCMThreadTypes.react","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,h))!=null?a:!1}function h(a){return a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype)}g.useIsIGBroadcastChannelWithThreadKey=a}),98);
__d("IGDBroadcastChannelQPL",["IGDBroadcastChannelLoggerUtils","Int64Hooks","MWCMThreadTypes.react","MWLSThread","QuickPerformanceLogger","promiseDone","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");j.useCallback;var k=j.c;function l(a){return a!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a)}function a(a){a=l(a);a&&(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(814359412,"630"))}function b(a){a&&(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814359412,"630"),4)}function e(a){a&&(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814359412,"630"),2)}function f(a){var b=k(4),e=c("useAsyncReStore")(),f,g;b[0]!==e||b[1]!==a?(f=function(){c("promiseDone")(e.then(function(b){return d("MWLSThread").getThreadAsync(b,a)}).then(function(a){return m(a==null?void 0:a.threadSubtype)}))},g=[e,a],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return d("Int64Hooks").useCallbackInt64(f,g)}function m(a){a=a?d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a):!1;a&&(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814359412,"630"),3)}function n(){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(814362935,"1027"))}function o(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814362935,"1027"),4)}function p(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814362935,"1027"),2)}function q(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814362935,"1027"),3)}function r(){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(814363394,"201"))}function s(){r(),(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(814363394,"201"),"from_new_message_dialog")}function t(){r(),(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(814363394,"201"),"from_channel_folder_null_state")}function u(){(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(814363394,"201"),"on_click_get_started_in_education_qp")}function v(){(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(814363394,"201"),"on_click_create_broadcast_channel")}function w(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814363394,"201"),4)}function x(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814363394,"201"),2)}function y(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814363394,"201"),3)}function z(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=B;return a?b:A}function A(){}function B(){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(814360935,"1847"))}function C(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=E;return a?b:D}function D(){}function E(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814360935,"1847"),4)}function F(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=H;return a?b:G}function G(){}function H(){(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(814360935,"1847"),"on_click_edit_broadcast_channel")}function I(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=K;return a?b:J}function J(){}function K(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814360935,"1847"),3)}function L(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=N;return a?b:M}function M(){}function N(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814360935,"1847"),2)}function O(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=Q;return a?b:P}function P(){}function Q(){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(814362024,"1850"))}function R(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=T;return a?b:S}function S(){}function T(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814362024,"1850"),4)}function U(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=W;return a?b:V}function V(){}function W(){(h||(h=c("QuickPerformanceLogger"))).markerPoint(c("qpl")._(814362024,"1850"),"on_click_create_poll")}function X(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=Z;return a?b:Y}function Y(){}function Z(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814362024,"1850"),2)}function $(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=ba;return a?b:aa}function aa(){}function ba(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814362024,"1850"),3)}function ca(a,b){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);b=b==="xma_poll_details_button";var c=ea;return a&&b?c:da}function da(){}function ea(){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(814353989,"1851"))}function fa(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=ha;return a?b:ga}function ga(){}function ha(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814353989,"1851"),4)}function ia(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=ka;return a?b:ja}function ja(){}function ka(a,b){a={bool:{is_new_poll_option_added:a,is_vote_casted:b}};(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(814353989,"1851"),a);h.markerPoint(c("qpl")._(814353989,"1851"),"on_click_update_poll")}function la(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=na;return a?b:ma}function ma(){}function na(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814353989,"1851"),3)}function oa(a){a=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(a);var b=qa;return a?b:pa}function pa(){}function qa(){(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(814353989,"1851"),2)}g.logDeleteChannelStart=a;g.logDeleteChannelCancel=b;g.logDeleteChannelSuccess=e;g.useLogDeleteChannelFail=f;g.logDeleteChannelFail=m;g.logEndChannelStart=n;g.logEndChannelCancel=o;g.logEndChannelSuccess=p;g.logEndChannelFail=q;g.logCreateChannelStartFromNewMessageDialog=s;g.logCreateChannelStartFromChannelFolderNullState=t;g.logCreateChannelClickThroughEducationQP=u;g.logCreateChannelOnCreateClick=v;g.logCreateChannelCancel=w;g.logCreateChannelSuccess=x;g.logCreateChannelFail=y;g.useLogEditChannelStart=z;g.useLogEditChannelCancel=C;g.useLogEditChannelConfirm=F;g.useLogEditChannelFail=I;g.useLogEditChannelSuccess=L;g.useLogCreatePollStart=O;g.useLogCreatePollCancel=R;g.useLogOnCreatePollConfirmClick=U;g.useLogCreatePollSuccess=X;g.useLogCreatePollFail=$;g.useLogUpdatePollStart=ca;g.useLogUpdatePollCancel=fa;g.useLogOnUpdatePollConfirmClick=ia;g.useLogUpdatePollFail=la;g.useLogUpdatePollSuccess=oa}),98);
__d("IGDDeleteSecureThread",["MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","WAJobOrchestratorTypes","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,c,"IGDDeleteSecureThread",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatJid:b,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}))});return function(b,c){return a.apply(this,arguments)}}())}g.deleteSecureThread=a}),98);
__d("IGDEBRestoreError",[],(function(a,b,c,d,e,f){"use strict";b={DECRYPT_ERROR:"igd_eb_restore_error_decrypt_error"};function a(a){return"[UNRECOVERABLE_PROTOBUF_CORRUPTION_WARNING] "+a}f.IGD_EB_RESTORE_ERROR=b;f.formatUnrecoverableProtobufCorruptionWarning=a}),66);
__d("IGDEBRestoreUtils",["FBLogger","I64","WALongInt","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a.metadataDataclass==null)return null;try{return JSON.parse(a.metadataDataclass)}catch(a){c("FBLogger")("igd_web_on_msgr").catching(a).warn("Failed to parse the message metadata.")}return null}function b(a){a=(a=a.add)==null?void 0:a.content;var b=(a==null?void 0:a.media)!=null;a=(a==null?void 0:a.collection)!=null;return!(b||a)||c("gkx")("2226")}function i(a){return(h||(h=d("I64"))).of_string(d("WALongInt").longIntToDecimalString(a))}function e(a){return a.sort(function(a,b){a=(a=a.metadata)==null?void 0:a.timestampMs;b=(b=b.metadata)==null?void 0:b.timestampMs;if(a==null||b==null)return 0;a=i(a);b=i(b);return(h||(h=d("I64"))).compare(a,b)})}function f(a){a=(a=a.add)==null?void 0:a.content;if(a==null?void 0:a.adminMessage)return"adminMessage";if(a==null?void 0:a.collection)return"collection";if(a==null?void 0:a.like)return"like";if(a==null?void 0:a.link)return"link";if(a==null?void 0:a.media)return"media";if(a==null?void 0:a.placeholder)return"placeholder";if(a==null?void 0:a.receiverFetchXma)return"receiverFetchXma";return(a==null?void 0:a.text)?"text":""}function j(a){a=(a=a.supplement)==null?void 0:a.content;if(a==null?void 0:a.contentView)return"contentView";if(a==null?void 0:a.editText)return"editText";if(a==null?void 0:a.mediaReaction)return"mediaReaction";if(a==null?void 0:a.originalTransportPayload)return"originalTransportPayload";return(a==null?void 0:a.reaction)?"reaction":""}function k(a){a=(a=a.add)==null?void 0:a.metadata;var b=[];(a==null?void 0:a.ephemeralityParams)!=null&&b.push("ephemeralityParams");(a==null?void 0:a.forwardingParams)!=null&&b.push("forwardingParams");(a==null?void 0:a.privateReplyInfo)!=null&&b.push("privateReplyInfo");(a==null?void 0:a.repliedToMessage)!=null&&b.push("repliedToMessage");(a==null?void 0:a.sendSilently)!=null&&b.push("sendSilently");return b}function l(a){return{previewHeight:a.height!=null?(h||(h=d("I64"))).of_float(a.height):a.height,previewWidth:a.width!=null?(h||(h=d("I64"))).of_float(a.width):a.width}}g.getMessageMetadata=a;g.isMessageSupportedForEBRestore=b;g.longIntToI64=i;g.sortBackupPayloads=e;g.getToplevelMessageType=f;g.getSupplementalType=j;g.getToplevelMessageMetadata=k;g.getPreviewSize=l}),98);
__d("LSBase64Decode.nop",["Base64Utils","CryptoLogger","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a=a.replace(/-/g,"+").replace(/_/g,"/").replace(/\./g,"=").replace("/,/","=");var b=4-a.length%4;if(b<4)for(var c=0;c<b;c++)a+="=";return a}function j(a){var b=d("CryptoLogger").CryptoLogger("base64decode");try{return a!=null?d("Base64Utils").toArrayBuffer(i(a)):void 0}catch(c){if((c==null?void 0:c.message)==null)return;if(c instanceof Error)b.catching(c).mustfix(c.message);else{b.mustfix("Base64decode : empty error message for exception: %s, input string: %s",c.message,(b=a)!=null?b:"undefined")}}}a=function(a,d,e){return(h||(h=b("Promise"))).resolve(c("LSResult")(j(e)))};g["default"]=a}),98);
__d("LSSymmetricEncryptionCreateDecryptedData.nop",["CryptoLogger","EncryptedBackupsSymmetricEncryptionUtils","HChaCha20","Promise","RetUtil","SymmetricEncryptionPaddingUtils","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CryptoLogger").CryptoLogger("symmetric_encryption_create_decrypted_data");a=function(a,c,e,f,g){if(g.byteLength<d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes+d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLengthInBytes){i.mustfix("cipher text is invalid");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())}a=new Uint8Array(g);var j=a.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes);c=new(d("HChaCha20").HChaCha20)();var k=a.slice(d("EncryptedBackupsSymmetricEncryptionUtils").totalNonceLengthInBytes).buffer;g=c.hChaCha20Bytes(j.slice(0,d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer,e);return d("XPlatReactCrypto").subtleImportKey("raw",g,"AES-GCM",!1,["decrypt"]).then(function(a){return d("XPlatReactCrypto").subtleDecrypt({additionalData:f,iv:new Uint8Array(j.slice(d("EncryptedBackupsSymmetricEncryptionUtils").hChaCha20SubKeyNonceLengthInBytes).buffer),name:"AES-GCM",tagLength:d("EncryptedBackupsSymmetricEncryptionUtils").aesGcmTagLength},a,k)}).then(function(a){a=d("SymmetricEncryptionPaddingUtils").stripPadding(a);a==null&&i.mustfix("Failed to strip padding for symmetric decryption");return d("RetUtil").getNullableRetResult(a)})["catch"](function(a){d("CryptoLogger").captureError(i,a).mustfix("symmetric data decryption failed");return(h||(h=b("Promise"))).resolve(d("RetUtil").getNullableRetResult())})};g["default"]=a}),98);
__d("LSDecryptProtobuf",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Decode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSIsMobileClient","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateDecryptedData.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][decryptProtobuf] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[8]=a[1]==null?c.i64.cast([0,0]):a[1],d[2]=c.i64.of_int32(a[3].length),c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[3],c.i64.cast([0,0])).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(e){return d[14]=d[12].get("epoch_anon_id"),d[12],d[15]=d[12].get("epoch_root_key"),d[12],d[16]=c.createArray(),d[26]=(d[16].push(c.i64.cast([0,32])),d[16]),c.i64.ge(d[8],c.i64.cast([0,3]))?c.resolve(d[17]=void 0):c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[17]=d[26]}])},function(e){return c.i64.ge(d[8],c.i64.cast([0,4]))?(d[26]="_",d[18]=["message_key_in_epoch",d[26],c.blobs.to_string(d[14]),d[26],"cipher_version",d[26],c.i64.to_string(d[8]),d[26],"thread",d[26],a[2]==null?"":a[2]].join("")):(c.i64.ge(d[8],c.i64.cast([0,3]))?(d[27]="_",d[26]=["message_key_in_epoch",d[27],c.blobs.to_string(d[14]),d[27],"cipher_version",d[27],c.i64.to_string(d[8]),d[27],"thread",d[27],a[2]==null?"":a[2]].join("")):(c.i64.ge(d[8],c.i64.cast([0,2]))?(d[28]="_",d[27]=["message_key_in_epoch",d[28],c.blobs.to_string(d[14]),d[28],"cipher_version",d[28],c.i64.to_string(d[8])].join("")):d[27]=["message_key_in_epoch","_",c.blobs.to_string(d[14])].join(""),d[26]=d[27]),d[18]=d[26]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[18]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[19],d[17],d[15],d[16]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[21]=!1:d[21]=!0,d[21]?c.resolve(d[22]=void 0):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[20],c.i64.cast([0,0])).then(function(a){return a=a,d[26]=a[0],d[27]=a[1],a})},function(a){return d[22]=d[26]}])},function(e){return c.blobs.neq(d[22],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSBase64Decode.nop"),a[0]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.blobs.neq(d[26],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSSymmetricEncryptionCreateDecryptedData.nop"),d[22],c.blobs.of_string(["message_thread","_",a[2]].join("")),d[26]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[27]=d[29]}]):c.resolve(d[27]=void 0)},function(a){return c.blobs.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[29]=["Failed to decrypt message. Epoch Anon ID: ",c.blobs.to_string(d[14]),", Encryption Version: ",c.i64.to_string(d[8])].join(""),function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] ","",d[29]].join("")),d[30]=c.createArray(),void 0!==void 0?d[31]=(d[30].push(void 0),d[30]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure",[d[29]].join(""),d[30],c.i64.cast([0,3]))},function(a){return d[28]=void 0}])},function(a){return d[23]=d[28]}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] Decryption message key is null"),void 0!==void 0?c.sequence([function(a){return void 0!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),void 0,c.i64.cast([0,85]),c.i64.cast([0,2]),"[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] Decryption message key is null",void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[27]=a[0],a})},function(a){return d[27]?d[28]=!0:d[28]=!1,d[28]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[29]=c.createArray(),void 0!==void 0?d[30]=(d[29].push(void 0),d[29]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[29],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(a){return d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure","Decryption message key is null",d[26],c.i64.cast([0,3]))},function(a){return d[23]=void 0}])},function(a){return c.blobs.neq(d[23],void 0)?(a=[d[23],void 0],d[24]=a[0],d[25]=a[1],a):(d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,101])),d[26].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[26].set("error_message",""),a=[void 0,d[26]],d[24]=a[0],d[25]=a[1],a),a=[d[24],d[25]],d[3]=a[0],d[4]=a[1],a}]):c.resolve((d[12]=c.i64.of_int32(a[3].length),c.i64.eq(d[12],c.i64.cast([0,0]))?(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,102])),d[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[15].set("error_message",""),e=[void 0,d[15]],d[13]=e[0],d[14]=e[1],e):(d[15]=new c.Map(),d[15].set("error_code",c.i64.cast([0,103])),d[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),d[15].set("error_message",""),e=[void 0,d[15]],d[13]=e[0],d[14]=e[1],e),e=[d[13],d[14]],d[3]=e[0],d[4]=e[1],e))},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[11]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][decryptProtobuf] ",d[7],d[9],d[7],d[10],d[7],d[11]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"decryptProtobuf",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsDecryptProtobufStoredProcedure";e.exports=a}),null);
__d("LSDecryptProtobufStoredProcedure",["LSDecryptProtobuf","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.encryptedProtobuf;d[1]=b.encryptionVersion;d[2]=b.actThreadId;d[3]=b.epochKeys;return c("LSDecryptProtobuf").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("IGDEBMessageProtobuf",["FBLogger","I64","IGDEBRestoreError","IGDEBRestoreUtils","InstamadilloTransportPayload.pb","LSDecryptProtobufStoredProcedure","LSFactory","LSShape","LSVec","ReQL","WAArmadilloBackupMessage.pb","WABase64","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield k(a,b));if(a==null)return null;b=a.supplementalProtobufs;a=a.toplevelProtobuf;b=b.map(j);d("IGDEBRestoreUtils").sortBackupPayloads(b);return{supplementalBackupPayloads:b,toplevelBackupPayload:j(a)}});return i.apply(this,arguments)}function j(a){a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,a);return babelHelpers["extends"]({},a,{payload:d("decodeProtobuf").decodeProtobufWithUnknowns(d("InstamadilloTransportPayload.pb").TransportPayloadSpec,a.payload)})}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.is_open_eb,f=b.supplemental_payloads,g=b.toplevel_payload;if(Boolean(e))return{supplementalProtobufs:f.map(function(a){return d("WABase64").decodeB64(a.encrypted_supplemental_payload.encrypted_payload)}),toplevelProtobuf:d("WABase64").decodeB64(g.encrypted_payload)};e=(yield o(a));if(!e)return null;f=(yield m(a));e=f.epochAnonIdBlob;f=f.epochRootKeyBlob;a=(yield c("LSDecryptProtobufStoredProcedure")(c("LSFactory")(a),{actThreadId:b.thread_id,encryptedProtobuf:g.encrypted_payload,encryptionVersion:(h||(h=d("I64"))).of_int32(g.encryption_version),epochKeys:c("LSVec").ofArray([d("LSShape").ofRecord({epoch_anon_id:e,epoch_root_key:f})])}));b=a[0];g=a[1];if(g!=null){e=d("LSShape").toRecord(g);f=e.error_message;a=e.stored_procedure;throw c("FBLogger")("igd_web_on_msgr").mustfixThrow(a+": "+f,d("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR)}if(b==null)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("decryptedProtobuf is null",d("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);return{supplementalProtobufs:[],toplevelProtobuf:b}});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_epochs)));if(a==null)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("No epochs found",d("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);return a});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_client_state)));return!!a});return p.apply(this,arguments)}g.getIGDEBMessageBackupPayloads=a;g.isEBClientSetup=o}),98);
__d("IGDEBRestoreLogging",["ExecutionEnvironment","FBLogger","IGDEBRestoreUtils","MAWQplProxy","MWPBumpEntityKey","PolarisEncryptedBackupsQPLEvents","QPLUserFlow","QPLUtils","WAExceededStorageQuota","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i="igd_eb_restore_message",j="start",k="fail",l="success";function a(a,b){var e=(h||(h=c("ExecutionEnvironment"))).isInWorker,f=d("QPLUtils").deriveInstanceKey(a);b&&(e?c("FBLogger")("igd_web_on_msgr").warn("IGDEBRestoreLogging should start on the main thread"):(d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,j),c("QPLUserFlow").start(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{isDev:0,useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{messageId:a}},instanceKey:f})));var g=function(a){c("QPLUserFlow").addAnnotations(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{instanceKey:f})};b=function(a){g(m(a))};a=function(a,b){b&&g(b),c("QPLUserFlow").addPoint(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{instanceKey:f})};var n=function(a){c("QPLUserFlow").endCancel(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()},string:{cancelReason:a}},instanceKey:f})},o=function(a,b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,k),c("QPLUserFlow").endFailure(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{annotations:babelHelpers["extends"]({},b,{bool:babelHelpers["extends"]({},b==null?void 0:b.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()})}),instanceKey:f})},p=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,l),c("QPLUserFlow").endSuccess(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()}},instanceKey:f})},q=function(a){d("MAWQplProxy").sendQPLAnnotationsThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,f)},r={addPoint:function(a,b){d("MAWQplProxy").sendQplPointThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{annotations:b,instanceKey:f})},annotate:q,annotateMessagePayloads:function(a){q(m(a))},endCancel:function(a){d("MAWQplProxy").sendQPLCancelThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{string:{cancelReason:a}},f)},endFail:function(a,b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,k),d("MAWQplProxy").sendQPLFailThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,b,f)},endSuccess:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,l),d("MAWQplProxy").sendQPLSuccessThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,void 0,f)}};return e?r:{addPoint:a,annotate:g,annotateMessagePayloads:b,endCancel:n,endFail:o,endSuccess:p}}function m(a){var b=a.supplementalBackupPayloads;a=a.toplevelBackupPayload;return{string:{toplevelMessageType:d("IGDEBRestoreUtils").getToplevelMessageType(a.payload)},string_array:{supplementalTypes:Array.from(new Set(b.map(function(a){return d("IGDEBRestoreUtils").getSupplementalType(a.payload)}))),toplevelMessageMetadata:d("IGDEBRestoreUtils").getToplevelMessageMetadata(a.payload)}}}g.IGDEBRestoreLogging=a}),98);
__d("IGDSCircleXOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("circle",{cx:"12",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"16.604",x2:"7.396",y1:"7.396",y2:"16.604"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"7.396",x2:"16.604",y1:"7.396",y2:"16.604"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","ODS","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=j||d("react");function a(a){var b=a.onPress,e=a.onUserInteraction,f=a.shouldUnmute,g=(k||(k=d("VideoPlayerHooks"))).useController(),j=k.useIsFullscreen(),n=k.useLastMuteReason();a=j?h._("__JHASH__hwf7JoNGQNh__JHASH__"):h._("__JHASH__5hSxdUd3nQi__JHASH__");var o=function(){b&&b(),g.requestSetIsFullscreen(!j),f===!0&&n!=="user_initiated"&&g.setMuted(!1,"product_initiated"),e&&e({name:"video_fullscreen_button",type:"happened"})},p=function(){(l||(l=d("ODS"))).bumpEntityKey(1213,"obc.www.all","comet_video_player_controls.fullscreen_scroll_control}")};return m.jsx(c("VideoPlayerControlIcon.react"),{icon:j?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),label:a,onPress:function(){p(),o()},tooltip:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useState,l=5e3;function a(a){a=a===void 0?{}:a;var b=a.forceVisible,e=a.forceVisibleOnMount;a.isInteracting;a=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter();var f=a.ongoingInteractionsCount;a=a.onUserInteraction;var g=(i||(i=d("VideoPlayerHooks"))).useEnded(),h=i.useIsHovering(),m=i.usePaused(),n=i.useIsMouseIdle(),o=i.useVideoPlaybackEnded(),p=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",h&&!n,a);h=k(e===!0);var q=h[0],r=h[1];j(function(){if(!m&&q){var a=c("setTimeout")(function(){r(!1)},l);return function(){c("clearTimeout")(a)}}},[q,m]);b===!0||b===!1?n=b:p?n=!1:f>0||q?n=!0:m?n=g?o:!0:n=!1;return{isControlsVisible:n,onUserInteraction:a}}g["default"]=a}),98);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","VideoPlayerDefaultControlsProperties","VideoPlayerDefaultControls_video.graphql","VideoPlayerFullscreenControl.react","VideoPlayerHooks","cr:1875194","deferredLoadComponent","react","requireDeferred","useEmptyFunction","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=(e=b("cr:1875194"))!=null?e:c("useEmptyFunction"),m=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplLive.react").__setRef("VideoPlayerDefaultControls.react")),n=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react").__setRef("VideoPlayerDefaultControls.react"));function a(a){var e,f=a.availableCaptionsLocales,g=a.forceVisible,i=a.forceVisibleOnMount,o=a.initialCaptionsUrl,p=a.mutedButtonVisibility,q=a.pictureInPictureControl,r=a.renderExpandControl,s=a.shouldRenderBigPlayButton,t=a.shouldRenderCaptionsControl,u=a.shouldRenderCostreamControl,v=a.shouldRenderExpandSidePanelControl,w=a.shouldRenderLivePauseControl,x=a.shouldRenderModeratorControl,y=a.shouldRenderQuietModeControl;a.shouldRenderSkipControl;var z=a.shouldRenderWatchAndScrollControl,A=a.shouldUnmuteForBigPlayButton,B=a.skipControl,C=a.subOrigin,D=a.video;a=a.videoTahoeUrl;D=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControls_video.graphql"),D);e=(e=d("CometWarningScreenContext").useIsContentVisible())!=null?e:!1;var E=l();E=E!=null?E.isSilentAtPlayhead:!1;var F=(j||(j=d("VideoPlayerHooks"))).useMuted(),G=j.useIsLive();i=c("useVideoPlayerDefaultControlsVisibility")({forceVisible:g,forceVisibleOnMount:i});var H=i.isControlsVisible;i=i.onUserInteraction;s=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:s!=null?s:g===!1?!1:void 0,shouldUnmute:A});g=s.bigPlayButtonElement;A=s.bigPlayButtonIsVisible;s=H&&!A&&e;H=p===d("VideoPlayerDefaultControlsProperties").MutedButtonVisibility.SAME_AS_OTHER_CONTROLS?s:(F||s||E)&&!A;e=r!=null?r({onUserInteraction:i}):k.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:i});p=G?k.jsx(m,{expandControl:e,isControlsVisible:s,isVolumeControlVisible:H,onUserInteraction:i,pictureInPictureControl:q,shouldRenderCaptionsControl:t,shouldRenderCostreamControl:u,shouldRenderExpandSidePanelControl:v,shouldRenderModeratorControl:x,shouldRenderPauseControl:w,shouldRenderQuietModeControl:y,shouldRenderWatchAndScrollControl:z,subOrigin:C,video:D,videoTahoeUrl:a}):k.jsx(n,{availableCaptionsLocales:f,expandControl:e,initialCaptionsUrl:o,isControlsVisible:s,isVolumeControlVisible:H,onUserInteraction:i,shouldRenderCaptionsControl:t,shouldRenderExpandSidePanelControl:v,shouldRenderQuietModeControl:y,shouldRenderWatchAndScrollControl:z,skipControl:B,subOrigin:C,video:D,videoTahoeUrl:a});return k.jsxs(k.Fragment,{children:[g,k.jsx(c("CometPlaceholder.react"),{fallback:null,children:p})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDVideoPlayer.react",["fbt","CometPressable.react","PolarisUA","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n={playbackControllerOverlay:{cursor:"x1ypdohk",top:"x13vifvy",$$css:!0}},o=h._("__JHASH__aZ-l6hM8DgT__JHASH__"),p=h._("__JHASH__hqzk9Y8Y4DC__JHASH__");function q(){var a=(j||(j=d("VideoPlayerHooks"))).useController(),b=j.usePaused(),e=j.useMuted(),f=m(e);l(function(){f.current&&a.setMuted(!1,"product_initiated")},[a]);return k.jsx(c("CometPressable.react"),{"aria-label":b?o:p,onPress:function(){!b?a.pause("user_initiated"):a.play("user_initiated")},overlayDisabled:!0,role:"button",xstyle:n.playbackControllerOverlay})}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.isVideoGif;return a?null:k.jsx(c("VideoPlayerDefaultControls.react"),{forceVisibleOnMount:d("PolarisUA").isTouchDevice()})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.fbid,e=a.hdSrc,f=a.isGif,g=a.originalHeight,h=a.originalWidth;a=a.sdSrc;e=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:e,hdSrcPreferred:!1,sdSrc:a});if(e instanceof Error)return null;a=c("computeAspectRatio")(h,g);return k.jsx(c("VideoPlayerX.react"),{implementations:[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:e,typename:"VideoPlayerProgressiveImplementation"}],loopCount:-1,portalingEnabled:!1,subOrigin:"igd_thread",videoFBID:b,videoPixelsAspectRatio:a,children:k.jsxs(c("VideoPlayerSurface.react"),{children:[k.jsx(q,{}),k.jsx(r,{isVideoGif:(h=f)!=null?h:!1})]})},b)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceImmediateSyncStoredProcedure";e.exports=a}),null);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.dbType;return c("LSForceImmediateSync").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWGetOtherContactOrSelf",["I64","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.participants).getKeyRange(a)));if(a.length===1){var e=a[0];return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))}if(a.length>2)return;e=a.find(function(a){return!(h||(h=d("I64"))).equal(a.contactId,b)});if(e!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId))});return i.apply(this,arguments)}g.getOtherContactOrSelf=a}),98);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.sync_groups).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":28")}function a(a){var b=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){return k(b,a)},[a,b])}g.sync=k;g.useSync=a}),98);
__d("MWXButton.react",["cr:1329","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);return i.jsx(b("cr:1329"),babelHelpers["extends"]({ref:c},a))}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXButtonImpl.react",["cr:10054","cr:2625","cr:5023","cr:5028","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){var d=a.icon,e=a.loading,f=a.size,g=a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","loading","size","type"]);if(b("cr:10054")){var h=f===36;return i.jsx(b("cr:10054"),babelHelpers["extends"]({addOnPrimary:e===!0&&b("cr:5023")?i.jsx(b("cr:5023"),{color:"disabled",size:h?20:16}):void 0,icon:d==null?void 0:d.component,ref:c,size:h?"large":"medium",type:g==="destructive"?"fdsOverride_negative":g},a))}return b("cr:2625")?i.jsx(b("cr:2625"),babelHelpers["extends"]({addOnStart:e===!0&&b("cr:5028")?i.jsx(b("cr:5028"),{color:"grey",size:24}):void 0,icon:d==null?void 0:d.originalComponent,ref:c,size:f,type:g},a)):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXColumn.react",["cr:804","cr:842","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:804")!=null)return i.jsx(b("cr:804"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:842")!=null?i.jsx(b("cr:842"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXColumnItem.react",["cr:1350","cr:2004","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:1350")!=null)return i.jsx(b("cr:1350"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:2004")!=null?i.jsx(b("cr:2004"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXRow.react",["cr:2667","cr:2922","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a===10?12:a}function k(a){switch(a){case 10:return 12;case 20:return 16;default:return a}}function l(a){return a===10?12:a}c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:2667")!=null){var d=a.paddingHorizontal,e=a.paddingTop,f=a.paddingVertical,g=a.spacing,h=a.spacingHorizontal,m=a.spacingVertical,n=babelHelpers.objectWithoutPropertiesLoose(a,["paddingHorizontal","paddingTop","paddingVertical","spacing","spacingHorizontal","spacingVertical"]);return i.jsx(b("cr:2667"),babelHelpers["extends"]({paddingHorizontal:j(d),paddingTop:k(e),paddingVertical:k(f),ref:c,spacing:l(g),spacingHorizontal:l(h),spacingVertical:l(m)},n))}return b("cr:2922")!=null?i.jsx(b("cr:2922"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXRowItem.react",["cr:3083","cr:3084","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);if(b("cr:3083")!=null)return i.jsx(b("cr:3083"),babelHelpers["extends"]({},a,{ref:c}));return b("cr:3084")!=null?i.jsx(b("cr:3084"),babelHelpers["extends"]({},a,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWXTextPairing.react",["FDSTextWebUtils","cr:4853","cr:6725","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return function(b){a!=null&&(typeof a==="function"?a(b):a.current=b)}}function a(a){if(b("cr:6725")!=null){var c=a.bodyColor,e=a.bodyRef,f=a.headlineColor,g=a.headlineRef,h=a.metaColor,k=a.metaRef,l=babelHelpers.objectWithoutPropertiesLoose(a,["bodyColor","bodyRef","headlineColor","headlineRef","metaColor","metaRef"]);return i.jsx("div",{className:"x9f619 x2lwn1j xeuugli x1n2onr6 x1ja2u2z",children:i.jsx(b("cr:6725"),babelHelpers["extends"]({bodyColor:d("FDSTextWebUtils").getFDSBodyColor(c),bodyRef:j(e),headlineColor:d("FDSTextWebUtils").getFDSHeadlineColor(f),headlineRef:j(g),metaColor:d("FDSTextWebUtils").getFDSMetaColor(h),metaRef:j(k)},l))})}return b("cr:4853")!=null?i.jsx(b("cr:4853"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerBanner.react",["CometAccessibilityAnnouncement.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXRow.react","MWXRowItem.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={banner:{paddingBottom:"xjkvuk6",$$css:!0},block:{paddingBottom:"x1l90r2v",$$css:!0},button:{maxWidth:"x1va8c73",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}};b=i.forwardRef(a);function a(a,b){var d=a.assertive;d=d===void 0?!1:d;var e=a.bodyText,f=a.buttons,g=a.headerText,h=a.testid;h=a.variant;a=h===void 0?"block":h;return i.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:b,spacing:20,testid:void 0,xstyle:[j.container,a==="banner"&&j.banner,a==="block"&&j.block],children:[g!=null||e!=null?i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("CometAccessibilityAnnouncement.react"),{assertive:d,isVisible:!0,children:i.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXTextPairing.react"),{headline:g,level:4,meta:e,textAlign:"center"})})})})}):null,f?i.jsx(c("MWXRow.react"),{align:"center",spacing:8,children:Array.isArray(f)?f.map(function(a,b){return i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.button,children:i.jsx(c("MWXButton.react"),babelHelpers["extends"]({type:"secondary"},a))},b)}):i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.button,children:f},"button")}):null]})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("UNTRANSLATED_STRING_FIXME",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("getMWPAttachmentMessageAnnouncement",["fbt","I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b){b===void 0&&(b=!0);if(a.length===0)return void 0;if(a.length>1)return a.every(k)?h._("__JHASH__mLcLGv6kQjM__JHASH__",[h._param("count of images, greater than or equal to 2",String(a.length))]):void 0;a=a[0];var e=a.accessibilitySummaryText,f=a.attachmentType,g=a.filename;a=a.titleText;if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return a==null||!b?h._("__JHASH__CsGZwNmXaIO__JHASH__"):h._("__JHASH__i_Icu0jTUQc__JHASH__",[h._param("title of image",a)]);else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__0rNBSLJGEDI__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))return h._("__JHASH__rzmjU77gEOx__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return e==null||e===""||!b?h._("__JHASH__0TMOPValyqo__JHASH__"):h._("__JHASH__19lTPiBl0z4__JHASH__",[h._param("title of sticker",e)]);else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return h._("__JHASH__sBZdmUKngae__JHASH__");else if((i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return g==null?h._("__JHASH__17xDOMabwon__JHASH__"):h._("__JHASH__FWMIh-m_eI7__JHASH__",[h._param("name of file",g)]);else return h._("__JHASH__PpAv-1cm1Lu__JHASH__")}function k(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}g["default"]=a}),226);
__d("hasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","MWGetOtherContactOrSelf","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a==null)return!1;var e=(yield d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(b.tables._user_info).map(function(a){return a.facebookUserId}))),f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(e)));if(f==null){c("FBLogger")("messenger_search").warn("Error fetching viewer details");return!1}f=d("LSContactBitOffset").has(80,f);if(!f)return!1;f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a)));a=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(a,e,b));b=(e=a)!=null?e:f;if(b==null)return!1;e=(a=d("LSContactBitOffset").has(83,b))!=null?a:!1;return e});return h.apply(this,arguments)}g["default"]=a}),98);
__d("isE2EEAttributedInstamadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("1437")===!0||c("qex")._("662")===!0&&c("qex")._("954")===!1}g["default"]=a}),98);
__d("isFeatureLimitEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("588")===!0}g["default"]=a}),98);
__d("profilePhotoUtils",["Locale","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoizeWithArgs")(function(a,b){b===void 0&&(b=!1);a=Math.sqrt(2*a*a)-a;a=Math.round(Math.sqrt(a*a/2));if(b)if(d("Locale").isRTL())return{left:a,top:a,transform:"translate(-50%, -50%)"};else return{right:a,top:a,transform:"translate(50%, -50%)"};else if(d("Locale").isRTL())return{bottom:a,left:a,transform:"translate(-50%, 50%)"};else return{bottom:a,right:a,transform:"translate(50%, 50%)"}},function(a,b){return String(b)+String(a)});b=c("memoizeWithArgs")(function(a){switch(a){case 24:case 32:case 36:case 40:return 2;case 48:case 56:case 60:return 3;case 132:default:return 4}},function(a){return String(a)});e=c("memoizeWithArgs")(function(a,b){if(b==="availabilityBadge")switch(a){case 16:case 20:case 24:return[6,1.5];case 28:return[7,2];case 32:case 36:return[8,2];case 40:case 44:case 48:return[9,2];case 56:case 60:return[10,2];case 72:return[12,2];case 80:case 88:return[14,2];case 96:case 100:return[15,2];case 120:case 132:case 168:return[20,4];default:a;return[8,2]}switch(a){case 16:case 20:case 24:return[6,1.5];case 28:return[7,1.5];case 32:return[8,2];case 36:return[9,2];case 40:return[10,2];case 44:case 48:return[12,2];case 56:return[14,2];case 60:return[15,2];case 72:return[18,2];case 80:return[20,4];case 88:return[22,4];case 96:case 100:return[24,4];case 120:case 132:return[32,4];case 168:return[41,4];default:a;return[8,2]}},function(a,b){return String(a)+b});g.getBadgePosition=a;g.getStoryRingSize=b;g.getBadgeSizeAndStrokeWidth=e}),98);
__d("useGetMediaGroupInformation",["I64","MAWGetIsMediaDownloadStatusEnabled","MAWMediaDownloadStatusUIStateType","ReQL","ReQLSuspense","gkx","react","useMAWBulkMediaDownloadStatusUIState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,b){var e,g,j,k=(h||(h=c("useReStore")))(),m=a.groupId,n=a.threadKey;e=(i||(i=d("I64"))).to_int32((e=a.groupIndex)!=null?e:(i||(i=d("I64"))).zero);g=i.to_int32((g=a.groupSize)!=null?g:(i||(i=d("I64"))).zero);var o=b&&c("gkx")("5318")===!0&&m!=null&&a.groupIndex!=null&&a.groupSize!=null&&g>1;b=o?4:0;o&&g<4&&(b=g);var p=d("ReQLSuspense").useArray(function(){return o&&m!=null?d("ReQL").fromTableDescending(k.tables.messages.index("messageGroupId")).getKeyRange(m).map(function(a){var b;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(k.tables.attachments).getKeyRange(n,a.messageId),f.id+":91"))!=null?b:null;return{attachment:b,message:a}}):d("ReQL").empty()},[k,m,n,o],f.id+":83").sort(function(a,b){return(i||(i=d("I64"))).to_int32((a=a.message.groupIndex)!=null?a:(i||(i=d("I64"))).zero)-i.to_int32((a=b.message.groupIndex)!=null?a:(i||(i=d("I64"))).zero)}),q=o&&p.length>=1?(a=p[0])==null?void 0:a.message:null;a=d("ReQLSuspense").useFirst(function(){return o&&q!=null?d("ReQL").fromTableAscending(k.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId","groupId"]).getKeyRange(q.threadKey).bounds({gte:d("ReQL").key(q.primarySortKey)}).filter(function(a){return a.groupId!==q.groupId}).filter(function(a){return!a.isAdminMessage}):d("ReQL").empty()},[k,q,o],f.id+":115");var r=l(p,o),s=r.attachmentsToRetryDownload,t=r.mediaDownloadErrorsCount;r=r.mediaDownloadStatuses;if(o!==!0)return null;j=p.length>=1?(i||(i=d("I64"))).to_int32((j=(j=p[0])==null?void 0:(j=j.message)==null?void 0:j.groupIndex)!=null?j:(i||(i=d("I64"))).zero):0;j=e===j;var u=new Array(b),v=function(a){var b=p.findIndex(function(b){return b.message.groupIndex!=null&&(i||(i=d("I64"))).to_int32(b.message.groupIndex)===a});b===-1?u[a]={attachment:null,message:null}:u[a]={attachment:p[b].attachment,message:p[b].message}};for(var w=0;w<b&&w<b;++w)v(w);return{attachmentsToRetryDownload:s,groupId:m,groupIndex:e,groupSize:g,hasAllMessagesSent:p.every(function(a){return(i||(i=d("I64"))).equal(a.message.sendStatusV2,i.of_int32(2))}),hasMissingMedia:p.some(function(a){return a.attachment==null}),hasMissingMessages:p.length!==g,isFirstMediaMessageInGroup:j,isMediaGroupLastMessage:a==null,mediaDownloadErrorsCount:t,mediaDownloadStatuses:r,messagesAndAttachments:p,messagesAndAttachmentsShownInGroup:u,tileSize:b}}function l(a,b){var e=k(function(){return!b||d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusEnabled()!==!0?[]:a.map(function(a){a=a.attachment;return a}).filter(Boolean)},[a,b]),f=c("useMAWBulkMediaDownloadStatusUIState")(e),g=k(function(){return f!=null?f:[]},[f]),h=k(function(){return g.filter(function(a){return d("MAWMediaDownloadStatusUIStateType").isErrorState(a)})},[g]),i=k(function(){return e.filter(function(a,b){return d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(g[b])})},[e,g]);h=h.length;return{attachmentsToRetryDownload:i,mediaDownloadErrorsCount:h,mediaDownloadStatuses:g}}g["default"]=a}),98);
__d("useIGDAttachmentUrl",["I64","LSMediaUrlAttachment","MAWDbMedia","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useEffect,l=e.useState,m=e.c;function n(a){var b=/^\d+$/;return b.test(a)}function o(a,b){var e=m(9),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.e2ee_media||e[1]!==g.tables.e2ee_chunk||e[2]!==a||e[3]!==b?(i=function(){return d("ReQL").fromTableAscending(g.tables.e2ee_media,["msgIds","hashedPlaintextHash"]).getKeyRange(a).map(function(a){if(a.msgIds.includes(b))return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.e2ee_chunk.index("hashedPlaintextHash")).getKeyRange(a.hashedPlaintextHash),f.id+":45")})},e[0]=g.tables.e2ee_media,e[1]=g.tables.e2ee_chunk,e[2]=a,e[3]=b,e[4]=i):i=e[4];var j;e[5]!==g||e[6]!==a||e[7]!==b?(j=[g,a,b],e[5]=g,e[6]=a,e[7]=b,e[8]=j):j=e[8];return d("ReQLSuspense").useFirst(i,j,f.id+":36")}function a(a,b){var c=m(16),e=b===void 0?!1:b;b=l();var f=b[0],g=b[1];b=(b=a.offlineAttachmentId)!=null?b:a.attachmentFbid;var h;c[0]!==b?(h=n(b),c[0]=b,c[1]=h):h=c[1];h=h;var j;c[2]!==h||c[3]!==b?(j=d("MAWDbMedia").convertToMediaId64(h?(i||(i=d("I64"))).of_string(b):(i||(i=d("I64"))).zero),c[2]=h,c[3]=b,c[4]=j):j=c[4];h=j;var p=o(h,a.messageId);c[5]!==p||c[6]!==a||c[7]!==e?(b=function(){if(p==null){var b=d("LSMediaUrlAttachment").previewUrlLarge(a);b=e&&b!=null?b:d("LSMediaUrlAttachment").previewUrl(a);g(b)}},j=[a,p,e],c[5]=p,c[6]=a,c[7]=e,c[8]=b,c[9]=j):(b=c[8],j=c[9]);k(b,j);c[10]!==p?(h=function(){if(p!=null){var a=URL.createObjectURL(new Blob([p.blobData],{type:p.mimetype}));g(a);return function(){URL.revokeObjectURL(a)}}},c[10]=p,c[11]=h):h=c[11];c[12]!==a||c[13]!==p||c[14]!==e?(b=[a,p,e,g],c[12]=a,c[13]=p,c[14]=e,c[15]=b):b=c[15];k(h,b);return f}function b(a){var b=m(14),c=l(),e=c[0],f=c[1];c=(c=a.offlineAttachmentId)!=null?c:a.attachmentFbid;var g;b[0]!==c?(g=n(c),b[0]=c,b[1]=g):g=b[1];g=g;var h;b[2]!==g||b[3]!==c?(h=d("MAWDbMedia").convertToMediaId64(g?(i||(i=d("I64"))).of_string(c):(i||(i=d("I64"))).zero),b[2]=g,b[3]=c,b[4]=h):h=b[4];g=h;var j=o(g,a.messageId);b[5]!==j||b[6]!==a?(c=function(){if(j==null){var b=d("LSMediaUrlAttachment").playableUrl(a);f(b)}},h=[a,j],b[5]=j,b[6]=a,b[7]=c,b[8]=h):(c=b[7],h=b[8]);k(c,h);b[9]!==j?(g=function(){if(j!=null){var a=URL.createObjectURL(new Blob([j.blobData],{type:j.mimetype}));f(a);return function(){URL.revokeObjectURL(a)}}},b[9]=j,b[10]=g):g=b[10];b[11]!==a||b[12]!==j?(c=[a,j,f],b[11]=a,b[12]=j,b[13]=c):c=b[13];k(g,c);return e}g.useIGDAttachmentPreviewUrl=a;g.useIGDAttachmentPlayableUrl=b}),98);/*FB_PKG_DELIM*/
__d("IGDSLegacyListItemPlaceholder.react",["IGDSBox.react","PolarisIGCoreConstants","hero-tracing-placeholder","react","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=14,l=116,m=84,n={large:2,medium:1,small:0};function a(a){var b=i(16),e=a.fullWidth;a=a.size;a=a===void 0?"medium":a;var f=c("PolarisIGCoreConstants").AVATAR_SIZES[a],g=n[a],h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(d("hero-tracing-placeholder").HeroHoldTrigger,{description:"ListItemPlaceholder",hold:!0}),b[0]=h):h=b[0];a=a==="large"?6:4;var o;b[1]!==f?(o=j.jsx(c("IGDSBox.react"),{alignItems:"center",color:"secondaryBackground",height:f,position:"relative",shape:"circle",width:f}),b[1]=f,b[2]=o):o=b[2];var p=e===!0?"85%":l,q;b[3]!==p?(q=j.jsx(c("IGDSBox.react"),{color:"secondaryBackground",height:k,position:"relative",shape:"rounded",width:p}),b[3]=p,b[4]=q):q=b[4];p=e===!0?"65%":m;b[5]!==p?(e=j.jsx(c("IGDSBox.react"),{color:"secondaryBackground",height:k,position:"relative",shape:"rounded",width:p}),b[5]=p,b[6]=e):e=b[6];b[7]!==f||b[8]!==g||b[9]!==q||b[10]!==e?(p=j.jsxs(c("IGDSBox.react"),{flex:"grow",height:f,justifyContent:"between",marginStart:3,paddingY:g,position:"relative",children:[q,e]}),b[7]=f,b[8]=g,b[9]=q,b[10]=e,b[11]=p):p=b[11];b[12]!==a||b[13]!==o||b[14]!==p?(f=j.jsxs(j.Fragment,{children:[h,j.jsxs(c("IGDSBox.react"),babelHelpers["extends"]({},c("vc-tracker").VisualCompletionAttributes.LOADING_STATE,{alignItems:"center",direction:"row",paddingX:a,paddingY:2,position:"relative",children:[o,p]}))]}),b[12]=a,b[13]=o,b[14]=p,b[15]=f):f=b[15];return f}g["default"]=a}),98);
__d("PolarisCard.react",["IGDSBox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(11),d=a.button,e=a.children,f=a.context,g=a.icon,h=a.onClick,k=a.padding,l=a.width;a=a.xstyle;var m;b[0]!==k||b[1]!==l||b[2]!==a||b[3]!==g||b[4]!==e||b[5]!==d||b[6]!==f?(m=j.jsxs(c("IGDSBox.react"),{alignItems:"center",border:!0,color:"primaryBackground",padding:k,shape:"rounded",width:l,xstyle:a,children:[g,e,d,f]}),b[0]=k,b[1]=l,b[2]=a,b[3]=g,b[4]=e,b[5]=d,b[6]=f,b[7]=m):m=b[7];b[8]!==h||b[9]!==m?(k=j.jsx("div",{onClick:h,role:"button",tabIndex:"-1",children:m}),b[8]=h,b[9]=m,b[10]=k):k=b[10];return k}g["default"]=a}),98);
__d("PolarisActivatorCard.react",["IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisCard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(14),d=a.bodyText,e=a.buttonText,f=a.headerText,g=a.loading,h=a.onClick,k=a.svgIcon;a=a.width;var l;b[0]!==g||b[1]!==e||b[2]!==h?(l=j.jsx(c("IGDSButton.react"),{isLoading:g,label:e,onClick:h}),b[0]=g,b[1]=e,b[2]=h,b[3]=l):l=b[3];b[4]!==f?(g=j.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:j.jsx(c("IGDSText.react").BodyEmphasized,{children:f})}),b[4]=f,b[5]=g):g=b[5];b[6]!==d?(e=j.jsx(c("IGDSBox.react"),{height:65,marginBottom:4,marginTop:4,position:"relative",children:j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:d})}),b[6]=d,b[7]=e):e=b[7];b[8]!==l||b[9]!==k||b[10]!==a||b[11]!==g||b[12]!==e?(h=j.jsxs(c("PolarisCard.react"),{button:l,icon:k,padding:3,width:a,children:[g,e]}),b[8]=l,b[9]=k,b[10]=a,b[11]=g,b[12]=e,b[13]=h):h=b[13];return h}g["default"]=a}),98);
__d("PolarisCountryBlock.react",["fbt","PolarisAdvisoryMessage.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(){var a=j(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("PolarisAdvisoryMessage.react"),{children:k.jsx("h2",{className:"x11gisft x11njtxf",children:h._("__JHASH__ZIVh3kKzzS8__JHASH__")})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("PolarisIGCoreBorderedIcon.react",["cx","PolarisIGCoreIcon.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(15),d=a.alt,e=a.color,f=a.dangerouslySetClassName,g=a.icon,h=a.onClick,i=a.size;a=a.weight;e=e===void 0?"dark":e;i=i===void 0?44:i;a=a===void 0?"normal":a;var l;b[0]!==e||b[1]!==a||b[2]!==f?(l=c("joinClasses")("_ab5c"+(e==="dark"?" _ab5d":"")+(e==="light"?" _ab5e":"")+(e==="facebook"?" _ab5f":"")+(e==="white"?" _ab5g":"")+(a==="thin"?" _ab5h":"")+(a==="normal"?" _ab5i":"")+(a==="thick"?" _ab5j":""),f==null?void 0:f.__className),b[0]=e,b[1]=a,b[2]=f,b[3]=l):l=b[3];e=l;a=h!=null?"button":"div";b[4]!==i?(f={height:i,width:i},b[4]=i,b[5]=f):f=b[5];l=f;b[6]!==d||b[7]!==g?(i=k.jsx(c("PolarisIGCoreIcon.react"),{alt:d,icon:g}),b[6]=d,b[7]=g,b[8]=i):i=b[8];b[9]!==a||b[10]!==e||b[11]!==h||b[12]!==l||b[13]!==i?(f=k.jsx(a,{className:e,onClick:h,style:l,children:i}),b[9]=a,b[10]=e,b[11]=h,b[12]=l,b[13]=i,b[14]=f):f=b[14];return f}g["default"]=a}),98);
__d("PolarisPeopleCard.react",["fbt","IGDSBox.react","IGDSText.react","IGDSXPanoFilledIcon.react","PolarisAssetManagerGlyphMapping","PolarisCard.react","PolarisGenericStrings","PolarisIGCoreBorderedIcon.react","PolarisIGCoreConstants","PolarisIGCoreSVGIconButton.react","PolarisIGCoreText","PolarisUA","PolarisUserAvatar.react","PolarisUserLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=d("PolarisUA").isMobile()?76:86,m={desktopRoot:{height:"x1gvj3kd",$$css:!0},mobileRoot:{borderTopStartRadius:"x1ke7ulo",borderTopEndRadius:"x3jqge",borderBottomEndRadius:"x1i7howy",borderBottomStartRadius:"x4y8mfe",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxShadow:"xqu6day",height:"x2gs1ea",$$css:!0}};function n(a){var b=j(2);a=a.children;var d;b[0]!==a?(d=k.jsx(c("IGDSText.react").Body2,{color:"secondaryText",textAlign:"center",children:a}),b[0]=a,b[1]=d):d=b[1];return d}function o(a){var b=j(12),d=a.context,e=a.icon;a=a.title;var f;b[0]!==e?(f=k.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:e}),b[0]=e,b[1]=f):f=b[1];b[2]!==a?(e=k.jsx(c("IGDSBox.react"),{marginBottom:3,position:"relative",children:k.jsx(c("IGDSText.react").BodyEmphasized,{children:a})}),b[2]=a,b[3]=e):e=b[3];b[4]!==d?(a=k.jsx(c("IGDSBox.react"),{position:"relative",children:k.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:d})}),b[4]=d,b[5]=a):a=b[5];b[6]!==e||b[7]!==a?(d=k.jsxs(c("IGDSBox.react"),{flex:"grow",position:"relative",children:[e,a]}),b[6]=e,b[7]=a,b[8]=d):d=b[8];b[9]!==f||b[10]!==d?(e=k.jsxs(c("IGDSBox.react"),{direction:"row",height:l,justifyContent:"center",paddingY:2,position:"relative",width:"100%",children:[f,d]}),b[9]=f,b[10]=d,b[11]=e):e=b[11];return e}function p(a){var b=a.children,e=a.isPrivate;a=a.username;var f=0;b=k.Children.map(b,function(a){if(typeof a==="boolean")return null;f++;return k.cloneElement(a,{dimension:l})});var g=l*f+(f-1);switch(!0){case e:return k.jsx(o,{context:h._("__JHASH__nlQanDWDp3o__JHASH__"),icon:k.jsx(c("PolarisIGCoreBorderedIcon.react"),{alt:h._("__JHASH__SxmGjI4qLOh__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.LOCK_OUTLINE_24_GREY9}),title:h._("__JHASH__oUvUoLRyEfx__JHASH__")});case f===0:return k.jsx(o,{context:h._("__JHASH__jO5E13aqhGA__JHASH__",[h._param("Username of current user",a)]),icon:k.jsx(c("PolarisIGCoreBorderedIcon.react"),{alt:h._("__JHASH__SxmGjI4qLOh__JHASH__"),icon:d("PolarisAssetManagerGlyphMapping").ICONS.CAMERA_OUTLINE_24_GREY9}),title:h._("__JHASH__v5sJwK_tp5Y__JHASH__")});default:return k.jsx(c("IGDSBox.react"),{direction:"row",flex:"grow",justifyContent:"between",marginTop:d("PolarisUA").isMobile()?0:1,position:"relative",width:g,children:b})}}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=j(37),e=a.button,f=a.children,g=a.context,h=a.isPrivate,i=a.onClick,l=a.onDismissClick,o=a.onUsernameClick,q=a.src,r=a.subtitle,s=a.username;a=a.width;var t;b[0]!==g?(t=d("PolarisUA").isMobile()?null:k.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:k.jsx(n,{children:g})}),b[0]=g,b[1]=t):t=b[1];var u;b[2]!==q||b[3]!==s?(u=k.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisUA").isMobile()?2:4,marginTop:d("PolarisUA").isMobile()?0:1,position:"relative",children:k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:q,size:c("PolarisIGCoreConstants").AVATAR_SIZES.XL,username:s})}),b[2]=q,b[3]=s,b[4]=u):u=b[4];b[5]!==s?(q=k.jsx(c("PolarisIGCoreText").BodyEmphasized,{display:"truncated",textAlign:"center",zeroMargin:!0,children:s}),b[5]=s,b[6]=q):q=b[6];var v;b[7]!==o||b[8]!==s||b[9]!==q?(v=k.jsx(c("PolarisUserLink.react"),{onClick:o,username:s,children:q}),b[7]=o,b[8]=s,b[9]=q,b[10]=v):v=b[10];b[11]!==l?(o=l!=null&&k.jsx(c("IGDSBox.react"),{padding:1,position:"absolute",right:!0,children:k.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:l,children:k.jsx(c("IGDSXPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").DISMISS_TEXT,color:"ig-secondary-text",size:11})})}),b[11]=l,b[12]=o):o=b[12];q=r!==null?2:5;b[13]!==r?(l=k.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:r}),b[13]=r,b[14]=l):l=b[14];b[15]!==q||b[16]!==l?(r=k.jsx(c("IGDSBox.react"),{marginBottom:q,paddingY:2,position:"relative",children:l}),b[15]=q,b[16]=l,b[17]=r):r=b[17];b[18]!==h||b[19]!==s||b[20]!==f?(q=k.jsx(p,{isPrivate:h,username:s,children:f}),b[18]=h,b[19]=s,b[20]=f,b[21]=q):q=b[21];b[22]!==g?(l=d("PolarisUA").isMobile()&&g!=null&&k.jsx(c("IGDSBox.react"),{alignItems:"center",flex:"grow",justifyContent:"center",marginBottom:1,position:"relative",children:k.jsx(n,{children:g})}),b[22]=g,b[23]=l):l=b[23];b[24]!==q||b[25]!==l?(h=k.jsxs(c("IGDSBox.react"),{alignItems:"center",flex:"grow",justifyContent:"center",position:"relative",children:[q,l]}),b[24]=q,b[25]=l,b[26]=h):h=b[26];b[27]!==e||b[28]!==t||b[29]!==u||b[30]!==i||b[31]!==a||b[32]!==v||b[33]!==o||b[34]!==r||b[35]!==h?(s=k.jsxs(c("PolarisCard.react"),{button:e,context:t,icon:u,onClick:i,padding:4,width:a,xstyle:d("PolarisUA").isMobile()?m.mobileRoot:m.desktopRoot,children:[v,o,r,h]}),b[27]=e,b[28]=t,b[29]=u,b[30]=i,b[31]=a,b[32]=v,b[33]=o,b[34]=r,b[35]=h,b[36]=s):s=b[36];return s}g["default"]=a}),226);
__d("PolarisUserCard.react",["IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisCard.react","PolarisIGCoreConstants","PolarisUserAvatar.react","PolarisUserLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function k(a){var b=33;return a.length<b?a:a.substr(0,b-3)+"\u2026"}function a(a){var b=i(25),d=a.button,e=a.isVerified,f=a.onClick,g=a.onUsernameClick,h=a.src,l=a.subtitle,m=a.username;a=a.width;e=e===void 0?!1:e;var n;b[0]!==h||b[1]!==m?(n=j.jsx(c("PolarisUserAvatar.react"),{canTabFocus:!1,profilePictureUrl:h,size:c("PolarisIGCoreConstants").AVATAR_SIZES.large,username:m}),b[0]=h,b[1]=m,b[2]=n):n=b[2];b[3]!==m?(h=j.jsx(c("IGDSBox.react"),{flex:"shrink",overflow:"hidden",position:"relative",children:j.jsx(c("IGDSText.react").BodyEmphasized,{maxLines:1,zeroMargin:!0,children:m})}),b[3]=m,b[4]=h):h=b[4];var o;b[5]!==e?(o=e&&j.jsx(c("IGDSBox.react"),{marginStart:1,position:"relative",children:j.jsx(c("IGDSVerifiedBadge.react"),{})}),b[5]=e,b[6]=o):o=b[6];b[7]!==h||b[8]!==o?(e=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",width:"100%",children:[h,o]}),b[7]=h,b[8]=o,b[9]=e):e=b[9];b[10]!==g||b[11]!==m||b[12]!==e?(h=j.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:4,position:"relative",width:"100%",children:j.jsx(c("PolarisUserLink.react"),{onClick:g,username:m,children:e})}),b[10]=g,b[11]=m,b[12]=e,b[13]=h):h=b[13];b[14]!==l?(o=k(l),b[14]=l,b[15]=o):o=b[15];b[16]!==o?(g=j.jsx(c("IGDSBox.react"),{height:28,marginBottom:2,position:"relative",children:j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",textAlign:"center",children:o})}),b[16]=o,b[17]=g):g=b[17];b[18]!==d||b[19]!==n||b[20]!==f||b[21]!==a||b[22]!==h||b[23]!==g?(m=j.jsxs(c("PolarisCard.react"),{button:d,icon:n,onClick:f,padding:4,width:a,children:[h,g]}),b[18]=d,b[19]=n,b[20]=f,b[21]=a,b[22]=h,b[23]=g,b[24]=m):m=b[24];return m}g["default"]=a}),98);
__d("useSubscriptionValue",["react"],(function(a,b,c,d,e,f,g){var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useState;function a(a){var b=a.getCurrentValue,c=a.subscribe;a=k(function(){return b()});var d=a[0],e=a[1],f=i(function(){e(b)},[b]);a=k(function(){return b});var g=a[0];a=a[1];g!==b&&(a(function(){return b}),f());j(function(){var a=!1,b=function(){a||f()},d=c(b);f();return function(){a=!0,d()}},[f,c]);return d}g["default"]=a}),98);
__d("useWindowSize",["ExecutionEnvironment","react","throttle","useSubscriptionValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function k(){return!(h||(h=c("ExecutionEnvironment"))).canUseDOM?{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}:{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}function a(a){a===void 0&&(a=500);var b=j(function(b){var d=c("throttle")(b,a);window.addEventListener("resize",d);return function(){window.removeEventListener("resize",d)}},[a]);return c("useSubscriptionValue")({getCurrentValue:k,subscribe:b})}g["default"]=a}),98);
__d("PolarisDeck.react",["cx","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","IGDSBox.react","IGDSText.react","PolarisActivatorCard.react","PolarisIGCoreConstants","PolarisPeopleCard.react","PolarisUA","PolarisUserCard.react","PolarisVirtualHSnapScrollCollapsibleList.react","clamp","polarisWithForwardRef.react","react","useWindowSize"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useImperativeHandle,l=b.useRef;function m(a){switch(c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).type){case c("PolarisActivatorCard.react"):return"ACTIVATOR";case c("PolarisPeopleCard.react"):return"PEOPLE";case c("PolarisUserCard.react"):return"USER"}return"USER"}var n=d("PolarisUA").isMobile()?"MOBILE":"DESKTOP",o;function a(a){var b=a.cardBoxDirection,e=b===void 0?"column":b,f=a.cardType;b=a.children;var g=a.color;g=g===void 0?"ig-secondary-background":g;var h=a.forwardedRef,i=a.hasBlur,p=a.headerText,q=a.onVisibilityChange;a=a.suffix;var r=l(null);k(h,function(){return{scrollToNext:function(){var a=r.current;a!=null&&a.snapToNext()}}});h=c("useWindowSize")();h=h.innerWidth;var s=l({first:null,last:null});if(j.Children.count(b)===0)return null;var t=j.Children.map(b,function(a){o=f||m(a);var b=c("PolarisIGCoreConstants").CARD_SIZES[o][n];return j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:e,position:"relative",width:b.CARD_WIDTH+b.GAP_WIDTH,children:j.jsx(c("IGDSBox.react"),{height:b.HEIGHT,justifyContent:"center",position:"relative",width:b.CARD_WIDTH,children:j.cloneElement(a,{width:b.CARD_WIDTH})})},a.key)});b=function(a){var b=a.endPct;a=a.startPct;if(q==null)return;var d=t.length;a=c("clamp")(Math.floor(a),0,d-1);b=c("clamp")(Math.floor(b),0,d-1);d=s.current;(d.first!==a||d.last!==b)&&(s.current={first:a,last:b},q(a,b))};var u=c("PolarisIGCoreConstants").CARD_SIZES[o][n],v=d("PolarisUA").isMobile()&&o==="PEOPLE";v=v?(h-u.CARD_WIDTH)/2:u.GUTTER_WIDTH;return j.jsxs(c("IGDSBox.react"),{color:g,position:"relative",children:[p!=null&&j.jsxs(c("IGDSBox.react"),{direction:"row",marginTop:3,paddingX:4,position:"relative",children:[j.jsx(c("IGDSBox.react"),{justifyContent:"around",position:"relative",children:j.jsx(c("IGDSText.react").BodyEmphasized,{children:p})}),a!=null&&j.jsx(c("IGDSBox.react"),{alignItems:"end",flex:"grow",position:"relative",children:a})]}),j.jsx("div",{className:i?"_any7":"",children:j.jsx(c("IGDSBox.react"),{height:u.HEIGHT,marginBottom:4,marginTop:4,position:"relative",children:j.jsx(c("PolarisVirtualHSnapScrollCollapsibleList.react"),{gutterWidth:Math.max(0,v-u.GAP_WIDTH/2),itemWidth:u.CARD_WIDTH+u.GAP_WIDTH,onVisibilityChange:b,scrollRef:r,children:t})})})]})}a.displayName=a.name+" [from "+f.id+"]";e=c("polarisWithForwardRef.react")(a);g["default"]=e}),98);
__d("PolarisUserGridItem.react",["PolarisFollowButtonContainer.react","PolarisReactRedux.react","PolarisUserCard.react","polarisRelationshipSelectors.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(23),e=a.analyticsContext,f=a.id,g=a.onFollowClick,h=a.position,k;b[0]!==a.id?(k=function(b){return{relationship:d("polarisRelationshipSelectors.react").getRelationship(b.relationships,a.id),user:d("polarisUserSelectors").getUserByIdOrThrows(b,a.id)}},b[0]=a.id,b[1]=k):k=b[1];k=d("PolarisReactRedux.react").useSelector(k,d("PolarisReactRedux.react").shallowEqual);var l=k.relationship;k=k.user;var m;b[2]!==g||b[3]!==l||b[4]!==h||b[5]!==f?(m=function(){g!=null&&l&&g({followedByViewer:d("polarisRelationshipSelectors.react").followedByViewer(l),index:h,userId:f})},b[2]=g,b[3]=l,b[4]=h,b[5]=f,b[6]=m):m=b[6];m=m;var n;b[7]!==a||b[8]!==h||b[9]!==f?(n=function(){a.onUsernameClick({index:h,userId:f})},b[7]=a,b[8]=h,b[9]=f,b[10]=n):n=b[10];n=n;var o=k.profilePictureUrl,p=k.suggestionDescription,q=k.username;if(o==null||p==null||q==null)return null;e=(e=e)!=null?e:"UNKNOWN__POLARIS_USER_GRID_ITEM";var r;b[11]!==e||b[12]!==m||b[13]!==k.id||b[14]!==q?(r=i.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:e,onClick:m,userId:k.id,username:q}),b[11]=e,b[12]=m,b[13]=k.id,b[14]=q,b[15]=r):r=b[15];b[16]!==r||b[17]!==k.isVerified||b[18]!==n||b[19]!==o||b[20]!==p||b[21]!==q?(e=i.jsx(c("PolarisUserCard.react"),{button:r,isVerified:k.isVerified,onUsernameClick:n,src:o,subtitle:p,username:q}),b[16]=r,b[17]=k.isVerified,b[18]=n,b[19]=o,b[20]=p,b[21]=q,b[22]=e):e=b[22];return e}g["default"]=a}),98);
__d("PolarisUserGrid.react",["IGDSBox.react","IGDSSpinner.react","PolarisDeck.react","PolarisUserGridItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(14),d=a.isLoading,e=a.onFollowClick,f=a.onUsernameClick,g=a.onVisibilityChange,h=a.subHeader,k=a.suffix;a=a.userIds;var l;b[0]!==e?(l=function(a){e&&e(a)},b[0]=e,b[1]=l):l=b[1];var m=l;b[2]!==g?(l=function(a,b){g&&g(a,b)},b[2]=g,b[3]=l):l=b[3];l=l;var n;b[4]!==f?(n=function(a){f&&f(a)},b[4]=f,b[5]=n):n=b[5];var o=n;b[6]!==d||b[7]!==m||b[8]!==o||b[9]!==a||b[10]!==h||b[11]!==l||b[12]!==k?(n=d?j.jsx(c("IGDSBox.react"),{alignItems:"center",marginTop:4,position:"relative",width:"100%",children:j.jsx(c("IGDSSpinner.react"),{})}):j.jsx(c("PolarisDeck.react"),{cardType:"USER",hasBlur:!0,headerText:h,onVisibilityChange:l,suffix:k,children:a.map(function(a,b){return j.jsx(c("PolarisUserGridItem.react"),{id:a,onFollowClick:m,onUsernameClick:o,position:b},b)})}),b[6]=d,b[7]=m,b[8]=o,b[9]=a,b[10]=h,b[11]=l,b[12]=k,b[13]=n):n=b[13];return n}g["default"]=a}),98);
__d("PolarisUserListUserLink.react",["IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(12),e=a.isVerified,f=a.onClick;a=a.username;if(a===void 0)return null;var g;b[0]!==a?(g=d("PolarisLinkBuilder").buildUserLink(a),b[0]=a,b[1]=g):g=b[1];var h;b[2]!==e?(h=e===!0&&j.jsx(c("IGDSBox.react"),{marginStart:2,children:j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[2]=e,b[3]=h):h=b[3];b[4]!==a||b[5]!==h?(e=j.jsx(c("IGDSBox.react"),{direction:"row",children:j.jsx(c("IGDSText.react").BodyEmphasized,{zeroMargin:!0,children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[a,h]})})}),b[4]=a,b[5]=h,b[6]=e):e=b[6];b[7]!==g||b[8]!==f||b[9]!==a||b[10]!==e?(h=j.jsx(c("PolarisFastLink.react"),{href:g,onClick:f,title:a,children:e}),b[7]=g,b[8]=f,b[9]=a,b[10]=e,b[11]=h):h=b[11];return h}g["default"]=a}),98);
__d("PolarisUserListItem.react",["fbt","IGDSBox.react","IGDSHeartFilledIcon.react","IGDSListItem.react","PolarisAssetManagerGlyphMapping","PolarisBigNumberFormatter","PolarisFollowButtonContainer.react","PolarisGenericStrings","PolarisIGCoreConstants","PolarisIGCoreIconButton.react","PolarisReactRedux.react","PolarisUserAvatar.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserLinkWithHoverCard.react","PolarisUserListUserLink.react","nullthrows","polarisRelationshipSelectors.react","polarisUserSelectors","react","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useState,m=e.c;function n(a){var b=d("PolarisBigNumberFormatter").formatValue(a,{shouldShorten:!0});return h._("__JHASH__AWdNliSlYma__JHASH__",[h._plural(a),h._param("Follower count",b)])}function a(a){var b=m(61),e=a.analyticsContext,f=a.avatarSize,g=a.borderlessFollowButton,i=a.entryPoint,o=a.hasLiked,p=a.hideFollowButton,q=a.hideName,r=a.hideStoryRings,s=a.hoverPositionType,t=a.id,u=a.isVisible,v=a.onDismiss,w=a.onFollowClick,x=a.onScrollEnter,y=a.onUsernameClick,z=a.position,A=a.primaryActionButton,B=a.relationship,C=a.secondaryActionButton,D=a.showFollowerCount,E=a.subtitle,F=a.user;a=a.viewer;f=f===void 0?"medium":f;o=o===void 0?!1:o;s=s===void 0?null:s;D=D===void 0?!1:D;var G=c("usePrevious")(u),H=l(!0),I=H[0],J=H[1];b[0]!==w||b[1]!==B||b[2]!==z||b[3]!==t?(H=function(){w&&B&&w({followedByViewer:d("polarisRelationshipSelectors.react").followedByViewer(B),index:z,userId:t})},b[0]=w,b[1]=B,b[2]=z,b[3]=t,b[4]=H):H=b[4];H=H;var K;b[5]!==x||b[6]!==z||b[7]!==t?(K=function(){x({index:z,userId:t})},b[5]=x,b[6]=z,b[7]=t,b[8]=K):K=b[8];var L=K;b[9]!==y||b[10]!==z||b[11]!==t?(K=function(){y({index:z,userId:t})},b[9]=y,b[10]=z,b[11]=t,b[12]=K):K=b[12];K=K;var M,N;b[13]!==G||b[14]!==u||b[15]!==L?(M=function(){G!==!0&&u&&L()},N=[L,u,G],b[13]=G,b[14]=u,b[15]=L,b[16]=M,b[17]=N):(M=b[16],N=b[17]);k(M,N);M=!p&&(a==null?void 0:a.id)!==F.id;N=E!=null?E:q?null:F.fullName;b[18]!==r||b[19]!==F.profilePictureUrl||b[20]!==F.username||b[21]!==f||b[22]!==o||b[23]!==i?(p=r?j.jsxs(c("IGDSBox.react"),{children:[j.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:c("nullthrows")(F.profilePictureUrl),size:c("PolarisIGCoreConstants").AVATAR_SIZES[f],username:F.username}),o&&j.jsx("div",{className:"x1o583il x11f4b5y x10l6tqk",children:j.jsx(c("IGDSHeartFilledIcon.react"),{alt:h._("__JHASH__9Aw5BKlMq1f__JHASH__"),color:"ig-badge",size:12})})]}):j.jsx(c("PolarisUserAvatarWithStories.react"),{profilePictureUrl:c("nullthrows")(F.profilePictureUrl),size:c("PolarisIGCoreConstants").AVATAR_SIZES[f],storyEntrypoint:i,username:F.username}),b[18]=r,b[19]=F.profilePictureUrl,b[20]=F.username,b[21]=f,b[22]=o,b[23]=i,b[24]=p):p=b[24];a=p;E=null;if(v!=null){b[25]!==v||b[26]!==t?(q=function(){J(!1),v(t)},b[25]=v,b[26]=t,b[27]=q):q=b[27];E=q}f=(r=e)!=null?r:"UNKNOWN__POLARIS_USER_LIST_ITEM";i=(o=F.username)!=null?o:"";b[28]!==f||b[29]!==g||b[30]!==H||b[31]!==F.id||b[32]!==i?(p=j.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:f,borderless:g,isInline:g,onClick:H,userId:F.id,username:i,useSmallText:g}),b[28]=f,b[29]=g,b[30]=H,b[31]=F.id,b[32]=i,b[33]=p):p=b[33];b[34]!==E?(q=E!=null&&j.jsx(c("IGDSBox.react"),{marginStart:3,right:!0,children:j.jsx(c("PolarisIGCoreIconButton.react"),{alt:d("PolarisGenericStrings").DISMISS_TEXT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.GREY_CLOSE,noMinSize:!0,onClick:E})}),b[34]=E,b[35]=q):q=b[35];b[36]!==p||b[37]!==q?(e=j.jsxs(j.Fragment,{children:[p,q]}),b[36]=p,b[37]=q,b[38]=e):e=b[38];r=e;b[39]!==A||b[40]!==F||b[41]!==M||b[42]!==r?(o=A?A(F.id):M?r:void 0,b[39]=A,b[40]=F,b[41]=M,b[42]=r,b[43]=o):o=b[43];f=o;b[44]!==C||b[45]!==F||b[46]!==B?(g=C==null?void 0:C(F.id,B),b[44]=C,b[45]=F,b[46]=B,b[47]=g):g=b[47];H=g;if(b[48]!==D||b[49]!==F){p=D?n((E=(i=F.counts)==null?void 0:i.followedBy)!=null?E:0):F.suggestionDescription;b[48]=D;b[49]=F;b[50]=p}else p=b[50];q=p;if(b[51]!==I||b[52]!==f||b[53]!==s||b[54]!==F||b[55]!==a||b[56]!==K||b[57]!==H||b[58]!==q||b[59]!==N){r=I&&j.jsx(c("IGDSListItem.react"),{addOnEnd:f!=null?j.jsx(j.Fragment,{children:f}):void 0,addOnStart:s!=null?j.jsx(c("PolarisUserHoverCard.react"),{display:"block",userId:F.id,username:(e=F.username)!=null?e:"",children:a}):a,context:q,subtitle:N,title:j.jsxs(c("IGDSBox.react"),{direction:"row",children:[s!=null?j.jsx(c("PolarisUserLinkWithHoverCard.react"),{color:"ig-primary-text",isVerified:F.isVerified,onClick:K,userId:F.id,username:(A=F==null?void 0:F.username)!=null?A:""}):j.jsx(c("PolarisUserListUserLink.react"),{isVerified:F.isVerified===!0,onClick:K,username:(M=F.username)!=null?M:""}),H!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDSBox.react"),{display:"inlineBlock",paddingX:1,children:"\xb7"}),H]}):null]})});b[51]=I;b[52]=f;b[53]=s;b[54]=F;b[55]=a;b[56]=K;b[57]=H;b[58]=q;b[59]=N;b[60]=r}else r=b[60];return r}function b(a,b){return{relationship:d("polarisRelationshipSelectors.react").getRelationship(a.relationships,b.id),user:d("polarisUserSelectors").getUserByIdOrThrows(a,b.id),viewer:d("polarisUserSelectors").getViewer__DEPRECATED(a)}}f=d("PolarisReactRedux.react").connect(b)(a);g["default"]=f}),226);
__d("PolarisUserList.react",["CometErrorBoundary.react","IGDSBox.react","IGDSLegacyListItemPlaceholder.react","IGDSSpinner.react","PolarisIGVirtualList.react","PolarisUserListItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=10;var j=65;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=i.createRef(),d.$2=function(a){var b=d.props.onFollowClick;b&&b(a)},d.$3=function(a){var b=a.index;a=a.isVisible;var e=d.props,f=e.analyticsContext,g=e.avatarSize,h=e.borderlessFollowButton,j=e.entryPoint,k=e.hideName,l=e.hoverPositionType,m=e.isLoading,n=e.likers,o=e.primaryActionButton,p=e.secondaryActionButton,q=e.showFollowerCount,r=e.topComponent;e=e.userIds;return e.length===0?m?i.jsx(c("IGDSLegacyListItemPlaceholder.react"),{size:g},b):null:i.jsxs(c("CometErrorBoundary.react"),{children:[b===0&&r!=null&&r,i.jsx(c("PolarisUserListItem.react"),{analyticsContext:f,avatarSize:g,borderlessFollowButton:h,entryPoint:j,hasLiked:n==null?void 0:n.has(e[b]),hideFollowButton:d.props.hideFollowButton,hideName:k,hideStoryRings:d.props.hideStoryRings,hoverPositionType:l||"absolute",id:e[b],isVisible:a,onDismiss:d.props.onDismiss,onFollowClick:d.$2,onScrollEnter:d.$4,onUsernameClick:d.$5,position:b,primaryActionButton:o,secondaryActionButton:p,showFollowerCount:q})]},e[b])},d.$4=function(a){var b=d.props.onScrollChange;b&&b(a)},d.$5=function(a){var b=d.props.onUsernameClick;b&&b(a)},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.componentDidUpdate=function(a){this.$1.current!=null&&this.props.userIds.length===this.props.initialRenderCount&&a.userIds.length===0&&this.$1.current.forceUpdate()};d.render=function(){var a=this.props,b=a.containerSize,d=a["data-testid"];d=a.initialRenderCount;var e=a.isLoading,f=a.onScroll;a=a.userIds;return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGVirtualList.react"),{containerSize:b,"data-testid":void 0,estimatedItemSize:j,initialRenderCount:d,itemCount:a.length||d,onScroll:f,pageletName:"user_list",ref:this.$1,renderer:this.$3,skipChildMeasurement:!this.props.adjustScrollAfterRender,style:e&&a.length===0?{overflowY:"hidden"}:{}}),a.length>0&&e&&i.jsx(c("IGDSBox.react"),{alignItems:"center",marginTop:4,children:i.jsx(c("IGDSSpinner.react"),{size:"medium"})})]})};return b}(i.PureComponent);b.defaultProps={adjustScrollAfterRender:!0,borderlessFollowButton:!1,containerSize:"auto",entryPoint:"unknown",hideFollowButton:!1,hideName:!1,hideStoryRings:!1,hoverPositionType:null,initialRenderCount:a,isLoading:!1,showFollowerCount:!1};g["default"]=b}),98);
__d("PolarisSuggestedUserList.react",["fbt","IGDSBox.react","IGDSText.react","PolarisConnectionsLogger","PolarisRoutes","PolarisSeeAllLink.react","PolarisUserActionLoadSULV2","PolarisUserGrid.react","PolarisUserList.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;b=h._("__JHASH__Ze8enBotJFp__JHASH__");e=h._("__JHASH__Ze8enBotJFp__JHASH__");f=h._("__JHASH__DefkXbHxh-M__JHASH__");h=h._("__JHASH__XuMu6gViKc___JHASH__");function l(a){switch(a){case d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.top_accounts:return!1;default:return!0}}function a(a){var b=j(44),e=a.adjustScrollAfterRender,f=a.analyticsContext,g=a.avatarSize,h=a.borderlessFollowButton,i=a.footer,m=a.hideName,n=a.hideStoryRings,o=a.initialRenderCount,p=a.isLoading,q=a.onDismiss,r=a.showFollowerCount,s=a.subHeader,t=a.userIds,u=a.variant,v=a.viewModule;a=e===void 0?!0:e;e=g===void 0?"large":g;g=h===void 0?!1:h;h=m===void 0?!1:m;m=n===void 0?!1:n;n=o===void 0?d("PolarisUserActionLoadSULV2").SUL_FETCH_SUGGESTED_COUNT_DEFAULT:o;o=u===void 0?"LIST":u;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(u={},b[0]=u):u=b[0];var w=u,x,y,z;if(b[1]!==f||b[2]!==t||b[3]!==v){u=function(a){var b=a.followedByViewer,c=a.index;a=a.userId;if(!l(f))return;if(b)return;A("recommended_follow_button_tapped",a,c)};x=function(a){var b=a.index;a=a.userId;if(!l(f))return;A("recommended_username_tapped",a,b)};y=function(a,b){if(!l(f))return;if(t==null)return;for(a=a;a<=b-1;++a){var c=t[a];w[c]||(A("recommended_user_impression",c,a),w[c]=!0)}};z=function(a){var b=a.index;a=a.userId;if(!l(f))return;w[a]||(A("recommended_user_impression",a,b),w[a]=!0)};var A=function(a,b,c){d("PolarisConnectionsLogger").logConnectionAction({containerModule:f,eventName:a,position:c,targetId:b,viewModule:v})};b[1]=f;b[2]=t;b[3]=v;b[4]=u;b[5]=x;b[6]=y;b[7]=z}else u=b[4],x=b[5],y=b[6],z=b[7];if(o==="GRID"){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=k.jsx(c("PolarisSeeAllLink.react"),{href:d("PolarisRoutes").DISCOVER_PEOPLE_PATH}),b[8]=o):o=b[8];var B;b[9]!==t?(B=t||[],b[9]=t,b[10]=B):B=b[10];b[11]!==e||b[12]!==p||b[13]!==u||b[14]!==x||b[15]!==y||b[16]!==s||b[17]!==B?(o=k.jsx(c("PolarisUserGrid.react"),{avatarSize:e,isLoading:p,onFollowClick:u,onUsernameClick:x,onVisibilityChange:y,subHeader:s,suffix:o,userIds:B}),b[11]=e,b[12]=p,b[13]=u,b[14]=x,b[15]=y,b[16]=s,b[17]=B,b[18]=o):o=b[18];return o}b[19]!==s?(y=s!=null&&k.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:3,marginTop:4,paddingX:3,children:k.jsx(c("IGDSText.react").Section,{children:s})}),b[19]=s,b[20]=y):y=b[20];B=Boolean(p);b[21]!==t?(o=t||[],b[21]=t,b[22]=o):o=b[22];b[23]!==a||b[24]!==f||b[25]!==e||b[26]!==g||b[27]!==h||b[28]!==m||b[29]!==n||b[30]!==B||b[31]!==q||b[32]!==u||b[33]!==z||b[34]!==x||b[35]!==r||b[36]!==o?(s=k.jsx(c("PolarisUserList.react"),{adjustScrollAfterRender:a,analyticsContext:f,avatarSize:e,borderlessFollowButton:g,"data-testid":void 0,hideName:h,hideStoryRings:m,hoverPositionType:"fixed",initialRenderCount:n,isLoading:B,onDismiss:q,onFollowClick:u,onScrollChange:z,onUsernameClick:x,showFollowerCount:r,userIds:o}),b[23]=a,b[24]=f,b[25]=e,b[26]=g,b[27]=h,b[28]=m,b[29]=n,b[30]=B,b[31]=q,b[32]=u,b[33]=z,b[34]=x,b[35]=r,b[36]=o,b[37]=s):s=b[37];b[38]!==s||b[39]!==i?(p=k.jsxs(c("IGDSBox.react"),{paddingY:2,children:[s,i]}),b[38]=s,b[39]=i,b[40]=p):p=b[40];b[41]!==y||b[42]!==p?(a=k.jsxs(k.Fragment,{children:[y,p]}),b[41]=y,b[42]=p,b[43]=a):a=b[43];return a}g.HEADER_TEXT=b;g.HEADER_TEXT_V2=e;g.SEE_ALL_TEXT=f;g.SEE_ALL_TEXT_V2=h;g.SuggestedUserList=a}),226);
__d("PolarisFetchingSuggestedUserList.react",["fbt","IGDSBox.react","IGDSButton.react","PolarisReactRedux.react","PolarisRoutes","PolarisSuggestedUserList.react","PolarisUserActionLoadSULV2","hero-tracing-placeholder","polarisSuggestedUserSelectors.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect,l=b.useRef,m=b.c;function n(){return j.jsx(c("IGDSBox.react"),{paddingX:4,paddingY:3,position:"relative",children:j.jsx(c("IGDSButton.react"),{display:"block",href:d("PolarisRoutes").DISCOVER_PEOPLE_PATH,label:h._("__JHASH__Ql8Z_68boYh__JHASH__"),variant:"primary_link"})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=m(31),c=a.analyticsContext,e=a.avatarSize,f=a.borderlessFollowButton,g=a.count,h=a.footer,i=a.header,p=a.hideName,q=a.initialRenderCount,r=a.variant;a=a.viewModule;e=e===void 0?"medium":e;f=f===void 0?!1:f;p=p===void 0?!1:p;var s=q===void 0?d("PolarisUserActionLoadSULV2").SUL_FETCH_SUGGESTED_COUNT_DEFAULT:q;q=r===void 0?"LIST":r;r=d("PolarisReactRedux.react").useSelector(o,d("PolarisReactRedux.react").shallowEqual);var t=r.isLoading,u=r.suggestedUserIds,v=l(!1),w=d("PolarisReactRedux.react").useDispatch();b[0]!==w?(r=function(a){return w(d("PolarisUserActionLoadSULV2").loadSULV2({maxNumberToDisplay:a}))},b[0]=w,b[1]=r):r=b[1];var x=r,y;b[2]!==u.length||b[3]!==x||b[4]!==s?(r=function(){u.length===0&&!v.current&&(x(s),v.current=!0)},y=[s,x,u.length],b[2]=u.length,b[3]=x,b[4]=s,b[5]=r,b[6]=y):(r=b[5],y=b[6]);k(r,y);r=i!==void 0?i:d("PolarisSuggestedUserList.react").HEADER_TEXT;b[7]!==g||b[8]!==u||b[9]!==s?(y=isNaN(g)?u.slice(0,s):u.slice(0,g),b[7]=g,b[8]=u,b[9]=s,b[10]=y):y=b[10];b[11]!==c||b[12]!==e||b[13]!==f||b[14]!==p||b[15]!==s||b[16]!==t||b[17]!==r||b[18]!==y||b[19]!==q||b[20]!==a?(i=j.jsx(d("PolarisSuggestedUserList.react").SuggestedUserList,{analyticsContext:c,avatarSize:e,borderlessFollowButton:f,hideName:p,initialRenderCount:s,isLoading:t,subHeader:r,userIds:y,variant:q,viewModule:a}),b[11]=c,b[12]=e,b[13]=f,b[14]=p,b[15]=s,b[16]=t,b[17]=r,b[18]=y,b[19]=q,b[20]=a,b[21]=i):i=b[21];b[22]!==q||b[23]!==h?(g=q==="LIST"&&(h!==void 0?h:j.jsx(n,{})),b[22]=q,b[23]=h,b[24]=g):g=b[24];b[25]!==t?(c=j.jsx(d("hero-tracing-placeholder").HeroHoldTrigger,{description:"FetchingSuggestedUserList",hold:t}),b[25]=t,b[26]=c):c=b[26];b[27]!==i||b[28]!==g||b[29]!==c?(e=j.jsxs(j.Fragment,{children:[i,g,c]}),b[27]=i,b[28]=g,b[29]=c,b[30]=e):e=b[30];return e}function o(a){return{isLoading:a.suggestedUsers.isLoadingSuggestions,suggestedUserIds:d("polarisSuggestedUserSelectors.react").getSuggestions(a)}}g["default"]=a}),226);
__d("PolarisFollowListActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;f.PAGE_SIZE=a}),66);
__d("polarisFollowListSelectors",["PolarisPaginationUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return(a=a.followLists[b])==null?void 0:a[c]}function i(a,b,c){return(a=h(a,b,c))==null?void 0:a.pagination}function a(a,b,c){return d("PolarisPaginationUtils").getEndCursor((a=i(a,b,c))!=null?a:void 0)}g.getFollowListPagination=i;g.getFollowListPaginationCursor=a}),98);
__d("PolarisFollowListActions",["FBLogger","PolarisFollowListActionConstants","PolarisInstapi","PolarisPaginationUtils","PolarisRelationshipActionGetRelationshipInfoForUserIds","asyncToGeneratorRuntime","polarisFollowListSelectors","polarisLogAction"],(function(a,b,c,d,e,f,g){"use strict";var h="follow_list_page";function a(a,b,c){c===void 0&&(c=!1);return function(e,f){var g;b==="admins"?g="groupAdmins":g=b==="followers"?c?"inboundMutual":"inbound":"outbound";f=d("polarisFollowListSelectors").getFollowListPagination(f(),a,g);if(f!=null)return;["followers","members"].includes(b)?c?e(k(a)):e(i(a)):e(l(a))}}function e(a,b,c,e,f){c===void 0&&(c=!1);return b==="followers"?c?k(a,d("PolarisFollowListActionConstants").PAGE_SIZE,e,f):i(a,d("PolarisFollowListActionConstants").PAGE_SIZE,e,f):l(a,d("PolarisFollowListActionConstants").PAGE_SIZE,e,f)}function i(a,e,f,g){e===void 0&&(e=d("PolarisFollowListActionConstants").PAGE_SIZE);return function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,i){b({type:"FOLLOW_LIST_FOLLOWERS_REQUEST",userId:a});i=g===!0?void 0:d("polarisFollowListSelectors").getFollowListPaginationCursor(i(),a,"inbound");try{var j;i=(yield d("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/followers/",{path:{user_id:a},query:{count:e,max_id:(i=i)!=null?i:void 0,query:(i=f)!=null?i:void 0,search_surface:h}}));i=i.data;j=((j=i.users)!=null?j:[]).map(function(a){return String(a.pk)});yield b(d("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(j));b({resetPagination:!!g,response:i,type:"FOLLOW_LIST_FOLLOWERS_SUCCESS",userId:a})}catch(a){c("FBLogger")("ig_web").catching(a)}finally{(f==null?void 0:f.length)&&c("polarisLogAction")("followListSearch",{type:"inbound"})}});return function(a,b){return i.apply(this,arguments)}}()}function j(a,e,f,g){e===void 0&&(e=d("PolarisFollowListActionConstants").PAGE_SIZE);return function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){b({type:"FOLLOW_LIST_MUTUAL_FOLLOWERS_REQUEST",userId:a});h=g===!0?void 0:d("polarisFollowListSelectors").getFollowListPaginationCursor(h(),a,"inboundMutual");try{var i;h=(yield d("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/mutual_followers/",{path:{user_id:a},query:{max_id:(h=h)!=null?h:void 0,page_size:e,query:(h=f)!=null?h:void 0}}));h=h.data;i=((i=h.users)!=null?i:[]).map(function(a){return String(a.pk)});yield b(d("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(i));b({resetPagination:!!g,response:h,type:"FOLLOW_LIST_MUTUAL_FOLLOWERS_SUCCESS",userId:a})}catch(a){c("FBLogger")("ig_web").catching(a)}finally{(f==null?void 0:f.length)&&c("polarisLogAction")("followListSearch",{type:"inboundMutual"})}});return function(a,b){return h.apply(this,arguments)}}()}function k(a,b,c,e){b===void 0&&(b=d("PolarisFollowListActionConstants").PAGE_SIZE);return function(f,g){g=d("polarisFollowListSelectors").getFollowListPagination(g(),a,"inboundMutual");return g==null||d("PolarisPaginationUtils").canFetchMorePagination(g)===!0?f(j(a,b,c,e)):f(i(a,b,c,e))}}function l(a,e,f,g){e===void 0&&(e=d("PolarisFollowListActionConstants").PAGE_SIZE);return function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){b({type:"FOLLOW_LIST_FOLLOWING_REQUEST",userId:a});h=g===!0?void 0:d("polarisFollowListSelectors").getFollowListPaginationCursor(h(),a,"outbound");try{var i;h=(yield d("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/following/",{path:{user_id:a},query:{count:(f==null?void 0:f.length)?void 0:e,max_id:(h=h)!=null?h:void 0,query:(h=f)!=null?h:void 0}}));h=h.data;i=((i=h.users)!=null?i:[]).map(function(a){return String(a.pk)});yield b(d("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(i));b({resetPagination:!!g,response:h,type:"FOLLOW_LIST_FOLLOWING_SUCCESS",userId:a})}catch(a){c("FBLogger")("ig_web").catching(a)}finally{(f==null?void 0:f.length)&&c("polarisLogAction")("followListSearch",{type:"outbound"})}});return function(a,b){return h.apply(this,arguments)}}()}function f(){return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield a({type:"FOLLOW_LIST_RESET_STATE"})});return function(b,c){return a.apply(this,arguments)}}()}g.requestFollowList=a;g.requestNextFollowListPage=e;g.requestFollowers=i;g.requestMutualFollowers=j;g.requestMutualFollowersFirst=k;g.requestFollowing=l;g.resetFollowListState=f}),98);
__d("SableNewsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5427");b=d("FalcoLoggerInternal").create("sable_news_event",a);e=b;g["default"]=e}),98);
__d("PolarisNewsCountryBlock.react",["fbt","IGDSBox.react","IGDSNewsOffOutlineIcon.react","PolarisAdvisoryMessage.react","PolarisExternalLink.react","SableNewsEventFalcoEvent","react","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.c,m="https://help.instagram.com/273556485011659?ref=ipl",n="https://help.instagram.com/969434367391841?ref=ipl";function a(a){var b=l(11),d=a.isOwnProfile,e=a.userID,f=c("usePolarisViewer")();b[0]!==e||b[1]!==f?(a=function(){c("SableNewsEventFalcoEvent").log(function(){var a;return{account_viewed_id:e,event_name:"publisher_profile_block",ig_user_id:(a=f==null?void 0:f.id)!=null?a:"0",viewer_is_regulated_c18:(f==null?void 0:f.isRegulatedC18)===!0}})},b[0]=e,b[1]=f,b[2]=a):a=b[2];var g=f==null?void 0:f.id,i=f==null?void 0:f.isRegulatedC18,o;b[3]!==e||b[4]!==g||b[5]!==i?(o=[e,g,i],b[3]=e,b[4]=g,b[5]=i,b[6]=o):o=b[6];k(a,o);b[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSBox.react"),{marginBottom:3,children:j.jsx(c("IGDSNewsOffOutlineIcon.react"),{alt:"Icon indicating that news is disabled",size:32})}),i="x11gisft x11njtxf",b[7]=g,b[8]=i):(g=b[7],i=b[8]);b[9]!==d?(a=j.jsxs(c("PolarisAdvisoryMessage.react"),{children:[g,j.jsx("h2",{className:i,children:d?h._("__JHASH__QT494AaBEC7__JHASH__"):h._("__JHASH__uiqf1Af_wQm__JHASH__")}),j.jsx("p",{children:d?h._("__JHASH__bUYAv45yDtc__JHASH__",[h._implicitParam("=m2",j.jsx(c("PolarisExternalLink.react"),{href:n,children:h._("__JHASH__MSKkZvWIXAu__JHASH__")}))]):h._("__JHASH__RisRnml03A0__JHASH__",[h._implicitParam("=m2",j.jsx(c("PolarisExternalLink.react"),{href:m,children:h._("__JHASH__uPGpFB1XUQE__JHASH__")}))])})]}),b[9]=d,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("PolarisProfileMediaBrowser.react",["PolarisConfig","PolarisMediaBrowser.react","PolarisProfilePostsActionConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(28),e=a.PostGridItem,f=a.className,g=a.endCursor,h=a.hasAutoload,k=a.hidePhotoComponentRenderer,l=a.isFetching,m=a.isOldestPostLoaded,n=a.isPostNumLimited,o=a.maxPostsToDisplay,p=a.mediaLinkBuilder,q=a.onClick,r=a.onIntentClick,s=a.onPostImpression,t=a.onRequestFirst,u=a.onRequestNext,v=a.overscanRowsCount,w=a.postCount,x=a.posts,y=a.shouldSpawnPostModal,z=a.user;a=a.viewportWidth;y=y===void 0?!0:y;var A;b[0]!==l||b[1]!==m||b[2]!==t||b[3]!==z.id||b[4]!==u?(A=function(a){if(l||m)return;a<=d("PolarisProfilePostsActionConstants").PAGE_SIZE?t(z.id):u(z.id)},b[0]=l,b[1]=m,b[2]=t,b[3]=z.id,b[4]=u,b[5]=A):A=b[5];A=A;var B=d("PolarisConfig").getViewerId()===z.id?"selfProfilePage":"profilePage";h=h!=null||(x==null?void 0:x.length)>12;var C;b[6]!==B||b[7]!==f||b[8]!==g||b[9]!==k||b[10]!==l||b[11]!==n||b[12]!==m||b[13]!==o||b[14]!==p||b[15]!==q||b[16]!==s||b[17]!==r||b[18]!==A||b[19]!==v||b[20]!==w||b[21]!==e||b[22]!==x||b[23]!==z||b[24]!==h||b[25]!==y||b[26]!==a?(C=j.jsx(c("PolarisMediaBrowser.react"),{allowSampledScrollLogging:!0,analyticsContext:B,className:f,endCursor:g,hidePhotoComponentRenderer:k,isFetching:l,isMostRecentPostNumLimited:n,isOldestPostLoaded:m,maxPostsToDisplay:o,mediaLinkBuilder:p,onClick:q,onImpression:s,onIntentClick:r,onPostLoadTargetChange:A,overscanRowsCount:v,postCount:w,PostGridItem:e,posts:x,profileUser:z,scrollLoadingEnabled:h,shouldSpawnPostModal:y,viewportWidth:a}),b[6]=B,b[7]=f,b[8]=g,b[9]=k,b[10]=l,b[11]=n,b[12]=m,b[13]=o,b[14]=p,b[15]=q,b[16]=s,b[17]=r,b[18]=A,b[19]=v,b[20]=w,b[21]=e,b[22]=x,b[23]=z,b[24]=h,b[25]=y,b[26]=a,b[27]=C):C=b[27];return C}g["default"]=a}),98);
__d("PolarisProfilePagePrivateProfileMessage_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfileMessage_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"username"},{args:null,kind:"FragmentSpread",name:"PolarisProfilePagePrivateProfileUpsell_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfileUpsell_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfileUpsell_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"username"},{args:null,kind:"FragmentSpread",name:"PolarisFollowButton_user"},{args:null,kind:"FragmentSpread",name:"PolarisUnfollowDialog_user"},{args:null,kind:"FragmentSpread",name:"usePolarisGetRelationshipFragment_user"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_updating_friendship_status",storageKey:null}]}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfileUpsell.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSLockOutline96Icon.react","IGDSText.react","JSResourceForInteraction","PolarisAppInstallStrings","PolarisFollowButton.react","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutCtaLogger","PolarisOpenInApp","PolarisProfilePagePrivateProfileUpsell_user.graphql","PolarisUA","browserHistory_DO_NOT_USE","cr:9916","emptyFunction","react","useIGDSLazyDialog","usePolarisFollowMutation","usePolarisGetDeepLink","usePolarisGetRelationshipFragment","usePolarisPageID","usePolarisUnfollowMutation","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j;function m(a){var b=k(5),d=a.shouldUpsellToApp;a=a.username;d=d===void 0?!1:d;var e;b[0]!==a?(e=l.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",children:a}),b[0]=a,b[1]=e):e=b[1];a=e;b[2]!==d||b[3]!==a?(e=d?h._("__JHASH__FIxRAs4Do2S__JHASH__",[h._param("username",a)]):h._("__JHASH__nXJYuMAHNx-__JHASH__",[h._param("username",a)]),b[2]=d,b[3]=a,b[4]=e):e=b[4];return e}function n(){var a=k(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__o6ksHou_w5T__JHASH__"),a[0]=b):b=a[0];return b}function a(a){var e=k(30);a=a.user;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i!==void 0?i:i=b("PolarisProfilePagePrivateProfileUpsell_user.graphql"),e[0]=f):f=e[0];var g=d("CometRelay").useFragment(f,a),j=c("usePolarisPageID")(),o=c("usePolarisGetDeepLink")();e[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),e[1]=f):f=e[1];var p=f;e[2]!==j||e[3]!==o?(a=function(a){a.preventDefault();d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:p?"instagramlitecarbon":"",eventName:"app_open_click"});d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("app_open","contextual_cta",j);a=o();var b=a.android,c=a.ios;a=a.originalPath;d("PolarisOpenInApp").openInApp(b,c,a,p)},e[2]=j,e[3]=o,e[4]=a):a=e[4];f=a;a=c("usePolarisViewer")();var q=c("usePolarisFollowMutation")(),r=q[0];q=c("usePolarisUnfollowMutation")();var s=q[0];q=c("usePolarisGetRelationshipFragment")(g);var t;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("JSResourceForInteraction")("PolarisUnfollowDialog.next.react").__setRef("PolarisProfilePagePrivateProfileUpsell.react"),e[5]=t):t=e[5];t=c("useIGDSLazyDialog")(t);var u=t[0];e[6]!==u||e[7]!==s||e[8]!==g?(t=function(){u({analyticsContext:"profile",onUnfollowUser:function(){return s({container_module:"profile",target_user_id:g.pk})},user:g})},e[6]=u,e[7]=s,e[8]=g,e[9]=t):t=e[9];t=t;var v;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(v=l.jsx(c("IGDSBox.react"),{flex:"none",children:l.jsx(c("IGDSLockOutline96Icon.react"),{alt:"",size:48})}),e[10]=v):v=e[10];var w;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=l.jsx(c("IGDSBox.react"),{marginBottom:3,children:l.jsx(c("IGDSText.react").BodyEmphasized,{children:h._("__JHASH__kq420qaWLD0__JHASH__")})}),e[11]=w):w=e[11];e[12]!==a||e[13]!==g?(v=l.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[v,l.jsx(c("IGDSBox.react"),{flex:"shrink",marginStart:3,children:l.jsxs(c("IGDSBox.react"),{children:[w,l.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:a?l.jsx(n,{}):l.jsx(m,{shouldUpsellToApp:d("PolarisUA").isMobile(),username:g.username})})]})})]}),e[12]=a,e[13]=g,e[14]=v):v=e[14];e[15]===Symbol["for"]("react.memo_cache_sentinel")?(w={className:"x1j0rpc6"},e[15]=w):w=e[15];var x;e[16]!==a||e[17]!==r||e[18]!==g||e[19]!==s||e[20]!==t||e[21]!==q||e[22]!==f?(x=a?l.jsx(c("IGDSBox.react"),{marginTop:4,children:l.jsx(c("PolarisFollowButton.react"),{analyticsContext:"UNKNOWN__POLARIS_PEOPLE_CARD_CONTAINER",fullWidth:!0,handleUnfollow:t,isProcessing:g.is_updating_friendship_status,onFollowUser:function(){return r({container_module:"profile",target_user_id:g.pk})},onLoggedOutIntentClick:c("emptyFunction"),onLoggedOutIntentClickLoginModal:c("emptyFunction"),onUnfollowUser:function(){return s({container_module:"profile",target_user_id:g.pk})},relationship:q,user:g,userId:g.pk,username:g.username})}):d("PolarisUA").isMobile()?l.jsx(c("IGDSBox.react"),{marginTop:4,children:l.jsx(c("IGDSButton.react"),{fullWidth:!0,label:d("PolarisAppInstallStrings").SWITCH_TO_THE_APP,onClick:f})}):null,e[16]=a,e[17]=r,e[18]=g,e[19]=s,e[20]=t,e[21]=q,e[22]=f,e[23]=x):x=e[23];e[24]===Symbol["for"]("react.memo_cache_sentinel")?(a=b("cr:9916")&&l.jsx(b("cr:9916"),{ctaType:"private_profile",ctaTypeV2:"contextual_cta",loginReturnPath:d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),loginSource:"private_profile"}),e[24]=a):a=e[24];e[25]!==x?(t=l.jsxs("div",babelHelpers["extends"]({},w,{children:[x,a]})),e[25]=x,e[26]=t):t=e[26];e[27]!==v||e[28]!==t?(q=l.jsxs(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,marginEnd:9,marginStart:9,marginTop:6,position:"relative",children:[v,t]}),e[27]=v,e[28]=t,e[29]=q):q=e[29];return q}g["default"]=a}),226);
__d("PolarisProfilePagePrivateProfile_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfilePagePrivateProfile_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW",path:"username"},{args:null,kind:"FragmentSpread",name:"PolarisProfilePagePrivateProfileMessage_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfilePagePrivateProfile.react",["fbt","CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSButton.react","IGDSText.react","PolarisAdvisoryMessage.react","PolarisAppInstallStrings","PolarisConfig","PolarisConnectionsLogger","PolarisFastLink.react","PolarisIgLiteCarbonUpsellsUtils","PolarisLinkBuilder","PolarisLoggedOutCtaClickLogger","PolarisLoggedOutCtaImpressionLogger","PolarisLoggedOutCtaLogger","PolarisNavigationStrings","PolarisOpenInApp","PolarisProfilePagePrivateProfileMessage_user.graphql","PolarisProfilePagePrivateProfileUpsell.react","PolarisProfilePagePrivateProfile_user.graphql","PolarisProfileTabContentSpinner.react","PolarisSizing","PolarisUA","browserHistory_DO_NOT_USE","cr:4936","cr:7397","polarisNavigationSelectors","polarisSuggestedUserSelectors.react","qex","react","stylex","usePolarisDisplayProperties","usePolarisPageID","usePolarisSelector","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.useRef,p=e.c,q=h._("__JHASH__kq420qaWLD0__JHASH__");function r(a){return h._("__JHASH__FIxRAs4Do2S__JHASH__",[h._param("username",a)])}var s={advisoryMessageBodyCopy:{color:"x5n08af",font:"xln7xf2",fontSize:"x1f6kntn",lineHeight:"x1o2sk6j",marginTop:"xk9mzb7",verticalAlign:"x11njtxf",$$css:!0},advisoryMessageBottomMargin:{marginBottom:"xieb3on",$$css:!0}};function t(){var a=p(8),b=c("usePolarisPageID")(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile(),a[0]=e):e=a[0];e=e;var f;a[1]!==b?(f=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible()?"instagramlitecarbon":"",eventName:"login_click"}),d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("login","contextual_cta",b)},a[1]=b,a[2]=f):f=a[2];f=f;var g,i;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g="x173jzuc xjypj1w",i=d("PolarisLinkBuilder").buildLoginLink(d("browserHistory_DO_NOT_USE").getPath(d("browserHistory_DO_NOT_USE").browserHistory),{source:"private_profile"}),a[3]=g,a[4]=i):(g=a[3],i=a[4]);a[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=e?d("PolarisNavigationStrings").LOG_IN_TEXT:h._("__JHASH__hqiArIKCNlE__JHASH__"),a[5]=e):e=a[5];a[6]!==f?(g=m.jsx(c("PolarisFastLink.react"),{className:g,href:i,onClick:f,children:e}),a[6]=f,a[7]=g):g=a[7];return g}function u(a){var b=p(17);a=a.username;var e=c("usePolarisSelector")(v),f=e.android,g=e.ios,h=e.originalPath,i=c("usePolarisPageID")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),b[0]=e):e=b[0];var j=e;b[1]!==i||b[2]!==f||b[3]!==g||b[4]!==h?(e=function(a){a.preventDefault(),d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:j?"instagramlitecarbon":"",eventName:"app_open_click"}),d("PolarisLoggedOutCtaClickLogger").logLoggedOutCtaClickEvent("app_open","contextual_cta",i),d("PolarisOpenInApp").openInApp(f,g,h,j)},b[1]=i,b[2]=f,b[3]=g,b[4]=h,b[5]=e):e=b[5];e=e;var k;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(k=m.jsx(c("IGDSBox.react"),{marginBottom:3,position:"relative",children:m.jsx(c("IGDSText.react").BodyEmphasized,{textAlign:"center",children:q})}),b[6]=k):k=b[6];var l;b[7]!==a?(l=r(m.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",children:a})),b[7]=a,b[8]=l):l=b[8];b[9]!==l?(a=m.jsxs(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:[k,m.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",children:l})]}),b[9]=l,b[10]=a):a=b[10];b[11]!==e?(k=m.jsx(c("IGDSBox.react"),{marginBottom:3,position:"relative",width:"100%",children:m.jsx(c("IGDSButton.react"),{fullWidth:!0,label:d("PolarisAppInstallStrings").SWITCH_TO_THE_APP,onClick:e})}),b[11]=e,b[12]=k):k=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(c("IGDSBox.react"),{position:"relative",children:m.jsx(t,{})}),b[13]=l):l=b[13];b[14]!==a||b[15]!==k?(e=m.jsxs(c("IGDSBox.react"),{alignItems:"center",marginEnd:9,marginStart:9,marginTop:12,position:"relative",children:[a,k,l]}),b[14]=a,b[15]=k,b[16]=e):e=b[16];return e}function v(a){return d("polarisNavigationSelectors").getDeepLink__DEPRECATED(a)}function w(a){var e=p(18),f=a.isSmallScreen;a=a.user;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=i!==void 0?i:i=b("PolarisProfilePagePrivateProfileMessage_user.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useFragment(g,a);a=c("usePolarisViewer")();var j=c("usePolarisPageID")(),l=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile(),q=o(!1),r;e[1]!==j?(r=function(){q.current===!1&&(q.current=!0,d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"private_profile",ctaVersion:d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible()?"instagramlitecarbon":"",eventName:"impression"}),d("PolarisLoggedOutCtaImpressionLogger").logLoggedOutCtaImpressionEvent("contextual_cta",j))},e[1]=j,e[2]=r):r=e[2];var v;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(v=[],e[3]=v):v=e[3];n(r,v);if(a||c("qex")._("1275")===!0){e[4]!==g?(r=m.jsx(c("PolarisProfilePagePrivateProfileUpsell.react"),{user:g}),e[4]=g,e[5]=r):r=e[5];return r}if(l){e[6]!==g.username?(v=m.jsx(u,{username:g.username}),e[6]=g.username,e[7]=v):v=e[7];return v}if(!a){e[8]!==g.username?(r=h._("__JHASH__tjCttr-YfTf__JHASH__",[h._param("username",g.username),h._param("Log in",m.jsx(t,{}))]),e[8]=g.username,e[9]=r):r=e[9];l=r}else{e[10]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._("__JHASH__o6ksHou_w5T__JHASH__"),e[10]=v):v=e[10];l=v}e[11]===Symbol["for"]("react.memo_cache_sentinel")?(a="xaka53j",g=m.jsx("h2",{className:"x5n08af x1s688f x1o2sk6j x11njtxf",children:h._("__JHASH__6dVACFLaZ50__JHASH__")}),e[11]=a,e[12]=g):(a=e[11],g=e[12]);r=!f&&s.advisoryMessageBodyCopy;e[13]!==r?(v=(k||(k=c("stylex")))(r),e[13]=r,e[14]=v):v=e[14];e[15]!==v||e[16]!==l?(f=m.jsx(c("PolarisAdvisoryMessage.react"),{children:m.jsxs("div",{className:a,children:[g,m.jsx("div",{className:v,children:l})]})}),e[15]=v,e[16]=l,e[17]=f):f=e[17];return f}function a(a){var e=p(18),f=a.suggestedUsersQuery;a=a.user;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=j!==void 0?j:j=b("PolarisProfilePagePrivateProfile_user.graphql"),e[0]=g):g=e[0];g=d("CometRelay").useFragment(g,a);a=c("usePolarisDisplayProperties")();a=a.viewportWidth;a=a<d("PolarisSizing").LANDSCAPE_SMALL_SCREEN_CUTOFF;var h=d("polarisSuggestedUserSelectors.react").usePolarisProfileChainingSuggestions(g.pk),i;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=(k||(k=c("stylex")))(d("PolarisConfig").isLoggedIn()&&s.advisoryMessageBottomMargin),e[1]=i):i=e[1];e[2]!==a||e[3]!==g?(i=m.jsx("div",{className:i,children:m.jsx(w,{isSmallScreen:a,user:g})}),e[2]=a,e[3]=g,e[4]=i):i=e[4];var l;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(c("PolarisProfileTabContentSpinner.react"),{}),e[5]=l):l=e[5];var n;e[6]!==h||e[7]!==a?(n=h&&h.length>0&&b("cr:7397")&&m.jsx(b("cr:7397"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile,clickPoint:"private_profile_similar_users_chaining_unit",isSmallScreen:a,users:h}),e[6]=h,e[7]=a,e[8]=n):n=e[8];e[9]!==f||e[10]!==g?(h=f!=null&&b("cr:4936")!=null&&m.jsx(b("cr:4936"),{clickPoint:"private_profile_similar_users_chaining_unit",query:f,userID:g.pk,username:g.username}),e[9]=f,e[10]=g,e[11]=h):h=e[11];e[12]!==n||e[13]!==h?(a=m.jsxs(c("CometPlaceholder.react"),{fallback:l,children:[n,h]}),e[12]=n,e[13]=h,e[14]=a):a=e[14];e[15]!==i||e[16]!==a?(f=m.jsxs(m.Fragment,{children:[i,a]}),e[15]=i,e[16]=a,e[17]=f):f=e[17];return f}g["default"]=a}),226);
__d("PolarisRelatedProfilesStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__BJZfDfYV3ny__JHASH__");g.RELATED_PROFILES_HEADER=a}),226);
__d("PolarisRelationshipActionRemoveFollower",["PolarisSharedAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,c){var e=c().users.viewerId;b({subjectUserId:a,type:"REMOVE_FOLLOWER"});d("PolarisSharedAPI").removeFollower(a).then(function(){b({subjectUserId:a,type:"REMOVE_FOLLOWER_SUCCEEDED",viewerId:e})},function(){b({subjectUserId:a,type:"REMOVE_FOLLOWER_FAILED",viewerId:e})})}}g.removeFollower=a}),98);
__d("PolarisRemoveFollowerDialog.react",["fbt","IGCoreDialog.react","PolarisGenericStrings","PolarisIGCoreDialogCircleMedia","PolarisReactRedux.react","PolarisUserAvatar.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i,l=h._("__JHASH__tHeHShvPRYK__JHASH__"),m=h._("__JHASH__IJGehyBz9ny__JHASH__"),n={AVATAR:{HEIGHT:88,WIDTH:88},CARD:{HEIGHT:344,WIDTH:236},IMAGE:{HEIGHT:74,WIDTH:74}};function a(a){var b=j(17),e=a.onCancel,f=a.onConfirm,g=a.userId;b[0]!==g?(a=function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,g)},b[0]=g,b[1]=a):a=b[1];a=d("PolarisReactRedux.react").useSelector(a);var i=a.profilePictureUrl;a=a.username;var o;b[2]!==a?(o=h._("__JHASH__i83wRfJOicN__JHASH__",[h._param("Username of current profile",a)]),b[2]=a,b[3]=o):o=b[3];o=o;var p;b[4]!==i||b[5]!==a?(p=k.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:k.jsx(c("PolarisUserAvatar.react"),{isLink:!0,profilePictureUrl:i,size:n.AVATAR.HEIGHT,username:a})}),b[4]=i,b[5]=a,b[6]=p):p=b[6];i=p;b[7]!==f?(a=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:f,children:m}),b[7]=f,b[8]=a):a=b[8];b[9]!==e?(p=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:e,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[9]=e,b[10]=p):p=b[10];b[11]!==o||b[12]!==i||b[13]!==e||b[14]!==a||b[15]!==p?(f=k.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:o,media:i,onModalClose:e,title:l,children:[a,p]}),b[11]=o,b[12]=i,b[13]=e,b[14]=a,b[15]=p,b[16]=f):f=b[16];return f}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);
__d("EBAPIWorkerCheck",[],(function(a,b,c,d,e,f){"use strict";function a(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}f.runningInWorker=a}),66);
__d("EncryptedBackupTaskIssuedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5726");b=d("FalcoLoggerInternal").create("encrypted_backup_task_issued",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);
__d("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7292437454196351"}),null);
__d("PolarisDirectGQLAPICDNRestorationQuery.graphql",["PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"payload"}],c=[{alias:null,args:[{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XIGIGDirectInstamadilloRestoreCDNUrlResponse",kind:"LinkedField",name:"xig_fetch_ig_direct_restore_cdn_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"restoration_cdn_url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPICDNRestorationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisDirectGQLAPICDNRestorationQuery",selections:c},params:{id:b("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPICDNRestorationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8403045806376715"}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql",["PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XIGTIGUploadMessageHandlerResponse",kind:"LinkedField",name:"xig_ig_open_upload_msg_to_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_mailbox",storageKey:null},{alias:null,args:null,concreteType:"XIGTIGProtobufParams",kind:"LinkedField",name:"protobuf_params",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delete_on_success",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rtu_protocol",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:c},params:{id:b("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPIEBUploadMessagesMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisDirectGQLAPI",["CometRelay","CurrentUser","PolarisDirectGQLAPICDNRestorationQuery.graphql","PolarisDirectGQLAPIEBUploadMessagesMutation.graphql","PolarisRelayEnvironment","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,c){return new(j||(j=b("Promise")))(function(e,f){var g=function(a){f(a)},i=d("CurrentUser").getAppID(),j;i!=null&&(j=Number(i));d("CometRelay").commitMutation(a,{mutation:h!==void 0?h:h=b("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql"),onCompleted:e,onError:g,variables:{input:{app_id:j,payload:{msg_payloads:c}}}})})}function e(a){return d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),i!==void 0?i:i=b("PolarisDirectGQLAPICDNRestorationQuery.graphql"),{payload:a}).toPromise().then(function(a){return(a=a==null?void 0:(a=a.xig_fetch_ig_direct_restore_cdn_url)==null?void 0:a.restoration_cdn_url)!=null?a:""})}g.ebUploadMessages=a;g.fetchCDNUrlWithRestoration=e}),98);
__d("IGDBridgeResignCdnUrlHandler",["MAWBridgeSendAndReceive","PolarisDirectGQLAPI","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("PolarisDirectGQLAPI").fetchCDNUrlWithRestoration(a));yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","continueMediaDownload",{cdnUrl:a,deliveryObjectId:b})});return h.apply(this,arguments)}g.call=a}),98);
__d("IGDWEBUploadMessageUtils",["I64","MAWExtractMsFromExternalId","WALogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[sortOrder] Could not extract ms from externalId: ",""]);i=function(){return a};return a}function a(a,b){var c=d("MAWExtractMsFromExternalId").extractMsFromExternalId((h||(h=d("I64"))).of_string(a));c==null&&d("WALogger").WARN(i(),a);return d("WATimeUtils").castToMillisTime(Number(b)*1e3+((a=c)!=null?a:0))}g.generateProtobufServerTs=a}),98);
__d("LSEncryptedBackupsAttachmentErrorCode",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ERROR:0,UNKNOWN_ERROR:1,MEDIA_TYPE_MISSING:2,PRODUCT_TYPE_MISSING:3,SERIALIZATION_ERROR:21});f["default"]=a}),66);
__d("LSSerializeAttachmentBackupPayload",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSFlushDataTrace.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLogMebClientEvent.nop","LSOcmfClientMap.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][serializeAttachmentBackupPayload] Beginning execution."),d[1]=c.i64.of_float(Date.now()),d[2]=c.i64.of_int32(a[0].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[12]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[12]).then(function(a){return a=a,d[13]=a[0],d[14]=a[1],a})},function(a){return d[15]=d[13].get("attachment_trace_id"),d[13],d[16]=d[15],c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,1873]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sequence([function(a){return c.sequence([function(a){return d[16]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),d[16],c.i64.cast([0,84]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[19]?d[20]=!0:d[20]=!1,d[20]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[21]=c.createArray(),void 0!==void 0?d[22]=(d[21].push(void 0),d[21]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[21],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[16]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),d[16]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])}])}):c.resolve()},function(e){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?(d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,1])),d[12].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[12].set("error_message",""),g=[void 0,d[12]],d[3]=g[0],d[4]=g[1],g):(f=e.item,c.sequence([function(a){return d[20]=f.ocmfClientStateBlob,d[19]=f.backupTenancy,d[18]=f.encryptionVersion,d[12]=void 0,c.i64.neq(d[12],void 0)?c.resolve(d[13]=d[12]):c.sequence([function(a){return d[21]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[31]=(d[21].push(c.i64.cast([0,0])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[31]=(d[21].push(c.i64.cast([0,2])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[31]=(d[21].push(c.i64.cast([0,3])),d[21]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[25]?d[31]=(d[21].push(c.i64.cast([0,4])),d[21]):0,d[26]=c.createArray(),d[27]=c.i64.of_int32(d[21].length),c.i64.gt(d[27],c.i64.cast([0,0]))?c.loopAsync(d[27],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[21],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[26].push(d[32]),d[26])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[31]=c.createArray(),d[32]=c.i64.of_int32(d[26].length),c.i64.gt(d[32],c.i64.cast([0,0]))?c.loopAsync(d[32],function(a){return d[34]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[26],d[34]).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[37]=(d[31].push(c.i64.to_string(d[35])),d[31])}])}):c.resolve()},function(a){return d[33]=d[31].join(","),d[28]=d[33]}])},function(a){return d[26].some(function(a){return c.i64.eq(d[18],a)})?d[29]=d[18]:d[29]=void 0,c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=void 0,d[13]=d[30]}])},function(e){return c.i64.neq(d[13],void 0)?d[14]=d[13]:d[14]=c.i64.cast([0,0]),c.i64.neq(d[19],void 0)?d[15]=d[19]:d[15]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return c.i64.eq(a[4],c.i64.cast([0,0]))?c.sequence([function(e){return d[23]=c.createArray(),d[24]=c.i64.of_int32(a[0].length),c.i64.gt(d[24],c.i64.cast([0,0]))?c.loopAsync(d[24],function(e){return d[40]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(e){return d[43]=d[41].get("media_type"),d[41],d[44]=d[41].get("zippy_object_id"),d[41],d[63]=d[44],d[45]=d[41].get("attachment_trace_id"),d[41],d[46]=c.createArray(),d[64]=(d[46].push(c.i64.to_string(f.backupId)),d[46]),d[64]=(d[46].push(d[63]),d[46]),d[47]=c.toJSON(d[46]),d[48]=c.createArray(),d[64]=(d[48].push(a[1]),d[48]),d[64]=(d[48].push(d[63]),d[48]),d[49]=c.toJSON(d[48]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[47]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[47]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[62]=new c.Map(),d[62].set("attachment_index_key",d[53]==null?"":d[53]),d[62].set("media_type",d[43]),d[62].set("zippy_object_id",d[63]),d[62].set("attachment_trace_id",d[45]),d[62].set("salt_partial_access_token",d[57]==null?"":d[57]),d[62].set("salt_partial_attachment_index_key",d[61]==null?"":d[61]),d[64]=(d[23].push(d[62]),d[23])}])}):c.resolve()},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[26]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[2]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[20],d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(b){return d[37]=new c.Map(),d[37].set("attachment_infos",d[23]),d[37].set("message_partial_id",d[28]==null?"":d[28]),d[37].set("product_type",a[3]),d[37].set("salt_partial_id",d[32]==null?"":d[32]),d[37].set("thread_partial_id",d[36]==null?"":d[36]),d[38]=c.toJSON(d[37]),d[39]=new c.Map(),d[39].set("payload",d[38]),b=[d[39],void 0],d[21]=b[0],d[22]=b[1],b}]):c.resolve((a[5]!==void 0?d[23]=a[5]:d[23]="",d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([-1,4294967295])),d[24].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[24].set("error_message",d[23]),e=[void 0,d[24]],d[21]=e[0],d[22]=e[1],e))},function(a){return a=[d[21],d[22]],d[16]=a[0],d[17]=a[1],a}]):c.resolve((d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure"),d[21].set("error_message",""),e=[void 0,d[21]],d[16]=e[0],d[17]=e[1],e))},function(a){return a=[d[16],d[17]],d[3]=a[0],d[4]=a[1],a}]))})},function(a){return d[6]=c.i64.of_float(Date.now()),d[7]=c.i64.random(),d[9]="Finishing execution. Execution time: ",d[10]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[8]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][serializeAttachmentBackupPayload] ",d[8],d[9],d[8],d[10],d[8],d[11]].join("")),c.i64.eq(c.i64.mod_(d[7],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[12]=",",d[13]=c.createArray(),void 0!==void 0?d[14]=(d[13].push(void 0),d[13]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"serializeAttachmentBackupPayload",[d[9],d[12],d[10],d[12],d[11]].join(""),d[13],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[3],d[4]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsSerializeAttachmentBackupPayloadStoredProcedure";e.exports=a}),null);
__d("LSWriteToPendingProtobufBackupsContextV2",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(305).add({pk:void 0,pendingBackupTaskId:a[0],actThreadId:a[1],toplevelOfflineThreadingId:a[2],messageTimestampMs:a[4],backupAction:a[5],supplementalKey:a[3],attachmentPayload:a[6],senderId:a[7]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSEncryptedBackupsWriteToPendingProtobufBackupsContextV2StoredProcedure";e.exports=a}),null);
__d("LSIssueMessageBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop","LSSerializeAttachmentBackupPayload","LSWriteToPendingProtobufBackupsContextV2","qex"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][issueMessageBackup] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.islc(d.filter(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,g){var h=f.done;f=f.value;return h?d.sequence([function(b){return e[11]=d.createArray(),e[14]=(e[11].push("Skipping the message upload since EB is disabled. act thread id = "),e[11]),e[14]=(e[11].push(a[0]),e[11]),e[14]=(e[11].push(", otid = "),e[11]),e[14]=(e[11].push(a[1]),e[11]),e[12]=e[11].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[12]].join("")),d.resolve()},function(a){return e[13]=new d.Map(),e[13].set("error_code",d.i64.cast([0,1])),e[13].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[13].set("error_message",""),a=[void 0,e[13]],e[2]=a[0],e[3]=a[1],a}]):(g=f.item,d.sequence([function(a){return e[18]=g.backupTenancy,e[17]=g.encryptionVersion,e[11]=void 0,d.i64.neq(e[11],void 0)?d.resolve(e[12]=e[11]):d.sequence([function(a){return e[19]=d.createArray(),d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[20]?e[29]=(e[19].push(d.i64.cast([0,0])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[21]=a[0],a})},function(a){return e[21]?e[29]=(e[19].push(d.i64.cast([0,2])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[22]=a[0],a})},function(a){return e[22]?e[29]=(e[19].push(d.i64.cast([0,3])),e[19]):0,d.storedProcedure(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[23]=a[0],a})},function(a){return e[23]?e[29]=(e[19].push(d.i64.cast([0,4])),e[19]):0,e[24]=d.createArray(),e[25]=d.i64.of_int32(e[19].length),d.i64.gt(e[25],d.i64.cast([0,0]))?d.loopAsync(e[25],function(a){return e[29]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[19],e[29]).then(function(a){return a=a,e[30]=a[0],e[31]=a[1],a})},function(a){return e[32]=(e[24].push(e[30]),e[24])}])}):d.resolve()},function(a){return d.sequence([function(a){return e[29]=d.createArray(),e[30]=d.i64.of_int32(e[24].length),d.i64.gt(e[30],d.i64.cast([0,0]))?d.loopAsync(e[30],function(a){return e[32]=a,d.sequence([function(a){return d.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),e[24],e[32]).then(function(a){return a=a,e[33]=a[0],e[34]=a[1],a})},function(a){return e[35]=(e[29].push(d.i64.to_string(e[33])),e[29])}])}):d.resolve()},function(a){return e[31]=e[29].join(","),e[26]=e[31]}])},function(a){return e[24].some(function(a){return d.i64.eq(e[17],a)})?e[27]=e[17]:e[27]=void 0,d.i64.neq(e[27],void 0)?e[28]=e[27]:e[28]=void 0,e[12]=e[28]}])},function(f){return d.i64.neq(e[12],void 0)?e[13]=e[12]:e[13]=d.i64.cast([0,0]),d.i64.neq(e[18],void 0)?e[14]=e[18]:e[14]=d.i64.cast([0,1]),d.i64.neq(g.deviceId,void 0)?d.sequence([function(c){var f;return d.sequence([function(c){return a[11]!==void 0?d.sequence([function(c){return e[29]=a[11].get("attachment_infos"),a[11],e[30]=a[11].get("attachment_infos"),a[11],e[31]=a[11].get("product_type"),a[11],e[32]=a[11].get("error"),a[11],e[33]=a[11].get("error_message"),a[11],d.storedProcedure(b("LSSerializeAttachmentBackupPayload"),e[30],a[1],a[0],e[31],e[32],e[33]).then(function(a){return a=a,e[34]=a[0],e[35]=a[1],a})},function(a){return e[34]?e[36]=!1:e[36]=!0,e[36]?d.sequence([function(a){return e[35]?e[42]=!1:e[42]=!0,e[42]?d.sequence([function(a){return function(a){d.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Invalid Attachment payload generated"),e[46]=d.createArray(),void 0!==void 0?e[47]=(e[46].push(void 0),e[46]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageBackupStoredProcedure","Invalid Attachment payload generated",e[46],d.i64.cast([0,3]))},function(a){return a=[void 0,void 0,e[29]],e[43]=a[0],e[44]=a[1],e[45]=a[2],a}]):d.resolve((a=[void 0,e[35],e[29]],e[43]=a[0],e[44]=a[1],e[45]=a[2],a))},function(a){return a=[e[43],e[44],e[45]],e[37]=a[0],e[38]=a[1],e[39]=a[2],a}]):d.resolve((e[42]=e[34].get("payload"),e[34],a=[e[42],void 0,e[29]],e[37]=a[0],e[38]=a[1],e[39]=a[2],a))},function(b){return e[42]=new d.Map(),e[43]=e[42].set("success",e[37]),e[44]=e[42].set("failure",e[38]),e[45]=e[42].set("upload_context",e[39]),e[46]=d.toJSON(e[42]),e[40]=e[46],e[41]=a[11].get("error"),a[11],b=[e[40],e[41]],e[27]=b[0],e[28]=b[1],b}]):d.resolve((function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Null Attachments for the message"),c=[void 0,void 0],e[27]=c[0],e[28]=c[1],c))},function(a){return a=[e[27],e[28]],e[19]=a[0],e[20]=a[1],a}])},function(c){return e[21]=["eb_upload",":",a[0]].join(""),e[22]=d.i64.of_float(Date.now()),d.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),e[21],d.i64.cast([0,50026]),"",d.i64.cast([0,0]),d.i64.cast([0,93]),d.i64.le(d.i64.cast([0,0]),d.i64.cast([0,0]))?d.i64.cast([0,0]):d.i64.add(e[22],d.i64.sub(d.i64.cast([0,0]),d.i64.mod_(e[22],d.i64.cast([0,0])))),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[23]=a[0],a})},function(b){return d.db.table(177).add({pk:void 0,pendingBackupTaskId:e[23],actionType:d.i64.cast([0,1]),contentType:d.i64.cast([0,1]),backupStatus:d.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:d.i64.to_string(d.i64.add(d.i64.mul(d.i64.div(a[2],d.i64.cast([0,1e3])),d.i64.cast([0,1e3])),d.i64.div(d.i64.mod_(d.i64.and_(d.i64.asr_(d.i64.from_string(a[1]),d.i64.to_int32(d.i64.cast([0,22]))),d.i64.cast([511,4294967295])),d.i64.cast([0,1e5])),d.i64.cast([0,100])))),persistentId:"",isInstamadillo:a[12],echoContent:a[4],lsTraceId:a[5],error:a[6],echoEncodingLatencyNs:a[7],errorMessage:a[8],attachmentPayload:e[19],attachmentErrorCode:e[20]})},function(b){return d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?(e[27]=d.createArray(),e[29]=(e[27].push("Successfully issued message backup task. act thread id = "),e[27]),e[29]=(e[27].push(a[0]),e[27]),e[29]=(e[27].push(", otid = "),e[27]),e[29]=(e[27].push(a[1]),e[27]),e[28]=e[27].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[28]].join("")),d.resolve()):(e[27]=d.createArray(),e[29]=(e[27].push("Successfully issued message remove task. act thread id = "),e[27]),e[29]=(e[27].push(a[0]),e[27]),e[29]=(e[27].push(", otid = "),e[27]),e[29]=(e[27].push(a[1]),e[27]),e[28]=e[27].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[28]].join("")),d.resolve()):(e[27]=d.createArray(),e[29]=(e[27].push("Successfully issued thread remove task. act thread id = "),e[27]),e[29]=(e[27].push(a[0]),e[27]),e[28]=e[27].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[28]].join("")),d.resolve())},function(f){return e[26]=function(a){return a==void 0?void 0:a}(c("qex")._("1526")),e[26]!==void 0?e[24]=e[26]:e[24]=!1,a[9]!==void 0?(e[27]=a[9].get("act_thread_id"),a[9],e[28]=a[9].get("backup_action"),a[9],e[29]=a[9].get("toplevel_offline_threading_id"),a[9],e[30]=a[9].get("message_timestamp_ms"),a[9],e[31]=a[9].get("supplemental_key"),a[9],e[32]=a[9].get("attachment_payload"),a[9],d.storedProcedure(b("LSWriteToPendingProtobufBackupsContextV2"),e[23],e[27],e[29],e[31],e[30],e[28],e[32],void 0,void 0)):d.resolve()},function(a){return e[25]=new d.Map(),e[25].set("task_id",e[23]),a=[e[25],void 0],e[15]=a[0],e[16]=a[1],a}]):d.sequence([function(b){return e[19]=d.createArray(),e[22]=(e[19].push("Skipping the message upload since EB is disabled. act thread id = "),e[19]),e[22]=(e[19].push(a[0]),e[19]),e[22]=(e[19].push(", otid = "),e[19]),e[22]=(e[19].push(a[1]),e[19]),e[20]=e[19].join(void 0||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[20]].join("")),d.resolve()},function(a){return e[21]=new d.Map(),e[21].set("error_code",d.i64.cast([0,24])),e[21].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[21].set("error_message",""),a=[void 0,e[21]],e[15]=a[0],e[16]=a[1],a}])},function(a){return a=[e[15],e[16]],e[2]=a[0],e[3]=a[1],a}]))})},function(a){return e[5]=d.i64.of_float(Date.now()),e[6]=d.i64.random(),e[8]="Finishing execution. Execution time: ",e[9]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[10]=" ms",e[7]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ",e[7],e[8],e[7],e[9],e[7],e[10]].join("")),d.i64.eq(d.i64.mod_(e[6],d.i64.cast([0,1e3])),d.i64.cast([0,0]))?(e[11]=",",e[12]=d.createArray(),void 0!==void 0?e[13]=(e[12].push(void 0),e[12]):0,d.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageBackup",[e[8],e[11],e[9],e[11],e[10]].join(""),e[12],d.i64.cast([0,4]))):d.resolve()},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageBackupStoredProcedure";d=a;g["default"]=d}),98);
__d("LSIssueMessageBackupStoredProcedure",["LSIssueMessageBackup","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.otid;d[2]=b.authoritativeTs;d[3]=b.source;d[4]=b.echoDocument;d[5]=b.traceId;d[6]=b.error;d[7]=b.echoEncodingLatencyNs;d[8]=b.errorMessage;d[9]=b.protobufBackupContext;d[10]=b.tamThreadSubtype;d[11]=b.attachmentBackupContext;d[12]=b.isInstamadillo;return c("LSIssueMessageBackup").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueMessageRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueMessageRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push("Skipping message upload since EB is disabled. act thread id = "),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[14]=(d[11].push(", otid = "),d[11]),d[14]=(d[11].push(a[1]),d[11]),d[12]=d[11].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[12]].join("")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,1])),d[13].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[18]=f.backupTenancy,d[17]=f.encryptionVersion,d[11]=void 0,c.i64.neq(d[11],void 0)?c.resolve(d[12]=d[11]):c.sequence([function(a){return d[19]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[29]=(d[19].push(c.i64.cast([0,0])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[29]=(d[19].push(c.i64.cast([0,2])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[29]=(d[19].push(c.i64.cast([0,3])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[29]=(d[19].push(c.i64.cast([0,4])),d[19]):0,d[24]=c.createArray(),d[25]=c.i64.of_int32(d[19].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=(d[24].push(d[30]),d[24])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[29]=c.createArray(),d[30]=c.i64.of_int32(d[24].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[32]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=(d[29].push(c.i64.to_string(d[33])),d[29])}])}):c.resolve()},function(a){return d[31]=d[29].join(","),d[26]=d[31]}])},function(a){return d[24].some(function(a){return c.i64.eq(d[17],a)})?d[27]=d[17]:d[27]=void 0,c.i64.neq(d[27],void 0)?d[28]=d[27]:d[28]=void 0,d[12]=d[28]}])},function(e){return c.i64.neq(d[12],void 0)?d[13]=d[12]:d[13]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[14]=d[18]:d[14]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return d[19]=["eb_upload",":",a[0]].join(""),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),d[19],c.i64.cast([0,50026]),"",c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[21],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(c.i64.add(c.i64.mul(c.i64.div(a[2],c.i64.cast([0,1e3])),c.i64.cast([0,1e3])),c.i64.div(c.i64.mod_(c.i64.and_(c.i64.asr_(c.i64.from_string(a[1]),c.i64.to_int32(c.i64.cast([0,22]))),c.i64.cast([511,4294967295])),c.i64.cast([0,1e5])),c.i64.cast([0,100])))),persistentId:"",isInstamadillo:!1,lsTraceId:a[4],error:a[5]})},function(b){return c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message backup task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[1]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued thread remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[24]].join("")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set("task_id",d[21]),a=[d[22],void 0],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(b){return d[19]=c.createArray(),d[22]=(d[19].push("Skipping message upload since EB is disabled. act thread id = "),d[19]),d[22]=(d[19].push(a[0]),d[19]),d[22]=(d[19].push(", otid = "),d[19]),d[22]=(d[19].push(a[1]),d[19]),d[20]=d[19].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",d[20]].join("")),c.resolve()},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueMessageRemove",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRemoveStoredProcedure";e.exports=a}),null);
__d("LSIssueMessageRemoveStoredProcedure",["LSIssueMessageRemove","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.otid;d[2]=b.authoritativeTs;d[3]=b.source;d[4]=b.traceId;d[5]=b.error;return c("LSIssueMessageRemove").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return d[11]=c.createArray(),d[14]=(d[11].push("Skipping thread remove since EB is disabled. act thread id = "),d[11]),d[14]=(d[11].push(a[0]),d[11]),d[12]=d[11].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[12]].join("")),c.resolve()},function(a){return d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,1])),d[13].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[13].set("error_message",""),a=[void 0,d[13]],d[2]=a[0],d[3]=a[1],a}]):(f=e.item,c.sequence([function(a){return d[18]=f.backupTenancy,d[17]=f.encryptionVersion,d[11]=void 0,c.i64.neq(d[11],void 0)?c.resolve(d[12]=d[11]):c.sequence([function(a){return d[19]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})},function(a){return d[20]?d[29]=(d[19].push(c.i64.cast([0,0])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[29]=(d[19].push(c.i64.cast([0,2])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[29]=(d[19].push(c.i64.cast([0,3])),d[19]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[29]=(d[19].push(c.i64.cast([0,4])),d[19]):0,d[24]=c.createArray(),d[25]=c.i64.of_int32(d[19].length),c.i64.gt(d[25],c.i64.cast([0,0]))?c.loopAsync(d[25],function(a){return d[29]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[29]).then(function(a){return a=a,d[30]=a[0],d[31]=a[1],a})},function(a){return d[32]=(d[24].push(d[30]),d[24])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[29]=c.createArray(),d[30]=c.i64.of_int32(d[24].length),c.i64.gt(d[30],c.i64.cast([0,0]))?c.loopAsync(d[30],function(a){return d[32]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[24],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(a){return d[35]=(d[29].push(c.i64.to_string(d[33])),d[29])}])}):c.resolve()},function(a){return d[31]=d[29].join(","),d[26]=d[31]}])},function(a){return d[24].some(function(a){return c.i64.eq(d[17],a)})?d[27]=d[17]:d[27]=void 0,c.i64.neq(d[27],void 0)?d[28]=d[27]:d[28]=void 0,d[12]=d[28]}])},function(e){return c.i64.neq(d[12],void 0)?d[13]=d[12]:d[13]=c.i64.cast([0,0]),c.i64.neq(d[18],void 0)?d[14]=d[18]:d[14]=c.i64.cast([0,1]),c.i64.neq(f.deviceId,void 0)?c.sequence([function(e){return d[19]=["eb_upload",":",a[0]].join(""),d[20]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),d[19],c.i64.cast([0,50026]),"",c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[20],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[20],c.i64.cast([0,0])))),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[21],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message backup task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued message remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[25]=(d[23].push(", otid = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve()):(d[23]=c.createArray(),d[25]=(d[23].push("Successfully issued thread remove task. act thread id = "),d[23]),d[25]=(d[23].push(a[0]),d[23]),d[24]=d[23].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[24]].join("")),c.resolve())},function(a){return d[22]=new c.Map(),d[22].set("task_id",d[21]),a=[d[22],void 0],d[15]=a[0],d[16]=a[1],a}]):c.sequence([function(b){return d[19]=c.createArray(),d[22]=(d[19].push("Skipping thread remove since EB is disabled. act thread id = "),d[19]),d[22]=(d[19].push(a[0]),d[19]),d[20]=d[19].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[20]].join("")),c.resolve()},function(a){return d[21]=new c.Map(),d[21].set("error_code",c.i64.cast([0,24])),d[21].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[21].set("error_message",""),a=[void 0,d[21]],d[15]=a[0],d[16]=a[1],a}])},function(a){return a=[d[15],d[16]],d[2]=a[0],d[3]=a[1],a}]))})},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[2],d[3]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure";e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.actThreadId;d[1]=b.sortKey;d[2]=b.source;d[3]=b.traceId;d[4]=b.error;return c("LSIssueThreadRemove").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSProcessBackupIds",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] Beginning execution."),c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1487]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(e){return c.db.table(172).fetch([[[c.i64.cast([0,1])]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1488]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[9]?d[10]=!0:d[10]=!1,d[10]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[11],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[1]=c.i64.cast([0,0])}]):(f=e.item,c.sequence([function(e){return d[11]=f.backupId,d[10]=f.authorityLevel,c.i64.eq(d[10],c.i64.cast([0,20]))?c.resolve(d[9]=c.i64.cast([0,1])):c.sequence([function(e){return c.i64.eq(d[10],c.i64.cast([0,80]))?c.sequence([function(e){return c.i64.eq(d[11],void 0)?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1492]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[13]=c.i64.cast([0,2])}]):c.sequence([function(e){return c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[15]=a[0],a})},function(a){return d[15]?d[16]=!0:d[16]=!1,d[16]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[17]=c.createArray(),void 0!==void 0?d[18]=(d[17].push(void 0),d[17]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[17],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[14]=c.i64.cast([-1,4294967295])}]):c.sequence([function(e){return c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.backupId,d[11])&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1490]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[15]=c.i64.cast([0,4])}]):(e.item,c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1491]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[17]?d[18]=!0:d[18]=!1,d[18]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[19]=c.createArray(),void 0!==void 0?d[20]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[19],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[15]=c.i64.cast([0,3])}]))})},function(a){return d[14]=d[15]}])},function(a){return d[13]=d[14]}])},function(a){return d[12]=d[13]}]):c.sequence([function(e){return c.sequence([function(d){return a[0]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[0],c.i64.cast([0,1489]),c.i64.cast([0,2]),void 0,void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[14]=!0:d[14]=!1,d[14]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[15]=c.createArray(),void 0!==void 0?d[16]=(d[15].push(void 0),d[15]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[15],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[12]=c.i64.cast([-1,4294967295])}])},function(a){return d[9]=d[12]}])},function(a){return d[1]=d[9]}]))})},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[6]="Finishing execution. Execution time: ",d[7]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] ",d[5],d[6],d[5],d[7],d[5],d[8]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[9]=",",d[10]=c.createArray(),void 0!==void 0?d[11]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsProcessBackupIdsStoredProcedure",[d[6],d[9],d[7],d[9],d[8]].join(""),d[10],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsProcessBackupIdsStoredProcedure";e.exports=a}),null);
__d("LSProcessBackupIdsStoredProcedure",["LSProcessBackupIds","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.traceId;return c("LSProcessBackupIds").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSTamThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({STANDARD:0,VANISH_MODE:1,DUAL_SEND_SHADOW:2,BTV_COMPANION:3,BLEND_DUAL_SEND:4,BLEND_DUAL_SEND_NO_NETWORK:5});f["default"]=a}),66);
__d("LSWriteSupplementalMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeSupplementalMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[5])?c.resolve(d[11]=!1):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[11]=!0}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(302).fetch(),function(b){return b.threadId===a[1]&&b.toplevelOfflineThreadingId===a[2]&&b.supplementalKey===a[3]}),function(a){return a["delete"]()})},function(b){return c.db.table(302).add({pk:void 0,messagePayload:a[0],threadId:a[1],toplevelOfflineThreadingId:a[2],supplementalKey:a[3],offlineThreadingId:a[4],messageTimestampMs:a[5]})},function(a){return d[4]=!0}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeSupplementalMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeSupplementalMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteSupplementalMessageStoredProcedure";e.exports=a}),null);
__d("LSWriteSupplementalMessageStoredProcedure",["LSWriteSupplementalMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messagePayload;d[1]=b.threadId;d[2]=b.toplevelOfflineThreadingId;d[3]=b.supplementalKey;d[4]=b.offlineThreadingId;d[5]=b.messageTimestampMs;return c("LSWriteSupplementalMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSWriteTopLevelMessage",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][writeTopLevelMessage] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.messageTimestampMs)})},function(b){return c.i64.neq(d[2],void 0)?c.sequence([function(b){return c.i64.gt(d[2],a[3])?c.resolve(d[11]=!1):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[12]=!1:(a.item,d[12]=!0)})},function(b){return d[12]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[14]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[14]=!0}])},function(a){return d[11]=d[14]}])},function(a){return d[4]=d[11]}]):c.sequence([function(b){return c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}).next().then(function(a,b){b=a.done;a=a.value;return b?d[11]=!1:(a.item,d[11]=!0)})},function(b){return d[11]?c.sequence([function(b){return c.forEach(c.filter(c.db.table(303).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(b){var c=b.update;b.item;return c({deletedMessagePayload:a[0],isLocalOnlyMessage:a[4],messageTimestampMs:a[3]})})},function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]&&c.i64.eq(b.messageTimestampMs,c.i64.cast([-1,4294967295]))}),function(b){var c=b.update;b.item;return c({messageTimestampMs:a[3]})})},function(a){return d[13]=!1}]):c.sequence([function(b){return c.forEach(c.filter(c.db.table(301).fetch(),function(b){return b.threadId===a[1]&&b.offlineThreadingId===a[2]}),function(a){return a["delete"]()})},function(b){return c.db.table(301).add({pk:void 0,messagePayload:a[0],threadId:a[1],offlineThreadingId:a[2],messageTimestampMs:a[3],isLocalOnlyMessage:a[4],extraData:a[5]})},function(a){return d[13]=!0}])},function(a){return d[4]=d[13]}])},function(a){return d[5]=c.i64.of_float(Date.now()),d[6]=c.i64.random(),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[5],d[0])),d[10]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][writeTopLevelMessage] ",d[7],d[8],d[7],d[9],d[7],d[10]].join("")),c.i64.eq(c.i64.mod_(d[6],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[11]=",",d[12]=c.createArray(),void 0!==void 0?d[13]=(d[12].push(void 0),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"writeTopLevelMessage",[d[8],d[11],d[9],d[11],d[10]].join(""),d[12],c.i64.cast([0,4]))):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMPSWriteTopLevelMessageStoredProcedure";e.exports=a}),null);
__d("LSWriteTopLevelMessageStoredProcedure",["LSWriteTopLevelMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messagePayload;d[1]=b.threadId;d[2]=b.offlineThreadingId;d[3]=b.messageTimestampMs;d[4]=b.isLocalOnlyMessage;d[5]=b.extraData;return c("LSWriteTopLevelMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource","MAWEncryptedBackupUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.actionType===2){var e=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a));if(e==null||!(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return;yield c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeIssuePointQueryHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","Promise","QuickPerformanceLogger","WAGetStorageQplAnnotations","WAHashStringToNumber","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){return d("MAWEncryptedBackupUtils").getBackupTenancy(a).then(function(f){if(f==null)return(k||(k=b("Promise"))).resolve();if(!(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return(k||(k=b("Promise"))).resolve();f=d("WAHashStringToNumber").hashStringToNumber(e.messageId);var g=f.toString(),l=e.startSortKey,m=e.taskSource===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES?c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:c("LSMEBTaskCreationSource").EB_POINT_QUERY_IN_ACT;m===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES&&((h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(1056840931,"814"),f),c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(1056840931,"814"),a)})),h.markerPoint(c("qpl")._(1056840931,"814"),"eb_point_restore_begin",{data:{"int":{msgId:f},string:{jid:e.jid}},instanceKey:f}));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(m,g);if(l!=null)return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,source:(j||(j=d("LSIntEnum"))).ofNumber(m),startSortKey:l,threadId:e.threadId,traceId:g}).then(function(){});else return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,source:(j||(j=d("LSIntEnum"))).ofNumber(m),threadId:e.threadId,traceId:g}).then(function(){})})}g.call=a}),98);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&(i||(i=d("I64"))).equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return(h||(h=b("Promise"))).resolve(a[0].traceId);else return(h||(h=b("Promise"))).resolve()})}g.getTraceId=a}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint","ArmadilloDataTraceType","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceTag","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","killswitch","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return a.data_trace_meta.add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:(i||(i=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceCreated,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){var f;if(b.threadKey==null||!c("gkx")("23995"))return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one,tags:(f=b.threadKey)!=null?f:void 0})})}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return(h||(h=b("Promise"))).resolve();var f=e.ack,g=e.traceType;return f===d("MAWAckLevel").ACK.clock?d("MAWBridgeTraceUtils").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var k=c("LSRequestId").generate();if((i||(i=d("I64"))).equal(g,d("ArmadilloDataTraceType").armadilloMessageSend))return j(a,e,k).then(function(){var b=e.threadType;if(b==="User")return;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").traceGroupMessage,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one})}).then(function(){if(e.isFirstMsg)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloActMessageSend,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:"first_msg=1"})}).then(function(){var f=e.type_;f=f===d("MAWMsg").text?d("ArmadilloDataTraceCheckPoint").traceTextMessage:f===d("MAWMsg").ptt||f===d("MAWMsg").image||f===d("MAWMsg").video||f===d("MAWMsg").gif?d("ArmadilloDataTraceCheckPoint").traceMediaMessage:void 0;if(f==null)return(h||(h=b("Promise"))).resolve(f);c("promiseDone")(c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one}));return(h||(h=b("Promise"))).resolve(f)}).then(function(b){if(b==null)return;if(!(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceCheckPoint").traceMediaMessage))return;b=e.type_;b=b===d("MAWMsg").image?d("LSDataTraceTag").image:b===d("MAWMsg").ptt?d("LSDataTraceTag").audio:b===d("MAWMsg").video?d("LSDataTraceTag").video:b===d("MAWMsg").gif?d("LSDataTraceTag").animatedImage:d("LSDataTraceTag").none;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").richMediaMediaSendAttachmentType,dataTraceId:k,syncChannel:(i||(i=d("I64"))).neg_one,tags:String(b)})});else return j(a,e,k)}):(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeStartTraceWithTraceIdHandler",["MAWMainTraceUtils","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMainTraceUtils").startTraceWithTxn(a,d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);
__d("MAWBridgeTraceRecordCheckpointHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSFlushDataTrace.nop"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=b.checkPointId,f=b.dataTraceId,g=b.errorMessage,i=b.tags;return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:e,dataTraceId:f,errorMessage:g,syncChannel:(h||(h=d("I64"))).neg_one,tags:i}).then(function(){if(b.shouldFlush)return c("LSFlushDataTrace.nop")(a,0,f)})}g.call=a}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","FBLogger","QPLUserFlow","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){d("EncryptedBackupdDYIFileSaver").saveFile(a,b),window.setTimeout(function(){c("promiseDone")(e())},1e3)});return i.apply(this,arguments)}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.qplEvent,f=a.qplInstanceKeyE2E;a=a.status;var g=c("FBLogger")("[labyrinth_web][dyi]");if(a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw g.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var i=d("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,j=(yield d("EncryptedBackupsDYIFileUtils").getRootFolderHandle()),k=(yield d("EncryptedBackupsDYIFileUtils").readFile(j,i));yield h(i,k,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield j.removeEntry(i)}));g.info("Saving file with filename ",i);e!=null&&f!=null&&c("QPLUserFlow").endSuccess(e,{instanceKey:f});g.info("DYI Complete")}catch(a){g.mustfix("Failed to download the DYI archive: %s",a);e!=null&&f!=null&&c("QPLUserFlow").endFailure(e,a.message,{instanceKey:f});return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&(e!=null&&f!=null&&c("QPLUserFlow").endFailure(e,"Unknown error",{instanceKey:f}));return a});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","killswitch","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return(h||(h=b("Promise"))).resolve();var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MessageBackupTagsDelimiter",[],(function(a,b,c,d,e,f){"use strict";a=":";f.INSTAMADILLO_TAG_DELIMITER=a}),66);
__d("MAWSharedWriteToMPSTables",["FBLogger","I64","IGDWEBUploadMessageUtils","LSFactory","LSWriteSupplementalMessageStoredProcedure","LSWriteTopLevelMessageStoredProcedure","MAWSharedEbUploadEntity","MessageBackupTagsDelimiter","Promise","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ReverbWriteFailureFalcoEvent").__setRef("MAWSharedWriteToMPSTables"),k=c("requireDeferred")("ReverbWriteSuccessFalcoEvent").__setRef("MAWSharedWriteToMPSTables");function l(a,b,d,e,f,g){if(!f)return;e?c("promiseDone")(k.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:"open_eb_ttlc",message_id:a,thread_id:b}})}):c("promiseDone")(j.load(),function(c){return c.log(function(){return{backup_action:d,backup_protocol:"open_eb_ttlc",failure_reason:g,message_id:a,thread_id:b}})})}function a(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){var j=e.backupActionType,k=e.instamadilloItemId,m=e.msgId,n=e.originalMsgProtocolId,o=e.protobuf,p=e.serverTs,q=e.sortOrderMs;e=e.supplementalKey;m=m.externalId;n=n==null?void 0:n.externalId;k=(k=k)!=null?k:q;if(k==null)return(i||(i=b("Promise"))).reject(!1);q=(h||(h=d("I64"))).of_float(k);k=!1;switch(j){case 1:try{j=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("MAWSharedEbUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,threadId:f}));j=j[0];j&&(k=!0);l(m,f,"upsert_top_level",j,g)}catch(a){l(m,f,"upsert_top_level",!1,g,a)}break;case 2:if(n==null||e==null)l(m,f,"upsert_supplemental",!1,g),c("FBLogger")("labyrinth_web").warn("Missing toplevelOfflineThreadingId or supplementalKey when writing to MPS tables");else try{j=(yield c("LSWriteSupplementalMessageStoredProcedure")(c("LSFactory")(a),{messagePayload:d("MAWSharedEbUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:q,offlineThreadingId:m,supplementalKey:e,threadId:f,toplevelOfflineThreadingId:n}));q=j[0];q&&(k=!0);l(n,f,"upsert_supplemental",q,g)}catch(a){l(n,f,"upsert_supplemental",!1,g,a)}break;case 4:if(n==null)break;e=(yield c("LSWriteTopLevelMessageStoredProcedure")(c("LSFactory")(a),{isLocalOnlyMessage:!1,messagePayload:d("MAWSharedEbUploadEntity").getEbBackupMessageBytesBuffer(o),messageTimestampMs:(h||(h=d("I64"))).of_float(d("IGDWEBUploadMessageUtils").generateProtobufServerTs(n,p)),offlineThreadingId:m,threadId:f}));j=e[0];j&&(k=!0);l(n,f,"delete_top_level",!1,g);break;case 3:k=!0;n!=null&&l(n,f,"delete_top_level",!1,g);break;default:c("FBLogger")("labyrinth_web").warn("Unsupported backupActionType when writing to MPS tables")}if(k)return(i||(i=b("Promise"))).resolve(k);else return(i||(i=b("Promise"))).reject(!1)});return m.apply(this,arguments)}function e(a,e,f){var g=e.msgId,j=e.sortOrderMs;e=e.tags;e!=null&&e.length!==0&&j!=null&&c("promiseDone")(a.local_message_persistence_store_tag_index.put({localMessagePersistenceStoreKey:(h||(h=d("I64"))).of_string(g.externalId),messageTimestampMs:h.of_float(j),offlineThreadingId:g.externalId,tag:e.join(d("MessageBackupTagsDelimiter").INSTAMADILLO_TAG_DELIMITER),threadId:f}));return(i||(i=b("Promise"))).resolve()}g.writeToMPSTables=a;g.writeTagsToMPSTables=e}),98);
__d("MWEBODSCategory",[],(function(a,b,c,d,e,f){"use strict";a=7319;f["default"]=a}),66);
__d("MWEBODSUtils",["CurrentMessengerUser","MWEBODSCategory","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("CurrentMessengerUser").getAppID();e=e!=null?e.toString():"unknown";e=a+"."+e;(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),e,b);h.bumpEntityKey(c("MWEBODSCategory"),a,b)}g.markODSForEB=a}),98);
__d("MAWBridgeUploadMessageHandler",["FBLogger","I64","LSDataTraceCheckPoint","LSEncryptedBackupsAttachmentErrorCode","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueMessageBackupStoredProcedure","LSIssueMessageRemoveStoredProcedure","LSMEBTaskCreationSource","LSShape","LSTamThreadSubtype","LSVec","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWMsgType","MAWSharedWriteToMPSTables","MAWTraceUtils","MWEBODSEntityName.enum","MWEBODSUtils","Promise","WATimeUtils","asyncToGeneratorRuntime","err","gkx","isInstamadillo","isInstamadilloEB","qex","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("EncryptedBackupTaskIssuedFalcoEvent").__setRef("MAWBridgeUploadMessageHandler");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f,g;if(c("isInstamadilloEB")())return(j||(j=b("Promise"))).resolve();e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_bridge_handler");d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+((f=e.messageType)!=null?f:"unknown"));f=e.protoMsg;var l=e.traceId,n=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a,l,e.uploadTrackingInstanceKey));g=((g=e.uploadTrackingInstanceKey)!=null?g:e.traceId).toString();if(n==null||!(h||(h=d("I64"))).equal(n,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){d("MAWEBFrontendQPLLogger").addPointAndEndFlowUploadMessageBackup(l,"user_device_not_enrolled_invalid_echo_request");if(e.uploadTrackingInstanceKey!=null){n=e.uploadTrackingInstanceKey;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(n,"user_device_not_enrolled_invalid_echo_request");d("MAWEBFrontendQPLLogger").endEBUploadTracking(n)}d("MAWTraceUtils").recordCheckpointForTrace(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(g,i.ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}l=e.echoDocument;n=d("WATimeUtils").castMilliSecondsToUnixTime(e.sortOrderMs);if(e.actionType===1){var o=e.echoEncodingLatencyNs,p=e.errorCode,q=e.errorMessage;d("MAWEBFrontendQPLLogger").addPointUploadMessageBackup(e.traceId,"issuing_message_backup");e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"issuing_message_backup");var r;if((c("qex")._("1527")===!0||c("gkx")("23966"))&&f!=null)try{var s=f.sortOrderMs;if(s==null)throw c("err")("sort order is null for the protobuf message");yield d("MAWSharedWriteToMPSTables").writeToMPSTables(a,f,e.threadId,!1);r=d("LSShape").ofRecord({act_thread_id:e.threadId,attachment_payload:null,backup_action:(i||(i=d("LSIntEnum"))).ofNumber(f.backupActionType),message_timestamp_ms:(h||(h=d("I64"))).of_float(s),supplemental_key:f.supplementalKey,toplevel_offline_threading_id:(s=(s=f.originalMsgProtocolId)==null?void 0:s.externalId)!=null?s:f.msgId.externalId})}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("[labyrinth_web] Error writing to MPSTables for the upload message")}var t;if(e.attachmentBackupContext!=null){s=m({bridgeUploadAttachmentBackupContext:e.attachmentBackupContext,messageId:e.messageId,serverThreadKey:null,threadId:e.threadId,traceId:e.traceId});s!=null&&(t=d("LSShape").ofRecord(s))}e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_handler_echo_protobuf_context",{bool:{attachment_backup_context:t!=null,protobuf_context:r!=null}});if(e.messageType!=null){f=d("MAWMsgType").isMAWSupportedMediaType(e.messageType)?"media":"non-media";d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+f)}t!=null&&d("MWEBODSUtils").markODSForEB(c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload.attachment_unified_backup");yield c("LSIssueMessageBackupStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,attachmentBackupContext:t,authoritativeTs:(h||(h=d("I64"))).of_float(n*1e3),echoDocument:(s=l)!=null?s:"",echoEncodingLatencyNs:o!=null?(h||(h=d("I64"))).of_float(o):void 0,error:p!=null?(i||(i=d("LSIntEnum"))).ofNumber(p):void 0,errorMessage:q!=null?q:void 0,isInstamadillo:c("isInstamadillo")(),otid:e.messageId,protobufBackupContext:r,source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),tamThreadSubtype:i.ofNumber(c("isInstamadillo")()?c("LSTamThreadSubtype").BLEND_DUAL_SEND:c("LSTamThreadSubtype").STANDARD),traceId:g});e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_upload_task_issued");void k.load().then(function(a){return a.log(function(){return{message_id:e.messageId,trace_id:e.traceId}})})}else e.actionType===2&&(yield c("LSIssueMessageRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:e.threadId,authoritativeTs:(h||(h=d("I64"))).of_float(n*1e3),otid:e.messageId,source:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM),traceId:g}),e.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(e.uploadTrackingInstanceKey,"upload_tracking_remove_task_issued"))});return l.apply(this,arguments)}function m(a){var b=a.bridgeUploadAttachmentBackupContext,e=a.messageId,f=a.serverThreadKey,g=a.threadId;a=a.traceId;if(b.attachmentInfos.length===0)return;var h=b.attachmentInfos;d("MAWEBFrontendQPLLogger").startMediaUploadQPLFlow({deliveryObjectId:h[0].zippyObjectId,flow:"unified",mediaType:h[0].mediaType,messageId:e,threadId:g,traceId:a});e=c("LSVec").ofArray(h.map(function(a){return d("LSShape").ofRecord({attachment_trace_id:a.attachmentTraceId,media_type:a.mediaType,zippy_object_id:a.zippyObjectId})}));g=(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").NO_ERROR);b.error!=null&&(g=(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsAttachmentErrorCode").UNKNOWN_ERROR));a={attachment_infos:e,error:g,error_message:null,product_type:b.productType,server_thread_key:f};return a}g.call=a;g.getMessageUploadAttachmentBackupContext=m}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","Promise","QPLUserFlow","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){i(e.messages,"upload_tracking_bridge_batch_handler");e.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});e.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(e of e.messages)yield d("MAWBridgeUploadMessageHandler").call(a,e);return(h||(h=b("Promise"))).resolve()});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!1;function j(a,b){h.set(a,b),h.size>5e3&&c("FBLogger")("labyrinth_web").warn("Offline queue status map size (%s) is too large",h.size)}function k(a){return h.get(a)}function a(){h=new Map(),i=!1}function b(){return i}function e(){i=!0}function f(a,b){a=Object.keys(a);a.map(function(a){j(a,b)})}function l(a){return k(a)===d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function m(){return Array.from(h.entries()).filter(function(a){a[0];a=a[1];return a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(a){a=a[0];return a})}g.setOfflineQueueStatus=j;g.getOfflineQueueStatus=k;g.resetOfflineQueueState=a;g.isOfflineQueueComplete=b;g.markOfflineQueueComplete=e;g.markThreadWithOfflineQueueStatus=f;g.isOfflineQueueDoneForThread=l;g.getAllThreadsWithOfflineQueueIncomplete=m}),98);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWMIC","MAWOfflineQueueStatus","MAWSharedProtocolQueueConst","MWChatInteraction","WATagsLogger","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: expected: ",", processed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: expected: ",", processed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats: expected: ",", processed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","OfflineConsumer"]);function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a;return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()});return n.apply(this,arguments)}function o(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function p(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);e!=null&&c("InteractionTracingMetrics").addSubspan(e,"offline_queue","LONGTASK",a,b,{})}function a(a,b){return function(e){var f=e.chatJidStatus,g=e.status,n=e.timestamp,q=e.totalExpectedCount,r=e.totalProcessedCount;switch(g){case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing:l.LOG(k(),q);o(q);b({tag:"InitOfflineQueueSyncStart",value:q});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing);d("MAWMIC").markEvent("worker_process_offline_queue_start",n);d("MAWOfflineQueueStatus").resetOfflineQueueState();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing:l.LOG(j(),q,r);b({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:f,processed:r}});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing);return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:l.LOG(i(),q,r);e.startTime!=null&&p(e.startTime,n);b({tag:"InitOfflineQueueSyncComplete",value:f});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete);d("MAWMIC").markEvent("worker_process_offline_queue_end",n);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed:l.LOG(h(),q,r);d("MAWMIC").markEvent("worker_process_offline_queue_failed",n);d("MAWMIC").markEvent("worker_process_offline_queue_end",n);b({tag:"InitOfflineQueueSyncComplete",value:void 0});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return}}}g["default"]=a}),98);
__d("MWChatEncryptedBackupsLogging",["MWEBODSCategory","MWEBODSEntityKey.enum","ODS","QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=a.cancelEndPoint,d=a.event,e=a.instanceKey;a=a.source;a!=null&&c("QPLUserFlow").addAnnotations(d,{string:{source:a}},{instanceKey:e});c("QPLUserFlow").addPoint(d,"cancel",{instanceKey:e});c("QPLUserFlow").addAnnotations(d,{string:{cancel_end_point:b}},{instanceKey:e});c("QPLUserFlow").endCancel(d,{instanceKey:e})}function a(a){var b=a.event,d=a.instanceKey,e=a.onClose;a=a.source;a!=null&&c("QPLUserFlow").addAnnotations(b,{string:{source:a}},{instanceKey:d});i({cancelEndPoint:"dialog_x_button",event:b,instanceKey:d});e()}function b(a){var b=a.annotations,e=a.event,f=a.instanceKey;a=a.odsEntityName;c("QPLUserFlow").addPoint(e,"success",{instanceKey:f});c("QPLUserFlow").endSuccess(e,{annotations:b,instanceKey:f});a&&(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,c("MWEBODSEntityKey.enum").SUCCESS)}function e(a){var b=a.annotations,e=a.errorName,f=a.event,g=a.instanceKey,i=a.odsEntityKey;a=a.odsEntityName;c("QPLUserFlow").addPoint(f,"failure",{instanceKey:g});c("QPLUserFlow").endFailure(f,e,{annotations:b,instanceKey:g});a&&(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),a,(f=i)!=null?f:c("MWEBODSEntityKey.enum").FAIL)}g.cancelFlow=i;g.closeDialogCancelFlow=a;g.endSuccess=b;g.endFailure=e}),98);
__d("MWChatEncryptedBackupsQPLEvents",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("qpl"))._(521476140,"378");d=a._(521472542,"295");e=a._(521482085,"409");f=a._(521485406,"272");c=a._(521482763,"296");var h=a._(521484295,"1460"),i=a._(521482969,"1519"),j=a._(521479124,"1939"),k=a._(521474385,"263"),l=a._(521476098,"504"),m=a._(521482858,"1290"),n=a._(521473194,"1331");a=a._(521471024,"2275");g.pinCodeChangeQplEvent=b;g.optOutQplEvent=d;g.backupSetupQplEvent=e;g.mobileOnboardingQplEvent=f;g.restoreQplEvent=c;g.restoreDeviceAuthQplEvent=h;g.messageRestoreQplEvent=i;g.restoreWithAutoRestoreConsentQplEvent=j;g.hsmFleetMigrationQplEvent=k;g.virtualDeviceRevocationQplEvent=l;g.onboardingAuthQplEvent=m;g.processBackupIdsQPLEvent=n;g.fetchBackupIdsQPLEvent=a}),98);
__d("MWEncryptedBackupsFirstRestoreUpsellTime",["EBAPIWorkerCheck","FBLogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_encrypted_backups_restore_upsell_first_impression_time_key";function a(){var a=Date.now().toString();if(c("gkx")("3551")===!0&&d("EBAPIWorkerCheck").runningInWorker())return k(a);if(!d("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported())return a;try{var b;b=(b=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:b.getItem(i);if(b==null){var e;(e=(h||(h=c("WebStorage"))).getLocalStorage())==null?void 0:e.setItem(i,a);return a}return b}catch(b){c("FBLogger")("labyrinth_web").warn("[labyrinth][web] Failed to set EB session identifier due to %s",b);return a}}var j=null;function k(a){j==null&&(j=a);return j}g.getFirstRestoreUpsellTime=a;g.getFirstRestoreUpsellTimeForEBLS=k}),98);
__d("MWEncryptedBackupsProcessBackupIdsDEPRECATED",["FBLogger","LSFactory","LSIntEnum","LSProcessBackupIdsStoredProcedure","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLEvent","QPLUserFlow","ReQL","WebSession","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("gkx")("23914");function l(a){if(k){var e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((i||(i=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:e,processBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId()}}});return a.runInTransaction(function(a){return c("LSProcessBackupIdsStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":53").then(function(a){a=(j||(j=d("LSIntEnum"))).unwrapIntEnum(a[0]);c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+a+".");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return a})}else return(h||(h=b("Promise"))).resolve(0)}function a(a,b){return a.tables.encrypted_backups.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.encrypted_backups)),function(d){if(d!=null){c("promiseDone")(l(a),b,function(a){c("FBLogger")("labyrinth_web").catching(a).info("Error in db transaction")});return}})})}g.processBackupIdsStoredProcedure=l;g.subscribeToEncryptedBackupsRow=a}),98);
__d("ReverbWriteFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5829");b=d("FalcoLoggerInternal").create("reverb_write_failure",a);e=b;g["default"]=e}),98);
__d("ReverbWriteSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5831");b=d("FalcoLoggerInternal").create("reverb_write_success",a);e=b;g["default"]=e}),98);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2144");b=d("FalcoLoggerInternal").create("web_storage_manager_estimates",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSDatabase",[],(function(a,b,c,d,e,f){}),null);
__d("LSSyncGroupsUtils",["CurrentLocale","LSIntEnum","LSMailboxInitialSyncCursor"],(function(a,b,c,d,e,f,g){"use strict";var h;a={locale:c("CurrentLocale").get()};b={canIgnoreTimestamp:!1,currentCursor:void 0,dataTraceId:void 0,groupId:(h||(h=d("LSIntEnum"))).ofNumber(0),initTraceTimestampMs:void 0,lastSyncCompletedTimestampMs:void 0,lastSyncRequestTimestampMs:h.ofNumber(0),minTimeToSyncTimestampMs:h.ofNumber(-1),priority:h.ofNumber(0),regionHint:void 0,sendSyncParams:!0,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:JSON.stringify(a),syncStatus:h.ofNumber(0)};e={epochId:void 0,failureCount:h.ofNumber(0),lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:h.ofNumber(0),lastSyncRequestTimestampMs:h.ofNumber(0),networkTaskIdentifier:void 0,syncDatabaseId:h.ofNumber(0),taskQueueName:""};f=h.ofNumber(9999999999999);g.defaultSyncParams=a;g.defaultSyncGroup=b;g.defaultNetworkRequest=e;g.neverSyncTimestamp=f}),98);
__d("MNetRankType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNDEFINED_RANKING_TYPE:-1,INBOX_ACTIVE_NOW:0,MESSENGER_USER_SEARCH:1,MONTAGE_USER:2,BROADCAST_FLOW_TOP_CONTACTS:3,BROADCAST_FLOW_NEEDY_CONTACTS:4,MESSENGER_GROUP_SEARCH:5,RTC_TOP_CONTACTS:6,PSTN_TOP_CONTACTS:7,MESSENGER_NON_CONTACT_SEARCH:8,MESSENGER_SEARCH_BOOTSTRAP:9,ACTIVE_BEEPER:10,MONTAGE_AND_ACTIVE_NOW:11,MESSENGER_PAGE_SEARCH:12,MESSENGER_GAME_SEARCH:13,WWW_NULLSTATE:14,RTC_GROWTH:15,MESSENGER_OMNIPICKER_NULLSTATE:16,RTC_SEQUENTIAL_TOP_CONTACTS:17,MESSENGER_USER_SEARCH_NULLSTATE:18,MLITE_DIODE_PROMOTION:19,MESSENGER_PENDING_REQUEST:20,MESSENGER_CLOSE_CONNECTION:21,MESSENGER_MONTAGE_SEEN_SHEET:22,MESSENGER_OMNIPICKER_KEYPRESS:23,MESSENGER_NOTIF_QP_TARGETING_UPSELL_TYPE:24,CONTACT_TAB_ACTIVE_NOW:26,MESSENGER_UNIV_NULLSTATE_BLEND:27,MESSENGER_INBOX_THREADS:28,INBOX_ACTIVE_NOW_NO_BOOSTING:29,BROADCAST_FLOW_TOP_CONTACTS_FB_SHARE:30,BROADCAST_FLOW_TOP_CONTACTS_MESSENGER_SHARE:31,BROADCAST_FLOW_TOP_CONTACTS_EXTERNAL_SHARE:32,MESSENGER_TRENDING_STICKERS:33,MESSENGER_BROADCAST_FLOW_TOP_THREADS:34,MESSENGER_SENDS_28D:35,MESSENGER_ROOM_INVITE:36,MESSENGER_ROOM_INVITE_SEARCH:37,INBOX_ACTIVE_NOW_PREFETCH:38,MESSENGER_BLENDED_KEYPRESS:39,MESSENGER_BLENDED_NULLSTATE:40,MESSENGER_CARRIER_MESSAGING:41,MESSENGER_ROOM_INVITE_GROUP:42,MESSENGER_INBOX_BIRTHDAY_ITEM:43,INSTAGRAM_DIRECT_SEARCH_NULLSTATE:44,BROADCAST_FLOW_TOP_CONTACTS_AND_TOP_THREAD_FB_SHARE:45,BROADCAST_FLOW_TOP_THREADS_FB_SHARE:46,FB_H_SCROLL_RANKING:47,FB_MESSAGING_USER_SEARCH:48,FB_MESSAGING_USER_SEARCH_NULLSTATE:49,MESSENGER_ACTIVE_NOW_TRAY_ACTIVE_CC:50,MESSENGER_SHARE_SHEET:51,MESSENGER_COMMUNITY_TAB_UNJOINED_COMMUNITIES:52,MESSENGER_BCF_FREQUENTS:53,FB_ORIGINAL_PRIVATE_SHARING:54});f["default"]=a}),66);
__d("isSearchQualityEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3283")}g["default"]=a}),98);
__d("seedUserInfo",["CurrentMessengerUser","I64","LSIntEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("CurrentMessengerUser").getIDorEIMU();yield a._user_info.put({facebookUserId:(h||(h=d("I64"))).of_string(b),id:(i||(i=d("LSIntEnum"))).ofNumber(1)})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("LSDefaultSyncGroups",["CurrentEnvironment","I64","LSE2EEMetadataSyncGroupUtils","LSIntEnum","LSMailboxInitialSyncCursor","LSPlatformLsInitLog","LSSyncGroupsUtils","MNetRankType","Promise","ReQL","asyncToGeneratorRuntime","gkx","isInstamadillo","isSearchQualityEnabled","qex","seedUserInfo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Set();d("LSE2EEMetadataSyncGroupUtils").shouldAlwaysResetE2EEMetadata()&&k.add(95);e=c("gkx")("5963")||c("isInstamadillo")();f=c("gkx")("5962");var l=d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroup();e=[{groupId:1,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel,syncParams:d("LSMailboxInitialSyncCursor").syncParams},{groupId:2,lastSyncRequestTimestampMs:d("LSMailboxInitialSyncCursor").lastSyncTimestampMs,syncChannel:d("LSMailboxInitialSyncCursor").syncChannel},{groupId:16,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("4246")?null:{groupId:28,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel,syncParams:JSON.stringify(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncParams,{size_type:"wide"}))},{groupId:118,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:198},e?{groupId:89}:null,f?{groupId:197}:null];var m=[].concat(e,[{groupId:6},{groupId:7,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").INSTAGRAM_DIRECT_SEARCH_NULLSTATE]})},d("LSE2EEMetadataSyncGroupUtils").getE2EEMetadataSyncGroupForIGDSyncGroup()]),n=[].concat(e,[{groupId:7,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncParams:JSON.stringify({mnet_rank_types:[c("MNetRankType").MESSENGER_USER_SEARCH,c("isSearchQualityEnabled")()?c("MNetRankType").MESSENGER_BLENDED_NULLSTATE:c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE,c("MNetRankType").INBOX_ACTIVE_NOW,c("MNetRankType").MESSENGER_OMNIPICKER_NULLSTATE,c("MNetRankType").MESSENGER_BROADCAST_FLOW_TOP_THREADS,c("MNetRankType").BROADCAST_FLOW_TOP_CONTACTS]})},{groupId:15,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:12,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},{groupId:140},{groupId:141},{groupId:142},{groupId:143},{groupId:26},{groupId:196},{groupId:104,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},l,c("gkx")("24113")?{groupId:120,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel}:null,c("qex")._("136")||c("gkx")("24114")?{groupId:208}:null,c("gkx")("26390")?{groupId:6,minTimeToSyncTimestampMs:d("LSSyncGroupsUtils").neverSyncTimestamp}:null,{groupId:145,syncChannel:d("LSSyncGroupsUtils").defaultSyncGroup.syncChannel},c("gkx")("5985")?{groupId:202}:null]);function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange(""))),f=e.map(function(a){a=a.syncDatabaseId;return(j||(j=d("LSIntEnum"))).toNumber(a)});return(h||(h=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(!f.includes(b.groupId)||k.has(b.groupId))&&(yield a.network_requests.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultNetworkRequest,{syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(b.groupId)})))});return function(a){return c.apply(this,arguments)}}()))});return p.apply(this,arguments)}function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.sync_groups)));return new Map(a.map(function(a){return[(j||(j=d("LSIntEnum"))).toNumber(a.groupId),a]}))});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield q(a));function f(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.groupId;b=babelHelpers.objectWithoutPropertiesLoose(b,["groupId"]);var f=e.get(c);f==null||k.has(c)?yield a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,b,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(c)})):f!=null&&(f.syncParams!==b.syncParams||b.syncChannel!=null&&!(i||(i=d("I64"))).equal(f.syncChannel,b.syncChannel))&&(yield a.sync_groups.put(babelHelpers["extends"]({},f,{syncChannel:b.syncChannel!=null?b.syncChannel:f.syncChannel,syncParams:b.syncParams})))});return g.apply(this,arguments)}yield (h||(h=b("Promise"))).all(c.map(function(a){return a&&f(a)}))});return t.apply(this,arguments)}function u(a){return a!=null?a:c("CurrentEnvironment").instagramdotcom?m:n}function a(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=u(b);d("LSPlatformLsInitLog").addPoint("db_seed_start");yield c("seedUserInfo")(a);yield o(a,b);yield s(a,b);d("LSPlatformLsInitLog").addPoint("db_seed_end")});return v.apply(this,arguments)}g.e2eeMetadataSyncGroup=l;g.igdSyncGroups=m;g.defaultSyncGroups=n;g.seedDb=a}),98);
__d("MAWDropCutoverThreadsTable",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=d("ReQL").fromTableAscending(a.cutover_threads);return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.cutover_threads["delete"](c.openThreadId)})},(h||(h=b("Promise"))).resolve())})}g.call=a}),98);
__d("UserTimingUtils",["performance","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof (h||(h=c("performance"))).mark==="function"&&typeof (h||(h=c("performance"))).clearMarks==="function"&&typeof (h||(h=c("performance"))).measure==="function"&&typeof (h||(h=c("performance"))).clearMeasures==="function",j=!1;if(i&&(h||(h=c("performance"))).mark!=null){var k="__v3",l={};Object.defineProperty(l,"startTime",{get:function(){j=!0}});try{(h||(h=c("performance"))).mark(k,l)}catch(a){}finally{(h||(h=c("performance"))).clearMarks(k)}}function a(a){i&&(h||(h=c("performance"))).mark(a)}function d(a,b,d){d===void 0&&(d=!0);if(i){try{(h||(h=c("performance"))).measure(a,b)}catch(a){}d&&(h||(h=c("performance"))).clearMarks(b);(h||(h=c("performance"))).clearMeasures(a)}}function e(a){if(i){try{a=(h||(h=c("performance"))).getEntriesByName(a,"mark");if(a!=null&&a.length>0)return!0}catch(a){}return!1}}function f(a){if(i)try{(h||(h=c("performance"))).clearMarks(a)}catch(a){}}function m(a,b){if(j)try{(h||(h=c("performance"))).measure(a,b),h.clearMeasures(a)}catch(a){}}function n(a,b){j&&((h||(h=c("performance"))).mark(a,b),h.clearMarks(a))}function o(a,d){var e,f,g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:e=(h||(h=c("performance"))).now();i.next=3;return b("regeneratorRuntime").awrap(d());case 3:f=i.sent;g=(h||(h=c("performance"))).now();m(a,{end:g,start:e});return i.abrupt("return",f);case 7:case"end":return i.stop()}},null,this)}function p(a,b,c){}function q(a,b){}g.measureStart=a;g.measureEnd=d;g.hasMark=e;g.clearMarks=f;g.measureModern=m;g.markModern=n;g.asyncMeasure=o;g.measureReactCommit=p;g.measureReactPostCommit=q}),98);
__d("GetLsDatabase",["ExecutionEnvironment","LSDefaultSyncGroups","LSPlatformErrorChannel","LSPlatformLsInitLog","MAWDropCutoverThreadsTable","MessengerLogHistory","MultipleTabsLogger","Promise","ReStoreDecryptionFailure","ReStoreEARSetupFailure","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbUpgradedEvent","ReStoreUnexpectedlyClosed","UserTimingUtils","asyncToGeneratorRuntime","cr:4440","cr:4489","cr:6218","cr:6229","cr:6244","cr:665","cr:7000","cr:7351","cr:7471","cr:8659","gkx","justknobx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:6218"))!=null?e:b("cr:6229"),k=(e=b("cr:7000"))!=null?e:b("cr:7351"),l=c("gkx")("24158")&&c("gkx")("24149");function m(a){if(a instanceof c("ReStoreIndexedDbUpgradedEvent")&&j!=null&&c("justknobx")._("1410"))c("promiseDone")(j.killSharedWorker(!0));else if(a instanceof c("ReStoreIndexedDbClosedEvent")){a=a.getError();b("cr:6244")!=null&&a instanceof(b("cr:6244")==null?void 0:b("cr:6244").ReStoreDbVersionChange)?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreDecryptionFailure").ReStoreDecryptionFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreEARSetupFailure").ReStoreEARSetupFailure?c("LSPlatformErrorChannel").emit(a):a instanceof d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed&&b("cr:4440")!=null?(b("cr:4440")==null?void 0:b("cr:4440").releaseIfExist(),c("LSPlatformErrorChannel").emit(a)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&b("cr:4440")!=null&&(b("cr:4440")==null?void 0:b("cr:4440").releaseIfExist())}}var n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MessengerLogHistory").getInstance("db_init");c("promiseDone")(d("MultipleTabsLogger").getMultipleTabsAnnotation().then(function(b){a.debug("Has multiple tabs: "+b),d("MultipleTabsLogger").addAnnotationToQPLEvent(c("qpl")._(25305590,"1127"))}));a.debug("====Creating DB====");d("LSPlatformLsInitLog").addPoint("vaulting_setup_start");b("cr:4489")!=null&&b("cr:665")!=null&&(a.debug("Vaulting setup started"),b("cr:665").setupMainWaLogger(),yield d("UserTimingUtils").asyncMeasure("Setup Vaulting Materials",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield b("cr:4489").setupVaultMaterials()})),a.debug("Vaulting setup finished"));d("LSPlatformLsInitLog").addPoint("vaulting_setup_end");a.debug("Connecting to DB");var e=b("cr:8659")!=null?yield b("cr:8659")():yield b("cr:7471").createDB(m);a.debug("Connection established");yield e.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=l||k==null?[(i||(i=b("Promise"))).resolve(),(i||(i=b("Promise"))).resolve()]:[k.call(c),d("MAWDropCutoverThreadsTable").call(c)],f=e[0];e=e[1];yield (i||(i=b("Promise"))).all([f,e]);d("LSPlatformLsInitLog").addPoint("success_maw_data_deletion");a.debug("Seeding DB");yield d("LSDefaultSyncGroups").seedDb(c,void 0);a.debug("DB seeded")});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":122");a.debug("====DB created====");return e});return function(){return a.apply(this,arguments)}}(),o;function a(){o==null&&(o=(h||(h=c("ExecutionEnvironment"))).isInBrowser?n():new(i||(i=b("Promise")))(function(){}));return o}g.get=a}),98);
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSConstants",[],(function(a,b,c,d,e,f){"use strict";a="ls";f.LS_SCHEMA_NAME=a}),66);
__d("LSDbV1.upgrade",[],(function(a,b,c,d,e,f){"use strict";a={};f.afterUpgrade=a}),66);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c={tableIds:{},tableNames:d("ReStoreMetadata").RESTORE_METADATA_TABLES},e={},f=Object.keys(a);for(var g=0;g<f.length;g++){var h=f[g],i=a[h],j={},k={};for(var l in i.indexes)j[l]=i.indexes[l].fields,i.indexes[l].ignoreNulls.length>0&&(k[l]=d("ReStoreMetadata").createPredicate(i.indexes[l].ignoreNulls));c.tableNames[h]={autoIncrement:i.autoIncrement,cascadeUpdates:(l=b==null?void 0:b[h])!=null?l:[],indexes:j,indexPredicates:k,name:h,primaryKeyIds:i.primaryKey.fields};i.id!=null&&(c.tableIds[i.id]=h);Object.keys(i.defaults).length>0&&(e[h]=i.defaults)}return{defaults:e,tableData:c}}g.getTableData=a}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";c=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(a=d("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:a.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:a.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:a.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:a.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:a.cast([0,0]),messageContentType:a.cast([0,0]),messageCreationType:a.cast([0,0]),messageEphemeralityType:a.cast([0,0]),messageSource:a.cast([0,0]),replyMessageTextSize:a.cast([0,0]),replyStatus:a.cast([0,0]),replyVicinityStatus:a.cast([0,0]),sendStatus:a.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:a.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),isPending:!1,readActionTsMs:a.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:a.cast([0,0]),capabilities2:a.cast([0,0]),groupMemberAddMode:a.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:a.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:a.cast([0,0]),pictureUrlExpirationTimestampMs2:a.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),inviteStatus:a.cast([0,0]),notificationMutedUntil:a.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:a.cast([0,0]),channelBadges:a.cast([0,0]),contactCapabilities:a.cast([0,0]),requestId:"",source:a.cast([0,0]),threadRoles:a.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),blockedByViewerStatus:a.cast([0,0]),canViewerMessage:!0,capabilities2:a.cast([0,0]),contactReachabilityStatusType:a.cast([0,0]),contactType:a.cast([0,0]),contactTypeExact:a.cast([0,0]),gender:a.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:a.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:a.cast([0,0]),rank:0,restrictionType:a.cast([0,0]),waConnectStatus:a.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:a.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:a.cast([0,0]),initTimestampMs:a.cast([0,0]),shouldFlush:!1,traceType:a.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:a.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:a.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:a.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:a.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:a.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:a.cast([0,0]),communityParticipationControlRequestStatus:a.cast([0,0]),communityParticipationControlSetting:a.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:a.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:a.cast([0,0]),igDmSettingsTtlSec:a.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:a.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),displayedContentTypes:a.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:a.cast([0,0]),primarySortKey:a.cast([0,0]),quickReplyType:a.cast([0,0]),replyAttachmentType:a.cast([0,0]),replyStatus:a.cast([0,0]),secondarySortKey:a.cast([0,0]),sendStatus:a.cast([0,0]),sendStatusV2:a.cast([0,0]),textHasLinks:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:a.cast([0,0]),viewFlags:a.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:a.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),deliveredWatermarkTimestampMs:a.cast([0,0]),groupParticipantJoinState:a.cast([0,0]),readActionTimestampMs:a.cast([0,0]),readWatermarkTimestampMs:a.cast([0,0]),threadRoles:a.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),priority:a.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:a.cast([0,0]),failureCount:a.cast([0,0]),firstExecutedTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),pluginType:a.cast([0,0]),priority:a.cast([0,0]),taskDispatchPriority:a.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:a.cast([0,0]),sortKeyVotingTimestamp:a.cast([0,0]),voteCount:a.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:a.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:a.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),reactionCreationTimestampMs:a.cast([0,0]),timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:a.cast([0,0]),viewerReactionTimestampMs:a.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:a.cast([0,0]),contributorId:a.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:a.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:a.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),encryptionVersion:a.cast([0,0]),revisionVersion:a.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:a.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:a.cast([0,0]),creatorId:a.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:a.cast([0,0]),lastActivityTimestampMs:a.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:a.cast([0,0]),readState:a.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),interactionType:a.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.cast([0,0]),lastSyncRequestTimestampMs:a.cast([0,0]),minTimeToSyncTimestampMs:a.cast([0,0]),priority:a.cast([0,0]),sendSyncParams:!1,syncChannel:a.cast([0,1]),syncStatus:a.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:a.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:a.cast([0,0]),privacyTextCtaType:a.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:a.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:a.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}});var h=Object.freeze(babelHelpers["extends"]({},c,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),i=Object.freeze(babelHelpers["extends"]({},h,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers["extends"]({},i,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers["extends"]({},j,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),l=Object.freeze(babelHelpers["extends"]({},k,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers["extends"]({},l,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),n=Object.freeze(babelHelpers["extends"]({},m,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),o=Object.freeze(babelHelpers["extends"]({},n,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:a.cast([-1,4294967295]),status:a.cast([0,0]),threadType:a.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers["extends"]({},o,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:a.cast([0,0]),maxThreadKey:a.cast([0,0]),minLastActivityTimestampMs:a.cast([0,0]),minThreadKey:a.cast([0,0]),secondaryThreadRangeFilter:a.cast([0,0]),syncGroup:a.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers["extends"]({},p,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),r=Object.freeze(babelHelpers["extends"]({},q,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),s=Object.freeze(babelHelpers["extends"]({},r,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),t=Object.freeze(babelHelpers["extends"]({},s,{threads:{autoIncrement:!1,defaults:{authorityLevel:a.cast([0,0]),capabilities:a.cast([0,0]),capabilities2:a.cast([0,0]),capabilities3:a.cast([0,0]),capabilities4:a.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:a.cast([0,0]),lastReadWatermarkTimestampMs:a.cast([0,0]),muteCallsExpireTimeMs:a.cast([0,0]),muteExpireTimeMs:a.cast([0,0]),muteMentionExpireTimeMs:a.cast([0,0]),ongoingCallState:a.cast([0,0]),readReceiptsDisabledV2:a.cast([0,0]),removeWatermarkTimestampMs:a.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:a.cast([0,0]),threadInvitesEnabledV2:a.cast([0,0]),unreadDisappearingMessageCount:a.cast([0,0]),unsendLimitMs:a.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),u=Object.freeze(babelHelpers["extends"]({},t,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers["extends"]({},u,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:a.cast([0,0]),attachmentType:a.cast([0,0]),authorityLevel:a.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:a.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers["extends"]({},v,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}}));e=Object.freeze({afterUpgrade:d("LSDbV1.upgrade").afterUpgrade,revision:16,tables:w,upgrade:{1:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(h),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),2:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(i),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),3:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(j),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1)});function c(b){return a.apply(this,arguments)}return c}(),4:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(k),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),5:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(l),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),6:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(m),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),7:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(n),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),8:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(o),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),9:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(p),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),10:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(q),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),11:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(r),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),12:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(s),c=b.defaults;b=b.tableData;yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(a,b,c,!1);yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),13:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(t),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),14:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(u),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),15:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(v),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}(),16:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("ReStoreVersionedSchemaProviderUtil").getTableData(w),c=b.defaults;b=b.tableData;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(a.transaction,b,!1,c)});function c(b){return a.apply(this,arguments)}return c}()}});g["default"]=e}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}function d(a,b){if(b in a)return a[b];throw c("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",b)}g.cast=a;g.uncast=b;g.castVersion=d}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=Object.freeze({V1:d("ReStoreDbVersion").cast("V1")});e={targetVersion:d("ReStoreDbVersion").castVersion(a,"V"+((b=c("justknobx")._("2392"))!=null?b:0)),versions:{V1:c("LSDbV1")},legacyVersions:{},versionOrder:["V1"]};g["default"]=e;g.LSDbVersion=a}),98);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]};b=a;f["default"]=b}),66);
__d("ReStoreVersionedSchemaProvider",["FBLogger","Promise","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c){this.defaults={};this.$1="";this.$1=a;this.$2=b;a=b.versions[b.targetVersion];b=d("ReStoreVersionedSchemaProviderUtil").getTableData(a.tables,c);a=b.defaults;c=b.tableData;this.tableNames=c.tableNames;this.tableIds=c.tableIds;this.defaults=a}var e=a.prototype;e.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e;(c=b.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch...");(c=b.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_versioned_from_scratch");c={tableIds:this.tableIds,tableNames:this.tableNames};yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(b.transaction,c,a,this.defaults);(e=b.loggers.logHistory)==null?void 0:e.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(b,c,this.defaults,a);(e=b.loggers.logHistory)==null?void 0:e.debug("migration indices finished");return a?d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function c(b,c){return a.apply(this,arguments)}return c}();e.$4=function(a){var d=this,e=this.$2.versionOrder.indexOf(a);if(e===-1)throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,a);return(h||(h=b("Promise"))).all(this.$2.versionOrder.slice(e,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a in d.$2.versions)return{meta:d.$2.versions[a],version:a};else if(a in d.$2.legacyVersions)return{meta:yield d.$2.legacyVersions[a].load(),version:a};else throw c("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",d.$1,a)});return function(b){return a.apply(this,arguments)}}()))};e.$5=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g=this.$2.targetVersion,h=this.$2.versions[g].revision;(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+a+"R"+b+", targetVersion: "+g+"R"+h);if(g===a&&h===b){(f=e.loggers)==null?void 0:(f=f.logHistory)==null?void 0:f.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration");return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(f=e.loggers.logHistory)==null?void 0:f.debug("migration versioned incremental");(f=e.loggers.userFlow)==null?void 0:f.addPoint(this.$1+"_migration_versioned_incremental");f=(yield this.$4(a));if(f.length===0||b>h){c("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,a,""+b,g,""+h);return this.$3(!1,e)}for(g of f){h=g.meta;f=g.version;for(var i=f===a?b+1:0;i<=h.revision;i++){var j;(j=e.loggers)==null?void 0:(j=j.logHistory)==null?void 0:j.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+f+"R"+i);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_start");yield h.upgrade[i]==null?void 0:h.upgrade[i](e);yield h.afterUpgrade[i]==null?void 0:h.afterUpgrade[i](e.transaction);(j=e.loggers.userFlow)==null?void 0:j.addPoint(this.$1+"_migration_versioned_"+f+"{$revision}_end")}}return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function e(b,c,d){return a.apply(this,arguments)}return e}();e.$6=function(a,c,e,f,g){var i;(i=g.loggers.userFlow)==null?void 0:i.addPoint(this.$1+"_migration_versioned_hash_start");if(c===e&&a===f){(i=g.loggers.userFlow)==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}}));(c=g.loggers)==null?void 0:(e=c.logHistory)==null?void 0:e.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected");return(h||(h=b("Promise"))).resolve(d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{(a=g.loggers.userFlow)==null?void 0:a.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}}));(f=g.loggers)==null?void 0:(i=f.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch");return this.$3(!1,g)}};e.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c,e;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_versioned_start");b=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults);var f=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),g=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(this.$1),h=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(this.$1),i=(yield g.read(a.storeTx));c=(c=(yield h.read(a.storeTx)))==null?void 0:c.defaultValuesVersion;var j=this.$2.versions[this.$2.targetVersion];(e=a.loggers.userFlow)==null?void 0:e.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{"int":{defaultValuesVersion:b,schemaVersion:f,storeDefaultValuesVersion:c,storeRevision:i==null?void 0:i.revision,storeSchemaVersion:i==null?void 0:i.schemaVersion,targetRevision:j.revision},string:{schemaProviderType:"versioned",storeVersion:i==null?void 0:i.version,targetVersion:this.$2.targetVersion}}));(e=a.loggers.logHistory)==null?void 0:e.debug("storeSchemaVersion: "+((e=i==null?void 0:i.schemaVersion)!=null?e:"null"));(e=a.loggers.logHistory)==null?void 0:e.debug("storeDefaultValuesVersion: "+((e=c)!=null?e:"null"));e=(yield i!=null&&i.revision!=null&&i.version!=null?this.$5(i.version,i.revision,a):(i==null?void 0:i.schemaVersion)!=null?this.$6(c,i.schemaVersion,f,b,a):this.$3(!0,a));if(e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){g.write(a.storeTx,{revision:j.revision,schemaVersion:f,version:this.$2.targetVersion});h.write(a.storeTx,{defaultValuesVersion:b});(c=a.loggers.logHistory)==null?void 0:c.debug("version is written")}(i=a.loggers.logHistory)==null?void 0:i.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+e+", SchemaVersion: "+f+", Version: "+this.$2.targetVersion+", Revision: "+j.revision);(g=a.loggers.userFlow)==null?void 0:g.addPoint(this.$1+"_migration_versioned_end");return e});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ReStoreVersionedSchemaProvider"))(d("LSConstants").LS_SCHEMA_NAME,c("LSDb"),c("LSDbForeignKeys"));g.schemaProvider=a}),98);
__d("MAWBridgeDropAllSecureThreadsHandler",["I64","LSIntEnum","LSMessagingThreadTypeUtil","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){var c=d("ReQL").fromTableAscending(a.threads_ranges_v2__generated).filter(function(a){return(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-1))||(i||(i=d("I64"))).equal(a.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10))});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads_ranges_v2__generated["delete"](c.parentThreadKey,c.minThreadKey,c.minLastActivityTimestampMs)})},(h||(h=b("Promise"))).resolve())})}function l(a){var c=d("ReQL").fromTableAscending(a.threads).filter(function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)});return d("ReQL").toArrayAsync(c).then(function(c){return c.reduce(function(b,c){return b.then(function(){return a.threads["delete"](c.threadKey)})},(h||(h=b("Promise"))).resolve())})}function a(a){return(h||(h=b("Promise"))).all([k(a),l(a)]).then(function(){return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MWConditionallySetupEBStateDB",["asyncToGeneratorRuntime","cr:6693","cr:8233"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!1);if(b("cr:6693")!=null){b("cr:8233")==null?void 0:b("cr:8233").setupMainWaLogger();a=(yield b("cr:6693").makeEBStateDB(a));return a}});return h.apply(this,arguments)}g.conditionallyMakeEBStateDB=a}),98);
__d("MWLSSchemaEphemeral",["FBLogger","LSJSInMemoryStorage","LSMetadata","LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","MWConditionallySetupEBStateDB","MessengerLogHistory","asyncToGeneratorRuntime","cr:8624"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("LSPlatformLsInitLog").addPoint("init_start");var e;try{a=(yield d("MWConditionallySetupEBStateDB").conditionallyMakeEBStateDB());a!=null&&(h.debug("Creating EB State DB"),e=d("LSReStoreWrapper").createLSReStore(a,d("LSMetadata").schema,[c("MAWLSVaultingHooks")],void 0,d("LSPlatformLsInitLog").lsInitLogger),yield b("cr:8624")==null?void 0:b("cr:8624")(e),h.debug("EB State DB inited"))}catch(a){c("FBLogger")("messenger_web_clients").catching(a).mustfix("EBSM failed")}e==null&&(h.debug("Creating EDB"),e=c("LSJSInMemoryStorage")(d("LSMetadata").schema),h.debug("EDB inited"));d("LSPlatformLsInitLog").addPoint("init_end");return e});return i.apply(this,arguments)}g.createDB=a}),98);/*FB_PKG_DELIM*/
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){var g=function(){function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};b=a;f["default"]=b}),66);
__d("BotFeedbackKind",[],(function(a,b,c,d,e,f){a=Object.freeze({BOT_FEEDBACK_POSITIVE:0,BOT_FEEDBACK_NEGATIVE_GENERIC:1,BOT_FEEDBACK_NEGATIVE_HELPFUL:2,BOT_FEEDBACK_NEGATIVE_INTERESTING:3,BOT_FEEDBACK_NEGATIVE_ACCURATE:4,BOT_FEEDBACK_NEGATIVE_SAFE:5,BOT_FEEDBACK_NEGATIVE_OTHER:6,BOT_FEEDBACK_NEGATIVE_REFUSED:7,BOT_FEEDBACK_NEGATIVE_NOT_VISUALLY_APPEALING:8,BOT_FEEDBACK_NEGATIVE_NOT_RELEVANT_TO_TEXT:9,BOT_FEEDBACK_NEGATIVE_PERSONALIZED:10,BOT_FEEDBACK_NEGATIVE_CLARITY:11});f["default"]=a}),66);
__d("getVendorPrefixedName",["invariant","ExecutionEnvironment","UserAgent","camelize"],(function(a,b,c,d,e,f,g,h){var i,j={},k=["Webkit","ms","Moz","O"],l=new RegExp("^("+k.join("|")+")"),m=(i||(i=c("ExecutionEnvironment"))).canUseDOM?document.createElement("div").style:{};function n(a){for(var b=0;b<k.length;b++){var c=k[b]+a;if(c in m)return c}return null}function o(a){switch(a){case"lineClamp":return c("UserAgent").isEngine("WebKit >= 315.14.2")||c("UserAgent").isEngine("Blink")?"WebkitLineClamp":null;default:return null}}function a(a){var b=c("camelize")(a);if(j[b]===void 0){var d=b.charAt(0).toUpperCase()+b.slice(1);l.test(d)&&h(0,957,a);(i||(i=c("ExecutionEnvironment"))).canUseDOM?j[b]=b in m?b:n(d):j[b]=o(b)}return j[b]}g["default"]=a}),98);
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(a,b,c,d,e,f){"use strict";a={hasCSSAnimations:function(){return!!b("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!b("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!b("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!b("getVendorPrefixedName")("transition")}};c=a;f["default"]=c}),66);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(a,b,c,d,e,f,g){var h,i,j,k=null;function l(){if((j||(j=c("ExecutionEnvironment"))).canUseDOM){k||(k=document.createElement("div"));return k}return null}b=function(a){return c("memoize")(function(){var b=l();return!b?!1:a(b)})};e=b(function(a){a.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(a.style.position)});f=b(function(a){return"scrollSnapType"in a.style||"webkitScrollSnapType"in a.style||"msScrollSnapType"in a.style});var m=b(function(a){return"scrollBehavior"in a.style});b=b(function(a){if(!("pointerEvents"in a.style))return!1;a.style.cssText="pointer-events:auto";return a.style.pointerEvents==="auto"});var n=(h=c("memoize"))(function(){return!(d("UserAgent_DEPRECATED").webkit()&&!d("UserAgent_DEPRECATED").chrome()&&d("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),o=h(function(){return!!a.blob}),p=h(function(){return(j||(j=c("ExecutionEnvironment"))).canUseDOM&&document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),q=h(function(){return!!window.MutationObserver});h=h(function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},b=c("getVendorPrefixedName")("transition");return a[b]||null});var r=function(){return!!window.CanvasRenderingContext2D};g.hasCSSAnimations=(i=c("BrowserSupportCore")).hasCSSAnimations;g.hasCSSTransforms=i.hasCSSTransforms;g.hasCSS3DTransforms=i.hasCSS3DTransforms;g.hasCSSTransitions=i.hasCSSTransitions;g.hasPositionSticky=e;g.hasScrollSnapPoints=f;g.hasScrollBehavior=m;g.hasPointerEvents=b;g.hasFileAPI=n;g.hasBlobFactory=o;g.hasSVGForeignObject=p;g.hasMutationObserver=q;g.getTransitionEndEvent=h;g.hasCanvasRenderingContext2D=r}),98);
__d("CometTimestampUtils",["fbt","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1e3*60*60*24,j=i*30;function k(a,b){return a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate()}function l(a,b){return h._("__JHASH__OsFN0XAyv2W__JHASH__",[h._param("date",a),h._param("time",b)])}function a(a,b){var d=c("formatDate")(b,"g:i A");if(k(b,a))return h._("__JHASH__I7gnNejSDJn__JHASH__",[h._param("time",d)]);var e=new Date(a.valueOf()-i);if(k(b,e))return h._("__JHASH__18g5xTeqQyg__JHASH__",[h._param("time",d)]);e=new Date(a.valueOf()+i);if(k(b,e))return h._("__JHASH__6hOHFFmfNGd__JHASH__",[h._param("time",d)]);e=c("formatDate")(b,"F j");a.getFullYear()!==b.getFullYear()&&(e=c("formatDate")(b,"F j, Y"));return Math.abs(a.valueOf()-b.valueOf())<j?l(e,d):e}function b(a){return l(c("formatDate")(a,"l, F j, Y"),c("formatDate")(a,"g:i A"))}g.getAbsoluteTimestampFbt=l;g.getTimestamp=a;g.getAbsoluteTimestamp=b}),226);
__d("DOMControl",["$","DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("FDSTimestamp.react",["CometTimestampUtils","react","react-strict-dom","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");function a(a){a=a.date;var b=c("useServerTime")();b=d("CometTimestampUtils").getTimestamp(b,a);return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f,g){function h(a){return!/\S/.test(a||"")}function i(a){return h(a.value)}function a(a){return i(a)?"":a.value}function b(a){return a.value}function e(a,b){a.value=b||"";b=c("DOMControl").getInstance(a);b&&b.resetHeight&&b.resetHeight()}function f(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function j(a){a.value="",a.style.height=""}function k(a,b){d("CSS").conditionClass(a,"enter_submit",b)}function l(a){return d("CSS").hasClass(a,"enter_submit")}function m(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}g.isWhiteSpaceOnly=h;g.isEmpty=i;g.getValue=a;g.getValueRaw=b;g.setValue=e;g.setPlaceholder=f;g.reset=j;g.setSubmitOnEnter=k;g.getSubmitOnEnter=l;g.setMaxLength=m}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","FBLogger","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f,g){var h,i,j="FileList"in window,k="FormData"in window;function l(a){var b={};(h||(h=c("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(i||(i=c("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(i||(i=c("URI"))).decodeComponent(a[2]):null;b[d]=e}});return b}var m={getInputs:function(a){a===void 0&&(a=document);return[].concat(d("DOMQuery").scry(a,"input"),d("DOMQuery").scry(a,"select"),d("DOMQuery").scry(a,"textarea"),d("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};m.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=c===void 0?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value===b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName==="FORM"&&a.elements!==a?Array.from(a.elements):m.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,b){m.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=c("DataStore").get(a,"origDisabledState");b?(d===void 0&&c("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=b):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,b,c){m.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var b=0,e=a.options.length;b<e;b++){var f=a.options[b];f.selected&&c("select",a.name,f.value)}return}if(a.type==="file"){if(j){f=a.files;for(b=0;b<f.length;b++)c("file",a.name,f.item(b))}return}c(a.type,a.name,d("Input").getValue(a))}),b&&b.name&&b.type==="submit"&&d("DOMQuery").contains(a,b)&&d("DOMQuery").isNodeOfType(b,["input","button"])&&c("submit",b.name,b.value)},createFormData:function(a,b){if(!k)return null;var d=new FormData();if(a)if(c("isNode")(a))m.forEachValue(a,b,function(a,b,c){d.append(b,c)});else{b=l(a);for(a in b)b[a]==null?d.append(a,""):d.append(a,b[a])}return d},serialize:function(a,b){var c={};m.forEachValue(a,b,function(a,b,d){if(a==="file")return;m._serializeHelper(c,b,d)});return m._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:m._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=m._serializeFix(a[b]));b=Object.keys(a);if(b.length===0||b.some(isNaN))return a;b.sort(function(a,b){return a-b});var c=0,d=b.every(function(a){return+a===c++});return d?b.map(function(b){return a[b]}):a},post:function(a,b,e,f){f===void 0&&(f=!0);a=new(i||(i=c("URI")))(a);var g=document.createElement("form");g.action=a.toString();g.method="POST";g.style.display="none";var h=!c("isFacebookURI")(a);if(e){if(h){g.rel="noreferrer";if(e==="_blank"){e=btoa(c("Random").uint32());var j=window.open("about:blank",e);j!==void 0&&(j.opener=null)}}g.target=e}if(f&&(!h&&a.getSubdomain()!=="apps")){j=d("DTSG").getToken();j&&(b.fb_dtsg=j,c("SprinkleConfig").param_name&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(j)));c("LSD").token&&(b.lsd=c("LSD").token,c("SprinkleConfig").param_name&&!j&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(c("LSD").token)))}m.createHiddenInputs(b,g);d("DOMQuery").getRootElement().appendChild(g);g.submit();return!1},post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES:function(a,b,c){m.post(a,b,c)},createHiddenInputs:function(a,b,d,e){e===void 0&&(e=!1);d=d||{};a=l(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=c("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;b.appendChild(g)}}return d},getFirstElement:function(a,b){b===void 0&&(b=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var e=[];for(var f=0;f<b.length;f++){e=d("DOMQuery").scry(a,b[f]);for(var g=0;g<e.length;g++){var h=e[g];try{var i=c("getElementPosition")(h);if(i.y>0&&i.x>0)return h}catch(a){}}}return null},focusFirst:function(a){a=m.getFirstElement(a);if(a){a.focus();return!0}return!1}};f.exports=m}),34);
__d("IGDBroadcastChannelLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("IGDBroadcastChannelLogger").__setRef("IGDBroadcastChannelLoggerDeferred");function a(a){h.onReady(function(b){return b.log(a)})}g.log=a}),98);
__d("IGDBroadcastChannelLoggingShapes",[],(function(a,b,c,d,e,f){"use strict";a={action:"tap",event:"message_options_rendered",parent_surface:"broadcast",source:"message_options_dot_menu",surface:"thread_view"};b={action:"tap",event:"end_chat_dialog_rendered",parent_surface:"broadcast",source:"end_chat_cta_button",surface:"thread_details"};c={action:"tap",event:"thread_end_successful",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};d={action:"tap",event:"thread_end_attempt",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"};e={action:"tap",event:"thread_end_error",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"};var g={action:"tap",event:"thread_end_cancel",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"},h={action:"view",event:"retrieve_polls_responses_details",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},i={action:"view",event:"poll_responses_render_error",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},j={action:"view",event:"poll_responses_render_successful",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},k={action:"tap",event:"retrieve_message_reactions_details",parent_surface:"instagram",source:"view_reactions_button",surface:"thread_view"},l={action:"view",event:"message_reactions_render_error",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},m={action:"view",event:"message_reactions_render_successful",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},n={action:"view",event:"fetch_seen_active_count_error",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},o={action:"view",event:"fetch_seen_active_count_successful",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},p={action:"tap",event:"thread_create_attempt",parent_surface:"broadcast",source:"create_broadcast_chat_button",surface:"chat_setup"},q={action:"view",event:"thread_create_successful",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"thread_view"},r={action:"view",event:"thread_create_error",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"chat_setup"},s={action:"view",event:"broadcast_chat_option_viewed",parent_surface:"broadcast",source:"omnipicker_view",surface:"dm_creation_omnipicker"},t={action:"tap",event:"creator_nux_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},u={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},v={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"get_started_button",surface:"broadcast_chat_creator_nux"},w={action:"impression",event:"exit_chat_setup_sheet",parent_surface:"broadcast",source:"back_button",surface:"chat_setup"};f.MESSAGE_OPTIONS_RENDERED_SHAPE=a;f.END_CHAT_DIALOG_RENDERED_SHAPE=b;f.THREAD_END_SUCCESSFUL_SHAPE=c;f.THREAD_END_ATTEMPT_SHAPE=d;f.THREAD_END_ERROR_SHAPE=e;f.THREAD_END_CANCEL_SHAPE=g;f.POLL_DETAIL_DIALOG_RENDERED_SHAPE=h;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=i;f.POLL_DETAIL_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=j;f.REACTIONS_FOOTER_BUTTON_CLICK_SHAPE=k;f.REACTIONS_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=l;f.REACTIONS_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=m;f.SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE=n;f.SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE=o;f.CREATE_BROADCAST_CHANNEL_ATTEMPT_SHAPE=p;f.CREATE_BROADCAST_CHANNEL_SUCCESS_SHAPE=q;f.BROADCAST_CHANNEL_SUCCESS_FAILURE_SHAPE=r;f.BROADCAST_CHAT_OPTION_VIEWED_SHAPE=s;f.CREATOR_NUX_SHEET_RENDERED_SHAPE=t;f.CHAT_SETUP_SHEET_RENDERED_SHAPE=u;f.CHAT_SETUP_SHEET_RENDERED_FROM_NUX_SHAPE=v;f.EXIT_CHAT_SETUP_SHEET_SHAPE=w}),66);
__d("IGDInteractionTraceAnnotations",["I64","IGDInstamadilloUtils","IGDRouteProvider.react","IGDThreadTTLCUtils","Int64Hooks","InteractionTracing","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l=k.useEffect,m=k.c;function a(a){return babelHelpers["extends"]({},d("IGDThreadTTLCUtils").getTTLCBooleanAnnotations(a),{is_dm:d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a),is_instamadillo:d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),is_instamadillo_tlc:d("IGDInstamadilloUtils").isInstamadilloCutover(a)})}function n(a,b){var c=d("IGDInstamadilloUtils").isInstamadilloCutover(a),e=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a),f=d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a);b.addAnnotationBoolean("is_instamadillo",e);b.addAnnotationBoolean("is_instamadillo_tlc",c);b.addAnnotationBoolean("is_dm",f);b.addAnnotationBoolean("is_instamadillo_ttlc",(e=d("IGDThreadTTLCUtils")).isIGDTTLCEnabledForThread(a));b.addAnnotationBoolean("is_instamadillo_ttlc_audio",e.isInstamadilloTTLCAudioEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_clip",e.isInstamadilloTTLCClipEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_generic_xma",e.isInstamadilloTTLCGenericXmaEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_image",e.isInstamadilloTTLCImageEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_link",e.isInstamadilloTTLCLinkEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_media_share",e.isInstamadilloTTLCMediaShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_profile",e.isInstamadilloTTLCProfileEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_reel_share",e.isInstamadilloTTLCReelShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_story_share",e.isInstamadilloTTLCStoryShareEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_text",e.isInstamadilloTTLCTextEnabled(a));b.addAnnotationBoolean("is_instamadillo_ttlc_video",e.isInstamadilloTTLCVideoEnabled(a))}function b(a){var b=m(3),e,f;b[0]!==a?(e=function(){c("InteractionTracing").getPendingInteractions().forEach(function(b){n(a,b)})},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);d("Int64Hooks").useEffectInt64(e,f)}var o=new Set();function e(a){var b=m(7),e;b[0]!==a.threadKey||b[1]!==a.consistentThreadFbid||b[2]!==a.threadType||b[3]!==a.threadSubtype?(e=function(){var b=(i||(i=d("I64"))).to_string(a.threadKey);c("InteractionTracing").getPendingInteractions().forEach(function(c){var e=o.has(b);c.addAnnotationBoolean("is_thread_visited",e);c.addAnnotation("thread_key",(i||(i=d("I64"))).to_string(a.threadKey));a.consistentThreadFbid!=null&&c.addAnnotation("consistent_thread_fbid",(i||(i=d("I64"))).to_string(a.consistentThreadFbid));c.addAnnotationInt("thread_type",(j||(j=d("LSIntEnum"))).toNumber(a.threadType));a.threadSubtype!=null&&c.addAnnotation("thread_subtype",(i||(i=d("I64"))).to_string(a.threadSubtype))});return function(){o.add(b)}},b[0]=a.threadKey,b[1]=a.consistentThreadFbid,b[2]=a.threadType,b[3]=a.threadSubtype,b[4]=e):e=b[4];var f;b[5]!==a?(f=[a],b[5]=a,b[6]=f):f=b[6];d("Int64Hooks").useEffectInt64(e,f)}function f(){var a=m(5),b=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e;a[0]!==b?(e=b!=null?(i||(i=d("I64"))).to_string(b):null,a[0]=b,a[1]=e):e=a[1];var f=e;a[2]!==f?(b=function(){c("InteractionTracing").getPendingInteractions().forEach(function(a){if(f==null){a.addAnnotationInt("rendered_direct_null_state",1);a.addAnnotationInt("has_thread_key",0);return}a.addAnnotationInt("has_thread_key",1);a.addAnnotationInt("rendered_direct_null_state",0)})},e=[f],a[2]=f,a[3]=b,a[4]=e):(b=a[3],e=a[4]);l(b,e)}g.getInstamadilloBooleanAnnotations=a;g.addInstamadilloAnnotationsToInteractionTrace=n;g.useAddInstamadilloAnnotationsToInteractionTraces=b;g.useAddThreadAnnotationToInteractionTraces=e;g.useAddThreadRouteAnnotations=f}),98);
__d("LSAppendDataTraceAddon.nop",["LSAppendDataTraceAddonStoredProcedure","LSFactory","MetaConfig","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,d,e,f,g,i,j){return!c("MetaConfig")._("62")?(h||(h=b("Promise"))).resolve():c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:e,errorMessage:(d=i)!=null?d:"",syncChannel:g,tags:(a=j)!=null?a:""})};g["default"]=a}),98);
__d("LSCollapseAttachments",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.islc(b.sortBy(b.db.table(16).fetch([[[a[0],a[1]]],"idx_attachments_collapsible_id"]),[["timestampMs","DESC"]]),0,b.i64.to_float(b.i64.cast([0,1]))).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.sequence([function(d){return c[0]=e.messageId,b.forEach(b.db.table(16).fetch([[[a[0],a[1],{lt:c[0]}],[a[0],a[1],{gt:c[0]}]],"idx_attachments_collapsible_id"]),function(a){var c=a.item;return b.forEach(b.filter(b.db.table(12).fetch([[[c.threadKey,c.timestampMs,c.messageId]]]),function(a){return b.i64.eq(a.threadKey,c.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.timestampMs,c.timestampMs)&&a.messageId===c.messageId}),function(a){var b=a.update;a.item;return b({isCollapsed:!0})})})},function(a){return b.forEach(b.filter(b.db.table(12).fetch([[[e.threadKey,e.timestampMs,c[0]]]]),function(a){return b.i64.eq(a.threadKey,e.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.timestampMs,e.timestampMs)&&a.messageId===c[0]}),function(a){var b=a.update;a.item;return b({isCollapsed:!1})})}]))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxCollapseAttachmentsStoredProcedure";e.exports=a}),null);
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2421884758]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,4002265907]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetLocalizedReplySnippetStoredProcedure";e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],e)})},function(d){return b.sortBy(b.filter(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8],e)})},function(d){return b.sortBy(b.filter(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8],e)})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageViewFlagsStoredProcedure";e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),void 0!==void 0?c.resolve(d[1]=void 0):c.sequence([function(a){return c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.sequence([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[17]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[16],d[17],void 0,void 0)}]):c.resolve()}]):(e.item,c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetText:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,additionalThreadContext:void 0})}))})}])},function(e){return c.sequence([function(b){return c.islc(c.filter(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,60]))||c.i64.eq(b.authorityLevel,c.i64.cast([0,40])))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==void 0&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[8]==null?"":a[8]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[a[8],void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=g[0],d[34]=g[1],d[35]=g[2],d[36]=g[3],d[37]=g[4],d[38]=g[5],d[39]=g[6],d[40]=g[7],d[41]=g[8],d[42]=g[9],d[43]=g[10],d[44]=g[11],d[45]=g[12],d[46]=g[13],d[47]=g[14],d[48]=g[15],g):(f=e.item,c.sequence([function(e){return d[54]=f.senderId,d[53]=f.stickerId,c.i64.neq(d[53],void 0)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[void 0,void 0],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=f.replyType==null?c.i64.cast([0,0]):f.replyType,c.sequence([function(e){return c.storedProcedure(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],f.text,d[50],d[51],void 0,void 0,void 0,void 0,void 0,void 0,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===void 0||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[void 0,void 0,void 0,void 0],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.sequence([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],void 0],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.forEach(c.filter(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.sequence([function(e){return c.storedProcedure(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],void 0))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageStoredProcedure";e.exports=a}),null);
__d("LSMediaUrlAttachment",["I64","LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.imageUrlFallback:a.imageUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}function i(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList1:a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList2:a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList3:a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function l(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.headerImageUrlFallback:a.headerImageUrl}function m(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b)))return a.listItemProfilePictureUrlFallback1;else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback2:a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback3:a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.imageUrl=e;g.faviconUrl=f;g.listItemContactUrlList1=i;g.listItemContactUrlList2=j;g.listItemContactUrlList3=k;g.headerImageUrl=l;g.listItemProfilePictureUrl1=m;g.listItemProfilePictureUrl2=n;g.listItemProfilePictureUrl3=o}),98);
__d("LSVerifyE2EEMetadataThreadExistsV2",["LSCreateOfflineThreadingID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var e=b.done;b=b.value;return e?(e=[void 0,void 0],d[3]=e[0],d[4]=e[1],e):(c=b.item,e=[a[1],c.authorityLevel],d[3]=e[0],d[4]=e[1],e)})},function(a){return a=[d[3],d[4]],d[0]=a[0],d[1]=a[1],a}]):c.resolve((b=[void 0,void 0],d[0]=b[0],d[1]=b[1],b))},function(e){return c.i64.neq(d[0],void 0)?c.sequence([function(e){return c.i64.neq(d[1],void 0)?c.i64.gt(a[2],d[1])?c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({authorityLevel:a[2]})})},function(a){return d[3]=new c.Map(),d[3].set("thread_fbid",d[0]),d[3].set("force_upsert",!1),d[3].set("use_open_messenger_transport",!1),d[3].set("sync_group",c.i64.cast([0,95])),d[3].set("metadata_only",!1),d[3].set("preview_only",!1),d[4]=d[3].get("thread_fbid"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,209]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve():c.resolve()},function(a){return d[2]=d[0]}]):c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.sequence([function(e){return c.i64.neq(a[2],c.i64.cast([0,20]))?(d[10]=new c.Map(),d[10].set("thread_fbid",a[1]),d[10].set("force_upsert",!1),d[10].set("use_open_messenger_transport",!1),d[10].set("sync_group",c.i64.cast([0,95])),d[10].set("metadata_only",!1),d[10].set("preview_only",!1),d[11]=d[10].get("thread_fbid"),d[10],d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,209]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(b){return d[3]=a[1]}]):c.sequence([function(a){return d[10]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[10]).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[3]=d[11]}])},function(b){return c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))?(b=["inbox",c.i64.cast([0,0])],d[4]=b[0],d[5]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,1]))?(b=["pending",c.i64.cast([-1,4294967295])],d[10]=b[0],d[11]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,2]))?(b=["other",c.i64.cast([-1,4294967294])],d[12]=b[0],d[13]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,3]))?(b=["spam",c.i64.cast([-1,4294967293])],d[14]=b[0],d[15]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,5]))?(b=["hidden",c.i64.cast([-1,4294967292])],d[16]=b[0],d[17]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,4]))?(b=["archived",c.i64.cast([-1,4294967286])],d[18]=b[0],d[19]=b[1],b):(c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,15]))?(b=["restricted",c.i64.cast([-1,4294967281])],d[20]=b[0],d[21]=b[1],b):(b=["inbox",c.i64.cast([0,0])],d[20]=b[0],d[21]=b[1],b),b=[d[20],d[21]],d[18]=b[0],d[19]=b[1],b),b=[d[18],d[19]],d[16]=b[0],d[17]=b[1],b),b=[d[16],d[17]],d[14]=b[0],d[15]=b[1],b),b=[d[14],d[15]],d[12]=b[0],d[13]=b[1],b),b=[d[12],d[13]],d[10]=b[0],d[11]=b[1],b),b=[d[10],d[11]],d[4]=b[0],d[5]=b[1],b),d[6]=c.i64.cast([0,1083495711]),d[7]=c.i64.cast([0,1024]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[d[3]]]]),function(b){return c.i64.eq(b.threadKey,d[3])&&c.i64.lt(b.authorityLevel,a[2])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[3],mailboxType:c.i64.cast([0,4096]),threadType:a[0],folderName:d[4],lastActivityTimestampMs:c.i64.cast([-1,4294967295]),lastReadWatermarkTimestampMs:c.i64.cast([-1,4294967295]),removeWatermarkTimestampMs:c.i64.cast([-1,4294967295]),ongoingCallState:c.i64.cast([0,0]),parentThreadKey:d[5],authorityLevel:a[2],capabilities:d[6],capabilities2:d[7],capabilities3:d[8],capabilities4:d[9],unsendLimitMs:c.i64.cast([-1,4294967295]),syncGroup:c.i64.cast([0,95]),isHidden:!0,clientThreadKey:d[3]})},function(a){return d[2]=d[3]}])},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxVerifyE2EEMetadataThreadExistsV2StoredProcedure";e.exports=a}),null);
__d("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure",["LSVerifyE2EEMetadataThreadExistsV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadType;d[1]=b.threadKey;d[2]=b.authorityLevel;return c("LSVerifyE2EEMetadataThreadExistsV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWCreateOneToOneThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","MAWBridgeSendAndReceive","MAWJids","Promise","ReQL","WABridgedAPI","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,g,k){var l=(j||(j=d("I64"))).to_string(e);e=g!=null?(h||(h=b("Promise"))).resolve(g):a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),threadType:i.ofNumber(15)})},"readwrite",void 0,void 0,f.id+":39").then(function(a){return(j||(j=d("I64"))).to_string(a[0])});return e.then(function(e){return(h||(h=b("Promise"))).all([d("MAWBridgeSendAndReceive").sendAndReceive("backend","createThread",{contactFbid:l,description:k,threadKey:e}).then(function(g){var i=g.created,k=g.jid;return a.runInTransaction(function(a){var f=(j||(j=d("I64"))).of_string(d("WAJids").threadIdForChatJid(k));return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(f)).then(function(g){if(g!=null)return(h||(h=b("Promise"))).resolve({created:i,jid:k});if(e==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("offlineThreadingId cannot be null at this point");return a.mi_act_mapping_table.put({clientThreadPk:f,jid:f,serverThreadKey:(j||(j=d("I64"))).of_string(e)}).then(function(){return{created:i,jid:k}})})},"readwrite",void 0,void 0,f.id+":64")}),c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"creating-1-1-thread: "+k,users:new Set().add(d("MAWJids").toUserJid(l))})])}).then(function(a){a=a[0];return a})}g.call=a}),98);
__d("MAWMiActOnActThreadReady",["FBLogger","I64","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState","Promise","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing thread action: ",", threadState: ",", threadKey: "," on act thread ready"]);j=function(){return a};return a}function k(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){a=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a,b,e));switch(a.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(j(),e,a.type,(i||(i=d("I64"))).to_string(b)));return f(b,a.jid);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:return d("MAWMiActOnActThreadReadyQueue").enqueueByThreadKey(b,f,(f=g)!=null?f:function(){},e,a.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled onActThreadReady for threadKey:\n        %s, thread action: %s",(i||(i=d("I64"))).to_string(b),e);default:a.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",a.type)}});return l.apply(this,arguments)}function a(a,c,d){return new(h||(h=b("Promise")))(function(e,f){k(a,c,d,function(a,c){e({chatJid:c,serverThreadKey:a});return(h||(h=b("Promise"))).resolve()},function(){return f()})["catch"](function(){return f()})})}g.onActThreadReady=k;g.waitForACTThreadReady=a}),98);
__d("MAWTimedJob",["ExecutionEnvironment","FBLogger","MAWMaybeWithTimeout","MAWUIJob","MAWWaitForBackendSetup","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["TimedUIJobStarters called in the worker, which is a bug for job: ",""]);i=function(){return a};return a}var j=6e4;a={fireAndForget:function(a,b){b===void 0&&(b=j);(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(i(),a.type);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.fireAndForget(a)}),b,function(){throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=j);var e=!1;return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){e=!0;return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a)}),b,function(){throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time. Backend passed %s",a.type,e)},a.type)},waitUntilPersisted:function(a,b){b===void 0&&(b=j);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a)}),b,function(){throw c("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time",a.type)},a.type)}};g.DEFAULT_TIMEOUT_MS=j;g.TimedUIJobStarters=a}),98);
__d("MWEditedEyebrowLabel.react",["fbt","BaseMiddot.react","MessengerWebUXLogger","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.separatorStyle;var b=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),e=h._("__JHASH__Mh0-kan22Pe__JHASH__");return j.jsxs(j.Fragment,{children:[a!=null&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(d("react-strict-dom").html.span,{"aria-label":e,"data-testid":void 0,ref:b,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useEffect,o=k.useMemo;function a(a,b){a=a!=null?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function e(a){return a.type==="solid"?a.color:a.colors[0]}function p(a){return"#"+a.slice(2)}function q(a){a=(i||(i=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(b)+(e(c)+e(a)))}var r=l({clearTheme:c("emptyFunction"),setTheme:c("emptyFunction"),theme:b("cr:4128")});function s(){return m(r).theme}function t(){var a=m(r),b=a.clearTheme;a=a.setTheme;n(function(){return b},[b]);return[a,b]}function u(a){var b=a.children,d=a.clearTheme,e=a.setTheme,f=a.theme;a=o(function(){var a;return{clearTheme:(a=d)!=null?a:c("emptyFunction"),setTheme:(a=e)!=null?a:c("emptyFunction"),theme:f}},[d,e,f]);return j.jsx(r.Provider,{value:a,children:b})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return a.type==="gradient"}g.defaultTheme=b("cr:4128");g.lighten=a;g.top=e;g.aRGBtoHex=p;g.intToHex=q;g.useTheme=s;g.usePreview=t;g.MWThemeProvider=u;g.isGradient=v}),98);
__d("MWXText.react",["cr:4600","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);return i.jsx(b("cr:4600"),babelHelpers["extends"]({ref:c},a))}a.displayName=a.name+" [from "+f.id+"]";e=c;g["default"]=e}),98);
__d("MWPDateBreak.react",["BaseHeading.react","FDSTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{marginBottom:"xjpr12u",marginTop:"xr9ek0c",textAlign:"x2b8uid",$$css:!0}};function l(a){var b=a.renderTextWrapper;a=a.timestamp;a=j.jsx("span",{className:"x186z157 xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})});return b!=null?b(a):a}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.renderTextWrapper;a=a.timestamp;var e=d("MWTheme.react").useTheme();return j.jsxs(c("BaseHeading.react"),{testid:void 0,children:[j.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:j.jsx(c("FDSTimestamp.react"),{date:new Date(a)})}),j.jsx("div",{"aria-hidden":!0,className:(h||(h=c("stylex")))(k.root,d("MWTheme.react").isGradient(e)&&k.mask),"data-scope":"date_break",children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:j.jsx(l,{renderTextWrapper:b,timestamp:a})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXTextImpl.react",["cr:6221","cr:7492","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){a=babelHelpers["extends"]({},a);var d=a.type,e=babelHelpers.objectWithoutPropertiesLoose(a,["type"]);if(b("cr:6221")!==null)return i.jsx(b("cr:6221"),babelHelpers["extends"]({ref:c},a));return b("cr:7492")!==null?i.jsx(b("cr:7492"),babelHelpers["extends"]({type:d==="headlineEmphasized5"?"headlineEmphasized4":d==="entityHeaderMeta3"?"entityHeaderMeta2":d},e,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";e=c;d=e;g["default"]=d}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a={color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(h||(h=d("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};g["default"]=a}),98);
__d("forwardXMAUtils",["FBLogger","IGDInstamadilloUtils","IGDThreadTTLCUtils","PolarisLinkshimURI","URI"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=new(h||(h=c("URI")))(a);d("PolarisLinkshimURI").shouldSkipLinkShim(a)&&(b=new(h||(h=c("URI")))(b.getQueryData().u));return b.toString()}function j(a,b){return a==="igd_web_post_share"&&b.includes("instagram.com/p/")}function k(a,b){return a==="xma_open_native"&&b.includes("https://www.instagram.com")}function a(a,b,e,f){if(a==null)return!1;var g=d("IGDInstamadilloUtils").isInstamadilloMessage(b);if(g&&b.xmaReceiverFetchParams!=null){var h;try{h=JSON.parse(b.xmaReceiverFetchParams)}catch(a){c("FBLogger")("igd_web_on_msgr").mustfix("forwardXMAUtils: failed to parse message xmaReceiverFetchParams with error %s.",a);return!1}return d("IGDThreadTTLCUtils").isXmaReceiverFetchTTLCEnabled(h,a)}if(f==null||(f==null?void 0:f.actionUrl)==null)return!1;g=i(f.actionUrl);if(j(e==null?void 0:e.defaultCtaType,g))return d("IGDThreadTTLCUtils").isInstamadilloTTLCMediaShareEnabled(a);return k(e==null?void 0:e.defaultCtaType,g)?d("IGDThreadTTLCUtils").isInstamadilloTTLCGenericXmaEnabled(a):!1}g.linkshimDecode=i;g.isFeedXma=j;g.isProfileXma=k;g.shouldForwardXMAViaTTLC=a}),98);
__d("getIsMessageTimeBelowEditThreshold",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_int32(15*60);function a(a,b){a=(h||(h=d("I64"))).div(a,h.of_int32(1e3));b=h.div(b,h.of_int32(1e3));a=h.sub(a,b);return h.lt(a,i)}g.MAX_EDIT_TIME_PERIOD_IN_SECONDS=i;g.getIsMessageTimeBelowEditThreshold=a}),98);
__d("shield",[],(function(a,b,c,d,e,f){function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(typeof a!=="function")throw new TypeError("shield expects a function as the first argument");return function(){return a.apply(b,d)}}f["default"]=a}),66);
__d("useIGDBroadcastChannelLogger",["I64","IGDBroadcastChannelLoggerDeferred","Int64Hooks","ReQL","asyncToGeneratorRuntime","react","usePolarisViewer","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).c;function a(a){var e=k(11),f=(h||(h=c("useReStore")))(),g=c("usePolarisViewer")();if(e[0]!==g){var j;j=(i||(i=d("I64"))).of_string((j=g==null?void 0:g.id)!=null?j:"0");e[0]=g;e[1]=j}else j=e[1];var l=j;e[2]!==a||e[3]!==f.tables.ig_thread_info||e[4]!==f.tables.threads||e[5]!==l?(g=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.ig_thread_info).getKeyRange(a)):null;c=c==null?void 0:c.igThreadId;var e=a!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.threads).getKeyRange(a).map(function(a){return a.consistentThreadFbid})):null;d("IGDBroadcastChannelLoggerDeferred").log(babelHelpers["extends"]({},b,{actor_id:(i||(i=d("I64"))).to_string(l),consistent_thread_fbid:e!=null?(i||(i=d("I64"))).to_string(e):void 0,ig_thread_id:(b=c)!=null?b:void 0}))});return function(a){return c.apply(this,arguments)}}(),e[2]=a,e[3]=f.tables.ig_thread_info,e[4]=f.tables.threads,e[5]=l,e[6]=g):g=e[6];e[7]!==l||e[8]!==f||e[9]!==a?(j=[l,f,a],e[7]=l,e[8]=f,e[9]=a,e[10]=j):j=e[10];e=d("Int64Hooks").useCallbackInt64(g,j);return e}g["default"]=a}),98);
__d("useMWBShouldReportThreadAsInstamadillo",["I64","IGDInstamadilloUtils","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");b.useMemo;var k=b.c;function a(a){var b=k(8),e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=a!=null?d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a):!1,b[0]=a,b[1]=g):g=b[1];g=g;var j;b[2]!==e.tables.messages||b[3]!==a?(j=function(){var b;return d("ReQL").fromTableAscending(e.tables.messages).getKeyRange((b=a==null?void 0:a.threadKey)!=null?b:(i||(i=d("I64"))).zero).filter(function(a){return d("IGDInstamadilloUtils").isInstamadilloMessage(a)||a.transportKey==="EncryptedBackups"})},b[2]=e.tables.messages,b[3]=a,b[4]=j):j=b[4];var l=a==null?void 0:a.threadKey,m;b[5]!==e||b[6]!==l?(m=[e,l],b[5]=e,b[6]=l,b[7]=m):m=b[7];l=d("ReQLSuspense").useArray(j,m,f.id+":37");b=g||l.length>0;return b}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("PolarisFollowChainingListPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={cardHeight:196,cardWidth:152},l=263,m={card:{backgroundColor:"xvbhtw8",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxSizing:"x9f619",marginEnd:"xw3qccf",$$css:!0},cardContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"x123j3cw",$$css:!0},cardGlimmer:{borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",height:"x1p19avt",width:"x1ozfbi4",$$css:!0},container:{paddingBottom:"xx6bls6",$$css:!0},seeAllGlimmer:{height:"x1qx5ct2",width:"x1247r65",$$css:!0},startingContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",width:"xh8yej3",$$css:!0},titleGlimmer:{height:"x1qx5ct2",width:"xrostsh",$$css:!0}};function a(){var a=i(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{xstyle:m.startingContainer,children:[j.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:m.titleGlimmer}),j.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:m.seeAllGlimmer})]}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{height:l,xstyle:m.container,children:[b,j.jsx(c("IGDSBox.react"),{xstyle:m.cardContainer,children:[2,3,4].map(n)})]}),a[1]=b):b=a[1];return b}function n(a){return j.jsx(c("IGDSBox.react"),{alignItems:"center",height:k.cardHeight,position:"relative",width:k.cardWidth,xstyle:m.card,children:j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:m.cardGlimmer})},a)}n.displayName=n.name+" [from "+f.id+"]";g.PolarisFollowChainingListPlaceholder=a}),98);
__d("PolarisGenericVirtualFeedConstants",[],(function(a,b,c,d,e,f){"use strict";a=800;b=1;c=5;d=3;e=1;var g=10,h=250;f.FEED_ESTIMATED_HEIGHT=a;f.FEED_INITIAL_RENDER_COUNT=b;f.FEED_INITIAL_RENDER_COUNT_FOR_SEO_CRAWLERS=c;f.FEED_OVERSCAN=d;f.FEED_NEXT_PAGE_THRESHOLD=e;f.PREFETCH_FEED_NEXT_PAGE_THRESHOLD=g;f.FEED_THROTTLE_TIME=h}),66);
__d("PolarisPrioritizedTask",["invariant","Promise","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=1e3,k="LOW_PRIORITY",l="HIGH_PRIORITY";a=function(){function a(a,b){var d=this;this.$2=null;this.$3=null;this.$4=!1;this.$5=!1;this.$8=0;this.$9=function(a){a===void 0&&(a={});d.$5=!0;a={didTimeout:a.didTimeout,priority:d.$6,timeRemaining:a.timeRemaining};c("nullthrows")(d.$2)(d.$1(a))};this.$1=b;this.setOptions(a)}var d=a.prototype;d.$10=function(){var a=this;switch(this.$6){case k:if(typeof window.requestIdleCallback!=="undefined"){var c=window.requestIdleCallback(this.$9,{timeout:this.getTimeout()});this.$3=function(){window.cancelIdleCallback(c)}}else{var d=window.setTimeout(function(){return a.$9({didTimeout:!0})},this.getTimeout()||j);this.$3=function(){window.clearTimeout(d)}}break;case l:var e=!1;(i||(i=b("Promise"))).resolve().then(function(){return!e&&a.$9()});this.$3=function(){e=!0};break}};d.$11=function(){if(!this.$4||this.$5)return;c("nullthrows")(this.$3)();this.$10()};d.commit=function(){this.$4||h(0,51359);if(this.$5)return;this.$9();c("nullthrows")(this.$3)()};d.run=function(){var a=this;this.$4&&h(0,51360);this.$8=Date.now()+this.$7;var c=new(i||(i=b("Promise")))(function(b){a.$2=b});this.$10();this.$4=!0;return c};d.setOptions=function(a){this.$7=Math.max(a.timeout||0,0),this.$8=Date.now()+this.$7,this.$6=a.priority,this.$11()};d.getPriority=function(){return this.$6};d.getTimeout=function(){return!this.$4?this.$7:Math.max(0,this.$8-Date.now())};return a}();g.LOW_PRIORITY=k;g.HIGH_PRIORITY=l;g.PrioritizedTask=a}),98);
__d("PolarisGenericVirtualFeed.react",["cx","IGDSSpinner.react","PolarisGenericVirtualFeedConstants","PolarisPrioritizedTask","PolarisSizeCache","PolarisVirtualizedWithScrollLogging.react","polarisLogAction","react","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=new(c("PolarisSizeCache"))({estimatedSize:d("PolarisGenericVirtualFeedConstants").FEED_ESTIMATED_HEIGHT});b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.$1=j.createRef(),f.$2=(window.matchMedia==null?void 0:(b=window.matchMedia("(prefers-reduced-motion)"))==null?void 0:b.matches)===!0,f.$3=c("throttle")(function(a){var b=a.numItemsFromEnd;a=a.numScreensFromEnd;var e=f.props,g=e.enablePrefetch,h=e.enablePriorityFetching,i=e.hasNextPage,j=e.isFetching,k=e.nextPageThreshold,l=e.onNextPage,m=e.prefetchNextPageThreshold;e=e.prefetchUsingItemDistance;e===!0?e=b:e=a;i&&!j&&(e<=k?(c("polarisLogAction")("loadMoreScroll"),l(h?{priority:d("PolarisPrioritizedTask").HIGH_PRIORITY}:void 0)):g&&e<=m&&(c("polarisLogAction")("loadMoreScroll"),l(h?{priority:d("PolarisPrioritizedTask").LOW_PRIORITY}:void 0)))},d("PolarisGenericVirtualFeedConstants").FEED_THROTTLE_TIME),e)||babelHelpers.assertThisInitialized(f)}var e=b.prototype;e.componentDidUpdate=function(a){var b=this.props,c=b.items;b=b.visibleCount;a.visibleCount===b&&a.items!==c&&this.$1.current&&this.$1.current.forceUpdate()};e.$4=function(){return!this.props.hasNextPage&&!this.props.isFetching?null:j.jsx("div",{className:"_aalg",children:j.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"})})};e.scrollToNextFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToItemAfterVisibleStart({scrollBehavior:this.$2?"instant":"smooth",scrollTarget:"window"})};e.scrollToPreviousFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToItemBeforeVisibleStart({scrollBehavior:this.$2?"instant":"smooth",scrollTarget:"window"})};e.render=function(){var a=this.props,b=a.allowSampledScrollLogging,c=a.analyticsContext,e=a.className,f=a["data-testid"];f=a.initialRenderCount;var g=a.overscanCount,h=a.overscanCountBeforeScroll,i=a.renderFeedItem,k=a.sizeCache;a=a.visibleCount;return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisVirtualizedWithScrollLogging.react").IGVirtualListWithLogging,{allowSampledScrollLogging:b,analyticsContext:c,className:e,"data-testid":void 0,estimatedItemSize:d("PolarisGenericVirtualFeedConstants").FEED_ESTIMATED_HEIGHT,initialRenderCount:f,itemCount:a,onScroll:this.$3,overscanCount:g,overscanCountBeforeScroll:h,pageletName:"virtual_feed",ref:this.$1,renderer:i,sizeCache:k}),this.$4()]})};return b}(j.PureComponent);b.defaultProps={allowSampledScrollLogging:!1,initialRenderCount:d("PolarisGenericVirtualFeedConstants").FEED_INITIAL_RENDER_COUNT,nextPageThreshold:d("PolarisGenericVirtualFeedConstants").FEED_NEXT_PAGE_THRESHOLD,overscanCount:d("PolarisGenericVirtualFeedConstants").FEED_OVERSCAN,prefetchNextPageThreshold:d("PolarisGenericVirtualFeedConstants").PREFETCH_FEED_NEXT_PAGE_THRESHOLD,sizeCache:a};g["default"]=b}),98);
__d("PolarisLoggedOutExploreModuleOverlay.react",["IGDSBox.react","IGDSReelsFilledIcon.react","IGDSText.react","IGDSVerifiedIcon.react","PolarisGenericStrings","PolarisIGCoreConstants","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={content:{paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},icon:{paddingTop:"xm7lytj",paddingEnd:"x2qib4z",paddingBottom:"x1ykpatu",paddingStart:"xcu9agk",$$css:!0}};function a(a){var b=i(5),e=a.isClips,f=a.isVerified,g=a.profilePicUrl;a=a.username;var h;b[0]!==a||b[1]!==e||b[2]!==g||b[3]!==f?(h=a!=null?j.jsxs("div",{className:"xf0f1f2 x1ey2m1c xds687c x17qophe x47corl x10l6tqk xqhrkhf x13vifvy x1vjfegm",children:[e===!0&&j.jsx(c("IGDSBox.react"),{alignItems:"end",width:"100%",xstyle:k.icon,children:j.jsx(c("IGDSReelsFilledIcon.react"),{alt:d("PolarisGenericStrings").REEL_ICON_ALT,color:"web-always-white",shadow:!0,size:18})}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",bottom:!0,direction:"row",position:"absolute",width:"100%",xstyle:k.content,children:[g!=null&&j.jsx(c("IGDSBox.react"),{marginEnd:1,children:j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.extraSmall,username:a})}),j.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",maxLines:1,size:"footnote",weight:"semibold",children:a}),f===!0&&j.jsx(c("IGDSBox.react"),{marginStart:1,children:j.jsx(c("IGDSVerifiedIcon.react"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,color:"web-always-white",shadow:!0,size:12})})]})]}):null,b[0]=a,b[1]=e,b[2]=g,b[3]=f,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("PolarisLoggedOutUserTagIndicatorWithSheet.react",["PolarisConfig","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux.react","PolarisUA","PolarisUserTagIndicatorWithSheet.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.c;function a(a){var b=j(10),e=a.analyticsContext,f=a.mediaId,g=a.post;a=a.usertags;var h=d("PolarisReactRedux.react").useDispatch(),k;b[0]!==e||b[1]!==h?(k=function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"tagged_icon_click",module:e||""}),d("PolarisUA").isDesktop()&&!d("PolarisConfig").isLoggedOutFRXEligible()&&h(d("PolarisNavigationActions").openLoginModal("feature_wall",window.location.href,"post_tagged"))},b[0]=e,b[1]=h,b[2]=k):k=b[2];k=k;var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("PolarisUA").isDesktop(),b[3]=l):l=b[3];b[4]!==e||b[5]!==f||b[6]!==k||b[7]!==g||b[8]!==a?(l=i.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:e,disableSheet:l,mediaId:f,onClick:k,post:g,usertags:a}),b[4]=e,b[5]=f,b[6]=k,b[7]=g,b[8]=a,b[9]=l):l=b[9];return l}g["default"]=a}),98);
__d("VideoPlayerSliderNub.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={"default":{backgroundColor:"x14hiurz",borderTopColor:"x1g7gg9k",borderEndColor:"xenha5r",borderBottomColor:"x1eoefnw",borderStartColor:"x124h113",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",boxShadow:"x1nqv1ya",display:"x1s85apg",height:"xdk7pt",marginRight:"x1x862rh",marginTop:"x1rdy4ex",position:"x10l6tqk",right:"x3m8u43",width:"x1xc55vz",zIndex:"x1vjfegm",$$css:!0},visible:{display:"x1lliihq",$$css:!0}};function a(a){a=a.isVisible;return j.jsx("div",{className:(h||(h=c("stylex")))(k["default"],a&&k.visible),"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderTopStartRadius:"xm3z3ea",borderTopEndRadius:"x1x8b98j",borderBottomEndRadius:"x131883w",borderBottomStartRadius:"x16mih1h",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.bufferedRatio;a.duration;a.hoveringPositionSec;a.isHovering;var d=a.isLive,e=a.isLiveRewindActive,f=a.isNubVisible,g=a.playedRatio,i=a.timelineBackgroundXStyle,l=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.timelineBackground,i),children:[j.jsx("div",babelHelpers["extends"]({className:h(k.timelineBuffered,!d&&k.timelineBufferedBackground,l)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*b).toFixed(5)+"%"}})),j.jsx("div",babelHelpers["extends"]({className:h(k.timelinePlayed,d&&!e&&k.liveTimePlayed,d&&e&&k.liveRewindTimePlayed,a)},c("CometVisualCompletionAttributes").IGNORE,{style:{width:(100*g).toFixed(5)+"%"},children:j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:f})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPointerDrag",["react","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=j(null),b=j(null),d=c("useResizeObserver")(function(c,d){a.current=d.getBoundingClientRect(),b.current=d}),e=c("useStable")(function(){return function(){var c=b.current;c?a.current=c.getBoundingClientRect():a.current=null}});return{invalidateRootRect:e,rootRectRef:a,rootSizeRefCallback:d}}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null?void 0:a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null?void 0:a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null?void 0:a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null?void 0:a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){i(function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},[a,b])}function r(a,b,d){var e=k(n),f=e[0],g=e[1];e=c("useStable")(function(){return p(g,a,b)});var h=e.destroy,j=e.onMouseDown;e=e.onTouchStart;i(function(){return h},[h]);return{dragState:f,rootProps:{onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:j,onTouchStart:(d==null?void 0:d.hasTouchEvents)===!0?e:void 0}}}function e(a,b){var c=j(a),d=j(null);i(function(){c.current=a},[a]);d=r(c,d,b);b=d.dragState;d=d.rootProps;q(b,c);return{dragState:b,isDragging:b.dragState==="dragging",rootProps:d}}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.duration,g=a.onScrubCancel,h=a.onScrubEnd,l=a.onScrubStart;a=a.supportsTouch;var m=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),n=m.invalidateRootRect,o=m.rootRectRef;m=m.rootSizeRefCallback;var p=j(0),q=p[0],r=p[1];p=j(!1);var s=p[0],t=p[1],u=c("usePrevious")(e);i(function(){e!==u&&t(!1)},[e,u]);p=d("VideoPlayerPointerDrag").usePointerDrag({onDragCancel:function(a){g()},onDragEnd:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a){g();return}r(a.ratioX);a=a.ratioX*f;h(a)},onDragEndSync:function(){t(!0)},onDragMove:function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX)},onDragStart:function(a){n();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,o.current);if(!a)return;r(a.ratioX);l()}},{hasTouchEvents:a===!0});a=p.isDragging;p=p.rootProps;b=k(f,b);var v=k(f,e);return{bufferedRatio:b,currentPlayedRatio:v,invalidateRootRect:n,isDragging:a,isWaitingForSeek:s,pointerOffsetRatio:q,rootProps:p,rootRectRef:o,rootSizeRefCallback:m}}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","cr:2236","react","stylex","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useMemo,n=e.useState,o={root:{cursor:"x1ypdohk",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},rootWithReelsScrubber:{alignItems:"x6s0dn4",bottom:"xq6397w",cursor:"x1ypdohk",display:"x78zum5",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",position:"x1n2onr6",userSelect:"x87ps6o",width:"xh8yej3",$$css:!0},withoutVerticalPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function a(a){var e=a.bufferEnd,f=a.currentTime,g=a.disableKeyCommands,j=a.duration,p=a.hasReelsScrubber;p=p===void 0?!1:p;var q=a.hideNub;q=q===void 0?!1:q;var r=a.isLive,s=a.isLiveRewindActive,t=a.keyLeftDescription,u=a.keyRightDescription,v=a.onScrubCancel,w=a.onScrubEnd,x=a.onScrubStart,y=a.onUserInteraction,z=a.playFromBeginningImpl,A=a.renderScrubber,B=a.renderTooltip,C=a.skipBackwardImpl,D=a.skipForwardImpl,E=a.skipToEndImpl,F=a.supportsTouch,G=a.timelineBackgroundXStyle,H=a.timelineBufferedXStyle,I=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var J=n(!1),K=J[0],L=J[1];J=n(0);var M=J[0],N=J[1];J=n(null);var O=J[0],P=J[1];J=c("useVideoPlayerScrubberState")({bufferEnd:e,currentTime:f,duration:j,onScrubCancel:v,onScrubEnd:w,onScrubStart:x,supportsTouch:F});e=J.bufferedRatio;v=J.currentPlayedRatio;var Q=J.invalidateRootRect;w=J.isDragging;x=J.isWaitingForSeek;F=J.pointerOffsetRatio;var R=J.rootProps,S=J.rootRectRef;J=J.rootSizeRefCallback;var T=l(function(){L(!0)},[]),U=l(function(){L(!1)},[]),V=l(function(a){Q();if(S.current!=null){var b=S.current.left,c=S.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(j)&&j>0?j*d:null;N(a.clientX-b);P(c)}},[j,Q,S]),W=K||w;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",W,y);y=K||w||x;x=w||x?F:r&&!s?1:v;F=m(function(){return g===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:u,handler:D},{command:{key:c("CometKeys").LEFT},description:t,handler:C},{command:{key:c("CometKeys").HOME},description:h._("__JHASH__3cUloDtyzSK__JHASH__"),handler:z},{command:{key:c("CometKeys").END},description:h._("__JHASH__jTksR1FMT97__JHASH__"),handler:E}]},[g,u,D,t,C,z,E]);v={bufferedRatio:e,duration:j,hoveringPositionSec:O,isHovering:K,isLive:r,isLiveRewindActive:s,isNubVisible:!q&&y,playedRatio:x,timelineBackgroundXStyle:G,timelineBufferedXStyle:H,timelinePlayedXStyle:I};return k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:F,children:k.jsxs("div",babelHelpers["extends"]({},R,{"aria-label":h._("__JHASH__69czi8qDKMx__JHASH__"),"aria-orientation":"horizontal","aria-valuemax":j,"aria-valuemin":"0","aria-valuenow":f,className:(i||(i=c("stylex")))(p&&b("cr:2236")?o.rootWithReelsScrubber:o.root,a&&o.withoutVerticalPadding),"data-testid":void 0,onMouseEnter:T,onMouseLeave:U,onMouseMove:V,ref:J,role:"slider",tabIndex:"0",children:[p&&b("cr:2236")?k.jsx(b("cr:2236"),{bufferedRatio:e,isDragging:w,isInteracting:W,playedRatio:x}):k.jsx(k.Fragment,{children:A!=null?A(v):k.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},v))}),B!=null&&O!=null&&K&&k.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:M},children:B(O)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisPostVideoPlayerScrubber.react",["VideoPlayerHooks","VideoPlayerScrubberBase.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.c,l=5,m={timelineBackgroundXStyle:{backgroundColor:"x1o95745",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelineBuffered:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0},timelinePlayed:{backgroundColor:"xz3rzyy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xqu0tyb",$$css:!0}};function n(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=k(24);a=a.hasReelsScrubber;a=a===void 0?!1:a;var e=n(),f=(i||(i=d("VideoPlayerHooks"))).useBufferEnd(),g=i.useDuration(),h=i.useController(),o;b[0]!==h?(o=function(){h.scrubEnd(null)},b[0]=h,b[1]=o):o=b[1];o=o;var p;b[2]!==h?(p=function(a){h.scrubEnd(a)},b[2]=h,b[3]=p):p=b[3];p=p;var q;b[4]!==h?(q=function(){h.scrubBegin()},b[4]=h,b[5]=q):q=b[5];q=q;var r;b[6]!==h?(r=function(){h.seek(0)},b[6]=h,b[7]=r):r=b[7];r=r;var s;b[8]!==h?(s=function(){var a=h.getPlayheadPosition()-l;a<0?h.seek(0):h.seek(a)},b[8]=h,b[9]=s):s=b[9];s=s;var t;b[10]!==h||b[11]!==g?(t=function(){var a=h.getPlayheadPosition()+l;a>=g?h.seek(g-.01):h.seek(a)},b[10]=h,b[11]=g,b[12]=t):t=b[12];t=t;var u=i.useLastPlayReason();if(!u)return null;b[13]!==f||b[14]!==e||b[15]!==g||b[16]!==a||b[17]!==o||b[18]!==p||b[19]!==q||b[20]!==r||b[21]!==s||b[22]!==t?(u=j.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:f,currentTime:e,disableKeyCommands:!0,duration:g,hasReelsScrubber:a,isLive:!1,isLiveRewindActive:!1,keyLeftDescription:"",keyRightDescription:"",onScrubCancel:o,onScrubEnd:p,onScrubStart:q,playFromBeginningImpl:r,skipBackwardImpl:s,skipForwardImpl:t,skipToEndImpl:c("emptyFunction"),supportsTouch:!0,timelineBackgroundXStyle:m.timelineBackgroundXStyle,timelineBufferedXStyle:m.timelineBuffered,timelinePlayedXStyle:m.timelinePlayed}),b[13]=f,b[14]=e,b[15]=g,b[16]=a,b[17]=o,b[18]=p,b[19]=q,b[20]=r,b[21]=s,b[22]=t,b[23]=u):u=b[23];return u}g["default"]=a}),98);
__d("PolarisTimeConverter",["padNumber"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=Math.floor(a/6e4);a=Math.floor(a%6e4/1e3);a=a>9?a.toString():"0"+a;return b+":"+a}function a(a){var b=Math.floor(a/3600),d=Math.floor(a/60%60),e=Math.floor(a%60);if(b)return b+":"+c("padNumber")(d,2)+":"+c("padNumber")(e,2);else return h(a*1e3)}g.convertMillisecondsToMinutesAndSeconds=h;g.convertSecondsToHoursMinutesAndSeconds=a}),98);
__d("PolarisPostVideoPlayerTimestamp.react",["IGDSBox.react","IGDSText.react","PolarisTimeConverter","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("react"))).c,k=h;function l(){return(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(){var a=j(4),b=l(),e;a[0]!==b?(e=d("PolarisTimeConverter").convertSecondsToHoursMinutesAndSeconds(Math.round(b)),a[0]=b,a[1]=e):e=a[1];a[2]!==e?(b=k.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",marginEnd:2,marginStart:2,width:32,children:k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",children:e})}),a[2]=e,a[3]=b):b=a[3];return b}g["default"]=a}),98);
__d("usePolarisVideoVolumeControls",["PolarisVideoConstants","PolarisVolumeControlsManager.react","VideoPlayerHooks","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.c;function a(a){var b=k(13),e=a.enabled,f=(i||(i=d("VideoPlayerHooks"))).useController(),g=d("PolarisVolumeControlsManager.react").useVolumeControls(),h=i.usePaused(),l=i.useMuted(),m=c("usePrevious")(l),n=i.useLastMuteReason(),o;b[0]!==e||b[1]!==m||b[2]!==l||b[3]!==n||b[4]!==g?(a=function(){e&&m!=null&&m!==l&&n==="user_initiated"&&g.setAudioState(l?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on)},o=[e,l,n,m,g],b[0]=e,b[1]=m,b[2]=l,b[3]=n,b[4]=g,b[5]=a,b[6]=o):(a=b[5],o=b[6]);j(a,o);b[7]!==e||b[8]!==h||b[9]!==g.audioState||b[10]!==f?(a=function(){e&&!h&&g.audioState!==d("PolarisVideoConstants").AUDIO_STATES.none&&f.setMuted(g.audioState==="off","product_initiated")},o=[e,f,h,g.audioState],b[7]=e,b[8]=h,b[9]=g.audioState,b[10]=f,b[11]=a,b[12]=o):(a=b[11],o=b[12]);j(a,o);return g.audioState}g["default"]=a}),98);
__d("usePolarisVideoAudioState",["PolarisConfig","PolarisVideoConstants","VideoPlayerHooks","react","usePolarisVideoVolumeControls"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).c;function a(a){var b=j(1);a=a.noAudio;var e=(i||(i=d("VideoPlayerHooks"))).useMuted(),f=!d("PolarisConfig").isIOS(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={enabled:f},b[0]=g):g=b[0];b=c("usePolarisVideoVolumeControls")(g);if(a===!0)return d("PolarisVideoConstants").AUDIO_STATES.none;return!f?e?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:b}g["default"]=a}),98);
__d("usePolarisPostVideoToggleAudio",["PolarisVideoConstants","VideoPlayerHooks","react","usePolarisVideoAudioState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.c;function a(a){var b=j(10),e=(i||(i=d("VideoPlayerHooks"))).useController(),f=a.clipsMusicAttributionInfo;a=a.hasAudio;var g=a===!1||(f==null?void 0:f.should_mute_audio)===!0,h;b[0]!==g?(h={noAudio:g},b[0]=g,b[1]=h):h=b[1];var k=c("usePolarisVideoAudioState")(h);b[2]!==k||b[3]!==e?(g=function(){if(k!==d("PolarisVideoConstants").AUDIO_STATES.none){var a=e.getCurrentState();a=a.muted;e.setMuted(!a,"user_initiated")}},b[2]=k,b[3]=e,b[4]=g):g=b[4];h=g;b[5]!==k||b[6]!==f||b[7]!==a||b[8]!==h?(g={audioState:k,clipsMusicAttributionInfo:f,hasAudio:a,toggleAudio:h},b[5]=k,b[6]=f,b[7]=a,b[8]=h,b[9]=g):g=b[9];return g}g["default"]=a}),98);
__d("PolarisPostVideoVolumeControls.react",["PolarisVideoConstants","PolarisVideoVolumeControls.react","react","usePolarisPostVideoToggleAudio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(5),e=a.inPlayerControls;a=a.post;a=c("usePolarisPostVideoToggleAudio")(a);var f=a.audioState,g=a.clipsMusicAttributionInfo;a=a.toggleAudio;g=f===d("PolarisVideoConstants").AUDIO_STATES.none?g==null?void 0:g.should_mute_audio_reason:void 0;var h;b[0]!==f||b[1]!==g||b[2]!==e||b[3]!==a?(h=j.jsx(c("PolarisVideoVolumeControls.react"),{audioState:f,forceMuteReason:g,inPlayerControls:e,onClick:a}),b[0]=f,b[1]=g,b[2]=e,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect,m=44,n={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},"default":{bottom:"x1ey2m1c",flexDirection:"x1q0g3np",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x11uqc5h",$$css:!0},firstRow:{alignItems:"x6s0dn4",direction:"xzt5al7",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,e=a.height,f=a.initialBottomRowAddOn;f=f===void 0?null:f;var g=a.isBackgroundVisible,i=a.isVisible,o=a.xstyle,p=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(f);a=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var q=a.release,r=a.reserve,s=(f=e)!=null?f:m;l(function(){if(Boolean(i)||Boolean(g)){var a=r({location:"bottom",size:s});return function(){q(a)}}},[i,g,r,q,s]);var t=g===!1||i===!1,u=g===!0||i===!0;return k.jsx(c("FocusWithinHandler.react"),{children:function(a,d){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:d,children:k.jsxs("div",{className:(h||(h=c("stylex")))(n["default"],p==null&&n.firstRow,i===!1&&n.hidden,i===!0&&n.visible),"data-testid":void 0,children:[k.jsx("div",{className:h(n.backgroundGradient,t&&n.hidden,u&&n.visible,o),style:{height:s}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:t,children:p==null?b:k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:b}),k.jsx(c("CometErrorBoundary.react"),{children:p})]})})]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={contracted:{paddingTop:"xexx8yu",paddingEnd:"x1mpkggp",paddingBottom:"x18d9i69",paddingStart:"x1t2a60a",$$css:!0},"default":{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",flexWrap:"xozqiw3",$$css:!0},expanded:{flexGrow:"x1iyjqo2",$$css:!0},hidden:{opacity:"x1fmh03i",pointerEvents:"x47corl",$$css:!0},noPaddingEnd:{paddingEnd:"x4uap5",$$css:!0},noPaddingStart:{paddingStart:"xkhd6sd",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;var e=a.noPaddingEnd;e=e===void 0?!1:e;a=a.noPaddingStart;a=a===void 0?!1:a;var f=k(c("VideoControlsContainerFocusedContext"));d=d||f;f=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.contracted,e&&l.noPaddingEnd,a&&l.noPaddingStart,d?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f||!d,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children,d=a.isVisible;d=d===void 0?!0:d;a.noPaddingEnd;a.noPaddingStart;a=k(c("VideoControlsContainerFocusedContext"));d=d||a;a=k(c("VideoPlayerControlsHiddenContext"));return j.jsx("div",{className:(h||(h=c("stylex")))(l["default"],l.expanded,d?l.visible:l.hidden),children:j.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:a||!d,children:b})})}b.displayName=b.name+" [from "+f.id+"]";g.Contracted=a;g.Expanded=b}),98);
__d("PolarisPostVideoPlayerControls.react",["IGDSBox.react","PolarisPostVideoPlayerScrubber.react","PolarisPostVideoPlayerTimestamp.react","PolarisPostVideoVolumeControls.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(8),e=a.post,f=a.shouldUseVolumeControls;a=a.showVideoControls;if(f===!0){b[0]!==e?(f=j.jsx(c("PolarisPostVideoVolumeControls.react"),{post:e}),b[0]=e,b[1]=f):f=b[1];return f}if(a===!0){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:!0,children:j.jsx(c("PolarisPostVideoPlayerScrubber.react"),{})}),b[2]=f):f=b[2];a=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:j.jsx(c("PolarisPostVideoPlayerTimestamp.react"),{})}),b[3]=f):f=b[3];f=f;var g;b[4]!==e?(g=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,noPaddingStart:!0,children:j.jsx(c("PolarisPostVideoVolumeControls.react"),{inPlayerControls:!0,post:e})}),b[4]=e,b[5]=g):g=b[5];e=g;b[6]!==e?(g=j.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:!0,children:j.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",padding:4,width:"100%",children:[a,f,e]})}),b[6]=e,b[7]=g):g=b[7];return g}return null}g["default"]=a}),98);
__d("usePolarisVideoPressInteraction",["fbt","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b=i||d("react");b.useCallback;var k=b.c;function a(a){var b=k(12),c=a.playButtonShowing,e=a.shouldUnmuteOnPlay,f=(j||(j=d("VideoPlayerHooks"))).useController(),g=j.useLastMuteReason();b[0]!==f?(a=function(){f.pause("user_initiated")},b[0]=f,b[1]=a):a=b[1];a=a;var i;b[2]!==f||b[3]!==e||b[4]!==g?(i=function(){f.play("user_initiated"),e&&g!=="user_initiated"&&f.setMuted(!1,"product_initiated")},b[2]=f,b[3]=e,b[4]=g,b[5]=i):i=b[5];i=i;if(c){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._("__JHASH__JwOWQUoE3fU__JHASH__"),b[6]=c):c=b[6];b[7]!==i?(c={ariaLabel:c,handler:i,overlayLabel:""},b[7]=i,b[8]=c):c=b[8];return c}b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__9n2Yt6-FC2y__JHASH__"),b[9]=i):i=b[9];b[10]!==a?(c={ariaLabel:i,handler:a,overlayLabel:""},b[10]=a,b[11]=c):c=b[11];return c}g["default"]=a}),226);
__d("usePolarisVideoShowPlayButton",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=d("VideoPlayerHooks"))).usePlaying(),b=h.usePaused(),c=h.useIsTransitioningToNextLoop();return!a&&b&&!c}g["default"]=a}),98);
__d("PolarisPostVideoPlaybackOverlay.react",["PolarisPostVideoPlayerControls.react","VideoPlayerInteractionOverlay.react","react","usePolarisVideoPressInteraction","usePolarisVideoShowPlayButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(16),e=a.post,f=a.shouldShowOverlay;a=a.showVideoControls;var g=!a,h=c("usePolarisVideoShowPlayButton")()&&!f,k=!g,l;b[0]!==h||b[1]!==k?(l={playButtonShowing:h,shouldUnmuteOnPlay:k},b[0]=h,b[1]=k,b[2]=l):l=b[2];k=c("usePolarisVideoPressInteraction")(l);b[3]!==h?(l=h&&j.jsx("div",{className:"xtzzx4i xjq0wde xa2bojp x10l6tqk xwa60dl",children:j.jsx("div",{className:"xd0fu7d xiql0sd xi9uto2 x1pqszli xdiogjw x1s7hr1v"})}),b[3]=h,b[4]=l):l=b[4];b[5]!==k||b[6]!==l?(h=j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:k,children:l}),b[5]=k,b[6]=l,b[7]=h):h=b[7];b[8]!==f||b[9]!==e||b[10]!==g||b[11]!==a?(k=!f&&j.jsx(c("PolarisPostVideoPlayerControls.react"),{post:e,shouldUseVolumeControls:g,showVideoControls:a}),b[8]=f,b[9]=e,b[10]=g,b[11]=a,b[12]=k):k=b[12];b[13]!==h||b[14]!==k?(l=j.jsxs(j.Fragment,{children:[h,k]}),b[13]=h,b[14]=k,b[15]=l):l=b[15];return l}g["default"]=a}),98);
__d("PolarisVideoIndicatorIcon.react",["PolarisConfig","PolarisLoggedOutUserTagIndicatorWithSheet.react","PolarisUpcomingEventIndicatorWithSheetOrModal.react","PolarisUserTagIndicatorWithSheet.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(15),e=a.analyticsContext,f=a.asSidecarChild,g=a.firstSidecarChildSrc,h=a.post;a=a.upcomingEventMediaId;var k=h.id,l=h.src,m=h.upcomingEvent,n=h.usertags;if(m){var o;b[0]!==a?(o=c("nullthrows")(a),b[0]=a,b[1]=o):o=b[1];a=f===!0?g:l;b[2]!==a?(f=c("nullthrows")(a),b[2]=a,b[3]=f):f=b[3];b[4]!==e||b[5]!==o||b[6]!==m||b[7]!==f||b[8]!==n?(g=j.jsx(c("PolarisUpcomingEventIndicatorWithSheetOrModal.react"),{analyticsContext:e,isVideo:!0,mediaId:o,upcomingEvent:m,upcomingEventThumbnailSrc:f,usertags:n}),b[4]=e,b[5]=o,b[6]=m,b[7]=f,b[8]=n,b[9]=g):g=b[9];return g}if(n!=null&&n.length>0&&e!=="reelsTab"){b[10]!==e||b[11]!==k||b[12]!==h||b[13]!==n?(l=d("PolarisConfig").isLoggedIn()?j.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:e,mediaId:k,post:h,usertags:n}):j.jsx(c("PolarisLoggedOutUserTagIndicatorWithSheet.react"),{analyticsContext:e,mediaId:k,post:h,usertags:n}),b[10]=e,b[11]=k,b[12]=h,b[13]=n,b[14]=l):l=b[14];return l}return null}g["default"]=a}),98);
__d("usePolarisShouldFeedMediaBeFullHeight",["PolarisClipsTabHelpers","PolarisDsaQEHelpers","PolarisFeedPageConstants","PolarisNavigationLayoutContext","PolarisPanavisionQEHelpers","react","usePolarisIsFeedMobileLayout","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(3),e=a.analyticsContext,f=a.height;a=a.width;var g=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),h=d("PolarisNavigationLayoutContext").usePolarisNavigationLayoutContext();h=h.navigationPosition;h=h==="bottom";h=d("PolarisClipsTabHelpers").getReelMediaContainerHeight(d("PolarisDsaQEHelpers").hasNonProfiledExperienceEnabled(),h);var j=c("usePolarisIsOnFeedPage")();if(!j||g)return!1;if(e==="feedPageModal")return!0;if(a!=null&&f!=null&&a!==0&&f!==0){j=d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH/a*f;g=Math.min(h*.5625,d("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH);e=g*1.7777777777777777;b[0]!==e||b[1]!==j?(a=j>=e-1&&d("PolarisPanavisionQEHelpers").hasNoLetterboxing(),b[0]=e,b[1]=j,b[2]=a):a=b[2];return a}return!1}g["default"]=a}),98);
__d("usePolarisShouldCenterCropPosterHeight",["PolarisUA","polarisVideoUtils","react","usePolarisIsOnFeedPage","usePolarisShouldFeedMediaBeFullHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var e,f=i(6),g=c("usePolarisIsOnFeedPage")();e=(e=b.dimensions)==null?void 0:e.height;b=(b=b.dimensions)==null?void 0:b.width;var h;f[0]!==a||f[1]!==e||f[2]!==b?(h={analyticsContext:a,height:e,width:b},f[0]=a,f[1]=e,f[2]=b,f[3]=h):h=f[3];a=c("usePolarisShouldFeedMediaBeFullHeight")(h);if(d("polarisVideoUtils").isIGTVFeedPreview())return!0;e=g&&!a;f[4]!==e?(b=d("PolarisUA").isMobile()||e,f[4]=e,f[5]=b):b=f[5];return b}g["default"]=a}),98);
__d("usePolarisShowVideoThumbnailAndOverlayLoggedOut",["PolarisRoutePropUtils","PolarisUA","VideoPlayerHooks","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useState,m=b.c;function a(a){var b=m(20),e=c("usePolarisAnalyticsContext")(),f=(i||(i=d("VideoPlayerHooks"))).useVideoPlaybackEnded(),g=i.usePlaying(),h=l(!1),n=h[0],o=h[1];h=l(!1);var p=h[0],q=h[1];h=l(!1);var r=h[0],s=h[1],t=i.useSeeking(),u;b[0]!==g?(h=function(){g&&o(!0)},u=[g],b[0]=g,b[1]=h,b[2]=u):(h=b[1],u=b[2]);k(h,u);b[3]!==t?(h=function(){t&&s(!0)},u=[t],b[3]=t,b[4]=h,b[5]=u):(h=b[4],u=b[5]);k(h,u);b[6]!==n||b[7]!==a?(h=function(){n&&!a&&q(!0)},u=[n,a],b[6]=n,b[7]=a,b[8]=h,b[9]=u):(h=b[8],u=b[9]);k(h,u);h=j(d("PolarisRoutePropUtils").PolarisRoutePropContext);bb0:{if(e==="reelsTab"){b[10]!==h?(u=h==null?void 0:h.routePropQE.getBool("show_reels_end_of_video"),b[10]=h,b[11]=u):u=b[11];h=u;break bb0}h=!0}u=h;bb1:{if(e==="unifiedHome"){h=!1;break bb1}h=!0}e=h;b[12]!==f||b[13]!==p||b[14]!==e||b[15]!==u?(h=d("PolarisUA").isMobile()&&(f||p&&e)&&u,b[12]=f,b[13]=p,b[14]=e,b[15]=u,b[16]=h):h=b[16];p=h;e=!n&&!r||f||p;b[17]!==p||b[18]!==e?(u=[p,e],b[17]=p,b[18]=e,b[19]=u):u=b[19];return u}g["default"]=a}),98);
__d("PolarisPostVideoPlayerLoggedOutSurface.react",["CometImage.react","PolarisPostVideoPlaybackOverlay.react","PolarisUA","PolarisVideoIndicatorIcon.react","VideoPlayerHooks","VideoPlayerSurface.react","cr:1816","react","usePolarisShouldCenterCropPosterHeight","usePolarisShowVideoThumbnailAndOverlayLoggedOut"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.c,m={thumbnail:{height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var e=l(25),f=a.analyticsContext,g=a.asSidecarChild,h=a.firstSidecarChildSrc,n=a.isVisible,o=a.post,p=a.poster;a=a.upcomingEventMediaId;n=n===void 0?!0:n;var q=(i||(i=d("VideoPlayerHooks"))).useController();n=c("usePolarisShowVideoThumbnailAndOverlayLoggedOut")(!!n);var r=n[0];n=n[1];var s=c("usePolarisShouldCenterCropPosterHeight")(f,o),t,u;e[0]!==r||e[1]!==q?(t=function(){r&&(q.pause("product_initiated"),q.freeze())},u=[r,q],e[0]=r,e[1]=q,e[2]=t,e[3]=u):(t=e[2],u=e[3]);k(t,u);if(e[4]!==n||e[5]!==o||e[6]!==p||e[7]!==s){u=n&&o.src!=null&&j.jsx(c("CometImage.react"),{src:(t=p)!=null?t:o.src,xstyle:s||d("PolarisUA").isDesktop()?m.thumbnail:void 0});e[4]=n;e[5]=o;e[6]=p;e[7]=s;e[8]=u}else u=e[8];e[9]!==o||e[10]!==r?(t=j.jsx(c("PolarisPostVideoPlaybackOverlay.react"),{post:o,shouldShowOverlay:r,showVideoControls:!1}),e[9]=o,e[10]=r,e[11]=t):t=e[11];e[12]!==f||e[13]!==g||e[14]!==h||e[15]!==o||e[16]!==a?(n=j.jsx(c("PolarisVideoIndicatorIcon.react"),{analyticsContext:f,asSidecarChild:g,firstSidecarChildSrc:h,post:o,upcomingEventMediaId:a}),e[12]=f,e[13]=g,e[14]=h,e[15]=o,e[16]=a,e[17]=n):n=e[17];e[18]!==r?(p=r&&b("cr:1816")&&j.jsx(b("cr:1816"),{}),e[18]=r,e[19]=p):p=e[19];e[20]!==u||e[21]!==t||e[22]!==n||e[23]!==p?(s=j.jsxs(c("VideoPlayerSurface.react"),{children:[u,t,n,p]}),e[20]=u,e[21]=t,e[22]=n,e[23]=p,e[24]=s):s=e[24];return s}g["default"]=a}),98);
__d("PolarisPostVideoPlayerWrapper.react",["PolarisVideoHelpers","react","usePolarisShouldCenterCropPosterHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(9),e=a.analyticsContext,f=a.children;a=a.post;e=c("usePolarisShouldCenterCropPosterHeight")(e,a);a=d("PolarisVideoHelpers").getVideoPaddingPercentFromDimensions(a.dimensions,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="xg10s4p x1n2onr6 xh8yej3",b[0]=e):e=b[0];a=a+"%";var g;b[1]!==a?(g={paddingBottom:a},b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a="xyzq4qe x5yr21d x10l6tqk xh8yej3",b[3]=a):a=b[3];b[4]!==f?(a=j.jsx("div",{className:a,children:f}),b[4]=f,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=j.jsx("div",{className:e,style:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("PolarisLoggedOutVideo.react",["PolarisPostVideoPlayerLoggedOutSurface.react","PolarisPostVideoPlayerWrapper.react","PolarisVideo.react","PolarisVideoHelpers","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b,e,f=i(30),g,h,k,l;f[0]!==a?(h=a.analyticsContext,g=a.post,k=a.poster,l=babelHelpers.objectWithoutPropertiesLoose(a,["analyticsContext","post","poster"]),f[0]=a,f[1]=g,f[2]=h,f[3]=k,f[4]=l):(g=f[1],h=f[2],k=f[3],l=f[4]);if(f[5]!==g){a=(a=d("PolarisVideoHelpers").getSDVideoSrcFromPost(g))!=null?a:g.videoUrl;f[5]=g;f[6]=a}else a=f[6];a=a;var m;f[7]!==g?(m=d("PolarisVideoHelpers").getHDVideoSrcFromPost(g),f[7]=g,f[8]=m):m=f[8];m=m;var n=g.accessibilityCaption,o;f[9]!==g?(o=d("PolarisVideoHelpers").getDashInfoFromPost(g),f[9]=g,f[10]=o):o=f[10];b=(b=g.dimensions)==null?void 0:b.height;e=(e=g.dimensions)==null?void 0:e.width;var p;f[11]!==h||f[12]!==g||f[13]!==k||f[14]!==l?(p=j.jsx(c("PolarisPostVideoPlayerLoggedOutSurface.react"),babelHelpers["extends"]({analyticsContext:h,post:g,poster:k},l)),f[11]=h,f[12]=g,f[13]=k,f[14]=l,f[15]=p):p=f[15];f[16]!==g.accessibilityCaption||f[17]!==g.id||f[18]!==o||f[19]!==m||f[20]!==b||f[21]!==e||f[22]!==k||f[23]!==a||f[24]!==p?(l=j.jsx(c("PolarisVideo.react"),{alt:n,autoplay:!0,dashInfo:o,hdSrc:m,loopCount:0,mediaId:g.id,originalHeight:b,originalWidth:e,poster:k,sdSrc:a,children:p}),f[16]=g.accessibilityCaption,f[17]=g.id,f[18]=o,f[19]=m,f[20]=b,f[21]=e,f[22]=k,f[23]=a,f[24]=p,f[25]=l):l=f[25];f[26]!==h||f[27]!==g||f[28]!==l?(n=j.jsx(c("PolarisPostVideoPlayerWrapper.react"),{analyticsContext:h,post:g,children:l}),f[26]=h,f[27]=g,f[28]=l,f[29]=n):n=f[29];return n}g["default"]=a}),98);
__d("PolarisPostPageGatedContentAPIReasonFallback.react",["PolarisHttpGatedContentPage.react","PolarisHttpGatedContentPageWithShell.react","react","useGatedContentInfo","usePolarisGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(10),d=a.error,e=a.fullpage;a=a.postId;e=e===void 0?!0:e;var f;b[0]!==a?(f={query:{content_type:"MEDIA",target_id:a}},b[0]=a,b[1]=f):f=b[1];f=c("usePolarisGetQuery")("/api/v1/web/get_ruling_for_content/",f);f=c("useGatedContentInfo")(f);if(f==null)throw d;d=e?c("PolarisHttpGatedContentPageWithShell.react"):c("PolarisHttpGatedContentPage.react");b[2]!==d||b[3]!==f.blocks_logging_data||b[4]!==f.description||b[5]!==f.geo_block_rule_type||b[6]!==f.session_id||b[7]!==f.title||b[8]!==a?(e=j.jsx(d,{blocksLoggingData:f.blocks_logging_data,description:f.description,entityId:a,geoBlockRuleType:f.geo_block_rule_type,sessionId:f.session_id,title:f.title}),b[2]=d,b[3]=f.blocks_logging_data,b[4]=f.description,b[5]=f.geo_block_rule_type,b[6]=f.session_id,b[7]=f.title,b[8]=a,b[9]=e):e=b[9];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("InstagramNetegoImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5889");b=d("FalcoLoggerInternal").create("instagram_netego_impression",a);e=b;g["default"]=e}),98);
__d("InstagramNetegoInvalidationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5891");b=d("FalcoLoggerInternal").create("instagram_netego_invalidation",a);e=b;g["default"]=e}),98);
__d("InstagramNetegoSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5892");b=d("FalcoLoggerInternal").create("instagram_netego_sub_impression",a);e=b;g["default"]=e}),98);
__d("InstagramWebTypeaheadResultSelectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5676");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_result_select",a);e=b;g["default"]=e}),98);
__d("InstagramWebTypeaheadSearchAttemptFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5677");b=d("FalcoLoggerInternal").create("instagram_web_typeahead_search_attempt",a);e=b;g["default"]=e}),98);
__d("usePolarisBloksNetegoFeedUnitImpressionLogger",["InstagramNetegoImpressionFalcoEvent","InstagramNetegoSubImpressionFalcoEvent","PolarisConfig","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.c,j=6e4,k=new Map();function l(a,b){k.set(a,b)}function a(a){var b=i(9),e=a.gapToPreviousAd,f=a.gapToPreviousNetego,g=a.id,h=a.netegoType,m=a.position,n=a.trackingToken;b[0]!==g||b[1]!==h||b[2]!==e||b[3]!==f||b[4]!==m||b[5]!==n?(a=function(a){a=a.visibleTime;if(g==null||h==null)return;var b=d("PolarisConfig").getViewerId(),i={gap_to_last_ad:e!=null?String(e):null,gap_to_last_netego:f!=null?String(f):null,id:g,pk:b,position:String(m),tracking_token:n,type:h},o=i.id+"-"+String(m),p=k.get(o);p==null?(c("InstagramNetegoImpressionFalcoEvent").logImmediately(function(){return babelHelpers["extends"]({},i,{ig_userid:b})}),l(o,a)):a-p>j&&(c("InstagramNetegoSubImpressionFalcoEvent").logImmediately(function(){return i}),l(o,a))},b[0]=g,b[1]=h,b[2]=e,b[3]=f,b[4]=m,b[5]=n,b[6]=a):a=b[6];a=a;var o;b[7]!==a?(o={onImpressionStart:a},b[7]=a,b[8]=o):o=b[8];return c("usePartialViewImpression")(o)}g["default"]=a}),98);
__d("PolarisBloksNetegoFeedUnit.react",["CometErrorBoundary.react","IGWebBloksApp","InstagramNetegoInvalidationFalcoEvent","react","stylex","useJSON","usePolarisBloksNetegoFeedUnitImpressionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;var k=b.c;function a(a){var b=k(16),d=a.gapToPreviousAd,e=a.gapToPreviousNetego,f=a.id,g=a.netegoType,h=a.payload,i=a.position,m=a.trackingToken;a=a.xstyle;var n;b[0]!==m||b[1]!==f||b[2]!==g?(n=function(){if(m==null)return;c("InstagramNetegoInvalidationFalcoEvent").logImmediately(function(){return{id:f,tracking_token:m,type:g}})},b[0]=m,b[1]=f,b[2]=g,b[3]=n):n=b[3];n=n;var o;b[4]!==d||b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==i||b[10]!==m||b[11]!==a?(o=j.jsx(l,{gapToPreviousAd:d,gapToPreviousNetego:e,id:f,netegoType:g,payload:h,position:i,trackingToken:m,xstyle:a}),b[4]=d,b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=i,b[10]=m,b[11]=a,b[12]=o):o=b[12];b[13]!==n||b[14]!==o?(d=j.jsx(c("CometErrorBoundary.react"),{onError:n,children:o}),b[13]=n,b[14]=o,b[15]=d):d=b[15];return d}function l(a){var b=k(17),d=a.gapToPreviousAd,e=a.gapToPreviousNetego,f=a.id,g=a.netegoType,i=a.payload,l=a.position,m=a.trackingToken;a=a.xstyle;var n;b[0]!==d||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==l||b[5]!==m?(n={gapToPreviousAd:d,gapToPreviousNetego:e,id:f,netegoType:g,position:l,trackingToken:m},b[0]=d,b[1]=e,b[2]=f,b[3]=g,b[4]=l,b[5]=m,b[6]=n):n=b[6];d=c("usePolarisBloksNetegoFeedUnitImpressionLogger")(n);f=c("useJSON")((e=i)!=null?e:"{}");b[7]!==f?(g={layout:{bloks_payload:f}},b[7]=f,b[8]=g):g=b[8];l=g;m=l;b[9]!==a?(n=(h||(h=c("stylex")))(a),b[9]=a,b[10]=n):n=b[10];b[11]!==m?(i=j.jsx(c("IGWebBloksApp"),{payload:m}),b[11]=m,b[12]=i):i=b[12];b[13]!==n||b[14]!==d||b[15]!==i?(e=j.jsx("div",{className:n,ref:d,children:i}),b[13]=n,b[14]=d,b[15]=i,b[16]=e):e=b[16];return e}g["default"]=a}),98);
__d("PolarisEmojiPopoverConstants",[],(function(a,b,c,d,e,f){"use strict";a=309;b=309;c=333;d=325;e=55;var g=302;f.EMOJI_TRAY_WIDTH=a;f.EMOJI_TRAY_HEIGHT=b;f.EMOJI_TRAY_WIDTH_WITH_MARGIN=c;f.EMOJI_TRAY_HEIGHT_WITH_MARGIN=d;f.VARIATION_CONTENT_HEIGHT=e;f.VARIATION_CONTENT_WIDTH_6_EMOJIS=g}),66);
__d("PolarisEmojiPopoverPlaceholder.react",["IGDSBox.react","IGDSGlimmer.react","IGDSPopoverLoadingState.react","PolarisEmojiPopoverConstants","range","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k={emoji:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x10w6t97",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",width:"x1td3qas",$$css:!0},label:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x1kpxq89",marginTop:"x1xmf6yo",marginEnd:"x1emribx",marginBottom:"x1e56ztr",marginStart:"x1i64zmx",width:"xxljpkc",$$css:!0},popover:{marginBottom:"x1yztbdb",$$css:!0}};function a(){var a=i(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("IGDSBox.react"),{height:"fit-content",marginTop:2,width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH,children:[j.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:k.label}),j.jsx("div",{className:"x78zum5 x1a02dak xwib8y2",children:c("range")(0,14).map(m)}),j.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:k.label}),j.jsx("div",{className:"x78zum5 x1a02dak xwib8y2",children:Array(28).fill(0).map(l)})]}),a[0]=b):b=a[0];b=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSPopoverLoadingState.react"),{popoverContent:j.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",height:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_HEIGHT_WITH_MARGIN,justifyContent:"center",width:d("PolarisEmojiPopoverConstants").EMOJI_TRAY_WIDTH_WITH_MARGIN,children:b}),popoverXStyle:k.popover}),a[1]=b):b=a[1];return b}function l(a,b){return j.jsx(c("IGDSGlimmer.react"),{index:b,xstyle:k.emoji},"emoji_glimmer_"+b)}l.displayName=l.name+" [from "+f.id+"]";function m(a){return j.jsx(c("IGDSGlimmer.react"),{index:a,xstyle:k.emoji},"emoji_glimmer_"+a)}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisEmojiButton.react",["IGDSFace2PanoOutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","JSResourceForInteraction","PolarisDirectStrings","PolarisEmojiPopoverPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h,k=c("JSResourceForInteraction")("PolarisEmojiPopover.react").__setRef("PolarisEmojiButton.react"),l=13;function a(a){var b=i(27),e,f,g,h;if(b[0]!==a){var m=a.color,n=a.disableAutoAlign,o=a.disableAutoFlip,p=a.emojiTrayAlignment,q=a.emojiTrayPosition,r=a.onEmojiClick,s=a.padding,t=a.setEmojiTrayOpen,u=a.size;r=r;h=s;e=t;g=m===void 0?"ig-primary-text":m;s=n===void 0?!1:n;t=o===void 0?!1:o;m=p===void 0?"start":p;n=q===void 0?"above":q;o=u===void 0?"medium":u;f=void 0;o==="small"?f=l:typeof o==="number"&&(f=o);b[0]=a;b[1]=e;b[2]=r;b[3]=f;b[4]=g;b[5]=h;b[6]=m;b[7]=s;b[8]=t;b[9]=n}else e=b[1],r=b[2],f=b[3],g=b[4],h=b[5],m=b[6],s=b[7],t=b[8],n=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(c("PolarisEmojiPopoverPlaceholder.react"),{}),b[10]=p):p=b[10];b[11]!==e?(q=function(a){e(a)},b[11]=e,b[12]=q):q=b[12];b[13]!==r?(u={handleEmojiClick:r},b[13]=r,b[14]=u):u=b[14];o=f;b[15]!==g||b[16]!==o||b[17]!==h?(a=function(a,b){return j.jsx(c("IGDSIconButton.react"),{hover:j.jsx(c("IGDSFace2PanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:g==="ig-secondary-text"?"ig-tertiary-text":void 0,size:f}),innerRef:a,onClick:b,padding:h===!0?8:0,children:j.jsx(c("IGDSFace2PanoOutlineIcon.react"),{alt:d("PolarisDirectStrings").EMOJI_BUTTON_ALT_TEXT,color:g,size:f})})},b[15]=g,b[16]=o,b[17]=h,b[18]=a):a=b[18];b[19]!==m||b[20]!==s||b[21]!==t||b[22]!==q||b[23]!==u||b[24]!==n||b[25]!==a?(r=j.jsx(c("IGDSLazyPopoverTrigger.react"),{align:m,disableAutoAlign:s,disableAutoFlip:t,fallback:p,onVisibilityChange:q,popoverProps:u,popoverResource:k,position:n,preloadTrigger:"button",children:a}),b[19]=m,b[20]=s,b[21]=t,b[22]=q,b[23]=u,b[24]=n,b[25]=a,b[26]=r):r=b[26];return r}g["default"]=a}),98);
__d("PolarisPostCommentInputReplyingToBar.react",["fbt","IGDSIconButton.react","IGDSXFilledIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={clearButton:{":active_opacity":"x1d5wrs8",$$css:!0},iOSStyling:{backgroundColor:"xjbqb8w",paddingBottom:"x1a8lsjc",paddingStart:"x1e558r4",paddingLeft:null,paddingRight:null,paddingEnd:"x150jy0e",paddingTop:"xexx8yu",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderBottomColor:"x1ixjvfu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",paddingTop:"xz9dl7a",paddingEnd:"x1pi30zi",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",$$css:!0}};function a(a){var b=k(11),d=a.isRevampedMobileInput,e=a.onClearReply;a=a.username;d=d===void 0?!1:d;d=d&&m.iOSStyling;var f;b[0]!==d?(f=(i||(i=c("stylex")))(m.root,d),b[0]=d,b[1]=f):f=b[1];b[2]!==a?(d=l.jsx("span",{children:h._("__JHASH__VtKxQrCzs4E__JHASH__",[h._param("username",a)])}),b[2]=a,b[3]=d):d=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSXFilledIcon.react"),{alt:"at",size:14}),b[4]=a):a=b[4];b[5]!==e?(a=l.jsx(c("IGDSIconButton.react"),{onClick:e,padding:0,xstyle:m.clearButton,children:a}),b[5]=e,b[6]=a):a=b[6];b[7]!==f||b[8]!==d||b[9]!==a?(e=l.jsxs("div",{className:f,children:[d,a]}),b[7]=f,b[8]=d,b[9]=a,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("PolarisStoryTypeaheadConstants",[],(function(a,b,c,d,e,f){"use strict";a="touch_mention";f.TOUCH_MENTION_ID=a}),66);
__d("PolarisStoryTypeaheadResultsList.react",["cx","fbt","PolarisDOMListener.react","PolarisIGCorePressable.react","PolarisIGVirtualList.react","PolarisSearchConstants","PolarisStoryTypeaheadConstants","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=100,m=6;function n(a){return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={results:[]},e.$2=function(a){a=a.index;var b=e.state.results[a];return k.jsxs(c("PolarisIGCorePressable.react"),{className:"_acn7",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,onPress:function(a){return e.$1(b,a)},children:[k.jsx("img",{alt:i._("__JHASH__B2hKC5spJyT__JHASH__",[i._param("username",b.username)]),className:"_acn8",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,src:b.profilePictureUrl}),k.jsx("div",{className:"_acn9",children:b.username})]},b.username)},e.$3=function(a){a.stopPropagation()},b)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a,b){return babelHelpers["extends"]({},b,{results:n(a.results)})};var e=b.prototype;e.componentDidMount=function(){this.setState({results:n(this.props.results)})};e.$1=function(a,b){b.preventDefault();b=this.props.pendingQueryStartIndex;this.props.onResultSelect(a,b)};e.render=function(){return k.jsxs("div",{className:"_acna",id:d("PolarisStoryTypeaheadConstants").TOUCH_MENTION_ID,children:[k.jsx(c("PolarisDOMListener.react"),{event:"touchmove",handler:this.$3,passive:!1,target:document}),k.jsx(c("PolarisIGVirtualList.react"),{containerSize:"auto",direction:"horizontal",estimatedItemSize:l,initialRenderCount:m,itemCount:this.state.results.length,overscanCount:m,renderer:this.$2})]})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisTypeaheadResultsItem.react",["cx","fbt","IGDSCheckbox.react","PolarisIGCoreConstants","PolarisPostsStatistic.react","PolarisSearchConstants","PolarisSocialProofStatisticVariant","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=function(a){a.preventDefault()},c.$2=function(a){c.props.onClick&&c.props.onClick(c.props.result,a)},c.$3=function(){c.props.onMouseEnter&&c.props.onMouseEnter(c.props.index,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_MOUSE)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$4=function(a,b,e){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return k.jsxs("div",{className:"_acmr",children:[k.jsx(c("PolarisUserAvatar.react"),{alt:i._("__JHASH__B2hKC5spJyT__JHASH__",[i._param("username",a.username)]),className:"_acms",isLink:!1,profilePictureUrl:a.profilePictureUrl,size:this.props.showLargeAvatars?c("PolarisIGCoreConstants").AVATAR_SIZES.medium:c("PolarisIGCoreConstants").AVATAR_SIZES.small,username:a.username}),k.jsxs("div",{className:"_acmt",children:[k.jsxs("div",{className:"_acmu",children:[a.username,a.isVerified?k.jsx("div",{className:"_acmv _9ys8"}):null]}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.fullName})]}),b===!0?k.jsx("div",{children:k.jsx(c("IGDSCheckbox.react"),{checkboxShape:"circle",isChecked:e!=null?e.includes(a.pk):!1,onChange:function(){},size:16})}):null]});case d("PolarisSearchConstants").HASHTAG_RESULT:b=a.mediaCount;return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:"#"+a.name}),b!=null&&k.jsx("div",{className:"_acmw",children:k.jsx(c("PolarisPostsStatistic.react"),{value:b,variant:d("PolarisSocialProofStatisticVariant").SOCIAL_PROOF_STATS_VARIANTS.unstyled})})]});case d("PolarisSearchConstants").LOCATION_RESULT:return k.jsxs("div",{className:"_acmt",children:[k.jsx("span",{className:"_acmu",dir:"auto",children:a.name}),k.jsx("span",{className:"_acmw",dir:"auto",children:a.address})]});default:return null}};e.render=function(){var a=this.props,b=a.isCheckboxEnabled;b=b===void 0?!1:b;var c=a.selectedUserIds;c=c===void 0?[]:c;var d=a.isSelected,e=a.result,f=a.showLargeAvatars;a=a.size;a=a===void 0?"default":a;e=this.$4(e,b,c);return e?k.jsx("button",{className:(f?"":"_acmx")+(f?" _acmy":"")+(a==="extraLarge"?" _acmz":"")+(d?" _acm-":""),"data-testid":void 0,onClick:this.$2,onMouseDown:this.$1,onMouseEnter:this.$3,children:e}):null};return b}(k.Component);g["default"]=a}),226);
__d("PolarisTypeaheadResultsList.react",["cx","IGDSSpinner.react","PolarisSearchConstants","PolarisTypeaheadResultsItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.c;function a(a){var b=m(28),d=a.isCheckboxEnabled,e=a.loading,f=a.onResultHighlight,g=a.onResultSelect,h=a.pendingQueryStartIndex,i=a.results,p=a.searchContext,q=a.selectedIndex,r=a.selectedUserIds,s=a.showLargeAvatars,t=a.showResultsCondensed,u=a.size,v=l(),w=l(),x;b[0]!==q?(a=function(){if(v.current&&q!=null){var a=v.current.clientHeight;v.current.scrollTop=a*Math.floor(q/4)}},x=[q],b[0]=q,b[1]=a,b[2]=x):(a=b[1],x=b[2]);k(a,x);b[3]!==g||b[4]!==h?(a=function(a,b){b.preventDefault(),g(a,h)},b[3]=g,b[4]=h,b[5]=a):a=b[5];var y=a,z=n,A;if(b[6]!==d||b[7]!==q||b[8]!==y||b[9]!==f||b[10]!==r||b[11]!==s||b[12]!==u||b[13]!==e||b[14]!==t||b[15]!==i||b[16]!==p){x=function(a,b){return j.jsx("div",{ref:b===0?w:null,children:j.jsx(c("PolarisTypeaheadResultsItem.react"),{index:b,isCheckboxEnabled:d,isSelected:b===q,onClick:y,onMouseEnter:f,result:a,selectedUserIds:r,showLargeAvatars:s,size:u})},z(a))};b[20]===Symbol["for"]("react.memo_cache_sentinel")?(a="_acm_",b[20]=a):a=b[20];b[21]!==e||b[22]!==t?(A=e&&j.jsx("div",{className:(t?"_acn0":"")+(t?"":" _acn1"),children:j.jsx("div",{className:"_acn2"+(t?"":" _acn3")+(t?" _acn4":""),children:j.jsx(c("IGDSSpinner.react"),{size:"medium"})})}),b[21]=e,b[22]=t,b[23]=A):A=b[23];x=!e&&j.jsx("div",{className:"_acn5"+(t?" _acn6":""),ref:v,children:o(i,p,r).map(x)});b[6]=d;b[7]=q;b[8]=y;b[9]=f;b[10]=r;b[11]=s;b[12]=u;b[13]=e;b[14]=t;b[15]=i;b[16]=p;b[17]=a;b[18]=A;b[19]=x}else a=b[17],A=b[18],x=b[19];b[24]!==a||b[25]!==A||b[26]!==x?(e=j.jsxs("div",{className:a,children:[A,x]}),b[24]=a,b[25]=A,b[26]=x,b[27]=e):e=b[27];return e}function n(a){switch(a.type){case d("PolarisSearchConstants").USER_RESULT:return"user_"+a.username;case d("PolarisSearchConstants").HASHTAG_RESULT:return"hashtag_"+a.name;case d("PolarisSearchConstants").LOCATION_RESULT:return"location_"+a.external_id;default:return null}}function o(a,b,c){switch(b){case d("PolarisSearchConstants").SEARCH_CONTEXT.USER:return a.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT&&!(c==null?void 0:c.includes(a.pk))});case d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG:return a.filter(function(a){return a.type===d("PolarisSearchConstants").HASHTAG_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION:return a.filter(function(a){return a.type===d("PolarisSearchConstants").LOCATION_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:default:return a}}g["default"]=a}),98);
__d("PolarisTypeahead.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","InstagramWebTypeaheadSearchAttemptFalcoEvent","PolarisIGHashtagRegex","PolarisIGUsernameRegex","PolarisSearchConstants","PolarisStoryTypeaheadResultsList.react","PolarisTypeaheadResultsList.react","polarisLogAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState,n=10,o=new RegExp(d("PolarisIGHashtagRegex").HASH_CHARS),p=new RegExp(d("PolarisIGUsernameRegex").MENTIONS_MARKER),q={typeaheadAttempt:"typeaheadAttempt",typeaheadClickSuccess:"typeaheadClickSuccess"};function r(a){c("polarisLogAction")(q.typeaheadClickSuccess,{searchContext:a}),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function s(a){c("polarisLogAction")(q.typeaheadAttempt,{searchContext:a}),c("InstagramWebTypeaheadSearchAttemptFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}function a(a){var b=a.className,e=a.clearOnResultSelection,f=e===void 0?!0:e;a.currentLocation;var g=a.cursorIndex;e=a.initialSearchContext;e=e===void 0?d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED:e;var h=a.inputString,o=h===void 0?"":h;h=a.isCheckboxEnabled;var p=a.loading,q=a.onClearSearch,w=a.onCollaboratorSearch,x=a.onResultHighlight,y=a.onResultSelect,z=a.onSearch,A=a.onSearchLocations,B=a.rankToken,C=a.results,D=a.searchOnMount,E=D===void 0?!1:D;D=a.selectedIndex;var F=a.selectedUserIds,G=a.showLargeAvatars;G=G===void 0?!1:G;var H=a.showResultsCondensed;H=H===void 0?!0:H;var I=a.size,J=a.useSearchTriggers;a=m(J?null:0);var K=a[0],L=a[1];a=m(e);var M=a[0],N=a[1],O=l(),P=l(),Q=j(function(a){M===d("PolarisSearchConstants").SEARCH_CONTEXT.LOCATION?A(a):z(M,a,B),w&&w(),window.clearTimeout(O.current)},[z,A,B,M,w]);k(function(){if(E&&K!==null){var a=J?o.slice(K,g):o;window.clearTimeout(O.current);O.current=window.setTimeout(function(){return Q(a)},n);return}},[g,Q,o,K,E,J]);k(function(){return function(){q(),window.clearTimeout(O.current)}},[q]);var R=j(function(){L(J?null:0),q()},[q,J]);k(function(){var a;if(((a=P.current)==null?void 0:a.inputString)!==o||E&&g!==((a=P.current)==null?void 0:a.cursorIndex)){a=o.slice(g-1,g);if(J&&t(a)){var b;(b=P.current)==null?void 0:b.onClearSearch();L(g);N(v(a))}else if(K!==null&&(!o||J&&u(a)))R();else if(K!==null){var c=J?o.slice(K,g):o;window.clearTimeout(O.current);O.current=window.setTimeout(function(){s(M),Q(c)},n)}}P.current={cursorIndex:g,inputString:o,onClearSearch:q}},[g,Q,R,o,q,K,M,E,J]);e=function(a,b){f===!0&&R(),y(a,b),r(M)};return i.jsxs("div",{className:b,"data-testid":void 0,children:[K!=null&&!E&&i.jsx(c("PolarisTypeaheadResultsList.react"),{isCheckboxEnabled:h,loading:p,onResultHighlight:x,onResultSelect:e,pendingQueryStartIndex:K,results:C,searchContext:M,selectedIndex:D,selectedUserIds:F,showLargeAvatars:G,showResultsCondensed:H,size:I}),K!=null&&E&&i.jsx(c("PolarisStoryTypeaheadResultsList.react"),{onResultHighlight:x,onResultSelect:e,pendingQueryStartIndex:K,results:C,searchContext:M})]})}a.displayName=a.name+" [from "+f.id+"]";function t(a){return o.test(a)||p.test(a)}function u(a){return/\s/.test(a)}function v(a){if(o.test(a))return d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG;return p.test(a)?d("PolarisSearchConstants").SEARCH_CONTEXT.USER:d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED}g["default"]=a}),98);
__d("PolarisTypeaheadContainer.react",["PolarisReactRedux.react","PolarisSearchActions","PolarisTypeahead.react","polarisSearchSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=d("polarisSearchSelectors").getCurrentSearchContent(a);return{loading:a.loading,rankToken:a.rankToken,results:a.results,selectedIndex:a.selectedIndex}}function b(a){return{onClearSearch:function(){a(d("PolarisSearchActions").clearSearch())},onResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))},onSearch:function(b,c,e){a(d("PolarisSearchActions").search(b,c,e))},onSearchLocations:function(b,c,e){a(d("PolarisSearchActions").searchLocations(b,c,e))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisTypeahead.react"));g["default"]=e}),98);
__d("PolarisTypeaheadInput.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","Keys","PolarisReactRedux.react","PolarisSearchActions","PolarisSearchConstants","ReactTextareaAutosizeWWWIG","getTextDirection","polarisLogAction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={typeaheadClickSuccess:"typeaheadClickSuccess"},l={root:{fontFamily:"x1i0vuye",$$css:!0}};e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=null,e.state={hasFocus:!1},e.$3=function(a){e.props.onBlur&&e.props.onBlur(a),e.setState({hasFocus:!1})},e.$4=function(a){e.props.onFocus&&e.props.onFocus(a),e.setState({hasFocus:!0})},e.$5=function(a){e.props.onChange(a.target.value,a.target.selectionEnd)},e.$6=function(a){e.$1=a,e.props.inputRef&&e.props.inputRef(a)},e.$7=function(a){var b=e.props.search.content[e.props.search.currentSearchTab],f=b.loading,g=b.results,h=b.searchedForQuery;b=b.selectedIndex;!a.altKey&&(g.length>0||f)&&(a.which===c("Keys").DOWN?(b==null?e.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD):b<g.length-1&&e.props.onTypeaheadResultHighlight(b+1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").UP?(b!=null&&b>0&&e.props.onTypeaheadResultHighlight(b-1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD),a.preventDefault()):a.which===c("Keys").RETURN&&(g!=null&&g.length>0&&(b!=null?(e.props.onTypeaheadResultSelect(g[b],e.props.cursorIndex-h.length),m()):e.props.onTypeaheadResultHighlight(0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD)),a.preventDefault()))},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.shouldComponentUpdate=function(a,b){return this.props.value!==a.value||this.props.cursorIndex!==a.cursorIndex||this.props.disabled!==a.disabled||this.state.hasFocus!==b.hasFocus};e.componentDidUpdate=function(a,b){this.state.hasFocus&&this.$1!=null&&this.props.cursorIndex!==this.$1.selectionEnd&&this.$2()};e.$2=function(){var a=this.$1;a&&(a.focus(),a.setSelectionRange(this.props.cursorIndex,this.props.cursorIndex))};e.render=function(){var a=this.props,b=a.autosize;a.cursorIndex;a.inputRef;a.onTypeaheadResultHighlight;a.onTypeaheadResultSelect;a.search;var d=a.value,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["autosize","cursorIndex","inputRef","onTypeaheadResultHighlight","onTypeaheadResultSelect","search","value","xstyle"]);var f=c("getTextDirection")(d);e={autoComplete:"off",autoCorrect:"off",className:(h||(h=c("stylex")))(l.root,e),dir:f,onBlur:this.$3,onChange:this.$5,onFocus:this.$4,onKeyDown:this.$7,value:d};return b===!0?j.jsx(c("ReactTextareaAutosizeWWWIG"),babelHelpers["extends"]({},a,e,{ref:this.$6})):j.jsx("textarea",babelHelpers["extends"]({},a,e,{ref:this.$6}))};return b}(j.Component);function m(){c("polarisLogAction")(k.typeaheadClickSuccess),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env}})}function a(a){return{search:a.search}}function b(a){return{onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);
__d("PolarisPostCommentInputForm.react",["fbt","IGDSButton.react","IGDSSpinner.react","PolarisEmojiButton.react","PolarisPostCommentInputReplyingToBar.react","PolarisTypeaheadContainer.react","PolarisTypeaheadInput.react","PolarisUA","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.c,m=h._("__JHASH__CPNtEZUIkbA__JHASH__"),n={border:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",$$css:!0},emojiButton:{paddingTop:"x1y1aw1k",paddingEnd:"x1pi30zi",paddingBottom:"xwib8y2",paddingStart:"x1swvt13",$$css:!0},emojiButtonOnRevampFeed:{marginEnd:"x1w0mnb",$$css:!0},emojiButtonV2:{paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",$$css:!0},familiarFeedEmojiButton:{order:"xo1ph6p",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},familiarFeedPostButton:{marginTop:"xdj266r",marginEnd:"x1emribx",marginBottom:"xat24cr",marginStart:"x1i64zmx",$$css:!0},form:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",font:"xln7xf2",fontSize:"xk390pu",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},formRevamp:{borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},formRevampDesktopFeed:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},formRich:{backgroundColor:"xvbhtw8",borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x10m1dyt",borderTopEndRadius:"xx7vh7w",borderBottomEndRadius:"xqw4mrg",borderBottomStartRadius:"x18f6g3z",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",marginEnd:"xktsk01",paddingTop:"xz9dl7a",paddingEnd:"x1pi30zi",paddingBottom:"xsag5q8",paddingStart:"x1swvt13",$$css:!0},postButton:{marginStart:"x1i64zmx",$$css:!0},revampedMobileInput:{borderTopColor:"x1yvgwvq",borderEndColor:"x1dqoszc",borderBottomColor:"x1ixjvfu",borderStartColor:"xhk4uv",borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",$$css:!0},shouldShowReplyBar:{marginBottom:"xyorhqc",$$css:!0},textArea:{backgroundColor:"xvbhtw8",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",color:"x5n08af",display:"x78zum5",flexGrow:"x1iyjqo2",fontSize:"x1qlqyl8",height:"x1d6elog",maxHeight:"xlk1fp6",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",resize:"xtt52l0",width:"xnalus7","::placeholder_color":"xs3hnx8",":disabled_opacity":"x1bq4at4",":disabled_pointerEvents":"xaqnwrm",$$css:!0},typeahead:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxShadow:"x1jumc70",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},typeaheadDesktop:{backgroundColor:"xvbhtw8",boxShadow:"x122emky",minWidth:"x92112o",position:"x10l6tqk",top:"xdsb8wn",$$css:!0},typeaheadMobile:{bottom:"x58jzl7",end:"xds687c",start:"x17qophe",position:"x10l6tqk",$$css:!0},typeaheadShowAboveInput:{bottom:"x10w3d4m",top:"x80663w",$$css:!0},withReplyBar:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",flexDirection:"xdt5ytf",$$css:!0}},o={root:{color:"xkx5cws",opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=l(60),e=a.autosize,f=a.cursorIndex,g=a.familiarFeed,j=a.hasPostButton,p=a.hasRichCommentInput,q=a.inputRef,r=a.isEmojiTrayOpen,s=a.isOnDesktopFeed,t=a.isRevampedMobileInput,u=a.isRevampVersion,v=a.isSubmitDisabled,w=a.isTypeaheadInputDisabled,x=a.onBlur,y=a.onChange,z=a.onClearReply,A=a.onEmojiClick,B=a.onEmojiTrayOpen,C=a.onFocus,D=a.onKeyPress,E=a.onKeyUp,F=a.onPostButtonClicked,G=a.onTypeaheadResultSelect,H=a.openTypeaheadAbove,I=a.pendingComment,J=a.repliedToUsername,K=a.replyingToBarWithinInput;a=a.showTypeahead;p=p===void 0?!1:p;t=t===void 0?!1:t;K=K===void 0?!1:K;var L=u&&s===!0,M=K&&J!=null&&J!==""&&z!=null,N;b[0]!==C?(N=function(){C()},b[0]=C,b[1]=N):N=b[1];N=N;var O=t?n.revampedMobileInput:n.border,P=K&&J!=null&&n.withReplyBar,Q=p&&n.formRich,R=p&&u&&n.formRevamp;p=p&&L&&n.formRevampDesktopFeed;var S;b[2]!==O||b[3]!==P||b[4]!==Q||b[5]!==R||b[6]!==p?(S=(i||(i=c("stylex")))(n.form,O,P,Q,R,p),b[2]=O,b[3]=P,b[4]=Q,b[5]=R,b[6]=p,b[7]=S):S=b[7];b[8]!==w?(O=w&&k.jsx(c("IGDSSpinner.react"),{position:"absolute"}),b[8]=w,b[9]=O):O=b[9];b[10]!==K||b[11]!==z||b[12]!==J||b[13]!==M||b[14]!==t?(P=K&&z!=null&&J!=null&&k.jsx("div",{className:(i||(i=c("stylex")))(M&&n.shouldShowReplyBar),children:k.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{isRevampedMobileInput:t,onClearReply:z,username:J})}),b[10]=K,b[11]=z,b[12]=J,b[13]=M,b[14]=t,b[15]=P):P=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(Q="x6s0dn4 x78zum5 x1q0g3np x1iyjqo2 xs83m0k xln7xf2 xk390pu xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf",b[16]=Q):Q=b[16];b[17]!==s||b[18]!==g||b[19]!==L||b[20]!==u||b[21]!==r||b[22]!==A||b[23]!==B?(R=d("PolarisUA").isDesktop()&&k.jsx("div",{className:(i||(i=c("stylex")))([s===!0?n.emojiButtonV2:n.emojiButton,g?n.familiarFeedEmojiButton:null,L&&n.emojiButtonOnRevampFeed]),children:k.jsx(c("PolarisEmojiButton.react"),{color:g?"ig-secondary-text":void 0,isEmojiTrayOpen:r,onEmojiClick:A,setEmojiTrayOpen:B,size:g&&(!u||L)?"small":void 0})}),b[17]=s,b[18]=g,b[19]=L,b[20]=u,b[21]=r,b[22]=A,b[23]=B,b[24]=R):R=b[24];b[25]!==e||b[26]!==f||b[27]!==w||b[28]!==q||b[29]!==x||b[30]!==y||b[31]!==N||b[32]!==D||b[33]!==E||b[34]!==G||b[35]!==I?(p=k.jsx(c("PolarisTypeaheadInput.react"),{"aria-label":m,autosize:e,cursorIndex:f,"data-testid":void 0,disabled:w,inputRef:q,onBlur:x,onChange:y,onFocus:N,onKeyPress:D,onKeyUp:E,onTypeaheadResultSelect:G,placeholder:m,value:I,xstyle:n.textArea}),b[25]=e,b[26]=f,b[27]=w,b[28]=q,b[29]=x,b[30]=y,b[31]=N,b[32]=D,b[33]=E,b[34]=G,b[35]=I,b[36]=p):p=b[36];b[37]!==j||b[38]!==g||b[39]!==v||b[40]!==F?(K=j&&(g?!v:!0)&&k.jsx("div",{className:(i||(i=c("stylex")))(g?n.familiarFeedPostButton:n.postButton),children:k.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",isDisabled:v,label:h._("__JHASH__zzYm0I61wsT__JHASH__"),onClick:F,variant:"primary_link",xstyle:v?o.root:void 0})}),b[37]=j,b[38]=g,b[39]=v,b[40]=F,b[41]=K):K=b[41];b[42]!==R||b[43]!==p||b[44]!==K?(z=k.jsxs("div",{className:Q,children:[R,p,K]}),b[42]=R,b[43]=p,b[44]=K,b[45]=z):z=b[45];b[46]!==S||b[47]!==O||b[48]!==P||b[49]!==z?(J=k.jsxs("form",{className:S,"data-testid":void 0,method:"POST",children:[O,P,z]}),b[46]=S,b[47]=O,b[48]=P,b[49]=z,b[50]=J):J=b[50];b[51]!==a||b[52]!==H||b[53]!==f||b[54]!==I||b[55]!==G?(M=a?k.jsx(c("PolarisTypeaheadContainer.react"),{className:(i||(i=c("stylex")))([n.typeahead,d("PolarisUA").isMobile()?n.typeaheadMobile:n.typeaheadDesktop,H?n.typeaheadShowAboveInput:null]),cursorIndex:f,inputString:I,onResultSelect:G,showResultsCondensed:!0,useSearchTriggers:!0}):null,b[51]=a,b[52]=H,b[53]=f,b[54]=I,b[55]=G,b[56]=M):M=b[56];b[57]!==J||b[58]!==M?(t=k.jsxs(k.Fragment,{children:[J,M]}),b[57]=J,b[58]=M,b[59]=t):t=b[59];return t}g["default"]=a}),226);
__d("polarisUpdateTextOnTypeaheadSelect",["PolarisSearchConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f="";switch(a.type){case d("PolarisSearchConstants").USER_RESULT:f=a.username;break;case d("PolarisSearchConstants").HASHTAG_RESULT:f=a.name;break;default:return{updatedCursorIndex:e,updatedText:c}}a=" ";b=c.substring(0,b);c=c.substring(e);e=b+f+a+c;c=b.length+f.length+a.length;return{updatedCursorIndex:c,updatedText:e}}g["default"]=a}),98);
__d("PolarisPostCommentInput.react",["fbt","IGDSText.react","PolarisConfig","PolarisFastLink.react","PolarisIGCoreConstants","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisPendingCommentActions","PolarisPostCommentInputForm.react","PolarisPostCommentInputReplyingToBar.react","PolarisReactRedux.react","PolarisRoutes","PolarisSearchActions","PolarisUA","PolarisUserAvatar.react","QPLUserFlow","browserHistory_DO_NOT_USE","gkx","nullthrows","one-trace","polarisLogAction","polarisSearchSelectors","polarisUpdateTextOnTypeaheadSelect","polarisUserSelectors","qpl","react","stylex","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||(j=d("react"))).c,l=j,m={avatar:{display:"x1rg5ohu",marginTop:"xdj266r",marginEnd:"xktsk01",marginBottom:"xat24cr",marginStart:"x1d52u69",$$css:!0},avatarReels:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1i64zmx",$$css:!0},avatarRevamp:{marginTop:"xdj266r",marginEnd:"x1t4t16n",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},familiarFeedRoot:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingTop:"x3hdcf8",paddingEnd:"x180j4jr",paddingBottom:"x18dplov",paddingStart:"x1ub4b5r",$$css:!0},inputWrapper:{alignItems:"x6s0dn4",backgroundColor:"x19g9edo",borderBottomColor:"x1ixjvfu",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderTopColor:"x1yvgwvq",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",justifyContent:"x1nhvcw1",paddingTop:"x1y1aw1k",paddingEnd:"x4uap5",paddingBottom:"xwib8y2",paddingStart:"xkhd6sd",$$css:!0},inputWrapperReels:{paddingTop:"x3hdcf8",paddingEnd:"x180j4jr",paddingBottom:"x18dplov",paddingStart:"x1ub4b5r",$$css:!0},inputWrapperRevamp:{backgroundColor:"xvbhtw8",borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",$$css:!0},inputWrapperRevampFeed:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},reelsRoot:{backgroundColor:"xvbhtw8",borderTopColor:"xl4qmuc",borderEndColor:"xxqof28",borderBottomColor:"xd18jyu",borderStartColor:"xiuebna",borderTopStartRadius:"x13jg5ln",borderTopEndRadius:"x12klpvz",borderBottomEndRadius:"xstbrti",borderBottomStartRadius:"x12bmzex",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",boxSizing:"x9f619",$$css:!0},revampedMobileInput:{backgroundColor:"xjbqb8w",$$css:!0},root:{borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",color:"x1roi4f4",flexShrink:"x2lah0s",fontSize:"xvs91rp",justifyContent:"xl56j7k",lineHeight:"x17ydfre",position:"x1n2onr6",$$css:!0},rootRich:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",top:"x1qiirwl",width:"xh8yej3",$$css:!0}};function n(){var a=k(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("PolarisLinkBuilder").buildLoginLink(d("browserHistory_DO_NOT_USE").browserHistory.location.pathname,{source:"post_comment_input"}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("PolarisFastLink.react"),{href:b,children:l.jsx(c("IGDSText.react").Body,{color:"link",zeroMargin:!0,children:h._("__JHASH__5fqLO0g-L2z__JHASH__")})}),a[1]=b):b=a[1];b=b;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx("span",{children:l.jsx(c("IGDSText.react").Body,{color:"secondaryText",zeroMargin:!0,children:h._("__JHASH__WPvyG_7QGy0__JHASH__",[h._param("loginLink",b)])})}),a[2]=b):b=a[2];return b}function o(a){var b=k(2),c;b[0]!==a.username?(c=l.jsx("span",{children:h._("__JHASH__BM0L4toxBeH__JHASH__",[h._param("username",a.username)])}),b[0]=a.username,b[1]=c):c=b[1];return c}var p=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var e;e=b.call(this,a)||this;e.$3=null;e.focusAndScroll=function(){var a=function(){var a=c("nullthrows")(e.$1);a.focus();d("PolarisUA").isMobile()&&window.setTimeout(function(){typeof a.scrollIntoView==="function"&&(a.scrollIntoView(!0),window.scrollBy(0,-200))},10)};e.setState({hasBeenFocused:!0},function(){window.setTimeout(function(){return a()})})};e.$6=function(a){a.key==="Enter"&&!a.shiftKey&&(c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_enter_key_pressed"),e.$5(a))};e.$7=function(a){a.stopPropagation()};e.$8=function(a,b){e.state.commentAttempt||c("polarisLogAction")("commentAttempt",{isLoggedIn:d("PolarisConfig").isLoggedIn(),source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({commentAttempt:!0,cursorIndex:b,isEmojiTrayOpen:e.$2!=null,needsFlush:!0,pendingComment:a})};e.$9=function(a){e.$1=a,c("gkx")("32994")&&(a!=null?e.$3=c("one-trace").trackTypingPerf(a,"PostCommentInput"):e.$3!=null&&(e.$3(),e.$3=null))};e.$10=function(){e.setState({hasBeenFocused:!0,hasFocus:!0}),c("QPLUserFlow").start(c("qpl")._(379194585,"1014"),{annotations:{string:{source:e.props.analyticsContext}}})};e.$11=function(){e.setState({hasFocus:!1})};e.$12=function(a){var b=e.props,f=b.analyticsContext,g=b.id;b=b.ownerId;d("PolarisInteractionsLogger").logInteractionAction({containerModule:f,eventName:"instagram_organic_comment_button",mediaAuthorId:b,mediaId:g});c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_post_button_clicked");e.$5(a)};e.$13=function(a,b){a=c("polarisUpdateTextOnTypeaheadSelect")(a,b,e.state.pendingComment,e.state.cursorIndex);b=a.updatedCursorIndex;a=a.updatedText;e.$8(a,b)};e.$14=function(a){var b,c;e.$2=a;b=((b=e.$1)==null?void 0:b.selectionStart)||0;c=((c=e.$1)==null?void 0:c.selectionEnd)||0;c=e.state.pendingComment.substring(0,b)+a+e.state.pendingComment.substring(c);b=b+a.length;e.$8(c,b)};e.$15=function(a){a===!0&&c("polarisLogAction")("emojiButtonClicked",{isLoggedIn:d("PolarisConfig").isLoggedIn(),source:e.props.analyticsContext,type:e.props.isVideo===!0?"video":"photo"}),e.setState({isEmojiTrayOpen:a})};e.emojiPickerTray=l.createRef();e.state={commentAttempt:!1,cursorIndex:a.pendingComment.length,hasBeenFocused:!1,isEmojiTrayOpen:!1,needsFlush:!1,pendingComment:""};return e}var e=a.prototype;e.componentWillUnmount=function(){!this.props.commentSaveIsInFlight&&this.state.needsFlush&&this.state.pendingComment.length>0&&this.props.onCommentChange(this.state.pendingComment)};e.componentDidUpdate=function(a,b){var c=this.props,d=c.commentSaveIsInFlight;c=c.pendingComment;this.$1&&!b.hasBeenFocused&&this.state.hasBeenFocused&&this.$1.focus();a.pendingComment!==c&&(this.setState({cursorIndex:c.length,pendingComment:c}),this.$1&&this.$1.focus());b=b.isEmojiTrayOpen!==this.state.isEmojiTrayOpen;(this.$2!=null||b)&&(this.$2=null,this.$1&&(b&&this.setState({cursorIndex:this.$1.selectionEnd}),this.$1.focus()));a.commentSaveIsInFlight&&!d&&c===""&&this.setState({needsFlush:!0,pendingComment:""})};e.shouldComponentUpdate=function(a,b){return this.props.xstyle!==a.xstyle||this.props.commentSaveIsInFlight!==a.commentSaveIsInFlight||this.props.pendingComment!==a.pendingComment||this.state.pendingComment!==b.pendingComment||this.state.hasBeenFocused!==b.hasBeenFocused||this.state.hasFocus!==b.hasFocus||this.state.isEmojiTrayOpen!==b.isEmojiTrayOpen};e.$4=function(){return this.state.pendingComment.trim().length===0||this.props.commentSaveIsInFlight};e.$5=function(a){var b=this,d=this.props,e=d.adInfo,f=d.onCommentChange,g=d.onCommentSubmit,h=d.repliedToCommentId;d=d.repliedToCommentParentId;c("QPLUserFlow").addPoint(c("qpl")._(379194585,"1014"),"post_comment_form_submitted");a.preventDefault();if(!this.$4()){f(this.state.pendingComment);this.setState({needsFlush:!1});a=null;e!=null&&(e==null?void 0:e.tracking_token)!=null&&(e==null?void 0:e.ad_id)!=null&&(a={adId:e==null?void 0:e.ad_id,adTrackingToken:e==null?void 0:e.tracking_token});g(this.state.pendingComment,h,d,a).then(function(){b.$1&&b.$1.blur()})}};e.$16=function(){if(this.props.isRevampVersion)return!1;return this.$1?this.props.viewportHeight-this.$1.getBoundingClientRect().bottom>200:!0};e.render=function(){var a=this.props,b=a.analyticsContext,e=a.canViewerProvideFeedback,f=a.hasRichCommentInput,g=a.isRevampedMobileInput;g=g===void 0?!1:g;var h=a.isRevampVersion,j=a.onClearReply,k=a.ownerUsername,p=a.repliedToUsername,q=a.replyingToBarWithinInput;q=q===void 0?!1:q;var r=a.viewerProfilePicture;a=a.xstyle;var s=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").FEED_PATH||d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_FEED||d("browserHistory_DO_NOT_USE").browserHistory.location.pathname===d("PolarisRoutes").ADS_ACTIVITY_PATH;s=s&&this.props.inModal!==!0&&d("PolarisUA").isDesktop();b=d("PolarisUA").isDesktop()&&b==="reelsTab"&&h;var t=s||h;return l.jsxs("section",{className:(i||(i=c("stylex")))(m.root,f===!0&&m.rootRich,t&&!b&&m.familiarFeedRoot,b&&m.reelsRoot,a),children:[l.jsxs("div",{className:i(b&&m.inputWrapperReels,f===!0&&m.inputWrapper,f===!0&&h&&m.inputWrapperRevamp,f===!0&&h&&s&&m.inputWrapperRevampFeed,f===!0&&g&&m.revampedMobileInput),children:[f===!0&&r!=null&&r!==""&&l.jsx(c("PolarisUserAvatar.react"),{className:(i||(i=c("stylex")))(m.avatar,h&&!b&&m.avatarRevamp,b&&m.avatarReels),isLink:!1,profilePictureUrl:r,size:b?c("PolarisIGCoreConstants").AVATAR_SIZES.extraSmall:c("PolarisIGCoreConstants").AVATAR_SIZES.small}),!d("PolarisConfig").isLoggedIn()||!e?d("PolarisConfig").isLoggedIn()?l.jsx(o,{username:c("nullthrows")(k)}):l.jsx(n,{}):l.jsx(c("PolarisPostCommentInputForm.react"),{autosize:this.props.forceTextareaAutosize===!0||this.state.hasBeenFocused||this.state.pendingComment!=="",cursorIndex:this.state.cursorIndex,familiarFeed:t,hasPostButton:this.props.hasPostButton,hasRichCommentInput:f,inputRef:this.$9,isEmojiTrayOpen:this.state.isEmojiTrayOpen,isOnDesktopFeed:s,isRevampedMobileInput:g,isRevampVersion:this.props.isRevampVersion,isSubmitDisabled:this.$4(),isTypeaheadInputDisabled:this.props.commentSaveIsInFlight,onBlur:this.$11,onChange:this.$8,onClearReply:j,onEmojiClick:this.$14,onEmojiTrayOpen:this.$15,onFocus:this.$10,onKeyPress:this.$6,onKeyUp:this.$7,onPostButtonClicked:this.$12,onTypeaheadResultSelect:this.$13,openTypeaheadAbove:!this.$16(),pendingComment:this.state.pendingComment,repliedToUsername:p,replyingToBarWithinInput:q,showTypeahead:d("PolarisConfig").isLoggedIn()&&e&&this.state.hasFocus===!0})]}),p!=null&&p!==""&&!q&&d("PolarisUA").isMobile()&&l.jsx(c("PolarisPostCommentInputReplyingToBar.react"),{onClearReply:j,username:p})]})};return a}(l.Component);p.defaultProps={forceTextareaAutosize:d("PolarisUA").isMobile(),hasRichCommentInput:!1};function a(a,b){var e=a.pendingComments[b.id],f=a.navigation.pageIdentifier||"",g=d("polarisSearchSelectors").getCurrentSearchContent(a);return{analyticsContext:f,commentSaveIsInFlight:(e==null?void 0:e.committing)||!1,loading:g.loading,ownerUsername:(f=b.postOwnerUsername)!=null?f:c("nullthrows")(d("polarisUserSelectors").getUserByIdOrThrows(a,b.ownerId).username),pendingComment:(e==null?void 0:e.text)||"",repliedToCommentAuthorId:e==null?void 0:e.repliedToCommentAuthorId,repliedToCommentId:e==null?void 0:e.repliedToCommentId,repliedToCommentParentId:e==null?void 0:e.repliedToCommentParentId,repliedToUsername:e==null?void 0:e.repliedToUsername,results:g.results,searchedForQuery:g.searchedForQuery,selectedIndex:g.selectedIndex}}function b(a,b){return{onClearReply:function(){a(d("PolarisPendingCommentActions").clearPendingComment(b.id))},onCommentChange:function(c,e,f,g,h){a(d("PolarisPendingCommentActions").changePendingComment(b.id,c,e,f,g,h))},onCommentSubmit:function(c,e,f,g){return b.onCommentSubmitOverride!=null?b.onCommentSubmitOverride(c,e,f,g):a(d("PolarisPendingCommentActions").commitPendingComment(b.id,b.ownerId,b.analyticsContext,g))},onTypeaheadResultHighlight:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onCommentChange:function(c){return b.onCommentChange(c,a.repliedToCommentId,a.repliedToCommentAuthorId,a.repliedToUsername)}})}function f(){var a=k(2),b=c("usePolarisDisplayProperties")(),d;a[0]!==b.viewportHeight?(d={viewportHeight:b.viewportHeight},a[0]=b.viewportHeight,a[1]=d):d=a[1];return d}a=d("PolarisReactRedux.react").connect(a,b,e,{forwardRef:!0})(p);b=d("PolarisReactRedux.react").connectHooksWithRef(f)(a);g["default"]=b}),226);/*FB_PKG_DELIM*/
__d("EBSMProperties",[],(function(a,b,c,d,e,f){"use strict";a=["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state","occamadillo_most_recent_message_per_thread","auto_restore_opt_out"];b=new Set(["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"]);c={dbVersion:5,mandatoryTables:b,persistedTables:new Set(a),persistedTablesArray:a};d=c;f["default"]=d}),66);
__d("promiseFromRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new self.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}f["default"]=a}),66);
__d("ReStoreDbConfigStore",["asyncToGeneratorRuntime","promiseFromRequest","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_config",i="name",j="epoch",k="main",l="dbCorruption";function m(a){a=a.objectStoreNames;return a.contains("_db_config")}function a(a,b){if(m(a))return;a=a.createObjectStore(h,{autoIncrement:!0,keyPath:i});a.createIndex(i,i,{unique:!0});a.add(b);a.put({name:j,value:c("uuidv4")()})}function d(a){return c("promiseFromRequest")(a.objectStore(h).get(l))}function e(a,b){a=a.objectStore(h);return c("promiseFromRequest")(a.put({name:l,value:b+1}))}function n(a){return c("promiseFromRequest")(a.objectStore(h).get(k))}function f(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield n(a));b=!b.isEqual(a);return b});return o.apply(this,arguments)}g.CONFIG_STORE_NAME=h;g.CACHE_VERSION_KEY=j;g.DB_CONFIG_KEY=k;g.createDbConfig=a;g.readCorruptionFailuresFromConfig=d;g.writeCorruptionFailuresToConfig=e;g.readDbConfig=n;g.detectConfigMismatch=f}),98);
__d("sum",[],(function(a,b,c,d,e,f){function a(a){var b=0;for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b+=e}return b}f["default"]=a}),66);
__d("LSDBRestoreConfig",["ReStoreDbConfigStore","gkx","justknobx","sum"],(function(a,b,c,d,e,f,g){"use strict";e=c("gkx")("24149");f=c("justknobx")._("347");function a(){var a=2,b=c("sum")([1,c("gkx")("1251")?1:0]);return a+b}var h={localVersion:a(),name:d("ReStoreDbConfigStore").DB_CONFIG_KEY,serverVersion:f,vaulting:e};function b(){return{defaultConfig:h,isEqual:function(a){return(a==null?void 0:a.localVersion)==null?!1:(a==null?void 0:a.localVersion)===h.localVersion&&(a==null?void 0:a.vaulting)===h.vaulting&&(a==null?void 0:a.serverVersion)===h.serverVersion}}}g.createConfig=b}),98);
__d("LSPlatformLockState",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Waiting:"waiting",Acquired:"acquired",Cleaning:"cleaning",Canceled:"canceled"});f.LockState=a}),66);
__d("MessengerLocksManagerFallback",["MWLocalStorageErrorHandler","WebStorageLockManager"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("WebStorageLockManager").make(a,{onQuotaExceeded:d("MWLocalStorageErrorHandler").onQuotaExceeded})}g["default"]=a}),98);
__d("ReStoreNameUtils",["CurrentMessengerUser"],(function(a,b,c,d,e,f,g){"use strict";a=d("CurrentMessengerUser").getIDorEIMU();b="RestoreIDBMainLock-"+a;c="dbLock-"+a;e="RestoreConcurrency-"+a;f="lsPlatformLock-"+a;d="syncLock-"+a;a="single-instance-pdb-"+a;g.reStoreCMLockName=b;g.reStoreDBLockName=c;g.restoreConcurrencyBroadcastChannelName=e;g.lsPlatformLockBroadcastChannelName=f;g.lsPlatformLockName=d;g.singleTabLockName=a}),98);
__d("saveHandler",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c={};a.set(c,b);return function(){a["delete"](c)}}f["default"]=a}),66);
__d("LSPlatformSyncLock",["BrowserLockManager","FBLogger","LSPlatformErrorChannel","LSPlatformLockState","LSPlatformLsInitLog","MWBroadcastChannel","MessengerLocksManagerFallback","MessengerLogHistory","Promise","ReStoreNameUtils","Run","asyncToGeneratorRuntime","clearTimeout","emptyFunction","gkx","justknobx","pageID","promiseDone","saveHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init"),j=typeof window!=="undefined"?window:self,k="iwantlock",l="lockRequestOnDemand";f="mw_msgr_mutex";function m(a,e){a===void 0&&(a=j);e===void 0&&(e=function(){return document.hasFocus()});var f=new Map(),g=new Map(),m=d("LSPlatformLockState").LockState.Waiting,n=c("emptyFunction"),o,p=c("gkx")("24155")?d("MWBroadcastChannel").MWBroadcastChannel(d("ReStoreNameUtils").lsPlatformLockBroadcastChannelName):void 0,q=function(){if(!c("gkx")("24155"))return;o!=null&&c("clearTimeout")(o);if(m===d("LSPlatformLockState").LockState.Canceled||m===d("LSPlatformLockState").LockState.Acquired)return;o=c("setTimeout")(function(){e()&&m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("tab has focus and wants to acquire sync lock"),p==null?void 0:p.postMessage(k))},c("justknobx")._("1764"))};function r(){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i.debug("Sync lock acquired"),m=d("LSPlatformLockState").LockState.Acquired,yield (h||(h=b("Promise"))).all(Array.from(f.values()).map(function(a){return a()}))});return s.apply(this,arguments)}function t(){m=d("LSPlatformLockState").LockState.Cleaning,n=c("emptyFunction"),g.forEach(function(a){return a()})}function u(){var b=new AbortController(),f=c("LSPlatformErrorChannel").subscribe(function(e){i.debug("syncLock aborted due to ["+e.name+"] "+e.message),c("FBLogger")("ls_web_init").info("SyncLock aborted due to [%s] %s",e.name,e.message),n(),b.abort(),m=d("LSPlatformLockState").LockState.Canceled,p==null?void 0:p.removeEventListener("message",g),a.removeEventListener("focus",q),f()}),g=function a(g){if(g==null||g.data==null||(g.data!==k||e())&&g.data!==l)return;i.debug("got message from other tab to abort request to sync lock");n();b.abort();f();p==null?void 0:p.removeEventListener("message",a);m=d("LSPlatformLockState").LockState.Waiting;c("promiseDone")(v())};p==null?void 0:p.addEventListener("message",g);return b}function v(){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,e=(a=c("BrowserLockManager"))!=null?a:c("MessengerLocksManagerFallback")(c("pageID"));if(e){m=d("LSPlatformLockState").LockState.Waiting;d("LSPlatformLsInitLog").addPoint("sync_lock_start");i.debug("Sync lock requested if available");yield new(h||(h=b("Promise")))(function(a){return e.request(d("ReStoreNameUtils").lsPlatformLockName,{ifAvailable:!0},function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null){i.debug("Attempted to acquire sync lock but it already taken");d("LSPlatformLsInitLog").addPoint("sync_lock_unavailable");a();return}i.debug("Attempted to acquire sync lock and suceeded");yield r();d("LSPlatformLsInitLog").addPoint("sync_lock_acquired");a();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(a){return c.apply(this,arguments)}}())});a=u();m!==d("LSPlatformLockState").LockState.Acquired&&(i.debug("Sync lock requested and will wait"),d("LSPlatformLsInitLog").addPoint("sync_lock_requests_again"),c("promiseDone")(e.request(d("ReStoreNameUtils").lsPlatformLockName,{signal:a.signal},function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.debug("Previous attempt to get sync lock failed, getting in queue for when/if it becomes available");yield r();return new(h||(h=b("Promise")))(function(a){n=function(){i.debug("Releasing sync lock"),t(),a()}})});return function(b){return a.apply(this,arguments)}}()),function(a){},function(a){if((a==null?void 0:a.name)==="AbortError")i.debug("Aborting attempt to acquire sync lock");else{d("LSPlatformLsInitLog").addPoint("sync_lock_request_failure");throw a}}));d("LSPlatformLsInitLog").addPoint("lock_requested")}else{d("LSPlatformLsInitLog").addPoint("sync_lock_end_failure");throw c("unrecoverableViolation")("No lock manager inited","ls_web_init")}});return w.apply(this,arguments)}p!=null&&(a.addEventListener("focus",q),q(),d("LSPlatformLsInitLog").addPoint("onfocus_set"));d("Run").onBeforeUnload(function(){n()},!1);d("LSPlatformLsInitLog").addPoint("beforeunload_set");return{_getStateInternal:function(){return m},hasLock:function(){return m===d("LSPlatformLockState").LockState.Acquired},onAcquired:function(a){return c("saveHandler")(f,a)},onLost:function(a){return c("saveHandler")(g,a)},onLostOnce:function(a){var b=c("saveHandler")(g,function(){a(),b()})},release:function(){n()},requestLock:v}}var n=null;function a(){n==null&&(n=m());return n}function e(){n!=null&&n.release()}g.SYNC_KEY=f;g.init=m;g.use=a;g.releaseIfExist=e}),98);
__d("ReStoreBinaryEncoding",["I64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new TextDecoder(),j=new TextEncoder(),k=1,l={true:1,false:2,null:3,undefined:4,emptyString:5,string:6,binary:7,u8binary:8,struct:9,number:10,list:11,i64:12,set:13,map:14},m={boolean:function(a){return a===!0?l.true:l.false},number:function(){return l.number},object:function(a){if(a===null)return l.null;if((h||(h=d("I64"))).isI64(a))return l.i64;if(a instanceof ArrayBuffer)return l.binary;if(a instanceof Uint8Array)return l.u8binary;if(Array.isArray(a))return l.list;if(a instanceof Set)return l.set;return a instanceof Map?l.map:l.struct},string:function(a){return a===""?l.emptyString:l.string},undefined:function(){return l.undefined}};function n(a){return m[typeof a](a)}function o(a,b){a=[a,b];a._tag="i64";return a}var p=j.encodeInto!=null?function(a,b){return j.encodeInto(a,b)}:function(a,b){a=j.encode(a);b.set(a,0);return{written:a.length}};b=function(){function a(){var a=this;this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(new ArrayBuffer(0));this.$8=function(){a.$3+=a.$5(a.$6());var b=a.$2[a.$3];return b};this.$9=function(){var b=a.$6(),c=a.$4.buffer.slice(a.$4.byteOffset+a.$1,a.$4.byteOffset+b+a.$1);a.$1+=b;return c};this.$10=function(){return new Uint8Array(a.$9(),a.$6(),a.$6())};this.$11=function(){return a.$4.getFloat64((a.$1+=8)-8)};this.$12=function(){var b={},c;while((c=a.$4.getUint8(a.$1++))!==0)b[a.$8()]=a.$13.get(c)();return b};this.$14=function(){var b=[],c;while((c=a.$4.getUint8(a.$1++))!==0)b.push(a.$13.get(c)());return b};this.$15=function(){var b=o(a.$4.getInt32(a.$1),a.$4.getUint32(a.$1+4));a.$1+=8;return b};this.$16=function(){var b=new Set(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.add(a.$13.get(c)());return b};this.$17=function(){var b=new Map(),c;while((c=a.$4.getUint8(a.$1++))!==0)b.set(a.$13.get(a.$4.getUint8(a.$1++))(),a.$13.get(c)());return b};this.$13=new Map([[l.true,function(){return!0}],[l.false,function(){return!1}],[l.null,function(){return null}],[l.undefined,function(){return void 0}],[l.emptyString,function(){return""}],[l.string,this.$8],[l.binary,this.$9],[l.u8binary,this.$10],[l.number,this.$11],[l.struct,this.$12],[l.list,this.$14],[l.i64,this.$15],[l.set,this.$16],[l.map,this.$17]])}var b=a.prototype;b.$5=function(a){return a>>>1^(-(a&1)|0)};b.$6=function(){var a=0,b=!0;for(var d=0;b;d++,this.$1++){if(d>4)throw c("unrecoverableViolation")("expected end of var int","maw_db");var e=this.$4.getUint8(this.$1);b=(e&128)!==0;e=e&-129;a+=e<<7*d}return a};b.$7=function(){this.$1=this.$4.getUint32(0);if(this.$1!==0){while(this.$4.getUint8(this.$1)!==0)this.$2.push(this.$6());this.$1++;var a=this.$4.getUint32(this.$1);a=i.decode(this.$4.buffer.slice(this.$4.byteOffset+this.$1+4,this.$4.byteOffset+a+this.$1+4));var b=0;for(var c=0;c<this.$2.length;c++){var d=this.$2[c];this.$2[c]=a.substr(b,d);b+=d}}this.$1=4};b.decode=function(a){this.$1=0;this.$2=[];this.$3=0;this.$4=new DataView(a.buffer,a.byteOffset,a.byteLength);this.$7();return this.$13.get(this.$4.getUint8(this.$1++))()};return a}();e=function(){function a(){var a=this;this.$1=new ArrayBuffer(65536);this.$2=new Map();this.$3=this.$1;this.$4=new DataView(this.$3);this.$5=4;this.$6=0;this.$7=function(b){if(a.$5+b>a.$3.byteLength){var c=a.$3;a.$3=new ArrayBuffer(Math.max(Math.ceil(a.$3.byteLength*1.5),a.$5+b));new Uint8Array(a.$3).set(new Uint8Array(c));a.$4=new DataView(a.$3)}};this.$9=function(b){b=b;while(b>=128){var c=b&127,d=b>>>7;a.$7(1);a.$4.setUint8(a.$5++,c+128);b=d}a.$7(1);a.$4.setUint8(a.$5++,b)};this.$10=function(){if(a.$2.size>0){a.$4.setUint32(0,a.$5);var b="";for(var c=a.$2.keys(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;a.$9(f.length);b+=f}a.$7(1+b.length*3+4);a.$4.setUint32(a.$5++,0);f=p(b,new Uint8Array(a.$3,a.$5+4));e=f.written;a.$4.setUint32(a.$5,e);a.$5+=e+4}else a.$7(1),a.$4.setUint32(0,0)};this.$11=function(b){var c=Object.keys(b);for(var d=0;d<c.length;d++){var e=c[d],f=b[e],g=n(f);a.$7(1);a.$4.setUint8(a.$5++,g);a.$12(e);if(g<6)continue;a.$13.get(g)(f)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$12=function(b){var c=a.$2.get(b);c==null&&a.$2.set(b,c=a.$2.size);a.$9(a.$8(c-a.$6));a.$6=c};this.$14=function(b){a.$9(b.byteLength),a.$7(b.byteLength),new Uint8Array(a.$3).set(new Uint8Array(b),a.$5),a.$5+=b.byteLength};this.$15=function(b){a.$14(b.buffer),a.$9(b.byteOffset),a.$9(b.byteLength)};this.$16=function(b){a.$7(8),a.$4.setFloat64(a.$5,b),a.$5+=8};this.$17=function(b){a.$7(8),a.$4.setInt32(a.$5,b[0]),a.$4.setUint32(a.$5+4,b[1]),a.$5+=8};this.$18=function(b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=n(e);a.$7(1);a.$4.setUint8(a.$5++,f);if(f<6)continue;a.$13.get(f)(e)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$19=function(b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;var f=e[0];e=e[1];var g=n(e);a.$7(1);a.$4.setUint8(a.$5++,g);var h=n(f);a.$7(1);a.$4.setUint8(a.$5++,h);h>5&&a.$13.get(h)(f);if(g<6)continue;a.$13.get(g)(e)}a.$7(1);a.$4.setUint8(a.$5++,0)};this.$13=new Map([[l.struct,this.$11],[l.string,this.$12],[l.binary,this.$14],[l.u8binary,this.$15],[l.number,this.$16],[l.i64,this.$17],[l.list,this.$18],[l.set,this.$18],[l.map,this.$19]])}var b=a.prototype;b.$8=function(a){return a<<1^a>>31};b.encode=function(a){this.$3=this.$1;this.$4=new DataView(this.$3);this.$2=new Map();this.$5=4;this.$6=0;var b=n(a);this.$7(1);this.$4.setUint8(this.$5++,b);b>4&&(this.$13.get(b)(a),this.$10());return new Uint8Array(this.$3,0,this.$5)};return a}();function a(a){var b=new Set();function e(a){if(a==null||a===!0||a===!1||a==="")return 1;if(typeof a==="number"||(h||(h=d("I64"))).isI64(a))return 9;if(typeof a==="string"){if(b.has(a))return 2;b.add(a);return a.length*k+4}if(Array.isArray(a)){var f=2;for(var g=a,i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(i){if(j>=g.length)break;l=g[j++]}else{j=g.next();if(j.done)break;l=j.value}l=l;f+=e(l)}return f}if(a instanceof ArrayBuffer)return a.byteLength+3;if(a instanceof Uint8Array)return a.byteLength+6;if(a instanceof Map){l=0;for(j=a,i=Array.isArray(j),g=0,j=i?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(i){if(g>=j.length)break;f=j[g++]}else{g=j.next();if(g.done)break;f=g.value}f=f;var m=f[0];f=f[1];l+=e(m)+e(f)}return l+2}if(typeof a==="object"){m=0;f=Object.keys(a);for(g=0;g<f.length;g++){i=f[g];j=a[i];m+=e(i)+e(j)-2}return m+2}throw c("unrecoverableViolation")("unsupported type: "+typeof a,"messenger_web_product")}return e(a)+4+(b.size?5:0)}g.Decoder=b;g.Encoder=e;g.estimateSize=a}),98);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="ReStore DB closed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;b=(b=b)!=null?b:h;e=a.call(this,b)||this;e.message=b;switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}return e}return b}(babelHelpers.wrapNativeSuper(Error));g["default"]=a}),98);
__d("ReStoreErrorAction",["ClientConsistencyEventEmitter","LSPlatformSyncLock","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","ls_forced_refresh");break;default:h()}}function h(){c("ClientConsistencyEventEmitter").emit("softRefresh","ls_forced_refresh")}function b(){d("LSPlatformSyncLock").releaseIfExist()}g.refresh=a;g.softRefresh=h;g.stopClient=b}),98);
__d("ReStoreDbVersionChange",["ReStoreErrorAction"],(function(a,b,c,d,e,f,g){"use strict";var h="LS DB changed version",i="ReStoreDbVersionChange";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c=h;b=a.call(this,c)||this;b.message=c;b.name=i;d("ReStoreErrorAction").stopClient();d("ReStoreErrorAction").refresh();return b}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.ReStoreDbVersionChange=a}),98);
__d("ReStoreEARInit",["FBLogger","IndexedDbPolyfills","MAWCryptoConsts","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MWEARKeychainV3Errors","Promise","ReStoreEARSetupFailure","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;b("IndexedDbPolyfills");var i="browserEncryptionMeta";function a(a){a.createObjectStore(i)}var j=function(a){var b=Array.from(a.databaseEncryptionKeys.keys());b.length>0?a.latestVersion=Math.max.apply(Math,b):c("FBLogger")("maw_db").warn("No Ear Keys to set as latest")};function e(a,b){var c=a.databaseEncryptionKeys.get(b);if(c==null)throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+b+" was null. Latest version: "+a.latestVersion);return{key:c,version:b}}function k(a){a=a.objectStore(i);var c=a.openCursor(),d=[];return new(h||(h=b("Promise")))(function(a,b){c.onsuccess=function(b){b=b.target.result;if(b){var c=b.primaryKey,e=b.value;d.push(babelHelpers["extends"]({version:c},e));b["continue"]()}else a(d)},c.onerror=function(a){b(a)}})}function f(a,b,c){a=a.objectStore(i);a.add(c,b)}function l(a){return a.length===0||!d("WATimeUtils").isInFuture(a[a.length-1].expiration)}function m(){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("MAWEARGenNewKeychainCryptoKey")());a=babelHelpers["extends"]({},a,{version:d("MAWCryptoConsts").VERSION});return a});return n.apply(this,arguments)}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b==null?void 0:b.addPoint("ear_gen_start");a=a.transaction([i],"readonly");a=(yield k(a));if(l(a)){var d=(yield c("MAWEARGenNewKeychainCryptoKey")());a=(a=(a=a[a.length-1])==null?void 0:a.version)!=null?a:0;d=babelHelpers["extends"]({},d,{version:a+1});b==null?void 0:b.addPoint("ear_gen_end");return d}else{b==null?void 0:b.addPoint("ear_gen_skip");return null}});return p.apply(this,arguments)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){if(c("gkx")("1838"))throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Testing EAR setup failure");a=a.transaction([i],"readonly");a=(yield k(a));l(a)&&c("FBLogger")("maw_db").mustfix("Shouldn't be generating a new ear key");a=(yield (h||(h=b("Promise"))).allSettled(a.map(function(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)})));for(var f of a)if(f.status==="fulfilled"){var g=f.value;e.databaseEncryptionKeys.set(g.version,g.key)}j(e);g=Array.from(a?a.values():[]).find(function(a){return a.status==="rejected"});if(g&&g.status==="rejected")throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)(g.reason)});return r.apply(this,arguments)}function s(a,b){b.databaseEncryptionKeys["delete"](a)}function t(a,b,d){c("promiseDone")(c("MAWGenKeychainCryptoKeyWithVersion")(b.key,b.seed,a,b.formatVersion,b.accountKeyString,b.userKeyBaseString,b.appIdOrigin).then(function(a){d.databaseEncryptionKeys.set(a.version,a.key),j(d)}))}g.EAR_STORE_NAME=i;g.createEARStore=a;g.setLatestVersion=j;g.getDbEncryptionKey=e;g.fetchAll=k;g.storeEARKey=f;g.generateKeyWithDefaultVersion=m;g.generateEARKey=o;g.initEAR=q;g.deleteKeys=s;g.rotateKeys=t}),98);
__d("ReStoreEncryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreEncryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted Restore was unable to encrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreEncryptionFailure=a}),66);
__d("ReStoreIndexedDbCreatedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbOpenedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("createReStoreIndexedDbPersistence",["BrowserLockManager","ClientConsistency","CurrentMessengerUser","Deferred","ExecutionEnvironment","FBLogger","MAWCryptoConsts","MAWKeychainNaClCrypto","MWBroadcastChannel","MessengerLocksManagerFallback","ODS","ReStoreBinaryEncoding","ReStoreDbClosedError","ReStoreDbConfigStore","ReStoreDbVersionChange","ReStoreDecryptionFailure","ReStoreEARInit","ReStoreEARSetupFailure","ReStoreEncryptionFailure","ReStoreErrorAction","ReStoreIndexedDbClosedEvent","ReStoreIndexedDbCreatedEvent","ReStoreIndexedDbFailToOpenEvent","ReStoreIndexedDbOpenedEvent","ReStoreIndexedDbUpgradedEvent","ReStoreIndexeddbPersistenceInitFailure","ReStorePersistence","ReStoreTabNotifier","ReStoreUnexpectedlyClosed","WAExceededStorageQuota","clearTimeout","gkx","justknobx","nullthrows","pageID","promiseDone","promiseFromRequest","qex","recoverableViolation","setTimeout","tweetnacl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("CurrentMessengerUser").getIDorEIMU(),k=4096,l=new Set([d("ReStoreDbConfigStore").CONFIG_STORE_NAME]),m=new(d("ReStoreBinaryEncoding").Encoder)(),n=new(d("ReStoreBinaryEncoding").Decoder)();function o(a,b,e,f){if(a==null){a===null&&c("FBLogger")("maw_db").mustfix("Attempting to decrypt null. This should never happen",String((i||(i=c("ExecutionEnvironment"))).isInWorker));return a}var g=new Uint8Array(a);try{g=g[1];f=d("ReStoreEARInit").getDbEncryptionKey(f,g);f=f.key;var h=3;a=d("tweetnacl").secretbox.open(new Uint8Array(a,h+d("tweetnacl").secretbox.nonceLength),new Uint8Array(a,h,d("tweetnacl").secretbox.nonceLength),new Uint8Array(f));if(a==null){throw new(d("MAWKeychainNaClCrypto").EARDecryptionError)("ReStore was unable to decrypt an entity. Attempting to use key version : "+((h=g)!=null?h:"non-provided")+".")}return n.decode(a)}catch(a){f=new(d("ReStoreDecryptionFailure").ReStoreDecryptionFailure)(a.message,b);e(f);throw f}}function p(a,b,c){try{c=d("ReStoreEARInit").getDbEncryptionKey(c,c.latestVersion);var e=c.key;c=c.version;c=new Uint8Array([0,c,d("MAWCryptoConsts").CIPHER_ID]);var f=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);a=d("tweetnacl").secretbox(m.encode(a),f,new Uint8Array(e));e=new Uint8Array(c.length+f.length+a.length);e.set(c);e.set(f,c.length);e.set(a,c.length+f.length);return e.buffer}catch(a){throw new(d("ReStoreEncryptionFailure").ReStoreEncryptionFailure)(a.message,b)}}function q(a){for(a of a.values())if(a.size!==0)return!1;return!0}function r(a,b){var c=[];a=new Set(a);for(var d of a)b.objectStoreNames.contains(d)||c.push(d);d=[];for(var e=0;e<b.objectStoreNames.length;e++){var f=b.objectStoreNames[e];!a.has(f)&&!l.has(f)&&d.push(f)}if(c.length!==0||d.length!==0)return[c,d]}function s(a,b,c,d){d===void 0&&(d={});if(c==null){b.debug("Schema doesn't have changes to apply");return}b.debug("Schema has changes to apply");b=c[0];c=c[1];b.forEach(function(b){a.objectStoreNames.contains(b)||(d[b]!=null?d[b](a):a.createObjectStore(b,{autoIncrement:!0}))});c.forEach(function(b){a.objectStoreNames.contains(b)&&a.deleteObjectStore(b)})}function t(a,b,e,f,g,h){function j(a){e(new(c("ReStoreIndexedDbClosedEvent"))(a.target,new(d("ReStoreDbVersionChange").ReStoreDbVersionChange)())),g.debug("DB onversionchange TABID="+c("pageID")),c("FBLogger")("maw_db").info("[pdb] onversionchange inWorker=%s",String((i||(i=c("ExecutionEnvironment"))).isInWorker)),f.endFail("version_change")}return new Promise(function(g,i){var k=c("setTimeout")(function(){f.addPoint("pdb_open_timeout"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("IndexedDB onsuccess and onerror were never called for indexeddb"))},1e4),l=indexedDB.open(a,h);l.onupgradeneeded=function(a){var d=a.oldVersion;a=a.target;var g=a.result;a=a.transaction;c("clearTimeout")(k);f.addPoint("onupgradeneeded_start");b(g,a);e(d===0?new(c("ReStoreIndexedDbCreatedEvent"))():new(c("ReStoreIndexedDbUpgradedEvent"))());f.addPoint("onupgradeneeded_finish")};l.onerror=function(a){c("clearTimeout")(k),f.addPoint("failed_to_open_pdb"),i(new(d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure)("indexeddb failed to open")),c("FBLogger")("maw_db").catching(a).mustfix("Fail to open indexeddb"),e(new(c("ReStoreIndexedDbFailToOpenEvent"))())};l.onsuccess=function(a){var b=a.target.result;c("clearTimeout")(k);b.addEventListener("versionchange",j);b.onclose=function(){e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreUnexpectedlyClosed").ReStoreUnexpectedlyClosed)()))};e(new(c("ReStoreIndexedDbOpenedEvent"))());g(b)}})}async function u(a,b,d){a=a.objectStore(b);if(!("getAll"in a)||!("getAllKeys"in a))return new Map();var e=await c("promiseFromRequest")(a.getAllKeys());e=e.length>d?e[e.length-d]:void 0;e=e!=null?IDBKeyRange.lowerBound(e,!1):void 0;a=await Promise.all([c("promiseFromRequest")(a.getAllKeys(e,d)),c("promiseFromRequest")(a.getAll(e,d))]);e=a[0];d=a[1];if(e.length!==d.length){c("recoverableViolation")("Error pre-caching "+b+" IDB table","maw_db");return new Map()}a=new Map();for(b=0;b<e.length;++b)a.set(e[b],{status:"encrypted",value:d[b]});return a}async function v(a,b,d){var e;d.addPoint("cache_start");var f=(e=c("qex")._("338"))!=null?e:100;try{e=Array.from(a.objectStoreNames).filter(function(a){return!a.startsWith("_")});var g=a.transaction([].concat(e),"readonly");await Promise.all(e.map(async function(a){var c=await u(g,a,f);b.set(a,c)}));d.addPoint("cache_end")}catch(a){c("recoverableViolation")("Error initting ReStore cache","maw_db",{error:a}),d.addPoint("cache_failed"),b.clear()}return a}async function w(a,b,e,f,g,h,j){var k=[].concat(b,[d("ReStoreEARInit").EAR_STORE_NAME]),l=(b={},b[d("ReStoreEARInit").EAR_STORE_NAME]=d("ReStoreEARInit").createEARStore,b),m;try{g.addPoint("generate_ear_key_default_start"),m=await d("ReStoreEARInit").generateKeyWithDefaultVersion(),g.addPoint("generate_ear_key_default_end")}catch(a){g.addPoint("generate_ear_key_default_failed"),c("FBLogger")("maw_db").catching(a).mustfix("EAR generateKeyWithDefaultVersion failed")}function n(b,a){g.addAnnotations({bool:{dbEmpty:!0}});d("ReStoreDbConfigStore").createDbConfig(b,f.defaultConfig);for(var c of k)l[c]!=null?l[c](b):b.createObjectStore(c,{autoIncrement:!0});if(m!=null){b=m;c=b.version;b=babelHelpers.objectWithoutPropertiesLoose(b,["version"]);d("ReStoreEARInit").storeEARKey(a,c,b)}}g.addPoint("idb_open_start");b=await t(a,n,e,g,h);g.addPoint("idb_open_end");var o=b.transaction(d("ReStoreDbConfigStore").CONFIG_STORE_NAME,"readonly");o=await Promise.all([d("ReStoreDbConfigStore").detectConfigMismatch(o,f),d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(o).then(function(a){return(a=a==null?void 0:a.value)!=null?a:0})]);var p=o[0];o=o[1];var q=o>0;q&&(c("FBLogger")("maw_db").info("[pdb] opening corrupted db failures=%s inWorker=%s",String(o),String((i||(i=c("ExecutionEnvironment"))).isInWorker)),h.debug("DB corrupted, deleting db"));p&&h.debug("DB config mismatch, deleting db");g.addAnnotations({bool:{configMismatch:p,dbCorruptionOccured:q}});if(p||q)b.close(),g.addPoint("delete_db_start"),await c("promiseFromRequest")(indexedDB.deleteDatabase(a)),g.addPoint("delete_db_end"),g.addPoint("reopen_db_start"),b=await t(a,n,e,g,h),g.addPoint("reopen_db_end");else{var u=r(k,b),v=await d("ReStoreEARInit").generateEARKey(b,g);(u!=null||v!=null)&&(h.debug("Schema mismatch, bumping db version"),b.close(),g.addPoint("mismatch_start"),b=await t(a,function(a,b){s(a,h,u,l);if(v!=null){a=v.version;var c=babelHelpers.objectWithoutPropertiesLoose(v,["version"]);d("ReStoreEARInit").storeEARKey(b,a,c)}},e,g,h,b.version+1),g.addPoint("mismatch_end"))}try{g.addPoint("ear_keys_init_start"),await d("ReStoreEARInit").initEAR(b,j),g.addPoint("ear_keys_init_end")}catch(f){g.addPoint("ear_keys_init_failed");b.close();c("FBLogger")("maw_db").catching(f).mustfix("EAR failed to init as part of ReStore");c("promiseDone")(c("promiseFromRequest")(indexedDB.deleteDatabase(a)),function(a){},function(a){return c("FBLogger")("maw_db").catching(a).warn("Failed to delete DB")});e(new(c("ReStoreIndexedDbClosedEvent"))(b,new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")));throw new(d("ReStoreEARSetupFailure").ReStoreEARSetupFailure)("Failed to setup EAR in Restore")}return b}function a(a,b,e,f,g){var l=Object.keys(b.tableNames),m={accountKey:null,databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION},n=f.logHistory,r=f.transactionLockQplLogger,s=f.userFlow,u=j+"-"+a,x="dbLock-"+u,y=!0,z,A=[],B=null,C=!1;n.debug("PDB is ON");s.addPoint("init_idb_start");b="mwChat-flushchanges-"+j+"-"+a;var D=d("MWBroadcastChannel").MWBroadcastChannel(b),E=void 0,F=new Map(),G=c("nullthrows")((b=c("BrowserLockManager"))!=null?b:c("MessengerLocksManagerFallback")(c("uuidv4")().toString())),H=new AbortController(),I=U(),J;I==null?void 0:I.onEventReceive("abortTransaction",function(){c("FBLogger")("maw_db").mustfix("Request to abort transaction: %s",J)});var K=new Promise(function(b,d){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"initDB"}});f.mark("lock_requested");var g=c("setTimeout")(function(){I==null?void 0:I.postMessage("abortTransaction")},15e3);c("promiseDone")(G.request(x,{signal:H.signal},async function(){J="idbPromise";c("clearTimeout")(g);f.mark("lock_granted");try{var h=await w(a,l,L,e,s,n,m);f.mark("db_initialized");D.addEventListener("message",R);b(h);f.end();J=null}catch(a){d(a);c("FBLogger")("maw_db").catching(a).warn("[pdb] dbLock initDB issue");f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,c("FBLogger")("maw_db").catching(a).warn("[pdb] dbLock idbPromise issue"),f.fail()})});c("promiseDone")(K.then(function(){s.addPoint("init_idb_end")}));c("qex")._("403")&&c("promiseDone")(W(function(){return Promise.resolve([function(){return K.then(function(a){return v(a,F,s)})},"readonly"])},"initCache"));function L(a){a instanceof c("ReStoreIndexedDbClosedEvent")?(H.abort(),a.idb.close(),y=!1,D.removeEventListener("message",R)):a instanceof c("ReStoreIndexedDbFailToOpenEvent")&&H.abort(),H=new AbortController(),g==null?void 0:g(a)}function M(a,b,c){c=a.transaction(c!=null&&c.length>0?c:a.objectStoreNames,b,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(c);return c}function N(a){var b=F.get(a);b==null&&(b=new Map(),F.set(a,b));return b}async function O(a){return(a=await Q(function(a){return c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).get(d("ReStoreDbConfigStore").CACHE_VERSION_KEY))},"readonly",a))==null?void 0:a.value}function P(){if(B)return;B=new Promise(async function(a){var b;try{var d=async function(){if(z==null){var a;b=(a=b)!=null?a:await K;var d=M(b,A.some(function(a){return a.writemode==="readwrite"||a.expectingWrite})?"readwrite":"readonly");d.onabort=function(){z===d&&(z=null)};z=d}var e=z;a=[];for(var f of A){if(f.writemode==="readwrite"){e.mode==="readwrite"&&a.push(f);z=null;break}a.push(f)}A.splice(0,a.length);a.length&&await Promise.all(a.map(function(a){a=a.thunk;return a(e)}));!A.length&&z!=null&&await c("promiseFromRequest")(z.objectStore(z.objectStoreNames[0]).get(""))};while(A.length)await d();(d=z)==null?void 0:d.commit==null?void 0:d.commit()}finally{z=null,a(),B=null}})}function Q(a,b,c){c===void 0&&(c=!1);return new Promise(function(d,e){A.push({expectingWrite:c,thunk:async function(b){var c;try{c=await a(b)}catch(a){e(a);return}d(c)},writemode:b}),P()})}function R(a){a=a.data;var b=a.changeSet,d=a.fromVersion,e=a.sentinelDeleted;a=a.toVersion;if(C){c("FBLogger")("maw_db").info("[pdb] unexpected cache update received after verifying cache matches db, ignoring");return}E!==d&&E!=null&&(F.clear(),c("FBLogger")("maw_db").info("[pdb] out of order cache update received"));E=a;b.forEach(function(a,b){var c=N(b);a.forEach(function(a,b){a===e?c.delete(b):c.set(b,{status:"decrypted",value:a})})})}function S(){if(!y)return;c("promiseDone")(K,async function(a){var b;a=M(a,"readwrite");b=(b=(b=await d("ReStoreDbConfigStore").readCorruptionFailuresFromConfig(a))==null?void 0:b.value)!=null?b:0;await d("ReStoreDbConfigStore").writeCorruptionFailuresToConfig(a,b)})}function T(){c("promiseDone")(K,function(a){L(new(c("ReStoreIndexedDbClosedEvent"))(a))})}function U(){var a="restore-table-"+u;a=(i||(i=c("ExecutionEnvironment"))).isInBrowser?c("ReStoreTabNotifier")(a):void 0;return a}function V(){if(!y){f.logHistory.error("DB closed, transaction failed");f.userFlow.addPoint("db_closed");throw new(c("ReStoreDbClosedError"))()}}async function W(a,b){await K;c("gkx")("2138")&&V();if(c("gkx")("23662")&&c("justknobx")._("1699")){var e=c("ClientConsistency").getAdditionalRevisions();e.size>0&&(c("FBLogger")("maw_db").info("[pdb] js mismatch detected"),d("ReStoreErrorAction").softRefresh())}return new Promise(function(d,e){var f=r.startTracking(!0,void 0,x);f.addAnnotations({string:{source:"createReStoreIndexedDbPersistence",type:"runExclusivelyLock"}});f.mark("lock_requested");c("promiseDone")(G.request(x,{signal:H.signal},async function(){J=b;f.mark("lock_granted");var g=await a(),h=g[0];g=g[1];try{g=await O(g==="readwrite");f.mark("cache_version_read");E!==g&&E!=null&&(f.mark("cache_clearing"),F.clear(),c("FBLogger")("maw_db").info("[pdb] cache dropped, out of date cache version"),f.mark("cache_cleared"));E=g;C=!0;g=await h();C=!1;d(g);f.end();J=null}catch(a){C=!1;e(a);f.fail();J=null;throw a}}),function(a){f.end()},function(a){J=null,f.fail()})})}async function X(b,e){e=e.upgrade;if(!y)return;var f=c("uuidv4")(),g=c("nullthrows")(E);async function h(a){var e=new Promise(function(e,h){a.oncomplete=function(a){try{D.postMessage({changeSet:b,fromVersion:g,sentinelDeleted:d("ReStorePersistence").sentinelDeleted,toVersion:f})}catch(a){c("recoverableViolation")("Failed to broadcast changes","maw_db",a)}e(a.target.result)},a.onerror=a.onabort=function(a){E=null,F.clear(),h(a)}}),h=!1;for(var i of b){var j=i[0],k=i[1],l=a.objectStore(j);for(k of k){var n=k[0],o=k[1],q;if(o===d("ReStorePersistence").sentinelDeleted)q=l.delete(n);else{o=p(o,j,m);q=l.put(o,n)}q.onerror=function(){return h=!0}}}await c("promiseFromRequest")(a.objectStore(d("ReStoreDbConfigStore").CONFIG_STORE_NAME).put({name:d("ReStoreDbConfigStore").CACHE_VERSION_KEY,value:f}));h?a.abort():a.commit!=null&&a.commit();await e}function i(){Array.from(b).forEach(function(a){var b=a[0];a=a[1];var c=N(b);Array.from(a).forEach(function(a){var b=a[0];a=a[1];a===d("ReStorePersistence").sentinelDeleted?c.delete(b):c.set(b,{status:"decrypted",value:a})})}),E=f}if(q(b))return;var j=await K;if(e===!0){c("FBLogger")("maw_db").info("[pdb] Updating IDB version, fromVersion: %s, non-empty tables: %s",j.version,Array.from(b.entries()).filter(function(a){a[0];a=a[1];return a.size>0}).map(function(a){a=a[0];return a}).sort().toString());await B;(e=z)==null?void 0:e.abort();z=null;j.close();F.clear();E=null;K=async function(){var b=new(c("Deferred"))(),d=await t(a,function(a,d){i(),c("promiseDone")(h(d),function(){b.resolve()},function(a){c("FBLogger")("maw_db").catching(a).warn("Failed to complete db flush"),b.reject("Failed to complete db flush")})},L,s,n,j.version+1);await b.getPromise();return d}();await K;return}if(b.size===0)return;i();e=Array.from(b.keys());e.push(d("ReStoreDbConfigStore").CONFIG_STORE_NAME);return Q(function(a){return h(a)},"readwrite")}function Y(b){c("promiseDone")(K,function(e){L(new(c("ReStoreIndexedDbClosedEvent"))(e,b));e=indexedDB.deleteDatabase(a);e.onerror=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","error.persistence"),c("recoverableViolation")("[pdb] Failed to delete db","maw_db")};e.onblocked=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","block.persistence")};e.onsuccess=function(){(h||(h=d("ODS"))).bumpEntityKey(3185,"db_delete","success.persistence")}})}return{abortTransaction:function(){H.abort()},clearCache:function(){F.clear()},close:T,flush:X,get:function(a,b,d){try{var e=N(b);if(e.has(d)){a=e.get(d);if((a==null?void 0:a.status)==="encrypted"){var f=o(a.value,b,Y,m);e.set(d,{status:"decrypted",value:f});return f}return a==null?void 0:a.value}else{if(!y)return new Promise(function(){});var g=Q(function(a){return c("promiseFromRequest")(a.objectStore(b).get(d))},"readonly").then(function(a){var c=e.get(d);if((c==null?void 0:c.value)!==g)return c==null?void 0:c.value;c=o(a,b,Y,m);e.set(d,{status:"decrypted",value:c});return c});e.set(d,{status:"pending",value:g});return g}}catch(a){c("FBLogger")("maw_db").catching(a).warn("Error occurs in indexeddb persistence get");throw a}},isClosed:function(){return!y},isPersistenceSupported:async function(){try{await K;return!0}catch(a){return!1}},logError:function(a,b,d,e){if(d==="dbCorruption"){b==="readwrite"&&S();throw c("FBLogger")("maw_db").mustfixThrow("Got unexpected undefined in pdb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},queueCommitWork:function(a){return a()},runExclusively:W,shouldApplySync:function(){return!0},shouldInline:function(a,b){return d("ReStoreBinaryEncoding").estimateSize(b)<k},shouldSync:function(a,b){return a==="notifyInMemoryTable"?!1:!0},tabTablesNotifier:function(){return I},types:["indexeddb"],uniqueId:u}}a.schemaDiff=r;a.applyChanges=s;g.default=a}),98);
__d("migratePDBTablesToEBSM",["EBSMProperties","FBLogger","LSDBRestoreConfig","LSMetadata","LSPlatformLsInitLog","LSReStoreQplLogger","LSReStoreWrapper","MAWLSVaultingHooks","MWLSIndexedDBName","MessengerLogHistory","ODS","Promise","asyncToGeneratorRuntime","clearTimeout","createReStoreIndexedDbPersistence","err","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(indexedDB==null)return;var e=d("MWLSIndexedDBName").dbName();if(indexedDB.databases!=null){var g=(yield indexedDB.databases());if(g.find(function(a){return a.name===e})==null)return}else{var j;g=(yield (i||(i=b("Promise"))).race([new i(function(a,b){var d=indexedDB.open(e);d.onupgradeneeded=function(b){b.target.transaction.abort(),a(!1)};d.onsuccess=function(b){b.target.result.close(),a(!0)};d.onerror=function(a){b(c("err")("pdb migration error in checking db existance "+((a=a.target)==null?void 0:(a=a.error)==null?void 0:a.message)))}}),new i(function(a,b){j=c("setTimeout")(function(){b(c("err")("pdb db is not available. resolving on timeout"))},300)})]));c("clearTimeout")(j);if(g===!1)return}try{g=c("createReStoreIndexedDbPersistence")(e,d("LSMetadata").schema,d("LSDBRestoreConfig").createConfig(),{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionLockQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")),userFlow:d("LSPlatformLsInitLog").lsInitLogger});var k=d("LSReStoreWrapper").createLSReStore(g,d("LSMetadata").schema,[c("MAWLSVaultingHooks")]);yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b=0;b<c("EBSMProperties").persistedTablesArray.length;b++){var d=c("EBSMProperties").persistedTablesArray[b],e=k.tables[d].entries(new WeakMap()),f=(yield e.next());while(!f.done){var g=f.value;g[0];g=g[1];yield a[d].put(g);f=(yield e.next())}}});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":102");k.closeDb==null?void 0:k.closeDb();(h||(h=d("ODS"))).bumpEntityKey(3185,"pdb_to_ebsm_migration","migration.success")}catch(a){(h||(h=d("ODS"))).bumpEntityKey(3185,"pdb_to_ebsm_migration","migration.fail");throw a}});return k.apply(this,arguments)}function l(){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("MWLSIndexedDBName").dbName();if(indexedDB.databases!=null){var c=(yield indexedDB.databases());if(c.find(function(b){return b.name===a})==null)return}return new(i||(i=b("Promise")))(function(b,c){var d=indexedDB.deleteDatabase(a);d.onsuccess=b;d.onerror=c})});return m.apply(this,arguments)}function a(a){return j(a)["catch"](function(a){c("FBLogger")("ls_web_init").catching(a).mustfix("Error migrating data from PDB to EBSM")}).then(function(){return l()})["catch"](function(a){c("FBLogger")("ls_web_init").catching(a).mustfix("Error cleaning up data in PDB post EBSM startup.")})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("XRefererFrameControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/common/referer_frame.php",Object.freeze({no_lower:!1}),void 0);b=a;g["default"]=b}),98);
__d("ControlledReferer",["invariant","Bootloader","ConstUriUtils","CookieConsent","XRefererFrameControllerRouteBuilder","getRequestConstUri","gkx","isInternalFBURI","isWorkplaceDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f,g,h){var i;function j(a,b,e){if(!(i||(i=c("CookieConsent"))).isThirdPartyIframeAllowed(a)){c("Bootloader").loadModules(["ODS"],function(b){b.bumpEntityKey(2966,"defer_cookies","block_controlled_referer_iframe_"+a.id)},"ControlledReferer");return}function f(){var c="";try{c=a.contentWindow.location.pathname}catch(a){return}if(c!=="/intern/common/referer_frame.php"&&c!=="/common/referer_frame.php"&&c!=="/common/referer_frame.php/")return;b()}var g=c("gkx")("20935")&&c("gkx")("21100")&&!c("lowerFacebookDomain").wasDomainLowered();g=c("XRefererFrameControllerRouteBuilder").buildUri({no_lower:g,cb:1});g=g;c("isInternalFBURI")(c("getRequestConstUri")())&&(g=d("ConstUriUtils").getUri("/intern/common/referer_frame.php"));e==null&&c("isWorkplaceDotComURI")(c("getRequestConstUri")())&&(e="workplace");if(e){var j;g=(j=g)==null?void 0:j.addQueryParam("fb_source",e)}g!=null||h(0,67317);a.onload=f;a.src=g.toString()}function a(a,b,c){j(a,function(){a.contentWindow.document.body.innerHTML=b},c)}g.shouldUseFacebookReferer=j;g.useFacebookRefererHtml=a}),98);
__d("StaticContainer.react",["react"],(function(a,b,c,d,e,f,g){var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:i.Children.only(a)};return b}(i.Component);g["default"]=a}),98);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","SecurePostMessage","StaticContainer.react","TrustedTypesNoOpPolicy_DO_NOT_USE","URI","isTruthy","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.mountFrameRef=function(a){this.frame=a};e.updateFrame=function(){var a=this,b=this.frame;if(!b)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);d("ControlledReferer").shouldUseFacebookReferer(b,function(){var e=b.contentWindow.document;e.body.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML('\n        <form method="GET" id="theform"></form>\n        '+d("ControlledRefererIFrameConfig").additional_markup+"\n      ");var f=new(h||(h=c("URI")))(a.props.src).qualify(),g=e.getElementById("theform");g.action=f.toString();var i=f.getQueryData();f=function(a){if(Object.prototype.hasOwnProperty.call(i,a)){var b=i[a];if(Array.isArray(b))b.forEach(function(b){var c=e.createElement("input");c.name=a+"[]";c.setAttribute("value",b);c.autocomplete="off";c.type="hidden";g.appendChild(c)});else{b=e.createElement("input");b.name=a;b.setAttribute("value",i[a]);b.autocomplete="off";b.type="hidden";g.appendChild(b)}}};for(var j in i)f(j);f='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';if(c("isTruthy")(a.props.useTrustedHtml)){j=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(e.body.innerHTML+f);a.props.onFrameRender&&a.props.onFrameRender(a.props);e.body.innerHTML=j}else e.body.innerHTML+=f;a.props.onFrameRender&&a.props.onFrameRender(a.props)})};e.componentDidMount=function(){this.updateFrame()};e.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};e.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};e.render=function(){var a=this,b=this.props;b.src;b.onFrameRender;b.onBeforeFrameRender;b.useTrustedHtml;b=babelHelpers.objectWithoutPropertiesLoose(b,["src","onFrameRender","onBeforeFrameRender","useTrustedHtml"]);return j.jsx(c("StaticContainer.react"),{children:j.jsx("iframe",babelHelpers["extends"]({},b,{ref:function(b){return a.mountFrameRef(b)}}))})};e.postMessage=function(a,b){this.frame&&c("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,b)};return b}(j.PureComponent);g["default"]=a}),98);
__d("DocumentTitle",["Arbiter"],(function(a,b,c,d,e,f,g){var h=1500,i=null,j=!1,k=0,l=[],m=null,n=document.title,o=0;function p(){l.length>0?!j?(q(l[k].title),k=++k%l.length):r():(clearInterval(i),i=null,r())}function q(a){document.title=a,j=!0}function r(){s.set(m||n,!0),j=!1}var s=function(){function a(a){this.$1=a}a.get=function(){return n};a.set=function(a,b){var d=a.toString();document.title=d;!b?(n=d,m=null,c("Arbiter").inform("update_title",a)):m=d};a.blink=function(b){b={title:b.toString()};l.push(b);i===null&&(i=setInterval(p,h));return new a(b)};var b=a.prototype;b.stop=function(){var a=l.indexOf(this.$1);a>=0&&(l.splice(a,1),k>a?k--:k==a&&k==l.length&&(k=0))};a.badge=function(b){var d=a.get();d=b?"("+b+") "+d:d;a.set(d,!0);c("Arbiter").inform("update_title_badge",b,"state");o=b};a.preserveBadgeAndSet=function(b){a.set(b,!1),c("Arbiter").inform("update_title",b),a.badge(o)};return a}();g["default"]=s}),98);
__d("IGDBadgeIconImpressionLoggingWrapper.react",["MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4);a=a.children;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d={eventName:"visit_inbox"},b[0]=d):d=b[0];d=c("MessengerWebUXLogger").useImpressionLoggerRef(d);var e;b[1]!==d||b[2]!==a?(e=j.jsx("div",{ref:d,children:a}),b[1]=d,b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("IGDUncaughtErrorState.react",["FBLogger","PolarisHttp500UnexpectedErrorPage.react","cr:8915","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c;function l(a){if(b("cr:8915")!=null&&a!=null&&a instanceof b("cr:8915").ReStoreDbVersionChange){c("FBLogger")("igd_web_on_msgr").info(a);return}c("FBLogger")("igd_web_on_msgr").catching(a).mustfix("Uncaught Error while loading chat: %s",a.toString())}function a(a){var b=k(7),d=a.description,e=a.error,f=a.header;a=a.onPress;var g,h;b[0]!==e?(g=function(){l(e)},h=[e],b[0]=e,b[1]=g,b[2]=h):(g=b[1],h=b[2]);j(g,h);h=(g=d)!=null?g:void 0;g=(d=f)!=null?d:void 0;b[3]!==h||b[4]!==g||b[5]!==a?(f=i.jsx(c("PolarisHttp500UnexpectedErrorPage.react"),{description:h,header:g,onClick:a}),b[3]=h,b[4]=g,b[5]=a,b[6]=f):f=b[6];return f}g["default"]=a}),98);
__d("IGDInboxErrorState.react",["IGDUncaughtErrorState.react","cr:9977","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useMemo;var j=e.c;function a(a){var d=j(10);a=a.error;var e;e=a;e=e;var f=c("useCurrentDisplayMode")(),g;d[0]!==a||d[1]!==f?(g=b("cr:9977")==null?void 0:b("cr:9977")(a,f),d[0]=a,d[1]=f,d[2]=g):g=d[2];f=g;g=f;if(g!=null){f=(f=g.action)==null?void 0:f.onPress;var h;d[3]!==g.body||d[4]!==g.headline||d[5]!==e||d[6]!==f?(h=i.jsx(c("IGDUncaughtErrorState.react"),{description:g.body,error:e,header:g.headline,onPress:f}),d[3]=g.body,d[4]=g.headline,d[5]=e,d[6]=f,d[7]=h):h=d[7];return h}else{d[8]!==a?(g=i.jsx(c("IGDUncaughtErrorState.react"),{error:a}),d[8]=a,d[9]=g):g=d[9];return g}}g["default"]=a}),98);
__d("IGDSCallFilled24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M4.9 24.002q-.2 0-.4-.008a3.319 3.319 0 0 1-2.161-.92A18.862 18.862 0 0 1 .454 21.02a2.223 2.223 0 0 1 .171-2.893 14.91 14.91 0 0 1 5.829-4.014 2.5 2.5 0 0 1 1.896.186l.96.512a.888.888 0 0 0 .75.044 8.653 8.653 0 0 0 2.872-1.922 8.66 8.66 0 0 0 1.922-2.871.889.889 0 0 0-.044-.75l-.512-.962a2.495 2.495 0 0 1-.186-1.895 14.906 14.906 0 0 1 4.014-5.83 2.22 2.22 0 0 1 2.893-.17 18.89 18.89 0 0 1 2.056 1.884 3.323 3.323 0 0 1 .92 2.16c.206 5.552-3.946 10.564-6.44 13.057-2.432 2.433-7.264 6.446-12.654 6.446Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSLockFilledIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M10 5.667V4c0-2.2-1.8-4-4-4S2 1.8 2 4v1.667C.9 5.7 0 6.6 0 7.7v6.267C0 15.1.9 16 2.033 16h7.934A2.02 2.02 0 0 0 12 13.967V7.7c0-1.1-.9-2-2-2.033Zm-4-4C7.3 1.667 8.333 2.7 8.333 4v1.667H3.667V4C3.667 2.7 4.7 1.667 6 1.667Z",fill:"currentColor"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:.75,viewBox:"0 0 12 16",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("XPlatReactVoprf.shared",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.VoprfWasmError=a}),66);
__d("mapVoprfWasmError",["XPlatReactVoprf.shared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case-1:return new h();case 1:return new i();case 2:return new j();case 3:return new k();case 4:return new l();default:return new m()}}var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfUnknownError";return a}return a}((b=d("XPlatReactVoprf.shared")).VoprfWasmError),i=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Incorrect buffer length encountered by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfBufferLengthError";return a}return a}(b.VoprfWasmError),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing curve operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfCurveOperationError";return a}return a}(b.VoprfWasmError),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing hash operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfHashOperationError";return a}return a}(b.VoprfWasmError),l=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Error while performing proof operation by VOPRF WASM");a=b.call(this,a)||this;a.name="VoprfProofError";return a}return a}(b.VoprfWasmError),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a===void 0&&(a="Unknown error code received from WASM binary");a=b.call(this,a)||this;a.name="UnknownErrorCode";return a}return a}(b.VoprfWasmError);g.mapVoprfWasmError=a;g.VoprfUnknownError=h;g.VoprfBufferLengthError=i;g.VoprfCurveOperationError=j;g.VoprfHashOperationError=k;g.VoprfProofError=l;g.UnknownErrorCode=m}),98);
__d("VoprfWasmBuilder",["Promise","err","mapVoprfWasmError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return function(c){return i({locateFile:a,wasmBinary:c},b)}}function i(a,e){return new(h||(h=b("Promise")))(function(b,f){e(a).then(function(a){var e=a._sodiumInit();e!==0&&f(c("err")("Failed to initialize Sodium!"));b({createCurveRistretto:function(){var b=a._curve_create();a._curve_init_ristretto(b);return b},freeCurve:function(b){a._curve_free(b)},createVoprfExpTwohashdh:function(b){var c=a._voprf_create();a._voprf_init_exp_twohashdh(c,b);return c},freeVoprf:function(b){a._voprf_free(b)},getCurveBytes:function(b){return a._get_curve_element_bytes(b.curvePtr)},getCurveScalarBytes:function(b){return a._get_curve_scalar_bytes(b.curvePtr)},blind:function(b,c){var e=a._get_curve_element_bytes(b.curvePtr),f=a._get_curve_scalar_bytes(b.curvePtr),g=a._malloc(e),h=a._malloc(f),i=k(a,c);b=a._blind(b.voprfPtr,g,e,h,f,i,c.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,g,e);b=j(a,h,f);a._free(g);a._free(h);a._free(i);return{blindedElement:c,blindingFactor:b}},verifiableUnblind:function(b,c,e,f,g,h,i,l){var m=c?k(a,c):null,n=e?k(a,e):null,o=k(a,h),p=k(a,f),q=k(a,g),r=k(a,i),s=a._get_curve_element_bytes(b.curvePtr),t=a._malloc(s);b=a._verifiable_unblind(b.voprfPtr,t,s,m,c?c.length:0,n,e?e.length:0,p,f.length,q,g.length,o,h.length,r,i.length,+l);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,t,s);m!==null&&a._free(m);n!==null&&a._free(n);a._free(o);a._free(p);a._free(q);a._free(r);a._free(t);return{unblindedElement:c}},clientFinalize:function(b,c,e){var f=k(a,c),g=k(a,e),h=a._get_voprf_final_evaluation_bytes(b.voprfPtr),i=a._malloc(h);b=a._voprf_client_finalize(b.voprfPtr,i,h,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,i,h);a._free(f);a._free(g);a._free(i);return{finalEvaluation:c}},setup:function(b){var c=a._get_curve_scalar_bytes(b.curvePtr),e=a._get_curve_element_bytes(b.curvePtr),f=a._malloc(c),g=a._malloc(e);b=a._voprf_setup(b.voprfPtr,g,e,f,c);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);b=j(a,g,e);e=j(a,f,c);a._free(f);a._free(g);return{sk:b,pk:e}},evaluate:function(b,c,e,f){var g=a._get_curve_element_bytes(b.curvePtr),h=a._malloc(g),i=f?a._get_curve_scalar_bytes(b.curvePtr):0,l=i>0?a._malloc(i):null,m=f?a._get_curve_scalar_bytes(b.curvePtr):0,n=m>0?a._malloc(m):null,o=k(a,e),p=k(a,c);b=a._voprf_evaluate(b.voprfPtr,h,g,l,i,n,m,p,c.length,o,e.length,+f);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=l!==null?j(a,l,i):null;e=n!==null?j(a,n,m):null;f=j(a,h,g);a._free(h);a._free(p);l!==null&&a._free(l);n!==null&&a._free(n);a._free(o);return{proofC:c,proofS:e,evaluatedElement:f}},serverFinalize:function(b,c,e){var f=k(a,c),g=k(a,e),h=a._get_voprf_final_evaluation_bytes(b.voprfPtr),i=a._malloc(h);b=a._voprf_server_finalize(b.voprfPtr,i,h,f,c.length,g,e.length);if(b!==0)throw d("mapVoprfWasmError").mapVoprfWasmError(b);c=j(a,i,h);a._free(f);a._free(g);a._free(i);return{finalEvaluation:c}}})})["catch"](function(a){throw c("err")("Failed to initialize wasm module, "+a)})})}function j(a,b,c){var d=new Uint8Array(c);for(var e=0;e<c;++e)d[e]=a.getValue(e+b,"i8");return d}function k(a,b){var c=b.length;c=a._malloc(c);a.writeArrayToMemory(b,c);return c}g["default"]=a}),98);
__d("LSVoprfWasm",["VoprfWasmBuilder","bx","ls_voprf_utils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("bx").getURL(c("bx")("11329"))};b=c("VoprfWasmBuilder")(a,c("ls_voprf_utils"));d=b;g["default"]=d}),98);
__d("LogWebQplNOP",["I64","LSIntEnum","Promise","QPLUserFlow","WAHashStringToNumber","WALogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["LSLogWebQpl error: ",""]);k=function(){return a};return a}function l(a){a=a==null?null:(j||(j=d("I64"))).to_int32(a);switch(a){case 521476165:return c("qpl")._(521476165,"2432");case 521481602:return c("qpl")._(521481602,"829");default:return null}}function a(a,e,f,g,m,n){return new(h||(h=b("Promise")))(function(b,h){try{h=m?(i||(i=d("LSIntEnum"))).unwrapIntEnum(m):null;var o=l(e);if(o!=null&&f!=null){h={"int":{num_messages:(j||(j=d("I64"))).to_int32(g)},string:{message_count:String(g),taskSource:(h=h==null?void 0:h.toString())!=null?h:"unknown"}};n===!0?c("QPLUserFlow").endSuccess(o,{annotations:h,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}):n===!1?c("QPLUserFlow").endFailure(o,f,{annotations:h,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}):(c("QPLUserFlow").addAnnotations(o,h,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}),c("QPLUserFlow").addPoint(o,f,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)}))}b()}catch(a){d("WALogger").ERROR(k(),a),b()}})}g.call=a}),98);
__d("PolarisAppInstallConstants",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({"default":null,instagramlitecarbon:null,openinapp:null});b=["postPage","profilePage","tagPage","locationPage","feedPage","exploreLandingPage","ActivityFeedPage"];g.APP_BANNER_VARIANTS=a;g.ALLOWLISTED_PAGE_IDS=b}),98);
__d("PolarisIncomingCallActions",[],(function(a,b,c,d,e,f){"use strict";function a(){return{type:"ACK_INCOMING_CALL"}}function b(a,b,c,d,e,f){return{avatarUris:e,callerName:f,hasVideo:c,igThreadId:b,serverInfoData:a,threadName:d,type:"UPDATE_INCOMING_CALL"}}f.ackCall=a;f.updateCall=b}),66);
__d("useBlinkDocumentTitle",["DocumentTitle","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.c;function a(a){var b=j(3),d,e;b[0]!==a?(d=function(){if(a==null)return function(){};var b=c("DocumentTitle").blink(a);return function(){b.stop()}},e=[a],b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);i(d,e)}g["default"]=a}),98);
__d("PolarisIncomingCallBlinkingTitle.react",["fbt","PolarisCallGatingHelpers","react","useBlinkDocumentTitle"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(2);a=a.callerName;var c;b[0]!==a?(c=d("PolarisCallGatingHelpers").isWebCallingRingtoneEnabled()&&a!=null?k.jsx(l,{callerName:a}):null,b[0]=a,b[1]=c):c=b[1];return c}function l(a){var b=j(2);a=a.callerName;var d;b[0]!==a?(d=h._("__JHASH__uTskMV1sxoc__JHASH__",[h._param("caller_name",a)]),b[0]=a,b[1]=d):d=b[1];c("useBlinkDocumentTitle")(d);return null}g["default"]=a}),226);
__d("PolarisIncomingCall.react",["cx","fbt","I64","IGCoreModal.react","IGDSBox.react","IGDSCallFilled24Icon.react","IGDSLockFilledIcon.react","IGDSText.react","IGDSVideoChatFilled24Icon.react","IGDSXFilledIcon.react","IGDThreadTTLCUtils","IGWebPreCallContext","PolarisCallGatingHelpers","PolarisCallNavigator","PolarisDirectLogger","PolarisDirectStrings","PolarisIGCorePressable.react","PolarisIGCoreText","PolarisIncomingCallActions","PolarisIncomingCallBlinkingTitle.react","PolarisReactRedux.react","PolarisUserAvatar.react","ReQL","ReQLSuspense","ZenonCallInviteModelTypes","bx","cr:4866","intlList","promiseDone","react","useIGDIsE2EECallingEnabled","usePolarisMQTT","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react"));e=l;var n=e.useContext,o=e.useEffect;function a(){var a,e=function(a){if(a&&a.type===d("ZenonCallInviteModelTypes").CallInviteModelType.ringing){var b;b=(b=a.controllerParams.serverInfoData)!=null?b:"";var e=a.requestingVideo;a=(a=a.controllerParams.appMessages)==null?void 0:a.ring_data;var f="",g="",h="",i,j=[],k=[];if(a!=null){a=JSON.parse(a);h=a.display_name;i=a.display_uri;g=a.group_name;f=a.ig_thread_id;j=a.participant_usernames;k.push(i);if(!g){try{j=JSON.parse(j)}catch(a){}g=Array.isArray(j)?c("intlList")([h].concat(j),c("intlList").CONJUNCTIONS.NONE).toString():h}}return{avatarUris:k,callerName:h,hasVideo:e,igThreadId:f,serverInfoData:b,threadName:g}}else return null},g=b("cr:4866")==null?void 0:b("cr:4866").useCallInvite(),h=(a=g==null?void 0:g.isE2eeMandated)!=null?a:!1;a=g==null?void 0:g.context.thread;var l=(j||(j=c("useReStore")))(),p=(k||(k=d("I64"))).of_string((a=a==null?void 0:a.id)!=null?a:"");a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.tables.threads).getKeyRange(p)},[l.tables.threads,p],f.id+":115");a=a!=null?d("IGDThreadTTLCUtils").isInstamadilloTTLCCallingEnabled(a):!1;var q=c("useIGDIsE2EECallingEnabled")(p);q=h?!q&&a:!0;var r=b("cr:4866")==null?void 0:b("cr:4866").useAcceptCallCallback(q),s=d("PolarisReactRedux.react").useDispatch(),t=c("usePolarisMQTT")();a=n(c("IGWebPreCallContext"));var u=a?a.callInviteModel:null;a=d("PolarisReactRedux.react").useSelector(function(a){return a.incomingCall});var v=a.acknowledged,w=a.avatarUris,x=a.callerName,y=a.hasVideo,z=a.igThreadId,A=a.serverInfoData;a=a.threadName;e=g?e(g):null;e!=null?(w=e.avatarUris,x=e.callerName,y=e.hasVideo,z=e.igThreadId,A=e.serverInfoData,a=e.threadName,v=!1):d("PolarisCallGatingHelpers").isZenonIncomingRingEnabled()&&(v=!0);g=function(){d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","join_button_click",{has_video:y,ig_thread_id:z,server_info_data:A}),h&&r?c("promiseDone")(r({trigger:"incoming_call_modal"})):(s(d("PolarisIncomingCallActions").ackCall()),z!=null&&d("PolarisCallNavigator").launchCall(z,Boolean(y),A))};var B=!Boolean(v)&&A!=null&&z!=null&&d("PolarisCallGatingHelpers").isWebCallingEnabled();o(function(){B&&d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","incoming_call_impression",{has_video:y,ig_thread_id:z,server_info_data:A})},[y,z,B,A]);e=function(){d("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","decline_button_click",{has_video:y,ig_thread_id:z,server_info_data:A}),d("PolarisCallGatingHelpers").isZenonIncomingRingEnabled()?u==null?void 0:u.decline():(s(d("PolarisIncomingCallActions").ackCall()),A!=null&&t!=null&&c("promiseDone")(t.sendRtcHangupRequest(A)))};v=Boolean(y)?i._("__JHASH__GQ_YG69KS9I__JHASH__"):i._("__JHASH__oOTeWHPkR____JHASH__");v=q?v:i._("__JHASH__gplkkZtPi7i__JHASH__");return B?m.jsxs(c("IGCoreModal.react"),{children:[d("PolarisCallGatingHelpers").isWebCallingRingtoneEnabled()&&m.jsx("audio",{autoPlay:!0,loop:!0,src:c("bx").getURL(c("bx")("6022")),type:"audio/m4a"}),m.jsx(c("PolarisIncomingCallBlinkingTitle.react"),{callerName:x}),m.jsxs(c("IGDSBox.react"),{alignItems:"center",height:312,padding:8,position:"relative",width:400,children:[m.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:w&&w.length>0?w[0]:null,size:92}),m.jsx(c("IGDSBox.react"),{marginBottom:2,marginTop:4,maxWidth:400,paddingX:8,position:"relative",children:m.jsx(c("PolarisIGCoreText").Headline2,{display:"truncated",size:"headline2",textAlign:"center",weight:"semibold",zeroMargin:!0,children:a})}),m.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",marginBottom:8,position:"relative",children:[q?null:m.jsx(c("IGDSBox.react"),{justifyContent:"center",paddingX:2,children:m.jsx(c("IGDSLockFilledIcon.react"),{alt:i._("__JHASH__O5S2wYWhuyi__JHASH__"),color:"ig-secondary-text","data-testid":void 0,size:8})}),m.jsx(c("IGDSText.react").Body,{color:"secondaryText",zeroMargin:!0,children:v})]}),m.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[m.jsx(c("IGDSBox.react"),{marginEnd:6,position:"relative",children:m.jsx(c("PolarisIGCorePressable.react"),{onPress:e,children:m.jsx("div",{className:"_aacd _aace",children:m.jsx(c("IGDSXFilledIcon.react"),{alt:d("PolarisDirectStrings").DECLINE_CALL_MODAL_STRING,color:"web-always-white","data-testid":void 0})})})}),m.jsx(c("PolarisIGCorePressable.react"),{onPress:g,children:m.jsx("div",{className:"_aacd _aacf",children:Boolean(y)?m.jsx(c("IGDSVideoChatFilled24Icon.react"),{alt:d("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"}):m.jsx(c("IGDSCallFilled24Icon.react"),{alt:d("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"})})})]})]})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisLoggedInAppBanner.react",["cx","HeroInteractionIgnoreWithDiv.react","IGDSBox.react","IGDSIconButton.react","IGDSXPanoFilledIcon.react","PolarisAppInstallConstants","PolarisAppInstallStrings","PolarisConfig","PolarisDismissEntry","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedInCtaLogger","PolarisNavigationLayoutContext","PolarisOpenInApp","PolarisUA","polarisLogAction","react","usePolarisGetDeepLink"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useState,n="logged_in_banner";function a(a){var b=m(!1),e=b[0],f=b[1],g=a.pageID,h=a.viewer,i=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible();b=m(d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").USE_THE_APP_LI_BANNER));var o=b[0],p=b[1];a=d("PolarisNavigationLayoutContext").usePolarisNavigationLayoutContext();b=a.navigationPosition;var q=k(function(){var a;a=(a=h==null?void 0:h.isProfessionalAccount)!=null?a:!1;return a&&d("PolarisConfig").isIOS()&&d("PolarisConfig").getCountryCode()==="US"?!0:!d("PolarisConfig").isLoggedIn()||!d("PolarisUA").isMobile()||!d("PolarisAppInstallConstants").ALLOWLISTED_PAGE_IDS.includes(g)||o},[o,g,h==null?void 0:h.isProfessionalAccount]);l(function(){!q()&&!e&&(c("polarisLogAction")("appBannerImpression",{platform:d("PolarisConfig").getAppPlatform(),source:g,type:n}),d("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:g,ctaType:"app_banner",ctaVersion:i?"instagramlitecarbon":"use_the_app",eventName:"impression"}),f(!0))},[i,q,e,g]);var r=c("usePolarisGetDeepLink")();a=k(function(a){a.preventDefault();a=r();var b=a.android,e=a.ios;a=a.originalPath;c("polarisLogAction")("appBannerClick",{platform:d("PolarisConfig").getAppPlatform(),source:g,type:n});d("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:g,ctaType:"app_banner",ctaVersion:i?"instagramlitecarbon":"use_the_app",eventName:"click"});d("PolarisOpenInApp").openInApp(b,e,a,i)},[r,i,g]);var s=k(function(a){a.preventDefault(),c("polarisLogAction")("appBannerDismiss",{platform:d("PolarisConfig").getAppPlatform(),source:g,type:n}),d("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:g,ctaType:"app_banner",ctaVersion:i?"instagramlitecarbon":"use_the_app",eventName:"dismiss"}),p(!0),d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").USE_THE_APP_LI_BANNER)},[i,g]);return j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:q()?null:j.jsx("div",{className:"_acc8"+(b==="bottom"?" _abpk":"")+(b!=="bottom"?" _ag6v":""),children:j.jsxs(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",paddingY:2,position:"relative",width:"100%",children:[j.jsx(c("IGDSBox.react"),{padding:1,position:"absolute",right:!0,top:!0,children:j.jsx(c("IGDSIconButton.react"),{onClick:s,children:j.jsx(c("IGDSXPanoFilledIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-secondary-text",size:12})})}),j.jsx(c("IGDSBox.react"),{paddingX:6,position:"relative",children:j.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:a,children:i?d("PolarisAppInstallStrings").USE_INSTAGRAM_LITE_CARBON_CTA:d("PolarisAppInstallStrings").NEW_CTA_USE_THE_APP})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisNotificationsNavBadge.react",["PolarisActivityStorySelectors","PolarisNotificationsNavItemBadge.react","PolarisReactRedux.react","cr:1044","cr:1291","cr:6830","cr:6832","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.c,l=(f=b("cr:6830"))!=null?f:b("cr:6832"),m=(e=b("cr:1044"))!=null?e:b("cr:1291");function a(a){var b=k(10),e=a.onBadgeStateChange;a=a.unseenCount;var f=m(),g=d("PolarisReactRedux.react").useSelector(d("PolarisActivityStorySelectors").showBanner),h=a+f>0;b[0]!==e||b[1]!==h||b[2]!==g?(a=function(){return e(h||g)},f=[e,h,g],b[0]=e,b[1]=h,b[2]=g,b[3]=a,b[4]=f):(a=b[3],f=b[4]);j(a,f);b[5]!==h?(a=h?i.jsx(c("PolarisNotificationsNavItemBadge.react"),{}):null,b[5]=h,b[6]=a):a=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=l&&i.jsx(l,{}),b[7]=f):f=b[7];b[8]!==a?(f=i.jsxs(i.Fragment,{children:[a,f]}),b[8]=a,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("PolarisPaidAdsPixelContainerDeferredV2.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("PolarisPaidAdsPixelsContainerV2.react").__setRef("PolarisPaidAdsPixelContainerDeferredV2.react"));g["default"]=a}),98);
__d("PolarisPaidAdsPixelsContainerV2.react",["CometErrorBoundary.react","ControlledRefererIFrame.react","PolarisWebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;b=1e3*60*60*24;var k=b*7,l="pixel_fire_ts";function m(){var a=i(4),b,d,e;if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){e=Symbol["for"]("react.early_return_sentinel");bb0:{d=c("PolarisWebStorage").getLocalStorage();if(!d){e=null;break bb0}b=parseInt(d.getItem(l),10)}a[0]=b;a[1]=d;a[2]=e}else b=a[0],d=a[1],e=a[2];if(e!==Symbol["for"]("react.early_return_sentinel"))return e;e=b;if(Date.now()-e<k)return null;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("ControlledRefererIFrame.react"),{hidden:!0,onFrameRender:function(){d.setItem(l,Date.now().toString())},src:"/paid_ads/generete_pixels/"},"pixels_iframe"),a[3]=e):e=a[3];return e}function a(){var a=i(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(m,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/ZMc_bSwzLKC/
 */
__d("ristretto255-0.1.1",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f,g){var h=c("tweetnacl-1.0.3")();Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(a,b){return new Uint8Array(Array.prototype.slice.call(this,a,b))}});c={};var i=h.lowlevel,j=i.gf([1]);function k(){return[i.gf(),i.gf(),i.gf(),i.gf()]}var l=new Uint8Array([226,242,174,10,106,188,78,113,168,132,169,97,197,0,81,95,88,227,11,106,165,130,221,141,182,166,89,69,224,141,45,118]),m=new Float64Array([235,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function n(a,b,c){var d=new Float64Array(64);for(var e=0;e<32;e++)for(var f=0;f<32;f++)d[e+f]+=b[e]*c[f];i.modL(a,d)}function o(a,b){n(a,b,b)}function p(a,b){for(var c=0;c<32;c++)a[c]=b[c];for(c=251;c>=0;c--)o(a,a),(m[c>>3]>>(c&7)&1)!==0&&n(a,a,b)}var q=i.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),r=i.gf([11803,18811,63136,32407,21693,7032,36364,44957,53757,12789,64713,3900,18604,11139,12735,14185]),s=i.gf([16618,32861,64938,39368,29374,23105,5655,40239,55360,65025,31633,5826,64674,53167,35077,30828]),t=i.gf([49526,37983,2497,57980,13583,52574,41272,11393,57316,48752,43997,39316,57559,45747,29352,656]),u=i.gf([19744,17645,23210,12717,6553,45086,18988,53918,20203,21147,54063,19676,8769,63084,45946,22888]);function v(a){var b=new Uint8Array(32);i.pack25519(b,a);a=1;for(var c=0;c<32;c++)a&=b[c]===0;return a}function w(a,b,c){var d;c=-c;for(var e=0;e<16;e++)d=a[e]^b[e],d&=c,a[e]^=d}function x(a){var b=new Uint8Array(32);i.pack25519(b,a);return b[0]&1}function y(a,b){i.Z(a,i.gf(),b)}function z(a,b,c){var d=i.gf();y(d,b);i.set25519(a,b);w(a,d,c)}function A(a,b){z(a,b,x(b))}function B(a,b,c){var d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),j=i.gf();i.S(d,c);i.M(d,d,c);i.S(a,d);i.M(a,a,c);i.M(a,a,b);i.pow2523(a,a);i.M(a,a,d);i.M(a,a,b);i.S(e,a);i.M(e,e,c);i.Z(f,e,b);i.A(g,e,b);i.M(h,b,q);i.A(h,e,h);d=v(f);c=v(g);b=v(h);i.M(j,a,q);w(a,j,c|b);A(a,a);return d|c}function C(a){var b=i.gf(),c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),r=i.gf(),t=i.gf(),u=i.gf(),v=i.gf(),y=0,C=new Uint8Array(32);i.A(m,a[2],a[1]);i.Z(v,a[2],a[1]);i.M(m,m,v);i.M(n,a[0],a[1]);i.S(o,n);i.M(o,m,o);B(f,j,o);i.M(b,f,m);i.M(c,f,n);i.M(u,b,c);i.M(u,u,a[3]);i.M(g,a[0],q);i.M(h,a[1],q);i.M(e,b,s);i.M(l,a[3],u);y=x(l);p=i.gf(a[0]);r=i.gf(a[1]);d=i.gf(c);w(p,h,y);w(r,g,y);w(d,e,y);i.M(t,p,u);z(r,r,x(t));i.Z(k,a[2],r);i.M(k,d,k);A(k,k);i.pack25519(C,k);return C}function D(a){var b=a[31]&127^127;for(var c=30;c>0;c--)b|=a[c]^255;b=(b|0>>>0)-1>>8;c=237-1-(a[0]|0>>>0)>>8;return 1-((b&c|a[0])&1|(a[31]&255)>>7)}function E(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf();if(D(b)===0)return-1;i.unpack25519(e,b);i.S(f,e);i.set25519(g,j);i.Z(g,g,f);i.S(k,g);i.set25519(h,j);i.A(h,h,f);i.S(l,h);i.M(m,i.D,k);y(m,m);i.Z(m,m,l);i.M(n,m,l);i.set25519(d,j);b=B(c,d,n);i.M(a[0],c,h);i.M(a[1],c,a[0]);i.M(a[1],a[1],m);i.M(a[0],a[0],e);i.A(a[0],a[0],a[0]);A(a[0],a[0]);i.M(a[1],g,a[1]);i.set25519(a[2],j);i.M(a[3],a[0],a[1]);return-(1-b|x(a[3])|v(a[1]))}function F(a,b){var c=i.gf(),d=i.gf(),e=i.gf(),f=i.gf(),g=i.gf(),h=i.gf(),k=i.gf(),l=i.gf(),m=i.gf(),n=i.gf(),o=i.gf(),p=i.gf(),s=i.gf(),v=i.gf();i.set25519(e,j);i.S(f,b);i.M(f,q,f);i.A(m,f,e);i.M(m,m,t);i.set25519(c,j);y(c,c);i.A(g,f,i.D);i.M(n,f,i.D);i.Z(n,c,n);i.M(n,n,g);g=1-B(h,m,n);i.M(k,h,b);A(k,k);y(k,k);w(h,k,g);w(c,f,g);i.Z(d,f,e);i.M(d,d,c);i.M(d,d,u);i.Z(d,d,n);i.A(o,h,h);i.M(o,o,n);i.M(p,d,r);i.S(l,h);i.Z(s,e,l);i.A(v,e,l);i.M(a[0],o,v);i.M(a[1],s,p);i.M(a[2],p,v);i.M(a[3],o,s)}function G(a){var b=i.gf(),c=i.gf(),d=k(),e=k();i.unpack25519(b,a.slice(0,32));i.unpack25519(c,a.slice(32,64));F(d,b);F(e,c);i.add(d,e);return d}function a(a){var b=k();i.scalarbase(b,a);return C(b)}function b(a,b){var c=k(),d=k();if(E(c,b)!==0)throw new Error("Invalid argument");i.scalarmult(d,c,a);return C(d)}function d(a){var b=k();return E(b,a)===-1?!1:!0}function H(a,b){var c=k(),d=k();if(E(c,a)===-1)throw new Error("Invalid argument");if(E(d,b)===-1)throw new Error("Invalid argument");return[c,d]}function e(a,b){a=H(a,b);b=a[0];a=a[1];i.add(b,a);return C(b)}function I(a,b){var c=i.gf();y(c,b[3]);var d=i.gf();y(d,b[0]);d=[d,b[1],b[2],c];i.add(a,d)}function g(a,b){a=H(a,b);b=a[0];a=a[1];I(b,a);return C(b)}function J(){var a=h.randomBytes(64);return G(a)}function K(a){return C(G(a))}function L(){return C(J())}function M(){var a;new Uint8Array(32);var b=0;do{a=h.randomBytes(32);a[31]&=31;var c=32,d=1;do c--,b|=a[c]-i.L[c]>>8&d,d&=(a[c]^i.L[c])-1>>8;while(c!==0)}while(b===0);return a}function N(a){var b=new Uint8Array(32);p(b,a);return b}function O(a){var b=new Float64Array(64);for(var c=0;c<32;c++)b[c]=-a[c];c=new Uint8Array(32);i.modL(c,b);return c}function P(a,b){var c=new Float64Array(64);for(var d=0;d<32;d++)c[d]=a[d]+b[d];d=new Uint8Array(32);i.modL(d,c);return d}function Q(a,b){return P(a,O(b))}function R(a,b){var c=new Uint8Array(32);n(c,a,b);return c}c.scalarMultBase=a;c.scalarMult=b;c.isValid=d;c.add=e;c.sub=g;c.fromHash=K;c.getRandom=L;c.basePoint=l;c.scalar={};c.scalar.getRandom=M;c.scalar.invert=N;c.scalar.negate=O;c.scalar.add=P;c.scalar.sub=Q;c.scalar.mul=R;c.unsafe={};c.unsafe.point={};c.unsafe.point.toBytes=C;c.unsafe.point.fromBytes=E;c.unsafe.point.fromHash=G;c.unsafe.point.sub=I;c.unsafe.point.add=i.add;c.unsafe.point.scalarMultBase=i.scalarbase;c.unsafe.point.scalarMult=i.scalarmult;c.unsafe.point.getRandom=J;c.unsafe.point.alloc=k;c.unsafe.constants={};c.unsafe.constants.LSub2=m;c.unsafe.constants.sqrtm1=q;c.unsafe.constants.sqrtadm1=r;c.unsafe.constants.invsqrtamd=s;c.unsafe.constants.onemsqd=t;c.unsafe.constants.sqdmone=u;f.exports=c}),34);
__d("ristretto255",["ristretto255-0.1.1"],(function(a,b,c,d,e,f){e.exports=b("ristretto255-0.1.1")}),null);
__d("usePolarisNotificationsSecurityAlertUnseenCountDataDefault.react",[],(function(a,b,c,d,e,f){"use strict";function a(){return 0}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("EphemeralMediaViewMode",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONCE:0,REPLAYABLE:1,PERMANENT:2});f["default"]=a}),66);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f=b,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;j.apply(void 0,d)}var k=this["on"+a];k!=null&&k.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("LocalStorageWrapper",["CurrentMessengerUser","WAResultOrError","isQuotaExceededError","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PersistedQueue").__setRef("LocalStorageWrapper");function i(a){var b=null;try{b=window.localStorage;if(b!=null&&typeof b.setItem==="function"&&typeof b.removeItem==="function"){var c="__test__"+Date.now();b.setItem(c,"");b.removeItem(c)}else return null}catch(c){if(d("isQuotaExceededError").isStorageQuotaExceededError(b,c)===!1){a("Failed to get localstorage");return null}}return b}function a(a){try{a=i(a);return a!=null}catch(a){return!1}}function j(a){try{var b=0,c={};for(var d in a){if(!Object.prototype.hasOwnProperty.call(a,d))continue;var e=(a[d].length+d.length)*2;b+=e;e/1024>1e3&&(c[d.substr(0,50)]=(e/1024).toFixed(2))}c.total=(b/1024).toFixed(2);return JSON.stringify(c)}catch(a){return"Can't calculate localStorage"}}function b(a,b,c,e,f){if(a==null)return d("WAResultOrError").makeError("null-storage");try{f!==void 0?k(a,b,c,f):a.setItem(b,c)}catch(f){if(d("CurrentMessengerUser").isEmployee()){var g=j(a);h.onReady(function(a){a=a.isQueueActivateExperiment().toString();e(f+" - Storage quota exceeded while setting "+b+":"+c+", queueActivateExp:"+a+" "+g)})}else e(f+" - Storage quota exceeded while setting "+b+":"+c);return d("WAResultOrError").makeError("quota-exceeded")}return d("WAResultOrError").makeResult()}function k(a,b,c,d){try{a.setItem(b,c)}catch(e){d(e),a.setItem(b,c)}}function e(a,b,c){a==null?c("not storage found"):a.removeItem(b)}function f(a,b,c){if(a==null){c("not storage found");return null}else return a.getItem(b)}g.getStorage=i;g.isLocalStorageAvailable=a;g.setItemGuarded=b;g.removeItemGuarded=e;g.getItemGuarded=f}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2;b=b*30*6;var k=3,l="AES-GCM",m="HKDF",n="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=k;f.AES_GCM=l;f.HKDF=m;f.SHA256=n}),66);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWebInitDataHelpers",["MessengerWebInitData","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("3992")?2:1}function b(a){switch(a){case 2:return c("MessengerWebInitData").accountKeyV2;case 1:return c("MessengerWebInitData").accountKey;default:throw c("err")("Invalid format version, should never happen.")}}g.getLastAccountKeyFormatVersion=a;g.getAccountKeyString=b}),98);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWebInitDataHelpers","WABase64","asyncToGeneratorRuntime","err","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:h;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)})["catch"](function(b){throw c("FBLogger")("maw_ear").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}function e(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=new Uint8Array(d("WABase64").decodeB64(b)),g=f.subarray(0,(e=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),h=f.subarray(e.ADDITIONAL_DATA_LENGTH_IN_BYTES,e.AES_GCM_IV_LENGTH_IN_BYTES+e.ADDITIONAL_DATA_LENGTH_IN_BYTES);f=f.subarray(e.AES_GCM_IV_LENGTH_IN_BYTES+e.ADDITIONAL_DATA_LENGTH_IN_BYTES);try{e=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:g,iv:h,name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,f));return e}catch(d){c("FBLogger")("maw_ear").catching(d).mustfix("Failed to decryptDataToArrayBuffer",a.constructor.name,b.length,String(d));throw d}});return i.apply(this,arguments)}function j(a){a=d("MAWWebInitDataHelpers").getAccountKeyString(a);var b=d("MAWKeychainUtil").fromHexString(a);if(b==null)throw c("err")("Invalid value for account key. Is empty="+String(a.length===0)+";");return b.buffer}function k(a){a=j(a);return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);try{a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]));return a}catch(a){c("FBLogger")("maw_ear").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}});return m.apply(this,arguments)}function n(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function o(a,b){var e;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(e=d("MAWCryptoConsts")).SHA256},info:e.HKDF_INFO,name:e.HKDF,salt:b},a,{length:e.AES_GCM_KEY_LENGTH,name:e.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})["catch"](function(a){c("FBLogger")("maw_ear").catching(a).mustfix("Failed to genDatabaseEncryptionKey");throw a})}function p(a){a=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);return new DataView(a).getUint8(0)}function q(a){return p(d("WABase64").decodeB64(a))}var r=c("memoizeOneWithArgs")(function(a){return k(a)});function s(a){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a));return d("WABase64").encodeB64(a)});return t.apply(this,arguments)}g.ADDITIONAL_DATA=h;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=e;g.getAccountKeyBuffer=j;g.genAccountKey=k;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=l;g.genDatabaseEncryptionSeed=n;g.genDatabaseEncryptionKey=o;g.getKeyVersionFromCipherData=p;g.getKeyVersionFromCipherDataString=q;g.getAccountKey=r;g.generateHashString=s}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a,b=d("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),e=(yield (a=d("MAWKeychainCrypto")).getAccountKey(b)),f=a.genBrowserEncryptionKeyString(),g=a.genDatabaseEncryptionSeed();e=(yield a.encryptDataToStringBuffer(e,g));g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield a.generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(b)),appIdOrigin:c("MessengerWebInitData").appId,expiration:g,formatVersion:b,key:f,seed:e,userKeyBaseString:yield a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_e2ee_web").catching(a).mustfixThrow("Failed to generateNewKey")}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWFolderTypes",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=10;var g={ARCHIVED:e,INBOX:a,OTHER:c,PENDING:b,SPAM:d};f.INBOX=a;f.PENDING=b;f.OTHER=c;f.SPAM=d;f.ARCHIVED=e;f.FOLDER_ID=g}),66);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k,l){g===void 0&&(g=1);try{var m=(yield d("MAWKeychainCrypto").getAccountKey(g));a=(yield (i||(i=b("Promise"))).all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),new i(function(a,f){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(m,e).then(a)["catch"](function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWWebInitDataHelpers").getAccountKeyString(g);b=b!=null&&j!==(yield d("MAWKeychainCrypto").generateHashString(b));if(b)return f(new(c("MAWEARKeychainDecryptionError"))("Fail to decrypt seed with account key"));f(a)});return function(b){return a.apply(this,arguments)}}())})]));var n=a[0];a=a[1];n=(yield d("MAWKeychainCrypto").genDatabaseEncryptionKey(n,a));return{key:n,version:f}}catch(b){a=null;n=null;f=d("MAWWorkerSetupArgs").getWorkerSetupArgs();(h||(h=c("ExecutionEnvironment"))).isInWorker&&f!=null&&(a=f.userKeyBase===c("MessengerWebInitData").userKeyBase,n=f.fbId===d("MAWCurrentUser").getID());c("FBLogger")("maw_ear").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",j!=null,d("MAWWebInitDataHelpers").getAccountKeyString(g)!=null,j===(yield d("MAWKeychainCrypto").generateHashString(d("MAWWebInitDataHelpers").getAccountKeyString(g))),k!=null,c("MessengerWebInitData").userKeyBase!=null,k===(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),l,c("MessengerWebInitData").appId,d("MAWCurrentUser").getID()===String(c("MessengerWebInitData").userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,a,n,g);throw b}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MAWKeychainNaClCrypto",["MAWCryptoConsts","MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=c?c:d("MAWKeychainCrypto").ADDITIONAL_DATA;c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length+b.length);a.set(c);a.set(e,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);a.set(b,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c))}function k(a,b,c){var e,f;b.slice(0,(e=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES);var g=b.slice(e.ADDITIONAL_DATA_LENGTH_IN_BYTES,e.ADDITIONAL_DATA_LENGTH_IN_BYTES+(f=d("tweetnacl")).secretbox.nonceLength);e=b.slice(e.ADDITIONAL_DATA_LENGTH_IN_BYTES+f.secretbox.nonceLength,e.ADDITIONAL_DATA_LENGTH_IN_BYTES+f.secretbox.nonceLength+4*Math.ceil(b.byteLength/3));b=f.secretbox.open(new Uint8Array(e),new Uint8Array(g),new Uint8Array(a));if(b==null){throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+((f=c)!=null?f:"non-provided")+".")}return b}function l(a,b,c){return k(a,d("WABase64").decodeB64(b),c)}function a(a,b,c){return j(a,b,c)}function b(a,b,c){return l(a,b,c)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b}),98);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","Env","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;d=b("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]);var j=Boolean((i||(i=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";function k(){return h._("__JHASH__qNfUY0OKWF7__JHASH__",[h._param("Platform Name",j)]).toString()}function a(a,b){return(a=a.get(b))!=null?a:k()}g.ContactNameMode=d;g.getUnknownUser=k;g.getContactNameFromLookup=a}),226);
__d("WAArrayBufferUtils",["Promise","WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function d(a,c){c===void 0&&(c=5e5);return new(h||(h=b("Promise")))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;setTimeout(i,0);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}setTimeout(i,16)}})}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var i=8388607;function f(a,b){a=new Uint8Array(a);if(b>i)throw c("WAErr")("Divisor is too big");var d=0;for(var e=0;e<a.length;++e)d=((d<<8)+a[e])%b;return d}function j(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function k(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return l(a,b)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}g.stringToArrayBuffer=a;g.largeStringToArrayBuffer=d;g.arrayBufferToString=e;g.arrayBufferMod=f;g.concatBuffers=j;g.arrayBuffersEqualUNSAFE=k;g.uint8ArraysEqualUNSAFE=l}),98);
__d("MAWVaultMaterials",["FBLogger","WAArrayBufferUtils","randomInt","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null;function k(a){i=a}function l(){return h}function m(a){h=a}function a(){h=null,i=null}function n(){return p()!=null&&l()!=null}function b(){return j}function o(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function p(){return i}function q(){if(!n())throw c("FBLogger")("maw_ear").mustfixThrow("Vault materials are null");return{encryptionKey:h,prefixAndSuffix:i}}function e(a,b){var e=n();c("FBLogger")("maw_ear").debug("Setting vault materials -- vaultMaterials=%s, previouslySetup=%s",Boolean(a).toString(),e);if(!e){r((e=a)!=null?e:{encryptionKey:d("tweetnacl").randomBytes(32).buffer,prefixAndSuffix:o()});j=(e=b)!=null?e:a!=null?"existing":"newly-generated"}return q()}function r(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null)throw c("FBLogger")("maw_ear").mustfixThrow("Cannot set null values for encryption key and prefix");m(b);k(a)}function f(){return s(q())}function s(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(a!=null&&b!=null){b=d("WAArrayBufferUtils").arrayBufferToString(b);return JSON.stringify({encryptionKey:b,prefixAndSuffix:a})}else return""}function t(a){if(a==="")return null;else{a=JSON.parse(a);if(a.encryptionKey==null||a.prefixAndSuffix==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault materials were not in correct format");var b=d("WAArrayBufferUtils").stringToArrayBuffer(a.encryptionKey);a=a.prefixAndSuffix;return{encryptionKey:b,prefixAndSuffix:a}}}g.TEST_ONLY_clearVaultMaterials=a;g.hasVaultBeenSetup=n;g.getVaultMaterialsSource=b;g.getVaultPrefixAndSuffix=p;g.getVaultMaterials=q;g.initializeVaultMaterials=e;g.materialsToString=f;g.fromMaterialsToString=s;g.fromStringToMaterials=t}),98);
__d("MAWVault",["ExecutionEnvironment","FBLogger","MAWKeychainNaClCrypto","MAWVaultMaterials","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map();function k(a){return new RegExp("^[0-9]{10}##[0-9]{10}.*[0-9]{10}##[0-9]{10}$").test(a)}function l(a){if(!c("gkx")("23909"))return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();b=b==null?!1:new RegExp(b+".*"+b).test(a);return b}function m(a,b){b===void 0&&(b=!1);if(!c("gkx")("23909"))return a;if(l(a)){var e=d("MAWVaultMaterials").getVaultMaterials(),f=e.encryptionKey;e=e.prefixAndSuffix;if(e==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault prefix and suffix should not be null when unvaulting");var g=new RegExp(e+"(.*)"+e);g=a.match(g);if(g==null||g.length!=2)throw c("FBLogger")("maw_ear").mustfixThrow("Could not retrieve inner value to unvault");if(f==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault encryption key was null before unvault");g=g[1];e=""+e+g+e;var i=o(f,g);return a.replace(e,function(){return i})}if(k(a))if(b)throw c("FBLogger")("maw_ear").mustfixThrow("Encountered vaulted value with incorrect key.");else c("FBLogger")("maw_ear").mustfix("Encountered vaulted value with incorrect key. Vault material source: %s, environment: %s",d("MAWVaultMaterials").getVaultMaterialsSource(),(h||(h=c("ExecutionEnvironment"))).isInMainThread?"main":"worker");return a}function a(a){if(a==="")return a;if(!c("gkx")("23909"))return a;if(!d("MAWVaultMaterials").hasVaultBeenSetup()){c("FBLogger")("maw_ear").mustfix("Attempted to vault value while materials were not setup");return a}if(l(a)){c("FBLogger")("maw_ear").warn("Attempted to vault value that's already been vaulted");return a}k(a)&&c("FBLogger")("maw_ear").mustfix("Attempted to vault value that's already been vaulted with a different key");var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null)throw c("FBLogger")("maw_ear").mustfixThrow("Cannot vault before vault materials are set");e=n(e,a);return""+b+e+b}function b(a){if(!c("gkx")("23909"))return a;if(!l(a))throw c("FBLogger")("maw_ear").mustfixThrow("Value should be vaulted");return m(a)}function n(a,b){var c=i==null?void 0:i.get(b);if(c!=null)return c;c=new TextEncoder().encode(b).buffer;a=d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(c));i==null?void 0:i.set(b,a);j==null?void 0:j.set(a,b);return a}function o(a,b){var c=j==null?void 0:j.get(b);if(c!=null)return c;c=new TextDecoder().decode(d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b));i==null?void 0:i.set(c,b);j==null?void 0:j.set(b,c);return c}g.isVaulted=l;g.unvault=m;g.vault=a;g.unvaultOrThrow=b}),98);
__d("MAWXMAUtils",["MAWMsgType","WAArmadilloXMA.pb","WALogger","WATimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"]);h=function(){return a};return a}function a(a){return!a||a.type!==d("MAWMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return c("gkx")("5307");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return c("gkx")("5481");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return!1;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;default:d("WALogger").ERROR(h(),a);return!1}}function e(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function f(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function i(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH}function j(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function k(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY}function l(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function m(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function n(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function o(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,faviconMediaId:void 0,headerMediaId:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function p(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY}function q(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function r(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION?c("gkx")("5307"):!1}function s(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return!0;default:return!1}}function t(a){return r(a)||s(a)}function u(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function v(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}function w(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY&&c("gkx")("3587")}function x(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:return!0;default:return!1}}g.maybeXMAMessage=a;g.isXMAShare=b;g.isXMAStoryShare=e;g.isXMAExternalLinkShare=f;g.isReceiverFetchXMA=i;g.isIGXMAStoryShare=j;g.isXMAPostPrivateReply=k;g.isXMAExpired=l;g.removeCTAsForStoryMentionXMA=m;g.buildUnstoredTombstonedXMA=n;g.buildTombstonedDbXMA=o;g.isXMAStoryReply=p;g.isXMAStoryReaction=q;g.isFBXMAStoryMention=r;g.isIGXMAStoryMention=s;g.isXMAStoryMention=t;g.isIGXMAPostShare=u;g.isXMAStoryHighlightShare=v;g.isXMAMsgHighlightsTabFriendUpdatesReply=w;g.isRtcXMA=x}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","ls_web_init");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:3449")&&b("cr:3449").clearLocalStorageBigValues()}g.onQuotaExceeded=a}),98);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);
__d("ReStoreLocalStorageQuotaExceed",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="Failed to execute 'setItem' on 'Storage'",i="ReStoreLocalStorageQuotaExceed";function j(){try{var a=window.localStorage,b=[],d=[];if(a!=null&&a.length!==0)for(var e in a){b.length===0&&d.length===0&&(e.includes("falco_queue_log")&&d.push(e));if(!Object.prototype.hasOwnProperty.call(a,e))continue;var f=((a[e]||"").length+e.length)*2;f/1024>2e3&&b.push(e)}c("FBLogger")("maw_db").mustfix(h+": QuotaExceeded - trying to clean up %s or %s",b.join(","),d.join(","));return b.length!==0?b:d}catch(a){c("FBLogger")("maw_db").mustfix("Error getting local storage big values for cleanup.");return[]}}function a(){try{var a=window.localStorage,b=j();b.forEach(function(b){a.removeItem(b)})}catch(a){c("recoverableViolation")("Couldn't remove vals from localStorage","maw_db",a)}}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;b=h+": "+b+"; Keys to delete: "+j().join(",");c=a.call(this,b)||this;c.message=b;c.name=i;return c}return b}(babelHelpers.wrapNativeSuper(Error));g.ERROR_NAME=i;g.getLocalStorageValuesToRemoveOnExceed=j;g.clearLocalStorageBigValues=a;g.ReStoreLocalStorageQuotaExceed=b}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);
__d("WebStorageLockManager",["FBLogger","LocalStorageWrapper","LockManager","Promise","Run","clearInterval","err","promiseDone","regeneratorRuntime","setInterval","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}function a(a,e){var f="Failed to execute 'request' on 'LockManager'",g="Lock broken by another request with the 'steal' option.",j=function(a,b,c){var d=a.get(b);if(d!=null)return d;d=c();a.set(b,d);return d};try{var k=d("LocalStorageWrapper").getStorage(i),l=function(a,b){d("LocalStorageWrapper").setItemGuarded(k,a,b,i,e==null?void 0:e.onQuotaExceeded)},m=function(a){d("LocalStorageWrapper").removeItemGuarded(k,a,i)},n=function(a){return d("LocalStorageWrapper").getItemGuarded(k,a,i)},o=function(){function a(a,b){this.lockName=a,this.tabId=b,this.lockA=this.lockName+"-a",this.lockB=this.lockName+"-b"}var d=a.prototype;d.run=function(a){return this.$1(a,0)};d.$1=function(a,d){var e=this,f=function(b){return window.requestAnimationFrame(function(){return e.$1(a,d+1).then(b)})},g=function(a){return n(a)==null};l(this.lockA,this.tabId);return new(h||(h=b("Promise")))(function(b){var h=function(){try{a(),b()}finally{m(e.lockB),m(e.lockA)}};g(e.lockB)||d>10?(d>10&&c("FBLogger")("messenger_comet").warn("web-lock polyfill: Had to steal lock"),l(e.lockB,e.tabId),n(e.lockA)===e.tabId?h():window.requestAnimationFrame(function(){n(e.lockB)===e.tabId?h():f(b)})):f(b)})};return a}(),p=function(){function a(b){this.tabId=b,this.lock=new o(a.tabsKey,b),c("promiseDone")(this.$1()),this.$2(),this.keepOnlyTabs(function(b){return a.isAlive(b)})}a.isAlive=function(b){b=n(a.$3(b));return b==null?!1:Date.now()-parseFloat(b)<1e3};var e=a.prototype;e.keepOnlyTabs=function(c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=n(a.tabsKey))!=null?b:"[]").filter(c);b.length>0?l(a.tabsKey,JSON.stringify(b)):m(a.tabsKey)}));case 2:case"end":return d.stop()}},null,this)};e.$2=function(){var b=a.$3(this.tabId);l(b,Date.now().toString());var e=c("setInterval")(function(){l(b,Date.now().toString())},500);d("Run").onUnload(function(){c("clearInterval")(e),m(b)})};e.$1=function(){var e=this;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b;b=JSON.parse((b=n(a.tabsKey))!=null?b:"[]");l(a.tabsKey,JSON.stringify([].concat(b,[e.tabId])))}));case 2:d("Run").onUnload(function(){return c("promiseDone")(e.keepOnlyTabs(function(a){return a!==e.tabId}))});case 3:case"end":return f.stop()}},null,this)};a.$3=function(a){return"$navigator.heartbeat-"+a};return a}();p.tabsKey="$navigator.heartbeat-tabs";var q=function(){function a(b,e){var f=this;this.requests=new Map();this.name=b;this.tabId=e;this.queueKey=a.storagePrefix+"-"+b+"-q";this.currentOwnerKey=a.storagePrefix+"-"+b+"-o";this.lock=new o(a.storagePrefix+"-"+b,this.tabId);d("Run").onUnload(function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.t)!==f.tabId}))})}var e=a.prototype;e.enqueue=function(d,e,a){var f=this,g,h,i,j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:g=c("uuidv4")().toString();h={t:this.tabId,u:g};i=function(){d(null),f.markRequestReleased(g)};j=function(){d(g),f.markRequestReleased(g)};this.requests.set(g,[function(){return d(g)},function(){e(),f.markRequestReleased(g)}]);if(!((a==null?void 0:a.signal)!=null)){k.next=9;break}a.signal.onabort=function(){c("promiseDone")(f.keepOnlyRequests(function(a){return(a==null?void 0:a.u)!==g})),j()};if(!a.signal.aborted){k.next=9;break}return k.abrupt("return",j());case 9:k.next=11;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=f.getOwner();(a==null?void 0:a.steal)===!0&&f.$1(b==null?void 0:b.u);if(b==null||(a==null?void 0:a.steal)===!0||!p.isAlive(b.t))f.$2(f.currentOwnerKey,babelHelpers["extends"]({},h,(a==null?void 0:a.steal)===!0?{s:!0}:{})),f.$3(g);else if((a==null?void 0:a.ifAvailable)!==!0){b=f.getQueue();b.push(h);f.$2(f.queueKey,b)}else i()}));case 11:case"end":return k.stop()}},null,this)};e.dequeue=function(c){var d=this,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:f=null;g.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner();if((b==null?void 0:b.t)!==d.tabId||(b==null?void 0:b.u)!==c)return;b=d.getQueue();b=a.getNextOwner(b);var e=b[0];b=b[1];f=e;d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}));case 3:this.$3((e=f)==null?void 0:e.u);case 4:case"end":return g.stop()}},null,this)};e.storageChangedOnOtherTab=function(a,c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!(a==="o")){e.next=3;break}e.next=3;return b("regeneratorRuntime").awrap(this.lock.run(function(){var a=d.getOwner();if(a==null)return;d.$3(a==null?void 0:a.u);if(a.s===!0){a=c==null?void 0:c.oldValue;if(a!=null){a=JSON.parse(a);a.t===d.tabId&&d.$1(a.u)}}}));case 3:case"end":return e.stop()}},null,this)};e.getQueue=function(){var a;return(a=this.$4(this.queueKey))!=null?a:[]};e.getOwner=function(){return this.$4(this.currentOwnerKey)};a.getQueueNameAndStorageType=function(b){if(!b.startsWith(a.storagePrefix))return null;var d=b.slice(a.storagePrefix.length+1,b.length-2),e=b.charAt(b.length-1);switch(e){case"q":case"o":case"a":case"b":break;default:throw c("err")("Queue was stored with a suffix other than q or o. This is either a bug in the web lock api polyfill code, or it means that something overwrote localStorage with a weird key. Key: "+b)}return[d,e]};a.getNextOwner=function(a){for(var b=0;b<a.length;b+=1)if(p.isAlive(a[b].t))return[a[b],a.slice(b+1)];return[null,[]]};e.$4=function(a){a=n(a);return a!=null?JSON.parse(a):null};e.$2=function(a,b){b=b==null||Array.isArray(b)&&b.length===0?null:JSON.stringify(b);b==null?m(a):l(a,b)};e.keepOnlyRequests=function(c){var d=this;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(this.lock.run(function(){var b=d.getOwner(),e=d.getQueue().filter(c);if(c(b))d.$2(d.queueKey,e);else{b=a.getNextOwner(e);e=b[0];b=b[1];d.$2(d.currentOwnerKey,e);d.$2(d.queueKey,b)}}));case 2:case"end":return e.stop()}},null,this)};e.markRequestReleased=function(a){a!=null&&this.requests["delete"](a)};e.$3=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a=a[0];a()}}};e.$1=function(a){if(a!=null){a=this.requests.get(a);if(a!=null){a[0];a=a[1];a()}}};return a}();q.storagePrefix="$navigator.locks";var r=function(){function a(a){this.$1=new Map(),this.storage=d("LocalStorageWrapper").getStorage(i),this.tabId=a,new p(this.tabId),c("promiseDone")(this.$2()),this.$3()}var e=a.prototype;e.request=function(){var a=this;for(var e=arguments.length,i=new Array(e),j=0;j<e;j++)i[j]=arguments[j];return new(h||(h=b("Promise")))(function(e,j){c("promiseDone")(function(){var k,l,e,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:l=i[0];e=i.length===3?i[1]:null;m=i.length===2?i[1]:i[2];if(!l.startsWith("-")){q.next=5;break}throw new DOMException("Names cannot start with '-'.",f);case 5:if(!((e==null?void 0:e.ifAvailable)===!0&&(e==null?void 0:e.signal)!=null)){q.next=7;break}throw new DOMException("The 'signal' and 'ifAvailable' options cannot be used together.",f);case 7:n=a.$4(l);q.next=10;return b("regeneratorRuntime").awrap(new(h||(h=b("Promise")))(function(a){c("promiseDone")(n.enqueue(a,function(){j(new DOMException(g,f))},e))}));case 10:o=q.sent;if(!((e==null?void 0:(k=e.signal)==null?void 0:k.aborted)===!0)){q.next=13;break}throw new DOMException("The request was aborted.",f);case 13:q.prev=13;q.next=16;return b("regeneratorRuntime").awrap(m(o!=null?{mode:(p=e==null?void 0:e.mode)!=null?p:d("LockManager").LockMode.Exclusive,name:l}:null));case 16:q.prev=16;if(!(o!=null)){q.next=20;break}q.next=20;return b("regeneratorRuntime").awrap(n.dequeue(o));case 20:n.markRequestReleased(o);return q.finish(16);case 22:case"end":return q.stop()}},null,this,[[13,,16,22]])}(),e,j)})};e.query=function(){var a=[],c=[];for(var e=this.$5(),f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;if(i!=null){var j={mode:d("LockManager").LockMode.Exclusive,name:i.name};if(i.getOwner()!=null)a.push(j);else for(var i=i.getQueue(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m;c.push(j)}}}return(h||(h=b("Promise"))).resolve({held:a,pending:c})};e.$4=function(a){var b=this;return j(this.$1,a,function(){return new q(a,b.tabId)})};e.$3=function(){var a=this;window.addEventListener("storage",function(b){var d=b.key;if(b.storageArea!==a.storage||d==null)return;d=q.getQueueNameAndStorageType(d);if(d==null)return;var e=d[0];d=d[1];c("promiseDone")((e=a.$4(e))==null?void 0:e.storageChangedOnOtherTab(d,b))})};e.$2=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(this.$5().map(function(a){return a==null?void 0:a.keepOnlyRequests(function(a){return a==null?!1:p.isAlive(a.t)})})));case 2:case"end":return a.stop()}},null,this)};e.$5=function(){var a=this;return k==null?[]:Object.keys(k).map(function(b){b=q.getQueueNameAndStorageType(b);if(b==null)return;b=b[0];return a.$4(b)})};return a}();return new r(a)}catch(a){return null}}g.make=a}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("first",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}return null}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("MAWWriteReactionTxns",["MAWAuthor","MAWDbMsg","MAWDbReaction","MAWDbReactionUtils","MAWDbReactionsTxns","MAWDexieTable","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=b.author,g=b.externalId,h=b.groupingKey,i=b.reaction,j=b.reactToAuthor,k=b.reactToExternalId,l=b.senderTimestampMs,m=b.ts;return d("MAWDexieTable").dexieAll([a.messages.where("externalId").equals(k).toArray(),a.reactions.where("reactToExternalId").equals(k).toArray(),d("MAWDbReactionsTxns").getNextReactionIdNumberForThread(a,e)]).then(function(b){var n=b[0],o=b[1];b=b[2];o=d("MAWDbReaction").findMatchingReaction(o,e.jid,f);var p=d("MAWAuthor").getAuthorUserJid(j);n=n.find(function(a){return a.threadJid===e.jid&&p===d("MAWAuthor").getAuthorUserJid(a.author)});var q=d("MAWDbReaction").formatReactionForDb(e.jid,g,d("MAWDbMsg").craftReactionId(e.chatId,b),k,i,h,j,n==null?void 0:n.msgId,m,f,o==null?void 0:o.rowId,void 0,l);return d("MAWDbReactionsTxns").putReaction(a,q).then(function(a){a=babelHelpers["extends"]({},q,{rowId:a});c("qex")._("1016")!==!0&&d("MAWDbReactionUtils").dispatchReaction(a);return a})})}g.writeReaction=a}),98);
__d("MAWWriteReactionMsgApi",["MAWDexieTable","MAWIndexedDb","MAWTransactionMode","MAWWriteReactionTxns","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,e,f,g){g===void 0&&(g=d("WAJids").AUTHOR_ME);var h=e.groupingKey,i=e.reaction,j=e.reactToAuthor,k=e.reactToExternalId;e=e.senderTimestampMs;var l={author:g,externalId:b,groupingKey:h,reaction:i,reactToAuthor:j,reactToExternalId:k,senderTimestampMs:e,ts:f};return a.threads.get({jid:c}).then(function(b){return b==null?"missing_thread":d("MAWWriteReactionTxns").writeReaction(a,l,b)}).then(function(a){return a==="missing_thread"?{type:"missing_thread"}:{msgId:a.reactionId,protocolMsgId:{author:g,chat:c,externalId:a.externalId},type:"not_sent"}})};b=d("MAWIndexedDb").makeMsgrTransactor({messages:(a=d("MAWTransactionMode")).READONLY,reactions:a.READWRITE,threads:a.READONLY},"writeReactionMsg",function(a){return function(b,c,e,f,g){g===void 0&&(g=d("WAJids").AUTHOR_ME);return h(a,b,c,e,f,g)}});c=d("MAWIndexedDb").makeMsgrTransactor({messages:a.READONLY,reactions:a.READWRITE,threads:a.READONLY},"bulkWriteReactionMsg",function(a){return function(b){return d("MAWDexieTable").dexieAll(b.map(function(b){return h(a,b.externalId,b.chatJid,b.args,b.ts,b.author)}))}});g.writeReactionMsg=b;g.bulkWriteReactionMsg=c}),98);
__d("MAWHandleEchoProtobufsRestoreApi",["EchoMessageMediaFieldUtils","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWBridge","MAWBridgeEventTransmitter","MAWBridgeMsg","MAWBridgeXMA","MAWDbEditMsgHistoryTxns","MAWDbMsg","MAWDbRavenActionTxns","MAWDexieTable","MAWHandleEchoMediaMsgsRestoreV2","MAWHandleEchoMsgsRestoreApiUtils","MAWHandleEchoMsgsRestoreApiV2","MAWHandleEchoXMARestoreV2","MAWHandleXmaTransactionUtil","MAWIndexedDb","MAWJids","MAWLoadReplyMediaTxns","MAWMediaManagementTxns","MAWMsg","MAWMsgType","MAWQplProxy","MAWRestoreMsgsTxns","MAWRestoreValidationUtils","MAWTraceUtils","MAWTransactionMode","MAWUnstoredContentToUnstoredDbContentUtils","MAWUpdateQuotedMsgTxns","MAWWriteReactionMsgApi","MAWWriteReceiverFetchTxns","MessageBackupSupplementalKeyGenerator","Promise","WAAckLevel","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WABase64","WAConsumerApplication.pb","WAGlobals","WAHashUtils","WAJids","WALogger","WAMediaTransport.pb","WAMediaUtils","WAMsgApplication.pb","WAMsgType","WAParseConsumerMessageProtocol","WAParseMediaTransportProtocol","WAParseMessageApplication","WAStanzaUtils","WATimeUtils","asyncToGeneratorRuntime","decodeProtobuf","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Cannot download media - timestamp cannot be null"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] cannot support message type for protobuf restore - reverting to echo restore"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Protobuf restore initiated for "," messages. isPointRestore: "," referenceTimestamp: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] No text content found in edit msg"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Unable to parse edit msg, missing either timestamp or msg id"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Message contains unparseable message application - unable to restore message"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Unable to retrieve decoded protobuf from backup message - unsupported message type"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Decoded raven video unstored message is null - unable to restore"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] No author found for original message that was bumped - unable to restore"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Unable to retrieve revoked message external id"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWHandleEchoProtobufsRestoreApi] consumerMessage has no sticker receiver fetch info"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Invalid attachment type, cannot restore attachment"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Unsupported media type, cannot get mimetype for attachment"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Failed to create db msg from protobuf"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] Missing required fields, unable to create db msg from protobuf for thread jid "," and otid ",""]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] No target type found for XMA - unable to extract XMA content for message"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] XMA data is null - unable to extract XMA content for message"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] No raven msg media type found for raven msg"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] No raven msg ephemeral type found for raven msg"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] No revoked msg external id found for revoked msg"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth][web] text content cannot be null for msg type text - unable to restore msg"]);D=function(){return a};return a}var E=(e=d("MAWIndexedDb")).makeMsgrTransactor({chunk:(f=d("MAWTransactionMode")).READONLY,media:f.READONLY,messages:f.READWRITE,receiverFetchInfo:f.READONLY,xma:f.READONLY},"associateQuotedMessagesForRestoredDbMsgs",function(a){return function(b,c,e){var f=0;return d("MAWDexieTable").dexieAll(b.map(function(b){return d("MAWUpdateQuotedMsgTxns").associateQuotedMessage(a,c,b,!0).then(function(b){b!=null&&b.length>0&&(f+=b.length,b.forEach(function(b){return d("MAWLoadReplyMediaTxns").getReplyMediaForMsgQuote(a,b).then(function(a){d("MAWIndexedDb").afterTransaction({tag:"MsgUpdated",value:d("MAWBridgeMsg").createBridgeMsg(b,void 0,a)})})}))})})).then(function(){e==null?void 0:e.addPoint("replies_restore_end",{"int":{replies:f}});return d("MAWDexieTable").dexieResolve()})}});function F(a,b,c){c={author:c,chat:b,externalId:a};return c}function G(a,b,c){var e=new Map(),f=a.metadata;a=a.reactionData;if(f!=null&&a!=null){var g=f.senderId,h=f.messageId;if(g!=null&&h!=null){a.forEach(function(a){var f=a.ts,i=a.senderId,j=a.reactionExternalId,k=d("WAStanzaUtils").toStanzaId(h);if(i==null||j==null)return;j=d("WAStanzaUtils").toStanzaId(j);i=d("MAWJids").toUserJid(i);var l=d("MAWJids").toUserJid(g);i=i===c?d("WAJids").AUTHOR_ME:i;l=l===c?d("WAJids").AUTHOR_ME:l;var m=i===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED;m={ack:m,chatJid:b,reaction:a.reaction,reactionAuthor:i,reactionExternalId:j,reactToExternalId:k,reactToMsgAuthor:l,ts:f};e.set(j,m)});return e}}}function H(a,b,c,e,f,g,h,i,j,k,l,m){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(h==null){d("WALogger").ERROR(D());return}else{h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,msgContent:{content:h,mentionedJids:i!=null?i.map(d("WAJids").validateUserJid).filter(Boolean):void 0},ts:b,type:d("MAWMsgType").MSG_TYPE.TEXT};return h}else if(a===d("MAWMsgType").MSG_TYPE.VIDEO){i={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.VIDEO};return i}else if(a===d("MAWMsgType").MSG_TYPE.GIF){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.GIF};return h}else if(a===d("MAWMsgType").MSG_TYPE.IMAGE){i={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.IMAGE};return i}else if(a===d("MAWMsgType").MSG_TYPE.STICKER){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.STICKER};return h}else if(a===d("MAWMsgType").MSG_TYPE.PTT){i={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.PTT};return i}else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE){h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,mediaId:void 0,ts:b,type:d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE};return h}else if(a===d("MAWMsgType").MSG_TYPE.XMA){i={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,ts:b,type:d("MAWMsgType").MSG_TYPE.XMA};return i}else if(a===d("MAWMsgType").MSG_TYPE.REVOKED){if(j==null){d("WALogger").ERROR(C());return}h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,ebTimestampMs:null,id:e,msgContent:void 0,revokedExternalId:j,ts:b,type:d("MAWMsgType").MSG_TYPE.REVOKED,unsendMsgContentDeleteTs:b};return h}else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE){i={ack:d("WAAckLevel").ACK.SENT,id:e,ts:b,type:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return i}else if(a===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH){j={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,forwardingScore:g,id:e,isForwarded:f,ts:b,type:d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH};return j}else if(a===d("MAWMsgType").MSG_TYPE.RAVEN){if(k==null){d("WALogger").ERROR(B());return}if(l==null){d("WALogger").ERROR(A());return}h={ack:c===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED,id:e,mediaId:m,ravenEphemeralMediaState:d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN,ravenEphemeralType:k,ravenMediaType:l,ts:b,type:d("MAWMsgType").MSG_TYPE.RAVEN};return h}}function I(a,b,c,e,f){if(f==null){d("WALogger").ERROR(z());return}var g=f==null?void 0:f.ctas.map(function(a){return{actionUrl:a.actionUrl,buttonType:a.buttonType,ctaType:a.ctaType,nativeUrl:a.nativeUrl,title:a.title}}),h=f.targetType;if(h==null){d("WALogger").ERROR(y());return}var i;f.targetExpiringAtSec!=null&&typeof f.targetExpiringAtSec==="number"&&(i=d("WATimeUtils").castToUnixTime(f.targetExpiringAtSec));a={author:a,contentRef:f.contentRef,ctas:g,defaultCTA:g.length>0?g[0]:void 0,externalId:b,headerTitle:f.headerTitle,maxSubtitleNumOfLines:f.maxSubtitleNumOfLines,maxTitleNumOfLines:f.maxTitleNumOfLines,msgId:c,overlayDescription:f.overlayDescription,overlayIconGlyph:f.overlayIconGlyph,overlayTitle:f.overlayTitle,subtitleText:f.subtitleText,targetExpiringAtSec:i,targetId:f.targetId,targetType:h,targetUsername:f.targetUsername,threadJid:e,titleText:f.titleText,xmaLayoutType:f.xmaLayoutType};return a}function J(a,b,c,e,f){var g=a.metadata,h=a.msgType;if(g!=null&&h!=null){var i,j,k=g.messageId;g=g.senderId;i=(i=a.decodedPayload)==null?void 0:i.text;j=(j=a.decodedPayload)==null?void 0:j.mentionedJid;if(k!=null&&g!=null){var l=d("WATimeUtils").castMilliSecondsToUnixTime(a.sortOrderMs);g=d("MAWJids").toUserJid(g);var m=d("WAStanzaUtils").toStanzaId(k),n=g===c?d("WAJids").AUTHOR_ME:g,o=F(m,b,g);if(a.editMsgData.length>0){var p=l;a.editMsgData.forEach(function(a){var b;if(a.ts>p&&((b=a.editMsgContent.message)==null?void 0:b.text)!=null){p=a.ts;i=(b=a.editMsgContent.message)==null?void 0:b.text;j=(b=a.editMsgContent.message)==null?void 0:b.mentionedJid}})}n=H(h,l,n,o,a.isForwarded,a.forwardingScore,i,j,a.revokedMsgExternalId,a.ravenMsgEphemeralType,a.ravenMsgMediaType,(l=a.ravenUnstoredMedia)==null?void 0:l.plaintextHash);if(n==null){d("WALogger").ERROR(x(),b,m);return}var q;if(a.xmaData!=null&&((o=a.xmaData)==null?void 0:o.targetType)!=null){o={author:g,externalId:m,targetType:(l=a.xmaData)==null?void 0:l.targetType,threadJid:b};q={unstoredAssociatedMedia:void 0,unstoredAssociatedMsg:void 0,unstoredFavicon:void 0,unstoredHeaderMedia:void 0,unstoredPreviews:void 0,xma:o}}g={unstoredMedia:void 0,unstoredMsg:n,unstoredQuotedMedia:void 0,unstoredReceiverFetchInfo:a.receiverFetchInfo,unstoredXMA:q};n.type===d("MAWMsgType").MSG_TYPE.RAVEN&&a.ravenUnstoredMedia!=null&&(g.unstoredMedia=a.ravenUnstoredMedia);l=d("MAWUnstoredContentToUnstoredDbContentUtils").unstoredContentToUnstoredDbContent(g);if(l.unstoredDbMsg!=null){b=l.unstoredDbMsg;b.sortOrderMs=a.sortOrderMs;b.serverTs=d("WATimeUtils").castToUnixTime(a.sortOrderMs/1e3);a.noteReply!=null&&(b.quote={content:a.noteReply,remoteJid:void 0});o=e.get(k);b.author!=null&&c===b.author&&b.author!==d("WAJids").AUTHOR_SYSTEM&&(b.author=d("WAJids").AUTHOR_ME);o!=null&&(b.quoteExternalId=d("WAStanzaUtils").toStanzaId(o));h===d("MAWMsgType").MSG_TYPE.TEXT&&(b.editCount=a.editMsgData.length);n={author:b.author,stanzaId:m,unstoredDbContent:l};l.unstoredDbMedia!=null&&f!=null&&f.set(m,l.unstoredDbMedia);return n}}}d("WALogger").ERROR(w())}function K(a){switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.GIF;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.STICKER;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_MP4;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.AUDIO_WAV;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return d("EchoMessageMediaFieldUtils").EchoMessageMediaPreviewType.IMAGE_JPEG;default:return null}}function L(a){switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:return d("EchoMessageMediaFieldUtils").AttachmentType.IMAGE;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:return d("EchoMessageMediaFieldUtils").AttachmentType.GIF;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:return d("EchoMessageMediaFieldUtils").AttachmentType.STICKER;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:return d("EchoMessageMediaFieldUtils").AttachmentType.VIDEO;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:return d("EchoMessageMediaFieldUtils").AttachmentType.PTT;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:return d("EchoMessageMediaFieldUtils").AttachmentType.XMA;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:return d("EchoMessageMediaFieldUtils").AttachmentType.DOCUMENT;default:return null}}function M(){try{return WorkerGlobalScope!==void 0&&self instanceof WorkerGlobalScope}catch(a){return!1}}function N(a){var b,e=M()?d("WAGlobals").getConfig().isOctetStreamAttachmentMimeTypeEnabled():c("gkx")("4644");switch(a){case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE:b="image/jpeg";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO:b="audio/wav";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO:b="video/mp4";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF:b="image/gif";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER:b="image/webp";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.XMA_IMAGE:b="image/jpeg";break;case d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT:b=e?"application/octet-stream":"application/pdf";break;default:d("WALogger").ERROR(v())}return b}function O(a,b,c){var e,f,g,h,i,j;b=b;var k=a.ancillary;a=a.integral;e=a==null?void 0:(e=a.transport)==null?void 0:(e=e.integral)==null?void 0:e.fileSha256;f=a==null?void 0:(f=a.transport)==null?void 0:(f=f.integral)==null?void 0:f.fileEncSha256;g=a==null?void 0:(g=a.transport)==null?void 0:(g=g.integral)==null?void 0:g.mediaKey;h=(a==null?void 0:(h=a.transport)==null?void 0:(h=h.integral)==null?void 0:h.mediaKeyTimestamp)!=null?typeof (a==null?void 0:(h=a.transport)==null?void 0:h.integral.mediaKeyTimestamp)==="number"?a==null?void 0:(h=a.transport)==null?void 0:h.integral.mediaKeyTimestamp:void 0:void 0;var l=k==null?void 0:k.gifPlayback;l!=null&&l&&(b=d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF);l=a==null?void 0:(l=a.transport)==null?void 0:(l=l.ancillary)==null?void 0:(l=l.thumbnail)==null?void 0:l.thumbnailHeight;i=a==null?void 0:(i=a.transport)==null?void 0:(i=i.ancillary)==null?void 0:(i=i.thumbnail)==null?void 0:i.thumbnailWidth;var m=K(b),n=L(b);if(n===null){d("WALogger").ERROR(u());return}a={attachmentObjectId:a==null?void 0:(j=a.transport)==null?void 0:(j=j.ancillary)==null?void 0:j.objectId,attachmentType:n,directPath:a==null?void 0:(j=a.transport)==null?void 0:(n=j.integral)==null?void 0:n.directPath,encryptedHash:f!=null?d("WAHashUtils").toPlaintextHash(f):void 0,filename:c,height:k==null?void 0:k.height,mediaKey:g!=null?d("WABase64").encodeB64UrlSafe(g):void 0,mediaKeyTimestamp:h,mediaPlayableDuration:k==null?void 0:k.seconds,plaintextHash:e!=null?d("WAHashUtils").toPlaintextHash(e):void 0,width:k==null?void 0:k.width,xAttachmentType:b,xContentType:"full"};j=N(b);j!=null&&(a.mediaContentType=j);m!=null&&(a.previewContentType=m,a.previewContentHeight=l,a.previewContentWidth=i);return d("EchoMessageMediaFieldUtils").convertMediaMetadataDetailsToMediaMetadata(a,"protobuf")}function P(a,b,c,e,f){b!=null&&a!=null&&(c.push({mediaMetadata:b,mediaRestoreType:e}),f.set(d("WAStanzaUtils").toStanzaId(a),c))}function Q(a){switch(a){case 0:return d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE;case 1:return d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY;case 2:return d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT;default:return void 0}}function R(a,b,c,e,f,g,h,i,j,k,l){var m,n,o=T(a,g,h,i);m=o==null?void 0:(m=o.obj.payload)==null?void 0:m.content;var u={editMsgData:[],externalId:e,forwardingScore:(n=o==null?void 0:(n=o.metadata)==null?void 0:n.forwardingScore)!=null?n:0,isForwarded:(n=o==null?void 0:(n=o.metadata)==null?void 0:n.isForwarded)!=null?n:!1,metadata:a.metadata,reactionData:[],sortOrderMs:b,unknownFieldCount:a.$$unknownFieldCount},v=[];if(m!=null){if(m.messageText!=null){u.msgType=d("MAWMsgType").MSG_TYPE.TEXT;u.decodedPayload=m.messageText;return u}else if(m.extendedContentMessage!=null){u.msgType=d("MAWMsgType").MSG_TYPE.XMA;u.xmaData=m.extendedContentMessage;if(((n=m.extendedContentMessage)==null?void 0:n.headerImage)!=null){n=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,(b=m.extendedContentMessage)==null?void 0:b.headerImage.payload);b=O(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);P(e,b,v,"xma_header",j)}if(((n=m.extendedContentMessage)==null?void 0:n.favicon)!=null){n=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,(b=m.extendedContentMessage)==null?void 0:b.favicon.payload);b=O(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);P(e,b,v,"xma_favicon",j)}if(((n=m.extendedContentMessage)==null?void 0:n.previews)!=null){(b=m.extendedContentMessage)==null?void 0:b.previews.forEach(function(a){a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").ImageTransportSpec,a.payload);a=O(a,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);u.mediaMetadata=a;P(e,a,v,"xma_preview",j)})}return u}else if(m.audioMessage!=null){n=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").AudioTransportSpec,(n=m.audioMessage)==null?void 0:(b=n.audio)==null?void 0:b.payload);b=O(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.AUDIO);u.msgType=d("MAWMsgType").MSG_TYPE.PTT;u.mediaMetadata=b;P(e,b,v,"attachment",j);return u}else if(m.videoMessage!=null){n=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,(n=m.videoMessage)==null?void 0:(n=n.video)==null?void 0:n.payload);b=O(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO);b!=null&&b.xAttachmentType===d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?u.msgType=d("MAWMsgType").MSG_TYPE.GIF:u.msgType=d("MAWMsgType").MSG_TYPE.VIDEO;u.mediaMetadata=b;P(e,b,v,"attachment",j);return u}else if(m.imageMessage!=null){n=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").ImageTransportSpec,(n=m.imageMessage)==null?void 0:(n=n.image)==null?void 0:n.payload);b=O(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.IMAGE);u.msgType=d("MAWMsgType").MSG_TYPE.IMAGE;u.mediaMetadata=b;P(e,b,v,"attachment",j);return u}else if(m.stickerMessage!=null){var w;n=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,(n=m.stickerMessage)==null?void 0:(n=n.sticker)==null?void 0:n.payload);if(((w=n.integral)==null?void 0:w.receiverFetchId)!=null){w=d("WAParseMediaTransportProtocol").parseStickerReceiverFetchInfo(n);if(w==null){d("WALogger").ERROR(t());return u}u.msgType=d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH;u.receiverFetchInfo=w;return u}b=O(n,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER);u.msgType=d("MAWMsgType").MSG_TYPE.STICKER;u.mediaMetadata=b;P(e,b,v,"attachment",j);return u}else if(m.documentMessage!=null){w=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").DocumentTransportSpec,(w=m.documentMessage)==null?void 0:(n=w.document)==null?void 0:n.payload);b=O(w,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.DOCUMENT,(n=m.documentMessage)==null?void 0:n.fileName);u.msgType=d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE;u.mediaMetadata=b;P(e,b,v,"attachment",j);return u}}else if((o==null?void 0:(w=o.obj.payload)==null?void 0:(m=w.applicationData)==null?void 0:m.revoke)!=null){w=o==null?void 0:(n=o.obj.payload)==null?void 0:(w=n.applicationData)==null?void 0:(m=w.revoke)==null?void 0:(n=m.key)==null?void 0:n.id;if(w==null)d("WALogger").ERROR(s());else{u.revokedMsgExternalId=d("WAStanzaUtils").toStanzaId(w);u.msgType=d("MAWMsgType").MSG_TYPE.REVOKED;return u}}if((o==null?void 0:(m=o.obj.payload)==null?void 0:(n=m.content)==null?void 0:n.bumpExistingMessage)!=null){n=o==null?void 0:(w=o.obj.payload)==null?void 0:(m=w.content)==null?void 0:m.bumpExistingMessage;m=(w=n.key)==null?void 0:w.id;m!=null&&(h.has(m)||g.add(m),i.set(e,m));h=(w=n.key)==null?void 0:w.participant;if(h==null){h=(g=n.key)==null?void 0:g.remoteJid}if(h==null)d("WALogger").ERROR(r());else{i=d("WAJids").unsafeCoerceToUserJid(h);m=i===c?d("WAJids").AUTHOR_ME:i;k.set(d("WAStanzaUtils").toStanzaId(e),m);u.msgType=d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;return u}}if((o==null?void 0:(w=o.obj)==null?void 0:(n=w.payload)==null?void 0:(g=n.content)==null?void 0:g.noteReplyMessage)!=null){m=o==null?void 0:(h=o.obj)==null?void 0:(i=h.payload)==null?void 0:(k=i.content)==null?void 0:k.noteReplyMessage;w=m.noteTimestampMs;n=m.noteText;h=(g=a.metadata)==null?void 0:g.senderId;if(w!=null&&typeof w==="number"&&h!=null&&f!=null){i=d("MAWJids").toUserJid(h);k=d("MAWJids").toUserJid(f);a=k===i?c:k;g={author:a===c?d("WAJids").AUTHOR_ME:a,externalId:d("WAStanzaUtils").toStanzaId(e),ts:d("WATimeUtils").castMilliSecondsToUnixTime(w),type:d("WAMsgType").NOTE_REPLY};if((n==null?void 0:n.text)!=null){h={content:n==null?void 0:n.text,mentionedJids:n==null?void 0:n.mentionedJid.map(function(a){return d("MAWJids").toUserJid(a)})};g.msgContent=h}u.noteReply=g}if(m.textContent!=null){u.msgType=d("MAWMsgType").MSG_TYPE.TEXT;u.decodedPayload=m.textContent;return u}else if(m.stickerContent!=null){f=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").StickerTransportSpec,m.stickerContent.payload);b=O(f,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.STICKER);u.msgType=d("MAWMsgType").MSG_TYPE.STICKER;u.mediaMetadata=b;P(e,b,v,"attachment",j);return u}else if(m.videoContent!=null){i=d("decodeProtobuf").decodeProtobuf(d("WAMediaTransport.pb").VideoTransportSpec,m.videoContent.payload);b=O(i,d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.VIDEO);b!=null&&b.xAttachmentType===d("EchoMessageMediaFieldUtils").EchoMessageActMediaAttachmentType.GIF?u.msgType=d("MAWMsgType").MSG_TYPE.GIF:u.msgType=d("MAWMsgType").MSG_TYPE.VIDEO;u.mediaMetadata=b;P(e,b,v,"attachment",j);return u}}if((o==null?void 0:(k=o.obj)==null?void 0:(c=k.payload)==null?void 0:(a=c.content)==null?void 0:a.ravenMessageMsgr)!=null){u.ravenMsgEphemeralType=Q(o==null?void 0:(w=o.obj)==null?void 0:(n=w.payload)==null?void 0:(h=n.content)==null?void 0:(g=h.ravenMessageMsgr)==null?void 0:g.ephemeralType);if((o==null?void 0:(f=o.obj)==null?void 0:(m=f.payload)==null?void 0:(i=m.content)==null?void 0:(b=i.ravenMessageMsgr)==null?void 0:b.imageMessage)!=null){if(l==null||!l){u.ravenUnstoredMedia=d("WAParseMediaTransportProtocol").decodeImageTransport(o==null?void 0:(k=o.obj)==null?void 0:(c=k.payload)==null?void 0:(a=c.content)==null?void 0:(w=a.ravenMessageMsgr)==null?void 0:(n=w.imageMessage)==null?void 0:n.payload,d("WATimeUtils").castMilliSecondsToUnixTime(u.sortOrderMs))}u.ravenMsgMediaType=d("MAWMsg").MAWRavenMsgMediaType.IMAGE}else if((o==null?void 0:(h=o.obj)==null?void 0:(g=h.payload)==null?void 0:(f=g.content)==null?void 0:(m=f.ravenMessageMsgr)==null?void 0:m.videoMessage)!=null){if(l==null||!l){w=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAMediaTransport.pb").VideoTransportSpec,o==null?void 0:(i=o.obj)==null?void 0:(b=i.payload)==null?void 0:(k=b.content)==null?void 0:(c=k.ravenMessageMsgr)==null?void 0:(a=c.videoMessage)==null?void 0:a.payload);n=d("WAParseMediaTransportProtocol").parseVideoMsg(w,d("WATimeUtils").castMilliSecondsToUnixTime(u.sortOrderMs),!1);n!=null?u.ravenUnstoredMedia=n:d("WALogger").ERROR(q())}u.ravenMsgMediaType=d("MAWMsg").MAWRavenMsgMediaType.VIDEO}u.msgType=d("MAWMsgType").MSG_TYPE.RAVEN;return u}o!=null&&S(u,o.obj);d("WALogger").ERROR(p());return u}function S(a,b){var c;(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.locationMessage)!=null&&(a.futureProofMessageType="locationMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.liveLocationMessage)!=null&&(a.futureProofMessageType="liveLocationMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.pollCreationMessage)!=null&&(a.futureProofMessageType="pollCreationMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.pollUpdateMessage)!=null&&(a.futureProofMessageType="pollUpdateMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.viewOnceMessage)!=null&&(a.futureProofMessageType="viewOnceMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.contactMessage)!=null&&(a.futureProofMessageType="contactMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.extendedTextMessage)!=null&&(a.futureProofMessageType="extendedTextMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.groupInviteMessage)!=null&&(a.futureProofMessageType="groupInviteMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.commonSticker)!=null&&(a.futureProofMessageType="commonSticker");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.screenshotAction)!=null&&(a.futureProofMessageType="screenshotAction");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.extendedMessageContentWithSear)!=null&&(a.futureProofMessageType="extendedMessageContentWithSear");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.imageGalleryMessage)!=null&&(a.futureProofMessageType="imageGalleryMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.content)==null?void 0:c.paymentsTransactionMessage)!=null&&(a.futureProofMessageType="paymentsTransactionMessage");(b==null?void 0:(c=b.payload)==null?void 0:(c=c.applicationData)==null?void 0:c.metadataSync)!=null&&(a.futureProofMessageType="metadataSync");(b==null?void 0:(c=b.payload)==null?void 0:(b=c.applicationData)==null?void 0:b.aiBotResponse)!=null&&(a.futureProofMessageType="aiBotResponse")}function T(a,b,c,e){var f;f=(f=a.metadata)==null?void 0:f.messageId;a=d("decodeProtobuf").decodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a.payload);var g=d("WAParseMessageApplication").parseMessageApplication(a);if(g.type==="error"){d("WALogger").ERROR(o());return}a=a.metadata;var h=a==null?void 0:a.quotedMessage;h=h==null?void 0:h.stanzaId;f!=null&&h!=null&&(c.has(h)||b.add(h),e.set(f,h));if(g.subprotocolType==="armadillo"){c=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAArmadilloApplication.pb").ArmadilloSpec,g.payload);return{metadata:a,obj:c}}else if(g.subprotocolType==="consumerMessage")return{metadata:a,obj:d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAConsumerApplication.pb").ConsumerApplicationSpec,g.payload)}}function U(a,b,c,d,e,f,g,h,i){return a.map(function(a){return V(a,b,c,d,e,f,g,h,i)})}function V(a,b,c,e,f,g,h,i,j){g===void 0&&(g=new Map());var k=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,a.toplevelProtobuf.decryptedProtobuf);k=R(k,a.toplevelProtobuf.protobufTimestampMS,b,a.otid,c,e,f,g,h,i,j);c=a.supplementalProtobufs;for(h of c){i=h[0];j=h[1];c=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,j.decryptedProtobuf);if(!d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufAReaction(i)&&!d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufAnEdit(i)&&!d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufARavenAction(i))continue;if(d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufARavenAction(i)&&c.payload!=null){var l=T(c,e,f,g),m=i.split(":")[1];m=d("MAWJids").toUserJid(m);m=m===b?d("WAJids").AUTHOR_ME:m;if(l!=null){var o,p,q;l=l.obj;o=(o=l.payload)==null?void 0:(o=o.content)==null?void 0:(o=o.ravenActionNotifMessage)==null?void 0:o.actionTimestamp;p=(p=l.payload)==null?void 0:(p=p.content)==null?void 0:(p=p.ravenActionNotifMessage)==null?void 0:p.actionType;if(o!=null&&p!=null&&typeof o==="number"&&((q=l.payload)==null?void 0:(q=q.content)==null?void 0:(q=q.ravenActionNotifMessage)==null?void 0:(q=q.key)==null?void 0:q.id)!=null){q=d("WAStanzaUtils").toStanzaId((q=l.payload)==null?void 0:(l=q.content)==null?void 0:(q=l.ravenActionNotifMessage)==null?void 0:(l=q.key)==null?void 0:l.id);if(((l=c.metadata)==null?void 0:l.timestampMs)!=null&&typeof ((l=c.metadata)==null?void 0:l.timestampMs)==="number"&&((l=c.metadata)==null?void 0:l.messageId)!=null){var r;l=(l=c.metadata)==null?void 0:l.messageId;r=d("WATimeUtils").castMilliSecondsToUnixTime((r=c.metadata)==null?void 0:r.timestampMs);l=d("WAStanzaUtils").toStanzaId(l);p=p===0?d("MAWMsg").MAWRavenActionNotifType.PLAYED:p===1?d("MAWMsg").MAWRavenActionNotifType.SCREENSHOTTED:d("MAWMsg").MAWRavenActionNotifType.FORCE_DISABLED;o={ack:d("WAAckLevel").ACK.RECEIVED,actionTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(o),actionType:p,author:m,externalId:l,ravenActionToMsgExternalId:q,ts:r,type:d("MAWMsgType").MSG_TYPE.RAVEN_ACTION};k.ravenActionUnstoredMsg=o}}}}if(d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufAReaction(i)&&c.payload!=null){m=(p=c.metadata)==null?void 0:p.messageId;o=(l=T(c,e,f,g))==null?void 0:(q=l.obj.payload)==null?void 0:(r=q.content)==null?void 0:r.reactionMessage;p=d("MessageBackupSupplementalKeyGenerator").getSupplementalSenderId(i);o!=null&&p!=null&&k.reactionData.push({reaction:o,reactionExternalId:m,senderId:p,ts:d("WATimeUtils").castMilliSecondsToUnixTime(j.protobufTimestampMS)})}else if(d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufAnEdit(i)&&c.payload!=null){l=i.split(":");l.length!==3&&d("WALogger").ERROR(n());q=d("WAStanzaUtils").toStanzaId(l[1]);p=(r=T(c,e,f,g))==null?void 0:(o=r.obj.payload)==null?void 0:(m=o.content)==null?void 0:m.editMessage;i=(j=c.metadata)==null?void 0:j.senderId;if(p!=null){r=(l=p.key)==null?void 0:l.id;o=p.timestampMs;if(r!=null&&o!=null&&i!=null&&typeof o==="number"){m=d("MAWJids").toUserJid(i);c=m===b?d("WAJids").AUTHOR_ME:m;k.editMsgData.push({author:c,editMsgContent:p,externalId:q,originalMsgExternalId:d("WAStanzaUtils").toStanzaId(r),ts:d("WATimeUtils").castMilliSecondsToUnixTime(o)})}}}}f.add(a.otid);return k}function aa(a,b,e,f,g,h,i){h==null?void 0:h.addPoint("replies_restore_start");return E(a,g,h).then(function(){b!=null&&(i.forEach(function(a){d("MAWBridgeEventTransmitter").issuePointQueryOutsideTxn(a,b,void 0,c("LSMEBTaskCreationSource").EB_POINT_QUERY_IN_ACT,g)}),i.clear())})}function ba(a,e,f,g){f==null?void 0:f.addPoint("xma_restore_start");var h=[],j=new Map();return(i||(i=b("Promise"))).all(a.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("MAWDbMsg").isXMAMsg(a)){var b=a.externalId,c=e.get(b);if(c!=null&&c.xmaData!=null){c=I(a.author,a.externalId,a.msgId,a.threadJid,c.xmaData);if(c!=null){var f,i,k=[],l=[],m=[],n=new Map();b=g.get(b);b!=null&&b.forEach(function(b){var c=d("WAMediaUtils").stringToDeliveryObjectId(b.mediaMetadata.attachmentObjectId),e=d("WAHashUtils").stringToPlaintextHash(d("MAWHandleEchoMediaMsgsRestoreV2").getBase64WithoutPadding(b.mediaMetadata.plaintextHash)),g=n.get(e);n.set(e,g!=null?[].concat(g,[a.msgId]):[a.msgId]);m.push(c);b.mediaRestoreType==="xma_header"&&(f=c);b.mediaRestoreType==="xma_favicon"&&(i=c);b.mediaRestoreType==="xma_preview"&&k.push(c)});var o=(yield d("MAWHandleEchoXMARestoreV2").getMediaForXMAByObjectIds(m,n));o.forEach(function(a,b){j.set(a.mediaId,a)});if(f!=null){c.headerMediaId=(b=o.get(f))==null?void 0:b.mediaId}if(i!=null){c.faviconMediaId=(b=o.get(i))==null?void 0:b.mediaId}k.forEach(function(a){a=(a=o.get(a))==null?void 0:a.mediaId;a!=null&&l.push(a)});c.previewMediaIds=l;l.length>0&&(c.defaultPreviewMediaId=l[0]);h.push(c)}}}});return function(b){return a.apply(this,arguments)}}())).then(function(){return d("MAWHandleEchoXMARestoreV2").writeXMAsToDb(h).then(function(a){a.forEach(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a.previewMediaIds!=null&&a.previewMediaIds.length>0&&(b=j.get(a.previewMediaIds[0]));var e;c("gkx")("821")?e=(yield d("MAWHandleXmaTransactionUtil").checkMediaChunkTransactionAndCreatedBridgeXma(b,a)):e=d("MAWBridgeXMA").createBridgeXMA(b,a,!1);d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"NewXMA",value:e}]})});return function(b){return a.apply(this,arguments)}}()),f==null?void 0:f.addPoint("xma_restore_end",{"int":{xma:a.length}})})})}function a(a){return W.apply(this,arguments)}function W(){W=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.currentUserJid,f=a.deanonApiPayload,g=a.decryptedMessagesProtobufs,m=a.echoMessages,n=a.hasMoreAfter,o=a.hasMoreBefore,p=a.instanceKey,q=a.isPointRestore,r=a.minMsgId,s=a.referenceTimestamp,t=a.requestId,u=a.skipMediaDownload,v=a.threadJidPrimaryId;a=a.uploadedFromEbQueue;if(g.length===0)return(i||(i=b("Promise"))).resolve();d("WALogger").LOG(l(),g.length,q,s);var w=new Set(),x=new Set(),y=new Map(),z=new Map(),A=new Map(),B=v,C=(yield d("MAWHandleEchoMsgsRestoreApiV2").getThread(v,t));s=q?d("MAWHandleEchoMsgsRestoreApiUtils").MAWRestoreType.POINT_RESTORE:s!=null?d("MAWHandleEchoMsgsRestoreApiUtils").MAWRestoreType.PAGINATED_RESTORE:d("MAWHandleEchoMsgsRestoreApiUtils").MAWRestoreType.INITIAL_RESTORE;s=s;var D=d("MAWQplProxy").startQplUserFlow(c("qpl")._(521486220,"827"),{bool:{isPointRestore:q,uploadedFromEbQueue:a},"int":{messages:g.length},string:{message_backup_type:"protobuf",restore_type:s}},void 0,3e5);d("MAWTraceUtils").recordCheckpointForTrace(t,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN),[],!1);try{if(C){s=U(g,e,v,w,x,y,A,z);var E=C.jid,F=new Set(),G=new Map(),H=new Map(),I=s.map(function(a){G.set(d("WAStanzaUtils").toStanzaId(a.externalId),a);var b=J(a,E,e,y,H);b==null&&F.add(a.externalId);return b}).filter(Boolean),K=s.filter(function(a){return F.has(a==null?void 0:a.externalId)});m!=null&&m.length>0&&m.length!==g.length&&(D==null?void 0:D.addPoint("mismatch_between_echo_and_protobuf_payload_from_server",{"int":{echoMessagesLength:m.length,protobufMessagesLength:g.length}}));if(K.length>0){var L=new Map();K.forEach(function(a){var b="unknown";a.msgType!=null?b=a.msgType:a.futureProofMessageType!=null&&(b=a.futureProofMessageType);a=L.get(b);a!=null?L.set(b,a+1):L.set(b,1)});var M={};L.forEach(function(a,b){b="protobuf_restore_failure_"+b;M[b]=a});D==null?void 0:D.addPoint("protobuf_restore_failed_count_by_msg_type",{"int":M});if(m!=null&&m.length===g.length){d("WALogger").LOG(k());x.clear();D==null?void 0:D.addPoint("reverting_to_echo_restore");yield d("MAWHandleEchoMsgsRestoreApiV2").handleEchoMsgsBulkRestore(v,m,!1,o,n,r,void 0,void 0,p,void 0,void 0,D,void 0,a);return}}K=I.map(function(a){return{author:a.author,chat:C.jid,externalId:a.stanzaId}});var N=new Set();m=I.map(function(a){N.add(a.stanzaId);return babelHelpers["extends"]({},babelHelpers["extends"]({},a.unstoredDbContent.unstoredDbMsg,{threadJid:C.jid}))});var O=new Map();f!=null&&f.forEach(function(a){O.set(a.externalId,a.sortOrderMs)});s.forEach(function(a){var b=a.sortOrderMs;a=a.externalId;if(O.size>0&&b!=null){a=O.get(a);a!=null&&(a!==b&&(D==null?void 0:D.addPoint("protobuf_restore_toplevel_ts_mismatch")))}});m.sort(function(a,b){return((a=a.sortOrderMs)!=null?a:0)-((a=b.sortOrderMs)!=null?a:0)});n=(yield (i||(i=b("Promise"))).all([d("MAWRestoreMsgsTxns").maybeGetThreadNewestMessage(C),d("MAWRestoreMsgsTxns").maybeGetOldestNonAdminMessage(C),d("MAWRestoreMsgsTxns").getMsgsByProtocolMsgIds(K)]));a=n[0];I=n[1];s=I.maybeOldestAdminMsg;K=I.maybeOldestMsg;I=n[2];var P=new Set(I.map(function(a){return a.externalId}));n=m.filter(function(a){return!P.has(a.externalId)});m=q||o;z={bumpMessageAuthorMap:z,existingMsgs:I,hasMoreBefore:(o=m)!=null?o:!0,instanceKey:p,isPointRestore:q,maybeNewestMsg:a,maybeOldestAdminMsg:s,maybeOldestMsg:K,minMsgId:r,newMsgs:n,thread:C};D==null?void 0:D.addPoint("message_restore_start");I=(yield d("MAWRestoreMsgsTxns").restoreMsgsForThread(z));m=0;o=0;D==null?void 0:D.addPoint("message_restore_end");p=[];(I==null?void 0:I.existingMsgs)!=null&&(p=p.concat(I==null?void 0:I.existingMsgs),m=I==null?void 0:I.existingMsgs.length);(I==null?void 0:I.newlyAddedMsgs)!=null&&(p=p.concat(I==null?void 0:I.newlyAddedMsgs),o=I==null?void 0:I.newlyAddedMsgs.length);f!=null&&!q&&d("MAWRestoreValidationUtils").compareRestoredMsgstoDeanonData(p,f,g,void 0,D);var Q=[];yield i.all(p.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a!=null)if(A.has(a.externalId)){var b=a.sortOrderMs,c=d("WAParseConsumerMessageProtocol").interpretAsNonSystemAuthor(a.author),e=A.get(a.externalId);b==null?d("WALogger").ERROR(j()):e!=null&&a.mediaId==null&&e.map(function(e){e={author:c,echoMsg:void 0,externalId:a.externalId,isXMA:d("MAWDbMsg").isXMAMsg(a),mediaData:e.mediaMetadata,messageTimestamp:b,msgId:a.msgId,previewMediaData:void 0,threadJId:a.threadJid};Q.push(e)})}else if(a.type===d("MAWMsgType").MSG_TYPE.RAVEN){e=H.get(a.externalId);e!=null&&(yield fa(a,e))}});return function(b){return a.apply(this,arguments)}}()));a=d("MAWHandleEchoMediaMsgsRestoreV2").downloadMediaAndWriteToMediaStore(Q,E,u);s=i.all(p.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=G.get(a.externalId);a!=null&&(yield ca(a,E,D,e),yield da(a,E,e,D),a.ravenActionUnstoredMsg!=null&&(yield ga(a.ravenActionUnstoredMsg,C)))});return function(b){return a.apply(this,arguments)}}()));D==null?void 0:D.addPoint("media_restore_start");yield i.all([a,s]);D==null?void 0:D.addPoint("media_restore_end",{"int":{media:Q.length}});yield ba(p,G,D,A);yield ha(p,G,D);yield aa(p,B,C.chatId,q,E,D,w);D.endSuccess({"int":{existingMsgs:m,messages_lost:g.length-m-o,newlyAddedMsgs:o,restoredMsgs:m+o,totalMsgsToRestore:g.length},string:{threadJidPrimaryId:v}});d("MAWTraceUtils").recordCheckpointForTrace(t,(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_RESTORE_MESSAGES_SUCCESS),[],!1);d("MAWTraceUtils").recordCheckpointForTrace(t,h.ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH),[],!0)}}finally{A.clear(),x.clear()}});return W.apply(this,arguments)}function ca(a,b,c,d){return X.apply(this,arguments)}function X(){X=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){c.addPoint("msg_history_start");if(a.editMsgData.length>0){var f,g,h,i=[],j=a.sortOrderMs;f=(f=a.metadata)==null?void 0:f.messageId;g=(g=a.metadata)==null?void 0:g.senderId;h=(h=a.decodedPayload)==null?void 0:h.text;if(f!=null&&g!=null){j=d("WATimeUtils").castMilliSecondsToUnixTime(j);g=d("MAWJids").toUserJid(g);f=d("WAStanzaUtils").toStanzaId(f);e=g===e?d("WAJids").AUTHOR_ME:g;g=Y(e,h,f,f,j,b);g!=null&&i.push(g);a.editMsgData.forEach(function(a){var c;c=Y(a.author,(c=a.editMsgContent.message)==null?void 0:c.text,a.externalId,a.originalMsgExternalId,a.ts,b);c!=null&&i.push(c)});yield ea(i);c.addPoint("msg_history_end")}}});return X.apply(this,arguments)}function Y(a,b,c,e,f,g){var h=a===d("WAJids").AUTHOR_ME?d("WAAckLevel").ACK.SENT:d("WAAckLevel").ACK.RECEIVED;if(b!=null)return{author:a,editExternalId:c,editTs:f,msgContent:{content:b},originalMsgExternalId:e,sendStatus:h,threadJid:g};d("WALogger").ERROR(m());return void 0}function da(a,b,c,d){return Z.apply(this,arguments)}function Z(){Z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f=G(a,e,f);a=a.metadata;if(f!=null&&a!=null){g.addPoint("reactions_restore_start");var h=a.messageId,j=[];f.forEach(function(a,b){return j.push({stanzaId:b,waReactionMsg:a})});if(c("gkx")("4219")){a=j.filter(function(a){a=a.waReactionMsg;return h!=null&&a.ts!=null}).map(function(a){var b=a.stanzaId;a=a.waReactionMsg;return{args:{groupingKey:a.reaction.groupingKey,reaction:a.reaction.text,reactToAuthor:d("WAParseConsumerMessageProtocol").interpretAsNonSystemAuthor(a.reactToMsgAuthor),reactToExternalId:a.reactToExternalId,senderTimestampMs:a.reaction.senderTimestampMs},author:d("WAParseConsumerMessageProtocol").interpretAsNonSystemAuthor(a.reactionAuthor),chatJid:e,externalId:b,ts:a.ts}});yield d("MAWWriteReactionMsgApi").bulkWriteReactionMsg(a)}else{f=(i||(i=b("Promise"))).all(j.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.waReactionMsg,c=b.ts;c!=null&&h!=null&&(yield d("MAWWriteReactionMsgApi").writeReactionMsg(a.stanzaId,e,{groupingKey:b.reaction.groupingKey,reaction:b.reaction.text,reactToAuthor:d("WAParseConsumerMessageProtocol").interpretAsNonSystemAuthor(b.reactToMsgAuthor),reactToExternalId:b.reactToExternalId,senderTimestampMs:b.reaction.senderTimestampMs},c,d("WAParseConsumerMessageProtocol").interpretAsNonSystemAuthor(b.reactionAuthor)))});return function(b){return a.apply(this,arguments)}}()));yield f}g.addPoint("reactions_restore_end")}});return Z.apply(this,arguments)}var ea=e.makeMsgrTransactor({editMsgHistory:f.READWRITE,messages:f.READWRITE},"bulkAddEditMsgHistory",function(a){return function(b){return d("MAWDbEditMsgHistoryTxns").bulkAddEditMsgHistory(a,b).then(function(){})}}),fa=e.makeMsgrTransactor({chunk:f.READWRITE,media:f.READWRITE,mediaBackup:f.READWRITE,messages:f.READWRITE},"handleUnstoredMedia",function(a){return function(b,c){return d("MAWMediaManagementTxns").handleUnstoredDbMedia(a,c,b,!1,!1)}}),ga=e.makeMsgrTransactor({messages:f.READWRITE,unrenderedMessages:f.READWRITE},"writeRavenActinomsg",function(a){return function(b,c){return d("MAWDbRavenActionTxns").writeRavenActionMsg(a,b,c)}});function ha(a,b,e){if(!c("gkx")("5624"))return;e==null?void 0:e.addPoint("receiver_fetch_restore_start");var f=[];a.forEach(function(a){if(a.type===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH&&a.receiverFetchId!=null){var c=b.get(a.externalId);if(c!=null&&c.receiverFetchInfo!=null){c=babelHelpers["extends"]({},c.receiverFetchInfo,{type:"sticker"});f.push({dbMsg:a,unstoredDbReceiverFetchInfo:c})}}});return $(f).then(function(){e==null?void 0:e.addPoint("receiver_fetch_restore_end")})["catch"](function(a){e==null?void 0:e.addPoint("receiver_fetch_restore_failure")})}var $=e.makeMsgrTransactor({receiverFetchInfo:f.READWRITE},"restoreWriteReceiverFetchInfosToTb",function(a){return function(b){return d("MAWDexieTable").dexieAll(b.map(function(b){var c=b.dbMsg;b=b.unstoredDbReceiverFetchInfo;return d("MAWWriteReceiverFetchTxns").handleUnstoredReceiverFetchInfo(a,c,b)}))}});g.associateQuotedMessagesForRestoredDbMsgsTransactor=E;g.createUnstoredDbContentFromProtobufObject=J;g.decodeProtobufArray=U;g.decodeDecryptedMessageProtobuf=V;g.handleProtobufsRestore=a;g.writeReceiverFetchInfosToTb=$}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceType",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("I64")).of_string("13");g.armadilloMessageSend=a}),98);
__d("Base64Utils",["XPlatReactTextEncoder","base64Binary"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("base64Binary").encode(new(d("XPlatReactTextEncoder").TextEncoder)().encode(a))}function b(a){return d("base64Binary").encode(new Uint8Array(a))}function c(a){return d("base64Binary").decode(a).buffer}g.encodeUnicode=a;g.fromArrayBuffer=b;g.toArrayBuffer=c}),98);
__d("IGDRouteProvider.react",["I64","react","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;f=e.createContext;var k=e.useContext,l=e.c;function m(a){try{return(i||(i=d("I64"))).of_string(a)}catch(a){return}}function n(a){if(a==null)return;a=a.params.thread_key;if(a!=null&&typeof a==="string")return m(a)}var o=f();function a(a){var b=l(5);a=a.children;var d=c("useCurrentRoute")(),e;b[0]!==d?(e=n(d),b[0]=d,b[1]=e):e=b[1];d=e;b[2]!==d||b[3]!==a?(e=j.jsx(o.Provider,{value:d,children:a}),b[2]=d,b[3]=a,b[4]=e):e=b[4];return e}function b(){return k(o)}g.IGDRouteContextProvider=a;g.useThreadKeyFromCurrentRoute=b}),98);
__d("LSAppendDataTraceAddonStoredProcedure",["LSAppendDataTraceAddon","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.dataTraceId;d[1]=b.checkPointId;d[2]=b.syncChannel;d[3]=b.errorMessage;d[4]=b.tags;return c("LSAppendDataTraceAddon").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f["default"]=a}),66);
__d("LSBase64Encode.nop",["Base64Utils","LSResult","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return(h||(h=b("Promise"))).resolve(c("LSResult")(f?d("Base64Utils").fromArrayBuffer(f):void 0))};g["default"]=a}),98);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(a=b)!=null?a:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_ALREADY_PENDING:1600,LABYRINTH_ADD_DEVICE_SPROC_UPDATE_RECOVERY_DATA_TABLE_START:1601,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_NO_VD_TABLE:1602,LABYRINTH_ADD_DEVICE_SPROC_GENERATE_RECOVERY_SECRETS_START:1603,LABYRINTH_ADD_DEVICE_SPROC_WRONG_RC:1604,LABYRINTH_ADD_DEVICE_SPROC_NULL_VD:1605,LABYRINTH_ADD_DEVICE_SPROC_NO_RC_STATUS_TABLE_FOUND:1606,LABYRINTH_ADD_DEVICE_SPROC_ISSUE_FETCH_VD_TASK:1607,LABYRINTH_ADD_DEVICE_SPROC_SUCCESS:1608,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_BACKUP_TASK_SPROC:1825,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_BACKUP_ENT_SPROC:1826,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_BACKUP_FAILURE_SPROC:1827,LABYRINTH_MEDIA_ISSUE_ATTACHMENT_RESTORE_TASK:1829,LABYRINTH_MEDIA_UPDATE_ATTACHMENT_CDN_URL:1830,LABYRINTH_MEDIA_HANDLE_ATTACHMENT_RESTORE_FAILURE:1831,LABYRINTH_MEDIA_ISSUE_BATCH_ATTACHMENT_BACKUP_TASK_SPROC:1873,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY:3610,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);
__d("LsDataTraceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743851");b=d("FalcoLoggerInternal").create("ls_data_trace",a);e=b;g["default"]=e}),98);
__d("LSDataTraceFlush",["ArmadilloDataTraceType","I64","LSDataTraceType","LSIntEnum","LsDataTraceFalcoEvent","ODS","Promise","ReQL","asyncToGeneratorRuntime","clearTimeout","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||(i=d("I64"))).of_string("120000"),m=i.of_string("600000"),n=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function o(a,b,c){var e=a.length;if(e===0)return[(i||(i=d("I64"))).neg_one,i.neg_one,void 0,void 0,void 0];e=a.find(function(a){return a.errorMessage!=null});e=e==null?void 0:e.errorMessage;a=a[a.length-1|0];var f=(i||(i=d("I64"))).of_float(Date.now()),g=a.timestampMs,h=i.compare(i.sub(f,c),l)>=0;return!b&&h?[(i||(i=d("I64"))).sub(f,c),a.checkPointId,g,e,"trace expired"]:[i.sub(g,c),a.checkPointId,g,e,e]}function p(a){return a.reduce(function(a,b,c){var e,f=(i||(i=d("I64"))).to_string(b.checkPointId),g=b.timestampMs;e=i.to_string((e=b.syncChannel)!=null?e:(i||(i=d("I64"))).neg_one);b=b.tags;b=b!=null?","+b:"";if(c===0)a.pointsList="".concat("(",f,",",e,b,")");else{c=String((i||(i=d("I64"))).to_int32(i.sub(g,a.lastCheckPointTimestamp)));a.pointsList=a.pointsList.concat("-",c,"-(",f,",",e,b,")")}a.lastCheckPointTimestamp=g;return a},{lastCheckPointTimestamp:(i||(i=d("I64"))).zero,pointsList:""}).pointsList}var q=i.of_string("2");function r(a){var b=a.traceType;b=(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK))?"send":(i||(i=d("I64"))).equal(b,d("ArmadilloDataTraceType").armadilloMessageSend)?"armadillo send":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_INIT))?"encrypted_backups_init":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_ADD_DEVICE))?"encrypted_backups_add_device":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SYNC_EPOCHS))?"encrypted_backups_sync_epochs":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP))?"encrypted_backups_opt_out_of_backup":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA))?"encrypted_backups_fetch_backups_metadata":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE))?"encrypted_backups_create_extra_virtual_device":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS))?"encrypted_backups_fetch_backup_status":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION))?"encrypted_backups_third_party_id_generation":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_DELETE_BACKUP))?"encrypted_backups_delete_backup":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":(i||(i=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":a.contextTwo;return b}function s(a,b){var e=b.traceId,f=b.shouldFlush,g=r(b),h=b.traceType,j=(i||(i=d("I64"))).equal(h,d("ArmadilloDataTraceType").armadilloMessageSend)?"tam_message_send":b.contextOne,k=(i||(i=d("I64"))).equal(b.traceType,q)?void 0:b.predefinedId,l=b.initTimestampMs;return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_addon.index("traceIdAddonId")).getKeyRange(e)).then(function(a){var b=o(a,f,l),h=b[0],m=b[1],n=b[3],q=b[4],r=a.length,s=p(a);c("LsDataTraceFalcoEvent").log(function(){var a;return{check_point_count:(i||(i=d("I64"))).to_string(i.of_int32(r)),check_point_list:s,client_event_ts:i.to_string(i.of_float(Date.now())),cold_start_time:void 0,data_trace_id:e,database_id:j,delivered_messages:void 0,error_message:q,first_error_message:n,has_backgrounded:!1,last_check_point:i.to_string(m),latency:i.to_string(h),media_type:void 0,num_of_attachments:void 0,persisted_metadata:void 0,predefined_id:k,sent_rich_media_messages:void 0,sent_text_messages:void 0,start_time:i.to_string(l),trace_flow:(a=g)!=null?a:""}})}).then(function(){return a.data_trace_meta["delete"](e)})}function a(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(c)).then(function(c){if(c!=null)return s(a,c);else return(h||(h=b("Promise"))).resolve()})}var t={contents:void 0};function u(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta.index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:d("ReQL").key((i||(i=d("I64"))).sub(i.of_float(Date.now()),l))})).then(function(a){if(c("gkx")("23914")){var b=(i||(i=d("I64"))).of_float(Date.now());return a.filter(function(a){var c=r(a);if(c!=null&&n.has(c)){c=(i||(i=d("I64"))).compare(i.sub(b,a.initTimestampMs),m)>=0;return c}return!0})}return a})}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield u(a.tables));if(c.length===0)return;return a.runInTransaction(function(a){return u(a).then(function(c){return(h||(h=b("Promise"))).all(c.map(function(b){return s(a,b)}))})},"readwrite",void 0,void 0,f.id+":373")});return w.apply(this,arguments)}function x(){var a=t.contents;if(a!=null){c("clearTimeout")(a);return}}function y(a){c("promiseDone")(v(a),function(){x();var b=c("setTimeout")(function(){y(a)},6e4);t.contents=b},function(){x(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mw_trace","error")});return x}e=a;a=y;e={flush:e,flushExpiredDataTraces:a};g["default"]=e}),98);
__d("ReQLTable",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield a.get.apply(a,b));c=c(d);yield a.upsert(b,c)});return g.apply(this,arguments)}f.update=a}),66);
__d("updateAndFlushLSDataTrace",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","Promise","ReQLTable","requireDeferred","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("LSDataTraceFlush").__setRef("updateAndFlushLSDataTrace");function a(a,e){return e==null?(j||(j=b("Promise"))).resolve():c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").CLIENT_READY_TO_FLUSH),dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one}).then(function(){return d("ReQLTable").update(a.data_trace_meta,[e],function(a){if(a!=null)return{contextOne:a.contextOne,contextThree:a.contextThree,contextTwo:a.contextTwo,foregroundTimestampMs:a.foregroundTimestampMs,initTimestampMs:a.initTimestampMs,predefinedId:a.predefinedId,shouldFlush:!0,traceId:a.traceId,traceType:a.traceType};else throw c("unrecoverableViolation")("Data trace is missing "+e,"maw_db")}).then(function(){return k.load().then(function(b){return b.flush(a,e)})})})}g["default"]=a}),98);
__d("LSFlushDataTrace.nop",["MetaConfig","Promise","ReQL","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return!c("MetaConfig")._("62")?(h||(h=b("Promise"))).resolve():d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(f)).then(function(d){if(d!=null)return c("updateAndFlushLSDataTrace")(a,f);else return(h||(h=b("Promise"))).resolve()})};g["default"]=a}),98);
__d("LSIsEncryptionVersionSecure",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.i64.eq(a[0],b.i64.cast([0,4]))?c[0]=!1:(b.i64.eq(a[0],b.i64.cast([0,3]))?c[1]=!0:(b.i64.eq(a[0],b.i64.cast([0,2]))?c[2]=!0:(b.i64.eq(a[0],b.i64.cast([0,0]))?c[3]=!0:(b.i64.eq(a[0],b.i64.cast([0,99]))?c[4]=!1:c[4]=!1,c[3]=c[4]),c[2]=c[3]),c[1]=c[2]),c[0]=c[1]),d[0]=c[0],b.resolve(d)}a.__sproc_name__="LSEncryptedBackupsVersioningIsEncryptionVersionSecureStoredProcedure";e.exports=a}),null);
__d("LSIsMobileClient",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return c[0]=!1,b.resolve(c)}a.__sproc_name__="LSEncryptedBackupsIsMobileClientStoredProcedure";e.exports=a}),null);
__d("MebClientLogsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3226");b=d("FalcoLoggerInternal").create("meb_client_logs",a);e=b;g["default"]=e}),98);
__d("LSLogMebClientEvent.nop",["I64","LSVec","MebClientLogsFalcoEvent","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){c("MebClientLogsFalcoEvent").log(function(){return{calling_class:f,device_family_id:void 0,device_registration_id:void 0,log_level:(i||(i=d("I64"))).to_string(k),msg:g,trace_ids:c("LSVec").toArray(j)}});return(h||(h=b("Promise"))).resolve()};g["default"]=a}),98);
__d("LSRequestId",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h="0123456789abcdef",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(){var a=c("uuidv4")().replace(/[^0-9a-f]/gi,""),b=0,d=["#"];while(b<33){var e=h.indexOf(a.charAt(b))<<8,f=h.indexOf(a.charAt(b+1))<<4,g=h.indexOf(a.charAt(b+2));g=g|(f|e);f=g>>6;d.push(i.charAt(f));d.push(i.charAt(g&63));b+=3}return d.join("")}b={generate:a};g["default"]=b}),98);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("MAWJids",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";a=d("WAJids").createJidUtils({platform:"msgr"});b=a.toUserJid;g.jidUtils=a;g.toUserJid=b}),98);
__d("MAWTimeUtils",["FBLogger","I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function j(a){a=Number(a);return a<=d("WATimeUtils").MAX_INT&&a!==-1e3&&a!==0}function a(a){if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to millisTimeToTimestamp: %s",Number(a));return i(a)}return(h||(h=d("I64"))).of_float(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function e(a){if(a==null)return;if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to ensureValidMillisTime: %s",Number(a));return d("WATimeUtils").castToMillisTime(a*1e3)}return a}f=(h||(h=d("I64"))).of_string("9999999999999");var k=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=e;g.MAX_TIMESTAMP_MS=f;g.MAX_TIMESTAMP=k;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MAWWebWorkerInstance",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}d=function(){return g!==null};function b(){g=null}function c(){return g}f.setWorkerInstancePromise=a;f.doesWorkerExist=d;f.destroyWorkerInstance=b;f.getWorkerInstancePromise=c}),66);
__d("MWEBODSEntityKey.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({START:"start",SUCCESS:"success",FAIL:"fail",INCORRECT_PIN_CODE:"incorrect_pin_code",INCORRECT_RECOVERY_CODE:"incorrect_recovery_code"});c=a;f["default"]=c}),66);
__d("MWLSThread",["FBLogger","Promise","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a){return a};function a(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){return b(a)}):d("ReQL").empty()},[e,a],f.id+":29")}function e(a,b){b===void 0&&(b=j);var e=(i||(i=c("useReStore")))();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a).map(function(a){var c;return(c=b==null?void 0:b(a))!=null?c:a})},[e,a],f.id+":48")}function k(a,b,e){e===void 0&&(e=j);a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b),f.id+":65");if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return e(a)}function l(a,c,e){e===void 0&&(e=j);return c!=null?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c)).then(function(a){return a?e(a):void 0}):(h||(h=b("Promise"))).resolve(void 0)}g.useThread=a;g.useThreadExn=e;g.getThreadExn=k;g.getThreadAsync=l}),98);
__d("MWLSThreadDisplayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=a.children;a=a.value;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWLSThreadDisplayContextProvider=a;g.useMWLSThreadDisplayContext=b}),98);
__d("MWPActor.react",["Actor","CurrentMessengerUser","I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.createContext,l=e.useContext,m=e.useMemo,n=k();function a(){var a=l(n),b=d("Actor").useActor(),c=b[0],e=m(function(){return(i||(i=d("I64"))).of_string(c)},[c]),f=d("CurrentMessengerUser").getPageMessagingMailboxId(),g=m(function(){return f!=="0"?(i||(i=d("I64"))).of_string(f):null},[f]);b=m(function(){return a!=null?a:g!=null?g:e},[e,a,g]);return b}function b(){return o()!=null}function o(){var a=d("CurrentMessengerUser").getPageMessagingMailboxId();return a==="0"?null:a}function c(a){var b=a.actorId;a=a.children;return b!=null?j.jsx(n.Provider,{value:b,children:a},(i||(i=d("I64"))).to_string(b)):a}c.displayName=c.name+" [from "+f.id+"]";g.useActor=a;g.isAPPlus=b;g.getAPPlusMailboxId=o;g.MWPActorProvider=c}),98);
__d("WAArrayZip",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=Math.min(a.length,b.length);return a.slice(0,c).map(function(a,c){return[a,b[c]]})}f.zip=a}),66);
__d("WAHashStringToNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d;b|=0}return Math.abs(b)}f.hashStringToNumber=a}),66);
__d("WALoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WATagsLogger").__setRef("WALoggerDeferred");function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV.apply(d,[a].concat(c))})})}function b(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV_XMPP.apply(d,[a].concat(c))})})}function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).LOG.apply(d,[a].concat(c))})})}function e(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).WARN.apply(d,[a].concat(c))})})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).ERROR.apply(d,[a].concat(c))})})}function i(a,b,c){return h.load().then(function(d){return d.whenReady().then(function(){return d.TAGS(a)}).then(function(a){a[c](b)})})}g.DEV=a;g.DEV_XMPP=b;g.LOG=d;g.WARN=e;g.ERROR=f;g.logWithTags=i}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);
__d("isInstamadilloEB",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("670")===!0}g["default"]=a}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;c=i||d("react");var l=c.useContext,m=c.useMemo;function a(){var a=l((k||(k=d("ReStoreProvider.react"))).context);return m(function(){return a!=null?(h||(h=b("Promise"))).resolve(a):(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton},[a])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloReceiveWriteDbSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5721");b=d("FalcoLoggerInternal").create("armadillo_receive_write_db_success",a);e=b;g["default"]=e}),98);
__d("EBAPIQPLPoints",[],(function(a,b,c,d,e,f){"use strict";a={GRAPHQL_QUERY_END:"graphql_query_end",GRAPHQL_QUERY_START:"graphql_query_start"};f.EBMessageMetadataQPLPoints=a}),66);
__d("EBFormatUtils",["I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a!=null)return(h||(h=d("I64"))).min(a,h.of_float(d("WATimeUtils").millisTime()));switch(b){case"before":return(h||(h=d("I64"))).of_float(d("WATimeUtils").millisTime());case"after":return(h||(h=d("I64"))).zero;default:b;return(h||(h=d("I64"))).max_int}}function b(a,b){switch(b){case"before":return[a,0];case"after":return[0,a];default:b;return[Math.ceil(a/2),Math.ceil(a/2)]}}g.adjustTs=a;g.adjustCount=b}),98);
__d("EBLSMessagePointQuery",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWEncryptedBackupUtils","MWEncryptedBackUpEBNotEnabledError","QPLUserFlow","WAGetStorageQplAnnotations","WAHashStringToNumber","WAPushSafeTypes","WAResultOrError","asyncToGeneratorRuntime","cr:10036","err","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(b("cr:10036")==null)throw c("err")("Calling EBLS without EBLS being available for message range query");a=d("WAPushSafeTypes").unsafeNotNullable(a);var e=a.chatJid,f=a.messageId,g=a.startSortKey,j=a.taskSource,k=a.threadId;yield b("cr:10036").init();a=(yield b("cr:10036").getLSStorage());var l=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a.tables));if(l!=null&&!(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return d("WAResultOrError").makeError(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED);l=d("WAHashStringToNumber").hashStringToNumber(f);var m=l.toString(),n=j===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES?c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:c("LSMEBTaskCreationSource").EB_POINT_QUERY_IN_ACT;n===c("LSMEBTaskCreationSource").EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES&&(c("QPLUserFlow").start(c("qpl")._(1056840931,"814"),{instanceKey:l}),c("promiseDone")(d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(1056840931,"814"),a)})),c("QPLUserFlow").addPoint(c("qpl")._(1056840931,"814"),"eb_point_restore_begin",{data:{"int":{msgId:l},string:{jid:e}},instanceKey:l}));d("MAWEBRestoreTrackingUtils").markEBRestorePoint(n,m);return a.runInTransaction(function(a){return c("LSIssuePointQueryRestoreTaskStoredProcedure")(c("LSFactory")(a),{messageId:f,source:(i||(i=d("LSIntEnum"))).ofNumber(n),startSortKey:g,threadId:k,traceId:m})},"readwrite").then(function(){return d("WAResultOrError").makeResult()})});return j.apply(this,arguments)}g.messagePointQuery=a}),98);
__d("LSLoadThreadPkFromThreadId",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][loadThreadPkFromThreadId] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.filter(c.db.table(173).fetch(),function(b){return c.i64.to_string(b.jid)===a[0]}).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,100])),d[13].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[13].set("error_message",""),e=[void 0,d[13]],d[2]=e[0],d[3]=e[1],e):(b=a.item,e=[b.clientThreadPk,void 0],d[2]=e[0],d[3]=e[1],e)})},function(a){return c.i64.neq(d[2],void 0)?(a=[d[2],d[3]],d[5]=a[0],d[6]=a[1],a):(d[13]=new c.Map(),d[13].set("error_code",c.i64.cast([0,7])),d[13].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[13].set("error_message",""),c.i64.neq(void 0,void 0)?(a=[void 0,d[13]],d[14]=a[0],d[15]=a[1],a):(d[16]=new c.Map(),d[16].set("error_code",c.i64.cast([0,100])),d[16].set("stored_procedure","LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure"),d[16].set("error_message",""),a=[void 0,d[16]],d[14]=a[0],d[15]=a[1],a),a=[d[14],d[15]],d[5]=a[0],d[6]=a[1],a),d[7]=c.i64.of_float(Date.now()),d[8]=c.i64.random(),d[10]="Finishing execution. Execution time: ",d[11]=c.i64.to_string(c.i64.sub(d[7],d[0])),d[12]=" ms",d[9]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][loadThreadPkFromThreadId] ",d[9],d[10],d[9],d[11],d[9],d[12]].join("")),c.i64.eq(c.i64.mod_(d[8],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[13]=",",d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"loadThreadPkFromThreadId",[d[10],d[13],d[11],d[13],d[12]].join(""),d[14],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[5],d[6]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsLoadThreadPkFromThreadIdStoredProcedure";e.exports=a}),null);
__d("LSIssueMessageRangeQueryTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSFlushDataTrace.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewEbTaskAndGetTaskIDV2","LSLoadThreadPkFromThreadId","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] Beginning execution."),d[6]=c.i64.gt(a[1],c.i64.cast([0,0]))&&c.i64.gt(a[5],c.i64.cast([0,0])),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(e){return d[6]?(d[12]=new c.Map(),d[12].set("error_code",c.i64.cast([0,1])),d[12].set("error_message",""),d[12].set("stored_procedure","issueMessageRangeQueryTask"),d[13]=new c.Map(),d[13].set("act_thread_id",a[0]),d[14]=new c.Map(),d[14].set("restore_context",d[13]),d[14].set("failure",d[12]),d[15]=d[14].get("restore_context"),d[14],d[16]=d[15].get("act_thread_id"),d[15],d[17]=c.toJSON(d[14]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[16]].join(""),c.i64.cast([0,50031]),d[17],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[18]=a[0],a})):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?d[12]=void 0:(f=e.item,c.sequence([function(a){return d[28]=f.deviceId,d[27]=f.backupTenancy,d[26]=f.encryptionVersion,d[21]=void 0,c.i64.neq(d[21],void 0)?c.resolve(d[22]=d[21]):c.sequence([function(a){return d[29]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[30]?d[39]=(d[29].push(c.i64.cast([0,0])),d[29]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[39]=(d[29].push(c.i64.cast([0,2])),d[29]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[39]=(d[29].push(c.i64.cast([0,3])),d[29]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[39]=(d[29].push(c.i64.cast([0,4])),d[29]):0,d[34]=c.createArray(),d[35]=c.i64.of_int32(d[29].length),c.i64.gt(d[35],c.i64.cast([0,0]))?c.loopAsync(d[35],function(a){return d[39]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],d[39]).then(function(a){return a=a,d[40]=a[0],d[41]=a[1],a})},function(a){return d[42]=(d[34].push(d[40]),d[34])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[42]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[42]).then(function(a){return a=a,d[43]=a[0],d[44]=a[1],a})},function(a){return d[45]=(d[39].push(c.i64.to_string(d[43])),d[39])}])}):c.resolve()},function(a){return d[41]=d[39].join(","),d[36]=d[41]}])},function(a){return d[34].some(function(a){return c.i64.eq(d[26],a)})?d[37]=d[26]:d[37]=void 0,c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=void 0,d[22]=d[38]}])},function(a){return c.i64.neq(d[22],void 0)?d[23]=d[22]:d[23]=c.i64.cast([0,0]),c.i64.neq(d[27],void 0)?d[24]=d[27]:d[24]=c.i64.cast([0,1]),c.i64.neq(d[28],void 0)?d[25]=d[28]:d[25]=void 0,d[12]=d[25]}]))})},function(e){return d[14]=new c.Map(),d[14].set("error_code",c.i64.cast([0,1])),d[14].set("error_message",void 0==null?"":void 0),d[14].set("stored_procedure","issueMessageRangeQueryTask"),d[15]=new c.Map(),d[15].set("act_thread_id",a[0]),d[15].set("source",a[6]),d[15].set("restore_operation_type",c.i64.cast([0,2])),d[15].set("request_id",a[4]),d[15].set("device_id",d[12]),d[16]=new c.Map(),d[16].set("restore_context",d[15]),d[16].set("failure",d[14]),d[17]=d[16].get("restore_context"),d[16],d[18]=d[17].get("act_thread_id"),d[17],d[19]=c.toJSON(d[16]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[18]].join(""),c.i64.cast([0,50030]),d[19],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[20]=a[0],a})}])},function(e){return d[11]="backup not found",d[11]!==void 0?c.sequence([function(e){return d[13]=["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[11]].join(""),function(a){c.logger(a).mustfix(a)}(d[13]),d[12]=c.createArray(),a[4]!==void 0?d[14]=(d[12].push(a[4]),d[12]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[11],d[12],c.i64.cast([0,3]))},function(e){return c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),d[13],void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[18]=c.createArray(),void 0!==void 0?d[19]=(d[18].push(void 0),d[18]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[18],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}])}]):c.sequence([function(e){return a[4]!==void 0?c.sequence([function(d){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",""].join(""),void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[16],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[13]=!0:d[13]=!1,d[13]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[14]=c.createArray(),void 0!==void 0?d[15]=(d[14].push(void 0),d[14]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[14],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]?d[10]=c.i64.cast([0,5]):d[10]=c.i64.cast([0,2]),d[1]=!1}]):(f=e.item,c.sequence([function(a){return d[19]=f.mailboxRootKeyBlob,d[18]=f.ocmfClientStateBlob,d[17]=f.deviceId,d[16]=f.backupTenancy,d[15]=f.encryptionVersion,d[10]=void 0,c.i64.neq(d[10],void 0)?c.resolve(d[11]=d[10]):c.sequence([function(a){return d[20]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return d[21]?d[30]=(d[20].push(c.i64.cast([0,0])),d[20]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[30]=(d[20].push(c.i64.cast([0,2])),d[20]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[23]?d[30]=(d[20].push(c.i64.cast([0,3])),d[20]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[30]=(d[20].push(c.i64.cast([0,4])),d[20]):0,d[25]=c.createArray(),d[26]=c.i64.of_int32(d[20].length),c.i64.gt(d[26],c.i64.cast([0,0]))?c.loopAsync(d[26],function(a){return d[30]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[20],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(a){return d[33]=(d[25].push(d[31]),d[25])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[30]=c.createArray(),d[31]=c.i64.of_int32(d[25].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[25],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[36]=(d[30].push(c.i64.to_string(d[34])),d[30])}])}):c.resolve()},function(a){return d[32]=d[30].join(","),d[27]=d[32]}])},function(a){return d[25].some(function(a){return c.i64.eq(d[15],a)})?d[28]=d[15]:d[28]=void 0,c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=void 0,d[11]=d[29]}])},function(e){return c.i64.neq(d[11],void 0)?d[12]=d[11]:d[12]=c.i64.cast([0,0]),c.i64.neq(d[16],void 0)?d[13]=d[16]:d[13]=c.i64.cast([0,1]),c.i64.neq(d[17],void 0)?c.sequence([function(e){return c.storedProcedure(b("LSLoadThreadPkFromThreadId"),a[0]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(e){return c.i64.neq(d[20],void 0)?d[6]?c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[22]=c.i64.cast([0,4]):d[22]=c.i64.cast([0,0]),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[23].set("tam_thread_subtype",d[22]),d[23].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[18]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[19]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=new c.Map(),d[26].set("ocmf_client_state_blob",d[24]==null?"":d[24]),d[26].set("mailbox_root_key",d[25]==null?"":d[25]),d[27]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[39]=(d[27].push(a.epochId),d[27])})},function(a){return d[37]="Queried locally available epochs. Count: ",d[28]=c.i64.of_int32(d[27].length),d[38]=c.i64.to_string(d[28]),d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[29],d[37],d[29],d[38]].join("")),c.resolve()},function(e){return d[30]=new c.Map(),d[30].set("device_id",d[17]),d[30].set("raw_tokens",d[26]),d[30].set("locally_available_epochs",d[27]),d[31]=new c.Map(),d[31].set("reference_timestamp",a[2]),d[31].set("server_thread_key",void 0),d[31].set("device_context",d[30]),d[31].set("source",a[6]),d[32]=new c.Map(),d[32].set("restore_context",d[23]),d[32].set("success",d[31]),d[33]=d[32].get("restore_context"),d[32],d[34]=d[33].get("act_thread_id"),d[33],d[35]=c.toJSON(d[32]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[34]].join(""),c.i64.cast([0,50031]),d[35],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})}]):c.i64.gt(a[1],c.i64.cast([0,0]))?c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[22]=c.i64.cast([0,4]):d[22]=c.i64.cast([0,0]),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[23].set("request_id",a[4]),d[23].set("tam_thread_subtype",d[22]),d[23].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[18]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[19]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=new c.Map(),d[26].set("ocmf_client_state_blob",d[24]==null?"":d[24]),d[26].set("mailbox_root_key",d[25]==null?"":d[25]),d[27]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[39]=(d[27].push(a.epochId),d[27])})},function(a){return d[37]="Queried locally available epochs. Count: ",d[28]=c.i64.of_int32(d[27].length),d[38]=c.i64.to_string(d[28]),d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[29],d[37],d[29],d[38]].join("")),c.resolve()},function(e){return d[30]=new c.Map(),d[30].set("device_id",d[17]),d[30].set("raw_tokens",d[26]),d[30].set("locally_available_epochs",d[27]),d[31]=new c.Map(),d[31].set("reference_timestamp",a[2]),d[31].set("direction",c.i64.cast([0,1])),d[31].set("server_thread_key",void 0),d[31].set("device_context",d[30]),d[31].set("source",a[6]),d[32]=new c.Map(),d[32].set("restore_context",d[23]),d[32].set("success",d[31]),d[33]=d[32].get("restore_context"),d[32],d[34]=d[33].get("act_thread_id"),d[33],d[35]=c.toJSON(d[32]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[34]].join(""),c.i64.cast([0,50030]),d[35],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})}]):c.sequence([function(e){return c.i64.eq(d[13],c.i64.cast([0,3]))?d[22]=c.i64.cast([0,4]):d[22]=c.i64.cast([0,0]),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[23].set("request_id",a[4]),d[23].set("tam_thread_subtype",d[22]),d[23].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),d[18]).then(function(a){return a=a,d[24]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[19]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[26]=new c.Map(),d[26].set("ocmf_client_state_blob",d[24]==null?"":d[24]),d[26].set("mailbox_root_key",d[25]==null?"":d[25]),d[27]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[39]=(d[27].push(a.epochId),d[27])})},function(a){return d[37]="Queried locally available epochs. Count: ",d[28]=c.i64.of_int32(d[27].length),d[38]=c.i64.to_string(d[28]),d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[29],d[37],d[29],d[38]].join("")),c.resolve()},function(e){return d[30]=new c.Map(),d[30].set("device_id",d[17]),d[30].set("raw_tokens",d[26]),d[30].set("locally_available_epochs",d[27]),d[31]=new c.Map(),d[31].set("reference_timestamp",a[2]),d[31].set("direction",c.i64.cast([0,2])),d[31].set("server_thread_key",void 0),d[31].set("device_context",d[30]),d[31].set("source",a[6]),d[32]=new c.Map(),d[32].set("restore_context",d[23]),d[32].set("success",d[31]),d[33]=d[32].get("restore_context"),d[32],d[34]=d[33].get("act_thread_id"),d[33],d[35]=c.toJSON(d[32]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[34]].join(""),c.i64.cast([0,50030]),d[35],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[36]=a[0],a})}]):c.sequence([function(e){return d[6]?(d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,100])),d[24].set("error_message",""),d[24].set("stored_procedure","issueMessageRangeQueryTask"),d[25]=new c.Map(),d[25].set("act_thread_id",a[0]),d[26]=new c.Map(),d[26].set("restore_context",d[25]),d[26].set("failure",d[24]),d[27]=d[26].get("restore_context"),d[26],d[28]=d[27].get("act_thread_id"),d[27],d[29]=c.toJSON(d[26]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[28]].join(""),c.i64.cast([0,50031]),d[29],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],a})):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?d[24]=void 0:(f=e.item,c.sequence([function(a){return d[40]=f.deviceId,d[39]=f.backupTenancy,d[38]=f.encryptionVersion,d[33]=void 0,c.i64.neq(d[33],void 0)?c.resolve(d[34]=d[33]):c.sequence([function(a){return d[41]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[51]=(d[41].push(c.i64.cast([0,0])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[43]?d[51]=(d[41].push(c.i64.cast([0,2])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[51]=(d[41].push(c.i64.cast([0,3])),d[41]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[51]=(d[41].push(c.i64.cast([0,4])),d[41]):0,d[46]=c.createArray(),d[47]=c.i64.of_int32(d[41].length),c.i64.gt(d[47],c.i64.cast([0,0]))?c.loopAsync(d[47],function(a){return d[51]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[41],d[51]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(a){return d[54]=(d[46].push(d[52]),d[46])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[51]=c.createArray(),d[52]=c.i64.of_int32(d[46].length),c.i64.gt(d[52],c.i64.cast([0,0]))?c.loopAsync(d[52],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[46],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[51].push(c.i64.to_string(d[55])),d[51])}])}):c.resolve()},function(a){return d[53]=d[51].join(","),d[48]=d[53]}])},function(a){return d[46].some(function(a){return c.i64.eq(d[38],a)})?d[49]=d[38]:d[49]=void 0,c.i64.neq(d[49],void 0)?d[50]=d[49]:d[50]=void 0,d[34]=d[50]}])},function(a){return c.i64.neq(d[34],void 0)?d[35]=d[34]:d[35]=c.i64.cast([0,0]),c.i64.neq(d[39],void 0)?d[36]=d[39]:d[36]=c.i64.cast([0,1]),c.i64.neq(d[40],void 0)?d[37]=d[40]:d[37]=void 0,d[24]=d[37]}]))})},function(e){return d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,100])),d[26].set("error_message",void 0==null?"":void 0),d[26].set("stored_procedure","issueMessageRangeQueryTask"),d[27]=new c.Map(),d[27].set("act_thread_id",a[0]),d[27].set("source",a[6]),d[27].set("restore_operation_type",c.i64.cast([0,2])),d[27].set("request_id",a[4]),d[27].set("device_id",d[24]),d[28]=new c.Map(),d[28].set("restore_context",d[27]),d[28].set("failure",d[26]),d[29]=d[28].get("restore_context"),d[28],d[30]=d[29].get("act_thread_id"),d[29],d[31]=c.toJSON(d[28]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[30]].join(""),c.i64.cast([0,50030]),d[31],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[32]=a[0],a})}])},function(e){return d[23]="threak pk not found for jid",d[23]!==void 0?c.sequence([function(e){return d[25]=["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[23]].join(""),function(a){c.logger(a).mustfix(a)}(d[25]),d[24]=c.createArray(),a[4]!==void 0?d[26]=(d[24].push(a[4]),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[23],d[24],c.i64.cast([0,3]))},function(e){return c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),d[25],void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[28]?d[29]=!0:d[29]=!1,d[29]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[30]=c.createArray(),void 0!==void 0?d[31]=(d[30].push(void 0),d[30]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[30],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!0:d[27]=!1,d[27]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[28],c.i64.cast([0,3]))):c.resolve()}])}]):c.sequence([function(e){return a[4]!==void 0?c.sequence([function(d){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",""].join(""),void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!0:d[27]=!1,d[27]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[28],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!0:d[25]=!1,d[25]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[26],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]?d[22]=c.i64.cast([0,5]):d[22]=c.i64.cast([0,2])}])},function(a){return d[14]=!0}]):c.sequence([function(e){return d[6]?(d[22]=new c.Map(),d[22].set("error_code",c.i64.cast([0,1])),d[22].set("error_message",""),d[22].set("stored_procedure","issueMessageRangeQueryTask"),d[23]=new c.Map(),d[23].set("act_thread_id",a[0]),d[24]=new c.Map(),d[24].set("restore_context",d[23]),d[24].set("failure",d[22]),d[25]=d[24].get("restore_context"),d[24],d[26]=d[25].get("act_thread_id"),d[25],d[27]=c.toJSON(d[24]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[26]].join(""),c.i64.cast([0,50031]),d[27],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[28]=a[0],a})):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var a=e.done;e=e.value;return a?d[22]=void 0:(f=e.item,c.sequence([function(a){return d[38]=f.deviceId,d[37]=f.backupTenancy,d[36]=f.encryptionVersion,d[31]=void 0,c.i64.neq(d[31],void 0)?c.resolve(d[32]=d[31]):c.sequence([function(a){return d[39]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[40]=a[0],a})},function(a){return d[40]?d[49]=(d[39].push(c.i64.cast([0,0])),d[39]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return d[41]?d[49]=(d[39].push(c.i64.cast([0,2])),d[39]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[42]=a[0],a})},function(a){return d[42]?d[49]=(d[39].push(c.i64.cast([0,3])),d[39]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[43]=a[0],a})},function(a){return d[43]?d[49]=(d[39].push(c.i64.cast([0,4])),d[39]):0,d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[49]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[39],d[49]).then(function(a){return a=a,d[50]=a[0],d[51]=a[1],a})},function(a){return d[52]=(d[44].push(d[50]),d[44])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[49]=c.createArray(),d[50]=c.i64.of_int32(d[44].length),c.i64.gt(d[50],c.i64.cast([0,0]))?c.loopAsync(d[50],function(a){return d[52]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[44],d[52]).then(function(a){return a=a,d[53]=a[0],d[54]=a[1],a})},function(a){return d[55]=(d[49].push(c.i64.to_string(d[53])),d[49])}])}):c.resolve()},function(a){return d[51]=d[49].join(","),d[46]=d[51]}])},function(a){return d[44].some(function(a){return c.i64.eq(d[36],a)})?d[47]=d[36]:d[47]=void 0,c.i64.neq(d[47],void 0)?d[48]=d[47]:d[48]=void 0,d[32]=d[48]}])},function(a){return c.i64.neq(d[32],void 0)?d[33]=d[32]:d[33]=c.i64.cast([0,0]),c.i64.neq(d[37],void 0)?d[34]=d[37]:d[34]=c.i64.cast([0,1]),c.i64.neq(d[38],void 0)?d[35]=d[38]:d[35]=void 0,d[22]=d[35]}]))})},function(e){return d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,1])),d[24].set("error_message",void 0==null?"":void 0),d[24].set("stored_procedure","issueMessageRangeQueryTask"),d[25]=new c.Map(),d[25].set("act_thread_id",a[0]),d[25].set("source",a[6]),d[25].set("restore_operation_type",c.i64.cast([0,2])),d[25].set("request_id",a[4]),d[25].set("device_id",d[22]),d[26]=new c.Map(),d[26].set("restore_context",d[25]),d[26].set("failure",d[24]),d[27]=d[26].get("restore_context"),d[26],d[28]=d[27].get("act_thread_id"),d[27],d[29]=c.toJSON(d[26]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[28]].join(""),c.i64.cast([0,50030]),d[29],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[30]=a[0],a})}])},function(e){return d[21]="backup not found",d[21]!==void 0?c.sequence([function(e){return d[23]=["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",d[21]].join(""),function(a){c.logger(a).mustfix(a)}(d[23]),d[22]=c.createArray(),a[4]!==void 0?d[24]=(d[22].push(a[4]),d[22]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",d[21],d[22],c.i64.cast([0,3]))},function(e){return c.sequence([function(e){return a[4]!==void 0?c.sequence([function(e){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),d[23],void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[26]=a[0],a})},function(a){return d[26]?d[27]=!0:d[27]=!1,d[27]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[28],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!0:d[25]=!1,d[25]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[26],c.i64.cast([0,3]))):c.resolve()}])}]):c.sequence([function(e){return a[4]!==void 0?c.sequence([function(d){return a[4]!==void 0?c.storedProcedure(b("LSAppendDataTraceAddon"),a[4],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ","",""].join(""),void 0):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[24]=a[0],a})},function(a){return d[24]?d[25]=!0:d[25]=!1,d[25]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[26]=c.createArray(),void 0!==void 0?d[27]=(d[26].push(void 0),d[26]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[26],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[4]!==void 0?c.nativeOperation(b("LSFlushDataTrace.nop"),a[4]):c.resolve()},function(a){return c.storedProcedure(b("LSIsMobileClient")).then(function(a){return a=a,d[22]=a[0],a})},function(a){return d[22]?d[23]=!0:d[23]=!1,d[23]&&!0?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[24]=c.createArray(),void 0!==void 0?d[25]=(d[24].push(void 0),d[24]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[24],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[6]?d[20]=c.i64.cast([0,5]):d[20]=c.i64.cast([0,2]),d[14]=!1}])},function(a){return d[1]=d[14]}]))})},function(a){return d[3]=c.i64.of_float(Date.now()),d[4]=c.i64.random(),d[7]="Finishing execution. Execution time: ",d[8]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[9]=" ms",d[5]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure] ",d[5],d[7],d[5],d[8],d[5],d[9]].join("")),c.i64.eq(c.i64.mod_(d[4],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[10]=",",d[11]=c.createArray(),void 0!==void 0?d[12]=(d[11].push(void 0),d[11]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure",[d[7],d[10],d[8],d[10],d[9]].join(""),d[11],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueMessageRangeQueryTaskStoredProcedure";e.exports=a}),null);
__d("LSIssueMessageRangeQueryTaskStoredProcedure",["LSIssueMessageRangeQueryTask","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.numMessages;d[2]=b.startSortKey;d[3]=b.isPointQuery;d[4]=b.traceId;d[5]=b.newerNumMessages;d[6]=b.source;return c("LSIssueMessageRangeQueryTask").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("WorkerRelayEnvironment",["ActorURIConfig","MAWCurrentUser","RelayAPIConfig","WAResolvable","createRelayFBNetwork","createRelayFBNetworkFetch","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=i(d("MAWCurrentUser").getID());a={execute:a.execute};h.resolve(a);return a}var h=new(d("WAResolvable").Resolvable)();function b(){return h.promise}function i(a,b){b={actorID:a,batchResponseChunks:!0,getAdditionalData:function(){var b={};a!=null&&(b[c("ActorURIConfig").PARAMETER_ACTOR]=a);c("RelayAPIConfig").useXController===!1&&c("RelayAPIConfig").accessToken!==""&&(b.access_token=c("RelayAPIConfig").accessToken);return b},graphURI:b};b=c("createRelayFBNetworkFetch")(b);var e=function(a,b,c){return d("relay-runtime").Observable.create(function(a){return a.complete()})};return c("createRelayFBNetwork")(b,e,null,null)}g.createWorkerRelayEnvironment=a;g.getWorkerRelayEnvironment=b}),98);
__d("executeGraphQLQuery",["DTSG","MAWBridge","asyncToGeneratorRuntime","err","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=d("relay-runtime").getRequest(b);if(b.params.operationKind==="subscription")throw c("err")("executeGraphQLQuery: Expected query or mutation operation");var f={force:!0},g=(yield d("MAWBridge").getBridge().sendAndReceive("event","getDTSGToken")["catch"](function(a){throw c("err")("executeGraphQLQuery: Failed to get DTSG token from the main thread",a)}));if(g==null||g===""||typeof g!=="string")throw c("err")("executeGraphQLQuery: Received an empty DTSG token from the main thread");d("DTSG").setToken(g);g=d("relay-runtime").createOperationDescriptor(b,e,f);return a.execute(g.request.node.params,g.request.variables,f)});return h.apply(this,arguments)}g.executeGraphQLQuery=a}),98);
__d("createWorkerMutation",["WorkerRelayEnvironment","asyncToGeneratorRuntime","err","executeGraphQLQuery","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=d("relay-runtime").getRequest(a);if(e.params.operationKind!=="mutation")throw c("err")("createWorkerMutation: Expected mutation operation");var f=d("WorkerRelayEnvironment").getWorkerRelayEnvironment();e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=(yield f);return d("executeGraphQLQuery").executeGraphQLQuery(c,a,b).then(function(a){return a.toPromise()}).then(function(a){if(Array.isArray(a)){return(a=a[0])==null?void 0:a.data}else return null})});return function(a){return c.apply(this,arguments)}}();return[e]}g["default"]=a}),98);
__d("MAWAsyncEBIssueRangeQuery",["I64","MAWAsyncEBPendingQueryPromise","MWRestoreMessagesFromEB"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g,i,j){g===void 0&&(g=0);b=c("MWRestoreMessagesFromEB")({_threadId:void 0,chatJid:b,newerNumMessages:(h||(h=d("I64"))).of_int32(g),numMessages:h.of_int32(f),passedTraceId:j,sortOrderMs:e,source:i,storage:a});return b==null?null:d("MAWAsyncEBPendingQueryPromise").getWaitForRestorePromiseFromTrace(b)}function b(a,b,e,f,g,i,j){g===void 0&&(g=0);b=c("MWRestoreMessagesFromEB")({_threadId:void 0,chatJid:b,newerNumMessages:(h||(h=d("I64"))).of_int32(g),numMessages:h.of_int32(f),passedTraceId:j,sortOrderMs:e,source:i,storage:a});return b==null?null:d("MAWAsyncEBPendingQueryPromise").getPendingQueryPromiseFromTrace(b)}g.issueQueryAndWaitForReStoreAsPromise=a;g.issueQueryAsPromise=b}),98);
__d("EBLSMessageRangeQuery",["EBFormatUtils","FBLogger","LSMEBTaskCreationSource","MAWAsyncEBIssueRangeQuery","MWEncryptedBackUpEBNotEnabledError","Promise","WAPushSafeTypes","WAResultOrError","asyncToGeneratorRuntime","cr:10036"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(b("cr:10036")==null)return(h||(h=b("Promise"))).reject("Calling EBLS without EBLS being available for message range query");a=d("WAPushSafeTypes").unsafeNotNullable(a);var e=a.chatJid,f=a.direction,g=a.timestampMs;a=a.traceId;yield b("cr:10036").init();var i=(yield b("cr:10036").getLSStorage()),j=d("EBFormatUtils").adjustCount(20,f),k=j[0];j=j[1];i=d("MAWAsyncEBIssueRangeQuery").issueQueryAndWaitForReStoreAsPromise(i,e,d("EBFormatUtils").adjustTs(g,f),k,j,c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION,a);return i==null?d("WAResultOrError").makeResult({hasMoreAfter:!1,hasMoreBefore:!1,messages:[],restoreType:"none"}):i.then(function(a){var b=a.hasMoreAfter,c=a.hasMoreBefore,e=a.messages;a=a.restoreType;return d("WAResultOrError").makeResult({hasMoreAfter:b,hasMoreBefore:c,messages:e,restoreType:a})})["catch"](function(a){if(a&&(a==null?void 0:a.message)===d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED)return d("WAResultOrError").makeError(d("MWEncryptedBackUpEBNotEnabledError").EB_NOT_ENABLED);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[EBFetch] Failed to fetch");return d("WAResultOrError").makeError(null)})});return i.apply(this,arguments)}g.messageRangeQuery=a}),98);
__d("EBMessageMetadataQueryQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8744995708862431"}),null);
__d("EBMessageMetadataQueryQuery.graphql",["EBMessageMetadataQueryQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"data"}],c={alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XFBTDeanonMessagesResponse",kind:"LinkedField",name:"deanon_messages_metadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sort_order_ms",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBMessageMetadataQueryQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("EBMessageMetadataQueryQuery_facebookRelayOperation"),metadata:{},name:"EBMessageMetadataQueryQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBMessageMetadataQuery",["CometRelay","EBAPIQPLPoints","EBMessageMetadataQueryQuery.graphql","FBLogger","QPLUserFlow","WAHashStringToNumber","WAResultOrError","XPlatRelayEnvironment","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("EBMessageMetadataQueryQuery.graphql");function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.direction,e=a.instanceKey,f=a.numberOfMessages,g=a.referenceTimestamp;g=g===void 0?null:g;a=a.threadId;var h=e!=null?d("WAHashStringToNumber").hashStringToNumber(e):void 0;try{c("QPLUserFlow").start(c("qpl")._(521476771,"2454"),{instanceKey:h});var j=d("XPlatRelayEnvironment").getRelayEnvironment();b=b==="after"?"AFTER":"BEFORE";c("QPLUserFlow").addPoint(c("qpl")._(521476771,"2454"),d("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_START,{instanceKey:h});j=(yield d("CometRelay").fetchQuery(j,i,{data:{act_thread_id:a,direction:b,reference_timestamp:g,requested_messages:f}}).toPromise());c("QPLUserFlow").addPoint(c("qpl")._(521476771,"2454"),d("EBAPIQPLPoints").EBMessageMetadataQPLPoints.GRAPHQL_QUERY_END,{instanceKey:h});j=(f=j==null?void 0:(a=j.viewer)==null?void 0:(b=a.encrypted_backup)==null?void 0:(g=b.mailbox)==null?void 0:g.deanon_messages_metadata)!=null?f:[];a=j.map(function(a){var b=a.offline_threading_id;a=a.sort_order_ms;return{offlineThreadingId:b,sortOrderMs:a}});c("QPLUserFlow").endSuccess(c("qpl")._(521476771,"2454"),{instanceKey:h});return d("WAResultOrError").makeResult({instanceKey:e,messages:a})}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Error querying messaging metadata from EBMessageMetadataQuery");c("QPLUserFlow").endFailure(c("qpl")._(521476771,"2454"),"error",{error:a,instanceKey:h});return d("WAResultOrError").makeError("error",a)}});return j.apply(this,arguments)}g.messageMetadataQuery=a}),98);
__d("EchoSerializationFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5722");b=d("FalcoLoggerInternal").create("echo_serialization_failure",a);e=b;g["default"]=e}),98);
__d("EchoSerializationSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5723");b=d("FalcoLoggerInternal").create("echo_serialization_success",a);e=b;g["default"]=e}),98);
__d("EncryptedBackupTaskSkippedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5727");b=d("FalcoLoggerInternal").create("encrypted_backup_task_skipped",a);e=b;g["default"]=e}),98);
__d("MAWHandleEBRestoreWithHIM",["EchoMessage","FBLogger","MAWAckLevel","MAWHandleEchoMsgsRestoreApiUtils","MAWHandleEchoReactionsRestore","MAWJids","MAWMsgType","MAWProtocolQueueMsg","MAWProtocolQueueUtils","MAWSharedCOPLogger","MAWUnsafeCoerce","Promise","WAJids","WAPREList","WAProtocolQueue","WAStanzaUtils","WATimeUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Messages consumer: ",""]);i=function(){return a};return a}var j=new Set([d("EchoMessage").EchoMessageContentType.TEXT,d("EchoMessage").EchoMessageContentType.PLACEHOLDER]);function k(a){return c("gkx")("1645")&&j.has(a)}function l(a,b){if(a==="@me"||a==="@system")return b;else return a}function m(a,b,c,e,f){var g=[];if(a.reactionXOfflineThreadingIds!=null)for(var h=0;h<a.reactionXOfflineThreadingIds.length;++h){var i=d("MAWHandleEchoReactionsRestore").getReactionsForReactionStore(b,c,e,null,f,a);i=i.map(function(a){return{decodedMsg:{unstoredDbMedia:void 0,unstoredDbMsg:void 0,unstoredDbReaction:a,unstoredDbReceiverFetchInfo:void 0},stanza:q(a.externalId,a.ts,l(a.author,c),b,"reaction")}});g.push.apply(g,i)}return g}function n(a,b,c,e){return e?e.map(function(e){var f=e.messageId;return f!=null?{decodedMsg:{unstoredDbEditActionMsg:{ack:d("MAWAckLevel").ACK.sent,author:c,editMsgContent:{content:e.text},externalId:d("WAStanzaUtils").toStanzaId(f),originalMsgExternalId:a,serverTs:d("WATimeUtils").castToUnixTime(e.timestamp),ts:d("WATimeUtils").castToUnixTime(e.timestamp),type:d("MAWMsgType").MSG_TYPE.EDIT_ACTION},unstoredDbMedia:void 0,unstoredDbMsg:void 0,unstoredDbReaction:void 0},stanza:q(d("WAStanzaUtils").toStanzaId(f),d("WATimeUtils").castToUnixTime(e.timestamp),c,b,"text")}:null}).filter(Boolean):[]}function o(a,b,c){return a.map(function(a){return p(a,b,c)}).filter(Boolean).flat()}function p(a,b,e){var f,g=a.from,h=d("MAWHandleEchoMsgsRestoreApiUtils").getDbMsgTypeFromEchoMessage(a);if(g==null||h==null)return null;h=a.xOfflineThreadingId;if(h==null){c("FBLogger")("labyrinth_web").warn("xOfflineThreadingId is null for Echo message");return null}h=d("WAStanzaUtils").toStanzaId(h);f=d("WATimeUtils").castToUnixTime(((f=a.authoritativeTimestampMs)!=null?f:a.sortOrderMs)/1e3);g=d("MAWJids").toUserJid(g.localKey);var i=s(a,b,e,h);if(i==null)return null;e=m(a,b,e,h,g);var j=a.contentType===d("EchoMessage").EchoMessageContentType.TEXT||a.contentType===d("EchoMessage").EchoMessageContentType.PLACEHOLDER?"text":"media";a=n(h,b,g,a.editHistory);return[{decodedMsg:i,stanza:q(h,f,g,b,j)}].concat(e,a)}function q(a,b,c,e,f){var g={icdc:null,metadata:null,protobuf:new Uint8Array(0),subprotocol:new Uint8Array(0),subprotocolType:"consumerMessage",type:"subprotocol",version:"v3"};g={device:{id:d("WAJids").DEFAULT_DEVICE_ID,identity:null},folder:null,id:{author:c,chat:e,externalId:a},msg:g,recipientsCount:null,reportingMeta:null,ts:b,type:"IncomingMsg"};return{incomingType:"ebrestore",jid:e,message:{decrypted:g,details:{count:0,externalId:a,folder:void 0,from:d("WAJids").switchOnMsgrChatJidType(e,{group:function(a){return{author:d("WAJids").defaultDeviceJidForUser(c),chat:a,groupJid:a,type:"group"}},user:function(a){return{author:d("WAJids").defaultDeviceJidForUser(c),chat:a,deviceJid:d("WAJids").defaultDeviceJidForUser(c),type:"device"}}}),hideDecryptionFailure:!0,isInstamadillo:!1,offline:null,recipient:null,reportingMeta:null,retryCount:0,ts:b,type:f}},priority:d("WAProtocolQueue").WAProtocolQueuePriorityLow,stanzaId:a,stanzaQueueId:d("MAWUnsafeCoerce").unsafeCoerce(-1),type:"message"}}function r(a,b){return null}function s(a,b,c,e){c=d("MAWHandleEchoMsgsRestoreApiUtils").getUnstoredDbMessageFromEchoMessage(a,b,c,e);if(c==null)return null;c.originalTs;c.threadJid;c.unsendMsgContentDeleteTs;e=babelHelpers.objectWithoutPropertiesLoose(c,["originalTs","threadJid","unsendMsgContentDeleteTs"]);c=a.contentType===d("EchoMessage").EchoMessageContentType.MEDIA||a.contentType===d("EchoMessage").EchoMessageContentType.XMA;return{unstoredDbMedia:c?r(a,b):void 0,unstoredDbMsg:e,unstoredDbReaction:void 0,unstoredDbReceiverFetchInfo:void 0}}function a(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=[],j=[];a.forEach(function(a){k(a.contentType)?j.push(a):g.push(a)});if(j.length!==0){a=o(j,e,f).filter(Boolean);var l=a.map(function(a){return d("MAWProtocolQueueUtils").addMetricToMessage(a,d("WAPREList").PRE_METRIC.EB_RESTORE_WITH_HIM)}),m=(yield d("MAWProtocolQueueMsg").handleIncomingMessagesStanzas(l)["catch"](function(a){c("MAWSharedCOPLogger").TAGS(["EB_RESTORE_WITH_HIM"]).ERROR(i(),a);l.forEach(function(a){a=a.receiveFlow;a.endFail("consumer_handle_message_db_error")});return(h||(h=b("Promise"))).resolve()}));m!=null&&m.followUpParams.incomingMsgs.forEach(function(a){var b=m.followUpParams.incomingMsgResults.get(a.stanza.message.decrypted.id);(b==null?void 0:b.success)===!0?a.receiveFlow.endSuccess():a.receiveFlow.endFail((b=b==null?void 0:(a=b.error)==null?void 0:a.type)!=null?b:"unknown handle incoming msg error")})}return g});return t.apply(this,arguments)}g.isHandleEbRestoreWithHIM=k;g.convertEchoMessages=o;g.convertEchoMessage=p;g.restoreWithHIM=a}),98);
__d("WebWorkerInitDeferred",["cr:7429"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a.blLoggingCavalryFields&&b("cr:7429").initLogging(a.blLoggingCavalryFields)}g.initDeferred=a}),98);/*FB_PKG_DELIM*/
__d("IGDSActionDialog.react",["IGDSDialog.react","IGDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={media:{alignItems:"x1qjc9v5",justifyContent:"xl56j7k",marginTop:"x1crbq5u",marginEnd:"x1kj9wry",marginBottom:"x19qqan6",marginStart:"xy1572q",":first-child_marginTop":"x14dv08r",$$css:!0},mediaWithoutMargins:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",":first-child_marginTop":"x14l7nz5",":first-child_marginEnd":"xistku6",":first-child_marginBottom":"x1gut22",":first-child_marginStart":"x1uw6ca5",$$css:!0}};function a(a){var b=j(25),d=a.body,e=a.children,f=a.closeButtonPosition,g=a["data-testid"],i=a.disableMediaMargin,m=a.enablePopInAnimation,n=a.forceTop,o=a.forwardRef,p=a.isVisible,q=a.media,r=a.onModalClose,s=a.size;a=a.title;f=f===void 0?"hidden":f;n=n===void 0?!1:n;s=s===void 0?"default":s;var t=!!q,u=a!=null||d!=null,v;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(v="x78zum5 xdt5ytf xl56j7k",b[0]=v):v=b[0];var w;b[1]!==q||b[2]!==i?(w=q!=null&&k.jsx("div",{className:(h||(h=c("stylex")))([l.media,i!=null&&l.mediaWithoutMargins]),children:q}),b[1]=q,b[2]=i,b[3]=w):w=b[3];b[4]!==u||b[5]!==a||b[6]!==t||b[7]!==d?(q=u&&k.jsxs("div",{className:"x1crbq5u x1fd2adx x19qqan6 x19v5lwq x2b8uid x14dv08r",children:[a!=null&&(t?k.jsx(c("IGDSText.react").Headline2,{children:a}):k.jsx(c("IGDSText.react").Title,{children:a})),d!=null&&k.jsx("div",{className:"xyamay9",children:k.jsx(c("IGDSText.react").Body,{color:"secondaryText",children:d})})]}),b[4]=u,b[5]=a,b[6]=t,b[7]=d,b[8]=q):q=b[8];b[9]!==e?(i=e!=null&&k.jsx("div",{className:"x78zum5 xdt5ytf x1crbq5u xvrdyt3 x179zr98",children:e}),b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==w||b[13]!==q||b[14]!==i?(u=k.jsxs("div",{className:v,"data-testid":void 0,children:[w,q,i]}),b[11]=g,b[12]=w,b[13]=q,b[14]=i,b[15]=u):u=b[15];b[16]!==f||b[17]!==m||b[18]!==n||b[19]!==p||b[20]!==r||b[21]!==o||b[22]!==s||b[23]!==u?(a=k.jsx(c("IGDSDialog.react"),{closeButtonPosition:f,enablePopInAnimation:m,forceTop:n,isVisible:p,onClose:r,ref:o,size:s,children:u}),b[16]=f,b[17]=m,b[18]=n,b[19]=p,b[20]=r,b[21]=o,b[22]=s,b[23]=u,b[24]=a):a=b[24];return a}g["default"]=a}),98);
__d("IGDSDialogItem.react",["IGDSBox.react","IGDSSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={item:{backgroundColor:"xjbqb8w",borderBottomWidth:"x1qhh985",borderEndWidth:"xcfux6l",borderStartWidth:"xm0m39n",borderTopColor:"x1yvgwvq",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",cursor:"x1ypdohk",fontSize:"xvs91rp",lineHeight:"x1evy7pa",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",minHeight:"x1wxaq2x",paddingTop:"x1iorvi4",paddingEnd:"x1sxyh0",paddingBottom:"xjkvuk6",paddingStart:"xurb0ha",textAlign:"x2b8uid",userSelect:"x87ps6o",verticalAlign:"xxymvpz",width:"xh8yej3",":active_backgroundColor":"x52vrxo",":active_opacity":"x4gyw5p",$$css:!0},itemDanger:{color:"xkmlbd1",fontWeight:"x1xlr1w8",$$css:!0},itemDisabled:{color:"x1roi4f4",cursor:"xt0e3qv",$$css:!0},itemPrimary:{color:"x173jzuc",fontWeight:"x1xlr1w8",$$css:!0},itemSecondary:{color:"x5n08af",$$css:!0}};function a(a){var b=j(15),d=a.children,e=a.color,f=a.disabled,g=a.forwardRef,i=a.loading,m=a.onClick;a=a.testid;e=e===void 0?"secondaryButton":e;f=f===void 0?!1:f;i=i===void 0?!1:i;var n=e==="errorOrDestructive"&&l.itemDanger,o=e==="primaryButton"&&l.itemPrimary;e=e==="secondaryButton"&&l.itemSecondary;var p=f&&l.itemDisabled,q;b[0]!==n||b[1]!==o||b[2]!==e||b[3]!==p?(q=(h||(h=c("stylex")))([l.item,n,o,e,p]),b[0]=n,b[1]=o,b[2]=e,b[3]=p,b[4]=q):q=b[4];n=i||f;b[5]!==i||b[6]!==d?(o=i===!0?k.jsx(c("IGDSBox.react"),{alignItems:"center",children:k.jsx(c("IGDSSpinner.react"),{size:"small"})}):d,b[5]=i,b[6]=d,b[7]=o):o=b[7];b[8]!==q||b[9]!==a||b[10]!==n||b[11]!==m||b[12]!==g||b[13]!==o?(e=k.jsx("button",{className:q,"data-testid":void 0,disabled:n,onClick:m,ref:g,tabIndex:"0",children:o}),b[8]=q,b[9]=a,b[10]=n,b[11]=m,b[12]=g,b[13]=o,b[14]=e):e=b[14];return e}function b(a){var b=j(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="xjbqb8w xt0e3qv xvs91rp xdj266r x11i5rnm xat24cr x1mh8g0r x1wxaq2x x1iorvi4 x1sxyh0 xjkvuk6 xurb0ha x2b8uid x87ps6o",b[0]=c):c=b[0];b[1]!==a?(c=k.jsx("div",{className:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}g.IGDSDialogItem=a;g.IGDSDialogSection=b}),98);
__d("IGDSConfirmDialog.react",["fbt","IGDSActionDialog.react","IGDSDialogItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(18),e=a.body,f=a.cancelLabel,g=a.confirmLabel,i=a.destructiveConfirm,l=a.onClose,m=a.onConfirm,n=a.testid;a=a.title;var o;b[0]!==f?(o=f===void 0?h._("__JHASH__hU1XYuyRZTd__JHASH__"):f,b[0]=f,b[1]=o):o=b[1];f=o;b[2]!==g?(o=g===void 0?h._("__JHASH__sRH4Jq7eE_5__JHASH__"):g,b[2]=g,b[3]=o):o=b[3];g=o;o=i===void 0?!1:i;b[4]!==m||b[5]!==g||b[6]!==o?(i=m!=null&&g!=null&&k.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{color:o?"errorOrDestructive":"primaryButton",onClick:m,testid:void 0,children:g}),b[4]=m,b[5]=g,b[6]=o,b[7]=i):i=b[7];b[8]!==l||b[9]!==f?(m=l!=null&&f!=null&&k.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{onClick:l,testid:void 0,children:f}),b[8]=l,b[9]=f,b[10]=m):m=b[10];b[11]!==e||b[12]!==n||b[13]!==l||b[14]!==a||b[15]!==i||b[16]!==m?(g=k.jsxs(c("IGDSActionDialog.react"),{body:e,"data-testid":void 0,isVisible:!0,onModalClose:l,size:"default",title:a,children:[i,m]}),b[11]=e,b[12]=n,b[13]=l,b[14]=a,b[15]=i,b[16]=m,b[17]=g):g=b[17];return g}g["default"]=a}),226);
__d("InstagramWebSeoEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5394");b=d("FalcoLoggerInternal").create("instagram_web_seo_events",a);e=b;g["default"]=e}),98);
__d("PolarisPostBlockConfirmDialog.react",["fbt","IGDSConfirmDialog.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(10),d=a.isBlockedByViewer,e=a.onClose;a=a.username;var f;b[0]!==d||b[1]!==a?(f=d?h._("__JHASH__GUFJuF6ZBCE__JHASH__",[h._param("Username of current profile",a)]):h._("__JHASH__ozRxIE-blb3__JHASH__",[h._param("Username of current profile",a)]),b[0]=d,b[1]=a,b[2]=f):f=b[2];a=f;b[3]!==d?(f=d?h._("__JHASH__T_z23n9DnTg__JHASH__"):h._("__JHASH__CI1UMw4FRHL__JHASH__"),b[3]=d,b[4]=f):f=b[4];d=f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._("__JHASH__1rmUdf8FlF-__JHASH__"),b[5]=f):f=b[5];b[6]!==d||b[7]!==e||b[8]!==a?(f=k.jsx(c("IGDSConfirmDialog.react"),{body:d,cancelLabel:f,onClose:e,testid:void 0,title:a}),b[6]=d,b[7]=e,b[8]=a,b[9]=f):f=b[9];return f}g["default"]=a}),226);
__d("PolarisPreBlockConfirmDialog.react",["fbt","IGDSConfirmDialog.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function a(a){var b=j(14),d=a.isBlockedByViewer,e=a.onClose,f=a.onConfirm;a=a.username;var g;b[0]!==d||b[1]!==a?(g=d?h._("__JHASH__Q_glRLYdlkr__JHASH__",[h._param("Username of current profile",a)]):h._("__JHASH__6PAiw3V2Cpy__JHASH__",[h._param("Username of current profile",a)]),b[0]=d,b[1]=a,b[2]=g):g=b[2];a=g;b[3]!==d?(g=d?h._("__JHASH__MGggjrTzO4e__JHASH__"):h._("__JHASH__yBXsrrRaA4V__JHASH__"),b[3]=d,b[4]=g):g=b[4];g=g;var i;b[5]!==d?(i=d?h._("__JHASH__kk_zaQ6uup9__JHASH__"):h._("__JHASH__AbPRnNWi98f__JHASH__"),b[5]=d,b[6]=i):i=b[6];d=i;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__n64CUWuu8AI__JHASH__"),b[7]=i):i=b[7];b[8]!==g||b[9]!==d||b[10]!==e||b[11]!==f||b[12]!==a?(i=k.jsx(c("IGDSConfirmDialog.react"),{body:g,cancelLabel:i,confirmLabel:d,destructiveConfirm:!0,onClose:e,onConfirm:f,testid:void 0,title:a}),b[8]=g,b[9]=d,b[10]=e,b[11]=f,b[12]=a,b[13]=i):i=b[13];return i}g["default"]=a}),226);
__d("PolarisSupervisionStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";e=h._("__JHASH__frawWcJQtCe__JHASH__");f=h._("__JHASH__enW2Xn0wATC__JHASH__");var i=h._("__JHASH__ZWE-egy5_3A__JHASH__");function a(a){return h._("__JHASH__3ax9pBxAVL5__JHASH__",[h._param("Username of current profile",a)])}function b(a){return h._("__JHASH__Uf_3msgtFJw__JHASH__",[h._param("Username of current profile",a)])}function c(a){return h._("__JHASH__s-LVheOir-z__JHASH__",[h._param("Username of current profile",a)])}function d(a){return h._("__JHASH__zL2hv9yo5hM__JHASH__",[h._param("Username of current profile",a)])}var j=h._("__JHASH__3eQoiFe-MIv__JHASH__"),k=h._("__JHASH__JV0NstNjoD2__JHASH__"),l=h._("__JHASH__08c7x5WdTTU__JHASH__"),m=h._("__JHASH__wcSXGUJyF4h__JHASH__");g.SUPERVISION_TITLE=e;g.FAMILY_CENTER_LABEL=f;g.EDUCATION_HUB_LABEL=i;g.getCantBlockDialogBodyForGuardianUpdated=a;g.getCantBlockDialogBodyForGuardian=b;g.getCantBlockDialogBodyForSupervisedUserUpdated=c;g.getCantBlockDialogBodyForSupervisedUser=d;g.NAVIGATE_TO_FC_BUTTON_TEXT=j;g.NAVIGATE_TO_SUPERVISION_BUTTON_TEXT=k;g.CANT_BLOCK_DIALOG_TITLE=l;g.CANT_BLOCK_DIALOG_TITLE_UPDATED=m}),226);
__d("PolarisRemoveSupervisionDialog.react",["fbt","IGDSActionDialog.react","IGDSConfirmDialog.react","IGDSDialogItem.react","PolarisNavigationUtils","PolarisSupervisionStrings","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).c,k=i;function l(a){return"https://familycenter.instagram.com/accounts/"+a+"/remove"}function m(a){return"https://familycenter.instagram.com/accounts/"+a+"/?account_type=INSTAGRAM"}function a(a){var b=j(30),e=a.onClose,f=a.supervisedByViewer,g=a.userFbId;a=a.username;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("gkx")("4058"),b[0]=i):i=b[0];i=i;var n,o,p;if(b[1]!==f||b[2]!==a||b[3]!==e||b[4]!==g){p=Symbol["for"]("react.early_return_sentinel");bb0:{var q;if(i){b[10]!==f||b[11]!==a?(i=f?d("PolarisSupervisionStrings").getCantBlockDialogBodyForGuardianUpdated(a):d("PolarisSupervisionStrings").getCantBlockDialogBodyForSupervisedUserUpdated(a),b[10]=f,b[11]=a,b[12]=i):i=b[12];i=i;var r;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._("__JHASH__o0Gz7vRdkjm__JHASH__"),b[13]=r):r=b[13];r=r;o=e;q=m(g);var s;b[14]!==o?(s=o!=null&&r!=null&&k.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{color:"primaryButton",onClick:o,testid:void 0,children:r}),b[14]=o,b[15]=s):s=b[15];var t=k.jsx(d("IGDSDialogItem.react").IGDSDialogItem,{onClick:function(){return d("PolarisNavigationUtils").openURLWithFullPageReload(q,{openInNewTab:!0})},testid:void 0,children:d("PolarisSupervisionStrings").NAVIGATE_TO_FC_BUTTON_TEXT}),u;b[16]!==i||b[17]!==e||b[18]!==s||b[19]!==t?(u=k.jsxs(c("IGDSActionDialog.react"),{body:i,isVisible:!0,onModalClose:e,size:"default",title:d("PolarisSupervisionStrings").CANT_BLOCK_DIALOG_TITLE_UPDATED,children:[s,t]}),b[16]=i,b[17]=e,b[18]=s,b[19]=t,b[20]=u):u=b[20];p=u;break bb0}else{b[21]!==f||b[22]!==a?(s=f?d("PolarisSupervisionStrings").getCantBlockDialogBodyForGuardian(a):d("PolarisSupervisionStrings").getCantBlockDialogBodyForSupervisedUser(a),b[21]=f,b[22]=a,b[23]=s):s=b[23];i=s;r=f?d("PolarisSupervisionStrings").NAVIGATE_TO_SUPERVISION_BUTTON_TEXT:"";o=f?function(){return d("PolarisNavigationUtils").openURLWithFullPageReload(q,{openInNewTab:!0})}:void 0;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._("__JHASH__N1Xqh9pVk9W__JHASH__"),b[24]=t):t=b[24];n=t;q=l(g);b[25]!==i||b[26]!==r||b[27]!==e||b[28]!==o?(u=k.jsx(c("IGDSConfirmDialog.react"),{body:i,cancelLabel:n,confirmLabel:r,onClose:e,onConfirm:o,title:d("PolarisSupervisionStrings").CANT_BLOCK_DIALOG_TITLE}),b[25]=i,b[26]=r,b[27]=e,b[28]=o,b[29]=u):u=b[29];p=u;break bb0}}b[1]=f;b[2]=a;b[3]=e;b[4]=g;b[5]=p;b[6]=i;b[7]=r;b[8]=o;b[9]=n}else p=b[5],i=b[6],r=b[7],o=b[8],n=b[9];if(p!==Symbol["for"]("react.early_return_sentinel"))return p}g.getRemoveSupervisionUrl=l;g.getGoToFamilyCenterURL=m;g.RemoveSupervisionDialog=a}),226);
__d("PolarisBlockDialog.react",["PolarisPostBlockConfirmDialog.react","PolarisPreBlockConfirmDialog.react","PolarisRemoveSupervisionDialog.react","Promise","QPLUserFlow","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=e.c;function a(a){var e=l(21),f=a.guardianOfViewer,g=a.isBlockedByViewer,i=a.onBlockUser,n=a.onClose,o=a.onUnblockUser,p=a.supervisedByViewer,q=a.userFbId,r=a.userId;a=a.username;var s=k(!1),t=s[0],u=s[1];e[0]!==n?(s=function(){u(!1),n()},e[0]=n,e[1]=s):s=e[1];var v=s;e[2]!==g||e[3]!==o||e[4]!==r||e[5]!==i||e[6]!==v?(s=function(){var a=g?c("qpl")._(379204232,"1261"):c("qpl")._(379192731,"1257");c("QPLUserFlow").addPoint(a,"block_dialog_action_confirmed");a=g?o(r,"reportModal"):i(r,"reportModal");(h||(h=b("Promise"))).resolve(a).then(function(){u(!0)})["catch"](function(){v()})},e[2]=g,e[3]=o,e[4]=r,e[5]=i,e[6]=v,e[7]=s):s=e[7];s=s;var w=m;if(f||p){e[8]!==n||e[9]!==p||e[10]!==q||e[11]!==a?(f=j.jsx(d("PolarisRemoveSupervisionDialog.react").RemoveSupervisionDialog,{onClose:n,supervisedByViewer:p,userFbId:q,username:a}),e[8]=n,e[9]=p,e[10]=q,e[11]=a,e[12]=f):f=e[12];return f}if(t){e[13]!==g||e[14]!==a?(p=j.jsx(c("PolarisPostBlockConfirmDialog.react"),{isBlockedByViewer:g,onClose:w,username:a}),e[13]=g,e[14]=a,e[15]=p):p=e[15];return p}e[16]!==g||e[17]!==v||e[18]!==s||e[19]!==a?(q=j.jsx(c("PolarisPreBlockConfirmDialog.react"),{isBlockedByViewer:g,onClose:v,onConfirm:s,username:a}),e[16]=g,e[17]=v,e[18]=s,e[19]=a,e[20]=q):q=e[20];return q}function m(){window.location.reload()}g["default"]=a}),98);
__d("PolarisDirectActionBlockDirectUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return b({type:"DIRECT_BLOCK_USER",userId:a})}}f.blockDirectUser=a}),66);
__d("PolarisRelationshipActionBlockUser",["fbt","PolarisDirectActionBlockDirectUser","PolarisGenericStrings","PolarisInteractionsStrings","PolarisRelationshipTypes","PolarisSharedAPI","PolarisToastActions","QPLUserFlow","polarisLogAction","polarisRelationshipSelectors.react","qpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("__JHASH__17piKRHrsBw__JHASH__"),j=h._("__JHASH__laClZt7LrUm__JHASH__"),k=h._("__JHASH__Sj0ncjpiguH__JHASH__");function a(a,b){return function(e,f){c("polarisLogAction")("blockUserAttempt",{source:b});f=d("polarisRelationshipSelectors.react").getRelationship(f().relationships,a);f=f.followedByViewer;var g=f.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING;e({subjectUserId:a,type:"BLOCK_USER",wasFollowedByViewer:g});return d("PolarisSharedAPI").blockUser(a).then(function(){c("polarisLogAction")("blockUserSuccess",{source:b}),e({subjectUserId:a,type:"BLOCK_USER_SUCCEEDED",wasFollowedByViewer:g}),e(d("PolarisDirectActionBlockDirectUser").blockDirectUser(a)),e(d("PolarisToastActions").showToast({text:d("PolarisInteractionsStrings").BLOCK_TEXT})),c("QPLUserFlow").endSuccess(c("qpl")._(379192731,"1257"))},function(f){var g;c("polarisLogAction")("blockUserFailure",{source:b});c("QPLUserFlow").endFailure(c("qpl")._(379192731,"1257"),"api_errored");g=(g=f.responseObject)==null?void 0:g.message;g=g===i||g===j?k:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE;e(d("PolarisToastActions").showToast({text:g}));e({subjectUserId:a,type:"BLOCK_USER_FAILED"});throw f})}}g.blockUser=a}),226);
__d("PolarisDirectActionUnblockDirectUser",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return b({type:"DIRECT_UNBLOCK_USER",userId:a})}}f.unblockDirectUser=a}),66);
__d("PolarisRelationshipActionUnblockUser",["PolarisDirectActionUnblockDirectUser","PolarisInteractionsStrings","PolarisSharedAPI","PolarisToastActions","QPLUserFlow","polarisLogAction","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e){c("polarisLogAction")("unblockUserAttempt",{source:b});e({subjectUserId:a,type:"UNBLOCK_USER"});return d("PolarisSharedAPI").unblockUser(a).then(function(){c("polarisLogAction")("unblockUserSuccess",{source:b}),e({subjectUserId:a,type:"UNBLOCK_USER_SUCCEEDED"}),e(d("PolarisDirectActionUnblockDirectUser").unblockDirectUser(a)),e(d("PolarisToastActions").showToast({text:d("PolarisInteractionsStrings").UNBLOCK_TEXT})),c("QPLUserFlow").endSuccess(c("qpl")._(379204232,"1261"))},function(){c("polarisLogAction")("unblockUserFailure",{source:b}),c("QPLUserFlow").endFailure(c("qpl")._(379204232,"1261"),"api_errored"),e({subjectUserId:a,type:"UNBLOCK_USER_SUCCEEDED"}),e(d("PolarisDirectActionUnblockDirectUser").unblockDirectUser(a))})}}g.unblockUser=a}),98);
__d("PolarisBlockDialogContainer.react",["PolarisBlockDialog.react","PolarisReactRedux.react","PolarisRelationshipActionBlockUser","PolarisRelationshipActionUnblockUser","polarisRelationshipSelectors.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){var c=b.fbidV2,e=b.relationship,f=b.userId;c=(c=c)!=null?c:d("polarisUserSelectors").getUserByIdOrThrows(a,f).fbid;return{guardianOfViewer:d("polarisRelationshipSelectors.react").guardianOfViewer(e),isBlockedByViewer:d("polarisRelationshipSelectors.react").isBlockedByViewer(e),supervisedByViewer:d("polarisRelationshipSelectors.react").supervisedByViewer(e),userFbId:c,username:b.username}}function b(a){return{onBlockUser:function(b,c){return a(d("PolarisRelationshipActionBlockUser").blockUser(b,c))},onUnblockUser:function(b,c){return a(d("PolarisRelationshipActionUnblockUser").unblockUser(b,c))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisBlockDialog.react"));g["default"]=e}),98);
__d("PolarisFollowChainingListItem.react",["IGDSBox.react","InstagramODS","PolarisGenericStrings","PolarisIGCorePressable.react","polarisLogAction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).c,k=i,l={large:{backgroundImage:"xo3uz88",backgroundPosition:"xlon915",backgroundRepeat:"xiy17q3",height:"x170jfvy",width:"x1fsd2vl",$$css:!0},small:{backgroundImage:"xo3uz88",backgroundPosition:"xx7dfb8",backgroundRepeat:"xiy17q3",height:"xdk7pt",width:"x1xc55vz",$$css:!0}};function a(a){var b=j(34),e=a.analyticsContext,f=a.clickPoint,g=a.icon,i=a.isSmallScreen,m=a.onClick,n=a.onDismissed,o=a.primaryCta,p=a.primaryText;a=a.secondaryText;var q;b[0]!==e||b[1]!==f?(q=function(a){e&&(c("polarisLogAction")("chainingClick",{source:e,source_of_action:f,target:a}),c("InstagramODS").incr("web.chaining.click"))},b[0]=e,b[1]=f,b[2]=q):q=b[2];var r=q;b[3]!==r||b[4]!==n?(q=function(a){r("dismiss"),n&&n(),a.stopPropagation()},b[3]=r,b[4]=n,b[5]=q):q=b[5];q=q;var s;b[6]!==r||b[7]!==m?(s=function(){r("other"),m&&m()},b[6]=r,b[7]=m,b[8]=s):s=b[8];s=s;var t;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t="xvbhtw8 x1yvgwvq x1dqoszc x1ixjvfu xhk4uv x1lcm9me x1yr5g0i xrt01vj x10y3i5r x13fuv20 xu3j5b3 x1q0q8m5 x26u7qi x178xt8z xm81vs4 xso031l xy80clv x9f619 x78zum5 xdt5ytf",b[9]=t):t=b[9];var u=i?4:5,v;b[10]!==n||b[11]!==i||b[12]!==q?(v=n&&k.jsx("button",{alt:d("PolarisGenericStrings").DISMISS_TEXT,"aria-label":d("PolarisGenericStrings").DISMISS_TEXT,className:"xjbqb8w x1ejq31n xd10rxx x1sy0etr x17r0tee x1ypdohk xds687c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x13vifvy x1vjfegm","data-testid":void 0,onClick:q,children:k.jsx("div",{className:(h||(h=c("stylex")))(i?l.small:l.large)})}),b[10]=n,b[11]=i,b[12]=q,b[13]=v):v=b[13];q=i?2:5;var w;b[14]!==q||b[15]!==g?(w=k.jsx(c("IGDSBox.react"),{marginBottom:q,position:"relative",children:g}),b[14]=q,b[15]=g,b[16]=w):w=b[16];b[17]!==p?(q=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:1,maxWidth:"100%",position:"relative",children:p}),b[17]=p,b[18]=q):q=b[18];g=i?2:3;b[19]!==g||b[20]!==a?(p=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",marginBottom:g,maxWidth:"100%",position:"relative",children:a}),b[19]=g,b[20]=a,b[21]=p):p=b[21];b[22]!==q||b[23]!==p?(i=k.jsxs(c("IGDSBox.react"),{height:50,maxWidth:"100%",children:[q,p]}),b[22]=q,b[23]=p,b[24]=i):i=b[24];b[25]!==u||b[26]!==v||b[27]!==w||b[28]!==i||b[29]!==o?(g=k.jsxs(c("IGDSBox.react"),{alignItems:"center","data-testid":void 0,padding:u,position:"relative",width:"100%",children:[v,w,i,o]}),b[25]=u,b[26]=v,b[27]=w,b[28]=i,b[29]=o,b[30]=g):g=b[30];b[31]!==s||b[32]!==g?(a=k.jsx(c("PolarisIGCorePressable.react"),{className:t,onPress:s,children:g}),b[31]=s,b[32]=g,b[33]=a):a=b[33];return a}g["default"]=a}),98);
__d("PolarisFollowCard.react",["cx","invariant","IGDSBox.react","IGDSVerifiedBadge.react","InstagramODS","PolarisConnectionsLogger","PolarisFollowButtonContainer.react","PolarisFollowChainingListItem.react","PolarisIGCoreText","PolarisLinkBuilder","PolarisUserAvatar.react","PolarisUserLink.react","isStringNullOrEmpty","polarisLogAction","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).c,l=j,m=77,n=54,o=33;function p(a){return a.length<o?a:a.substr(0,o-3)+"\u2026"}function q(a,b,d){c("polarisLogAction")("chainingClick",{source:b,source_of_action:d,target:a}),c("InstagramODS").incr("web.chaining.click")}function r(a){var b=k(8),d=a.analyticsContext,e=a.clickPoint,f=a.isSmallScreen,g=a.profilePictureUrl;a=a.username;c("isStringNullOrEmpty")(g)&&i(0,51397);var h;b[0]!==d||b[1]!==e?(h=function(a){q("avatar",d,e),a.stopPropagation()},b[0]=d,b[1]=e,b[2]=h):h=b[2];h=h;f=f?m:n;var j;b[3]!==h||b[4]!==g||b[5]!==f||b[6]!==a?(j=l.jsx(c("PolarisUserAvatar.react"),{canTabFocus:!1,isLink:!0,onClick:h,profilePictureUrl:g,size:f,username:a}),b[3]=h,b[4]=g,b[5]=f,b[6]=a,b[7]=j):j=b[7];return j}function s(a){var b=k(7),d=a.analyticsContext,e=a.clickPoint,f=a.handleFollowButtonClick,g=a.userId;a=a.username;var h=t,i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={chn:"1"},b[0]=i):i=b[0];a=(a=a)!=null?a:"";b[1]!==d||b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(h=l.jsx("div",{onClick:h,role:"button",tabIndex:-1,children:l.jsx(c("PolarisFollowButtonContainer.react"),{analyticsContext:d,analyticsExtra:i,clickPoint:e,fullWidth:!0,onClick:f,userId:g,username:a})}),b[1]=d,b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=h):h=b[6];return h}function t(a){a.stopPropagation()}function u(a){var b=k(14),d=a.fullName,e=a.handleUsernameClick,f=a.isVerified,g=a.showDescription,h=a.suggestionDescription;a=a.username;c("isStringNullOrEmpty")(a)&&i(0,51399);f!=null||i(0,51398);g=g&&h!=null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aci-",b[0]=h):h=b[0];var j;b[1]!==g||b[2]!==d||b[3]!==a?(j=g&&d!=null&&d!==""&&d.length>0?l.jsx(c("PolarisIGCoreText"),{display:"truncated",children:d}):l.jsx(c("PolarisIGCoreText").BodyEmphasized,{display:"truncated",children:a}),b[1]=g,b[2]=d,b[3]=a,b[4]=j):j=b[4];b[5]!==e||b[6]!==a||b[7]!==j?(g=l.jsx(c("PolarisUserLink.react"),{className:h,"data-testid":void 0,onClick:e,username:a,children:j}),b[5]=e,b[6]=a,b[7]=j,b[8]=g):g=b[8];b[9]!==f?(d=f&&l.jsx(c("IGDSBox.react"),{"data-testid":void 0,marginStart:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[9]=f,b[10]=d):d=b[10];b[11]!==g||b[12]!==d?(h=l.jsxs(l.Fragment,{children:[g,d]}),b[11]=g,b[12]=d,b[13]=h):h=b[13];return h}function v(a){var b=k(4),d=a.fullName,e=a.showDescription;a=a.suggestionDescription;var f;b[0]!==e||b[1]!==a||b[2]!==d?(f=e&&a!=null?l.jsx("span",{className:"_acj0",title:a,children:l.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",display:"truncated",children:p(a)})}):l.jsx("span",{className:"_aci_",title:d,children:l.jsx(c("PolarisIGCoreText"),{color:"ig-secondary-text",display:"truncated",children:d})}),b[0]=e,b[1]=a,b[2]=d,b[3]=f):f=b[3];return f}function a(a){var b=k(56),e=a.analyticsContext,f=a.clickPoint,g=a.impressionModule,h=a.isSmallScreen,j=a.onDismissed,m=a.position,n=a.showDescription;a=a.user;var o=a.fullName,p=a.id,t=a.isVerified,w=a.profilePictureUrl,x=a.suggestionDescription,y=a.username;b[0]!==e||b[1]!==m||b[2]!==p||b[3]!==g?(a=function(a){d("PolarisConnectionsLogger").logConnectionAction({containerModule:e,eventName:a,position:m,targetId:p,viewModule:g})},b[0]=e,b[1]=m,b[2]=p,b[3]=g,b[4]=a):a=b[4];var z=a,A=g===d("PolarisConnectionsLogger").VIEW_MODULES.web_profile_chaining,B=c("useCometRouterDispatcher")();b[5]!==e||b[6]!==f||b[7]!==z||b[8]!==A?(a=function(a){q("username",e,f),z(A?"similar_username_tapped":"recommended_username_tapped"),a.stopPropagation()},b[5]=e,b[6]=f,b[7]=z,b[8]=A,b[9]=a):a=b[9];a=a;var C;b[10]!==e||b[11]!==f||b[12]!==z||b[13]!==A?(C=function(){q("follow",e,f),z(A?"similar_user_follow_button_tapped":"recommended_follow_button_tapped")},b[10]=e,b[11]=f,b[12]=z,b[13]=A,b[14]=C):C=b[14];C=C;var D;b[15]!==z||b[16]!==A||b[17]!==j||b[18]!==p?(D=function(){z(A?"similar_user_dismiss_tapped":"recommended_user_dismissed"),j&&j(p)},b[15]=z,b[16]=A,b[17]=j,b[18]=p,b[19]=D):D=b[19];D=D;var E;b[20]!==y||b[21]!==B?(E=function(){c("isStringNullOrEmpty")(y)&&i(0,51399);var a=d("PolarisLinkBuilder").buildUserLink(y);B==null?void 0:B.go(a,{})},b[20]=y,b[21]=B,b[22]=E):E=b[22];E=E;var F;b[23]!==e||b[24]!==f||b[25]!==h||b[26]!==w||b[27]!==y?(F=l.jsx(r,{analyticsContext:e,clickPoint:f,isSmallScreen:h,profilePictureUrl:w,username:y}),b[23]=e,b[24]=f,b[25]=h,b[26]=w,b[27]=y,b[28]=F):F=b[28];w=j?D:null;b[29]!==e||b[30]!==f||b[31]!==C||b[32]!==p||b[33]!==y?(D=l.jsx(s,{analyticsContext:e,clickPoint:f,handleFollowButtonClick:C,userId:p,username:y}),b[29]=e,b[30]=f,b[31]=C,b[32]=p,b[33]=y,b[34]=D):D=b[34];b[35]!==o||b[36]!==a||b[37]!==t||b[38]!==n||b[39]!==x||b[40]!==y?(C=l.jsx(u,{fullName:o,handleUsernameClick:a,isVerified:t,showDescription:n,suggestionDescription:x,username:y}),b[35]=o,b[36]=a,b[37]=t,b[38]=n,b[39]=x,b[40]=y,b[41]=C):C=b[41];b[42]!==o||b[43]!==n||b[44]!==x?(a=l.jsx(v,{fullName:o,showDescription:n,suggestionDescription:x}),b[42]=o,b[43]=n,b[44]=x,b[45]=a):a=b[45];b[46]!==e||b[47]!==f||b[48]!==F||b[49]!==h||b[50]!==E||b[51]!==w||b[52]!==D||b[53]!==C||b[54]!==a?(t=l.jsx(c("PolarisFollowChainingListItem.react"),{analyticsContext:e,clickPoint:f,icon:F,isSmallScreen:h,onClick:E,onDismissed:w,primaryCta:D,primaryText:C,secondaryText:a}),b[46]=e,b[47]=f,b[48]=F,b[49]=h,b[50]=E,b[51]=w,b[52]=D,b[53]=C,b[54]=a,b[55]=t):t=b[55];return t}g["default"]=a}),98);
__d("PolarisFollowChainingList.react",["cx","fbt","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","IGDSBox.react","PolarisConnectionsLogger","PolarisErrorRetrySection.react","PolarisFollowCard.react","PolarisIGCoreText","PolarisProfileQEHelpers","PolarisScrollWatchedComponent.react","PolarisSeeAllLink.react","PolarisUA","PolarisVirtualHSnapScrollCollapsibleList.react","isStringNullOrEmpty","joinClasses","nullthrows","polarisLogAction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i._("__JHASH__2k--O48PVwS__JHASH__"),m={cardWidth:156,gapWidth:5,gutterWidth:20},n={cardWidth:160,gapWidth:10,gutterWidth:0},o={cardWidth:176,gapWidth:24,gutterWidth:24},p=208,q=216,r=10;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$5=function(){c.$1=!0,c.$6(),c.props.onScrollEnter&&c.props.onScrollEnter()};c.$7=function(){c.$1=!1,c.props.onScrollLeave&&c.props.onScrollLeave()};c.$8=function(a){var b=a.endPct;a=a.startPct;c.$2=Math.max(0,Math.floor(a));c.$3=Math.max(0,Math.floor(b));c.$6()};c.$1=!1;c.$4={};return c}var e=b.prototype;e.$6=function(){if(!this.$1||this.$2==null||this.$3==null||this.props.chainingSuggestions==null)return;for(var a=this.$2;a<=this.$3;++a){var b=this.props.chainingSuggestions[a];if(b==null)continue;if(!this.$4[b.id]){var e=this.props.impressionModule,f={containerModule:this.props.analyticsContext,position:a,targetId:b.id,viewModule:e};e===d("PolarisConnectionsLogger").VIEW_MODULES.web_profile_chaining?d("PolarisConnectionsLogger").logConnectionAction(babelHelpers["extends"]({eventName:"similar_user_impression"},f)):e===d("PolarisConnectionsLogger").VIEW_MODULES.hscroll_feed||e===d("PolarisConnectionsLogger").VIEW_MODULES.end_of_feed?d("PolarisConnectionsLogger").logConnectionAction(babelHelpers["extends"]({eventName:"recommended_user_impression"},f)):e===d("PolarisConnectionsLogger").VIEW_MODULES.trending_accounts_private_profile&&c("polarisLogAction")("trendingAccountModuleScroll",{position:a,source:this.props.analyticsContext,targetId:b.id,viewModule:e});this.$4[b.id]=!0}}};e.render=function(){var a=this.props,b=a.analyticsContext,e=a.chainingFailed,f=a.chainingSuggestions,g=a.className,h=a.clickPoint,j=a.impressionModule,s=a.isSmallScreen,t=a.isTrendingAccountModule;t=t===void 0?!1:t;var u=a.onRetryClicked,v=a.onSuggestionDismissed,w=a.overscan,x=a.seeAllHref,y=a.showDescription;a=a.title;var z=b===d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.profile&&d("PolarisProfileQEHelpers").hasSmallerSUCardsOnDesktop(),A=b===d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.feed_timeline&&d("PolarisUA").isDesktop(),B=s?m:z?n:o,C=y?q:p,D=f&&f.map(function(a,d){return k.jsx(c("PolarisFollowCard.react"),{analyticsContext:b,clickPoint:h,impressionModule:j,isSmallScreen:s,onDismissed:v,position:d,showDescription:y,user:a},a.id)});D!=null&&(D=D.map(function(a){return k.jsx(c("IGDSBox.react"),{alignItems:"center",height:C,position:"relative",width:B.cardWidth+(z&&!s?0:B.gapWidth),children:k.jsx(c("IGDSBox.react"),{position:"relative",width:B.cardWidth,children:a})},c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).key)}));return k.jsxs(c("PolarisScrollWatchedComponent.react"),{className:c("joinClasses")(g,(s||z?"_ackg":"")+(!s&&!z?" _ackh":"")),onScrollEnter:this.$5,onScrollLeave:this.$7,children:[e!==!0&&!f&&k.jsx("div",{className:"_acki",children:k.jsx("p",{children:l})}),e===!0&&k.jsx("div",{className:"_ackj",children:k.jsx(c("PolarisErrorRetrySection.react"),{errorText:i._("__JHASH__NNRhOmL9Qil__JHASH__"),onRetry:c("nullthrows")(u)})}),e!==!0&&f&&k.jsxs("div",{className:"_ackk"+(!A&&(!z||s)?" _ajrd":"")+(A||z&&!s?" _ajre":""),children:[k.jsx("span",{className:"_ackl",children:k.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:t?"ig-primary-text":"ig-secondary-text",zeroMargin:!0,children:a})}),!c("isStringNullOrEmpty")(x)&&k.jsx(c("PolarisSeeAllLink.react"),{href:x,onClick:this.props.onSeeAllClicked})]}),e!==!0&&f&&D!=null&&k.jsx(c("IGDSBox.react"),{height:C,position:"relative",children:k.jsx(c("PolarisVirtualHSnapScrollCollapsibleList.react"),{gutterWidth:A||z&&!s?0:Math.max(0,B.gutterWidth-B.gapWidth/2),initialVisibleItemsGuess:r,itemWidth:B.cardWidth+B.gapWidth,onVisibilityChange:this.$8,overscan:w,children:D})})]})};return b}(k.Component);a.defaultProps={showDescription:!1};g["default"]=a}),226);
__d("PolarisSEOEventsLogger",["CometRouteURL","InstagramWebSeoEventsFalcoEvent","PolarisLogger","PolarisLoggerUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.containermodule,e=a.eventName;c("InstagramWebSeoEventsFalcoEvent").log(function(){var a;return babelHelpers["extends"]({},d("PolarisLogger").getExtra({containermodule:b,seo_event_name:e}),{objid:d("PolarisLoggerUtils").trimAndSanitizeUrl((a=d("CometRouteURL").getWindowURL())!=null?a:"")})})}g.logSEOEvent=a}),98);
__d("PolarisSavedPostsLogger",["InstagramODS"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+"."+b);break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.createCollection."+a+".undefined")}}function b(a,b){switch(b){case"saved":case"SavedCollectionPage":case"postPage":case"feed":case"profile":case"selfProfilePageModal":case"exploreLandingPageModal":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+"."+b);break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.editCollection."+a+".undefined")}}function d(a,b){switch(b){case"SavedCollectionPage":c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".SavedCollectionPage");break;default:c("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.deleteCollection."+a+".undefined")}}g.logCreateCollection=a;g.logEditCollection=b;g.logDeleteCollection=d}),98);
__d("PolarisUserActionDismissRelatedProfileSuggestion",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return function(c){c({dismissedId:b,targetId:a,type:"RELATED_PROFILE_DISMISSED_SUGGESTION"})}}f.dismissRelatedProfileSuggestion=a}),66);
__d("polarisRelatedProfileSelectors.react",["PolarisReactRedux.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function j(a,b){return a.relatedProfiles.relatedProfileSuggestions[b]}function a(a){var b=i(2),c;b[0]!==a?(c=function(b){return d("polarisUserSelectors").getUsersByIds(b,j(b,a))},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.getRelatedProfileSuggestions=j;g.useRelatedProfileSuggestions=a}),98);/*FB_PKG_DELIM*/
__d("IGDBuildMediaResignCdnUrlTtlcPartialPayload",["I64","WABase64","WAGlobals","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h,i="kPxziUnMc4MUpeaqUkHj8S1MKoxDyFEukbvxsEB/fwE=";function a(a){return!a?null:{backupId:d("WAJids").extractUserId(d("WAGlobals").getMyUserJid()),deviceId:(h||(h=d("I64"))).zero,isOpenEb:a,mailboxRootKey:new ArrayBuffer(0),ocmfClientState:d("WABase64").decodeB64(i)}}g["default"]=a}),98);
__d("IGDHandleMediaDownloadApi",["I64","MAWDbMedia","MAWMediaDownloadManager","MAWMediaUtils","MAWReStoreDb","Promise","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var g=(yield d("MAWReStoreDb").getDB(f.id+":29")),j=d("MAWMediaUtils").genHMACPlaintextHash(a),k=(yield g.tables.e2ee_media.index("hashedPlaintextHash").get(j));if(!k)return d("WAResultOrError").makeError("missing-media-on-save");var l=d("MAWDbMedia").convertNumberToMediaId((i||(i=d("I64"))).to_int32(k.mediaId)),m=d("MAWMediaDownloadManager").getFromMediaDownloadManager(l);m!=null&&(m((h||(h=b("Promise"))).resolve(new Blob([e],{type:c}))),d("MAWMediaDownloadManager").removeFromMediaDownloadManager(l));yield g.runInTransaction(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var d=(yield b.e2ee_chunk.index("hashedPlaintextHash").get(j));d==null&&(yield b.e2ee_chunk.add({blobData:e,hashedPlaintextHash:j,mimetype:c,plaintextHash:a}));yield b.e2ee_media.put(babelHelpers["extends"]({},k,{size:e.byteLength}))});return function(a){return d.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":47");return d("WAResultOrError").makeResult()});return function(b,c,d){return a.apply(this,arguments)}}();g.handleMediaDownload=a}),98);
__d("MebMIMediaDownloader",["FBLogger","WAMediaUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,c){this.mediaDownloadMetadata=a;this.callbacks={onResignCdnUrlFailure:(a=c==null?void 0:c.onResignCdnUrlFailure)!=null?a:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){}),onResignCdnUrlSuccess:(a=c==null?void 0:c.onResignCdnUrlSuccess)!=null?a:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){})}}var e=a.prototype;e.getDownloadMetadata=function(){return this.mediaDownloadMetadata};e.handle=function(){throw c("FBLogger")("labyrinth_web").mustfixThrow("[MebMIMediaDownloader] Please don't use the base class. Instead use either MAWMIMediaDownloader or IGDMIMediaDownloader, depending on the platform.")};e["continue"]=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;yield this.callbacks.onResignCdnUrlSuccess();b=(b=this.waMediaDownloader)==null?void 0:b.getDownloadMetadata();if(b!=null){var c=b.mediaEntry;c.directPath=d("WAMediaUtils").castToDirectPath(a);b.isUrlRenewed=!0;yield (c=this.waMediaDownloader)==null?void 0:c.handle()}});function a(b){return a.apply(this,arguments)}return a}();e.handleError=function(a){return this.callbacks.onResignCdnUrlFailure(a)};e.setNextHandler=function(a){this.waMediaDownloader=a};return a}();g["default"]=a}),98);
__d("IGDMIMediaDownloader",["I64","IGDBuildMediaResignCdnUrlTtlcPartialPayload","LSCreateResignCDNUrlPayloadStoredProcedure","LSFactory","LSShape","MAWBridge","MAWReStoreDb","MAWThreadKeyUtils","MebMIMediaDownloader","MediaDownloadMediator","WALogger","WAMediaUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][meb][media download] failed to fetch cdn url for attachment. The error is ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][meb][media download] failed to fetch cdn url for attachment. The error is ",""]);j=function(){return a};return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var g=e.prototype;g.handle=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=(yield d("MAWReStoreDb").getDB(f.id+":32")),e=this.mediaDownloadMetadata.backupEntFbid;if(e!=null){var g=d("MAWThreadKeyUtils").stringThreadKeyToString(this.mediaDownloadMetadata.threadKey);b=(yield b.runInTransaction(function(b){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(b),babelHelpers["extends"]({backupEntFbid:(h||(h=d("I64"))).of_string(e),deliveryObjectId:a.mediaDownloadMetadata.deliveryObjectId,mediaType:a.mediaDownloadMetadata.mediaType,messageId:a.mediaDownloadMetadata.messageId,productType:a.mediaDownloadMetadata.productType,serverThreadKey:g,sortOrder:h.of_float(a.mediaDownloadMetadata.sortOrder),threadId:a.mediaDownloadMetadata.threadId},c("IGDBuildMediaResignCdnUrlTtlcPartialPayload")(Boolean(a.mediaDownloadMetadata.isOpenEb))))},"readwrite",void 0,void 0,f.id+":40"));var k=b[0];if(k!=null){k=d("LSShape").toRecord(k);try{var l=d("WAMediaUtils").stringToDeliveryObjectId(this.mediaDownloadMetadata.deliveryObjectId);d("MediaDownloadMediator").mapDeliveryObjectIdToMediaDownloader(l,this);return d("MAWBridge").getBridge().fireAndForget("event","resignCdnUrl",{deliveryObjectId:l,payload:k.payload})}catch(a){d("WALogger").ERROR(j(),a)}}else if(b[1]){l=d("LSShape").toRecord(b[1]);d("WALogger").ERROR(i(),l.error_message)}}});function e(){return a.apply(this,arguments)}return e}();return e}(c("MebMIMediaDownloader"));g.IGDMIMediaDownloader=a}),98);
__d("MebWAMediaDownloader",["MAWBridge","MAWGetMediaPlaintextApi","MAWHandleMediaPreviewBeforeDownloadApi","MAWHandleMediaPreviewDownloadApi","MAWHandleMediaPreviewDownloadAsFailedApi","MAWUpdateMediaEntryForMsgApi","WAAPI","WAIsMediaExpiredError","WALogger","WAStartMediaDownloadQplFlow","WATimeUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] downloading media from MI directly"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web][WAMediaDownloader] Cannot download media - missing mediaKeyTimestamp"]);i=function(){return a};return a}a=function(){function a(a,b,c){this.mediaDownloadMetadata=a,this.downloadCallbacks=b,this.waApiDownloadCall=c}var e=a.prototype;e.handle=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=this.mediaDownloadMetadata.mediaEntry.mediaKeyTimestamp;if(b==null){d("WALogger").ERROR(i());return this.handleError()}b=!d("WATimeUtils").happenedWithin(b,29*d("WATimeUtils").DAY_SECONDS);a=(a=this.mediaDownloadMetadata.isUrlRenewed)!=null?a:!1;if(!a&&(b||c("gkx")("23960"))){d("WALogger").LOG(h());return this.handleUrlExpired()}a=this.mediaDownloadMetadata;b=a.hash;var e=a.mediaEntry;a=a.protocolMsgId;b=(yield this.waApiDownloadCall(b,e,a));if(b.success)return this.downloadCallbacks.onDownloadSuccess(b.value);if(d("WAIsMediaExpiredError").isMediaExpiredError(b.error))return this.handleUrlExpired();else return this.handleError()});function e(){return a.apply(this,arguments)}return e}();e.handleUrlExpired=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;yield this.downloadCallbacks.onUrlExpired();return(a=this.mediaDownloadHandler)==null?void 0:a.handle()});function c(){return a.apply(this,arguments)}return c}();e.handleError=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;yield this.downloadCallbacks.onDownloadError();return(a=this.mediaDownloadHandler)==null?void 0:a.handle()});function c(){return a.apply(this,arguments)}return c}();e.getDownloadMetadata=function(){return this.mediaDownloadMetadata};e.setNextHandler=function(a){this.mediaDownloadHandler=a};return a}();e=function(a,b,e){var f=d("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"MebWAMediaDownloader",msgType:null,protocolMsgId:e});return c("WAAPI").downloadMedia({downloadMediaMetric:f,getMediaPlaintext:d("MAWGetMediaPlaintextApi").getMediaPlaintext,handleMediaPreviewBeforeDownload:d("MAWHandleMediaPreviewBeforeDownloadApi").handleMediaPreviewBeforeDownload,handleMediaPreviewDownload:d("MAWHandleMediaPreviewDownloadApi").handleMediaPreviewDownload,handleMediaPreviewDownloadFailed:d("MAWHandleMediaPreviewDownloadAsFailedApi").handleMediaPreviewDownloadFailed,hash:a,mediaEntry:b,onlyIfMediaTTLIsValid:!1,protocolMsgId:e,updateMediaEntryForMsg:d("MAWUpdateMediaEntryForMsgApi").updateMediaEntryForMsg})};f=function(a,b,c){return d("MAWBridge").getBridge().sendAndReceive("backend","dyiDownloadMedia",{hash:a,mediaEntry:b,protocolMsgId:c})};g.MebWAMediaDownloader=a;g.MebWADownloadMediaFromWorker=e;g.MebWADownloadMediaThroughTheBridge=f}),98);
__d("IGDDownloadMediaForRestore",["IGDHandleMediaDownloadApi","IGDMIMediaDownloader","MAWCastToMsgrServerMediaType","MAWThreadKeyUtils","MebWAMediaDownloader","Promise","WAJids","WALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[EB] media download url has expired"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[EB] Successfully downloaded media"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[EB] Retry download media as signature has expired and should be renewed"]);k=function(){return a};return a}function a(a,c,e,f,g){var l={hash:e,isUrlRenewed:!1,mediaEntry:a,protocolMsgId:c,sortOrderMs:f},m={onDownloadError:function(){d("WALogger").LOG(k());return(h||(h=b("Promise"))).resolve()},onDownloadSuccess:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.mimeType;a=a.plaintext;d("WALogger").LOG(j());yield d("IGDHandleMediaDownloadApi").handleMediaDownload(e,b,a)});function c(b){return a.apply(this,arguments)}return c}(),onUrlExpired:function(){d("WALogger").LOG(i());return(h||(h=b("Promise"))).resolve()}},n=new(d("MebWAMediaDownloader").MebWAMediaDownloader)(l,m,d("MebWAMediaDownloader").MebWADownloadMediaFromWorker),o=d("MAWCastToMsgrServerMediaType").castToMsgrServerMediaType(a.serverMediaType);a=a.objectId;if(o!=null&&a!=null&&typeof f==="number"){var p=c.externalId;c=d("WAJids").threadIdForChatJid(c.chat);var q=d("MAWThreadKeyUtils").stringThreadKeyFromString(c);a=new(d("IGDMIMediaDownloader").IGDMIMediaDownloader)({backupEntFbid:"-1",deliveryObjectId:a,hash:e,isOpenEb:g,mediaType:o,messageId:p,productType:"igd",sortOrder:f,threadId:c,threadKey:q});n.setNextHandler(a);a.setNextHandler(new(d("MebWAMediaDownloader").MebWAMediaDownloader)(l,m,d("MebWAMediaDownloader").MebWADownloadMediaFromWorker))}return n.handle()}g["default"]=a}),98);
__d("IGDHandleMediaPreviewDownloadApi",["MAWMediaPreviewDownloadManager","MAWMediaUtils","MAWReStoreDb","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,g){g=(yield d("MAWReStoreDb").getDB(f.id+":30"));a=d("MAWMediaUtils").genHMACPlaintextHash(a);var h=(yield g.tables.e2ee_media.index("hashedPlaintextHash").get(a));if(!h)return d("WAResultOrError").makeError("missing-media-on-save");a=d("MAWMediaPreviewDownloadManager").getMediaPreviewDownloadingResolvable(h.plaintextHash);a!=null&&(a.resolve(new Blob([c],{type:"image/jpeg"})),d("MAWMediaPreviewDownloadManager").removeMediaPreviewDownloadingResolvable(h.plaintextHash));yield g.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){switch(e){case"image":yield a.e2ee_media.put(babelHelpers["extends"]({},h,{validatedImageInfo:babelHelpers["extends"]({},h.validatedImageInfo,{jpegThumbnail:c})}));break;case"video":yield a.e2ee_media.put(babelHelpers["extends"]({},h,{validatedVideoInfo:babelHelpers["extends"]({},h.validatedVideoInfo,{jpegThumbnail:c})}));break;default:e;break}});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":47");return d("WAResultOrError").makeResult()});return function(b,c,d,e){return a.apply(this,arguments)}}();g.handleMediaPreviewDownload=a}),98);
__d("IGDDownloadDecodedMediaEntry",["FBLogger","IGDDownloadMediaForRestore","IGDGetMediaPlaintextApi","IGDHandleMediaDownloadApi","IGDHandleMediaPreviewDownloadApi","IGDUpdateMediaEntryForMsgApi","MAWHandleMediaPreviewBeforeDownloadApi","MAWHandleMediaPreviewDownloadAsFailedApi","Promise","WAAPI","WABase64","WAHashUtils","WAStartMediaDownloadQplFlow","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b="EB");var e=a.decodedMediaEntry,f=a.isOpenEb,g=a.protocolMsgId;a=a.timestampMs;if(e.fileSha256==null)return;var h=d("WAHashUtils").stringToPlaintextHash(d("WABase64").encodeB64(e.fileSha256));if(b==="EB")if(a!=null)return c("IGDDownloadMediaForRestore")(e,g,h,a,Boolean(f));else c("FBLogger")("igd_web_on_msgr").mustfix("Missing timestampMs to restore media from EB. Media will be restored from WA instead.");b=d("WAStartMediaDownloadQplFlow").startMediaDownloadQplFlow({downloadEntry:"InstamadilloAddMessageMediaContent",msgType:null,protocolMsgId:g});a=(yield c("WAAPI").downloadMedia({downloadMediaMetric:b,getMediaPlaintext:d("IGDGetMediaPlaintextApi").getMediaPlaintext,handleMediaPreviewBeforeDownload:d("MAWHandleMediaPreviewBeforeDownloadApi").handleMediaPreviewBeforeDownload,handleMediaPreviewDownload:d("IGDHandleMediaPreviewDownloadApi").handleMediaPreviewDownload,handleMediaPreviewDownloadFailed:d("MAWHandleMediaPreviewDownloadAsFailedApi").handleMediaPreviewDownloadFailed,hash:h,mediaEntry:e,onlyIfMediaTTLIsValid:!1,protocolMsgId:g,updateMediaEntryForMsg:d("IGDUpdateMediaEntryForMsgApi").updateMediaEntryForMsg}));if(a.success===!1){b.endFail(a.error);return}f=a.value;e=f.mimeType;g=f.plaintext;a=(yield d("IGDHandleMediaDownloadApi").handleMediaDownload(h,e,g));if(a.success===!1){b.endFail(a.error);return}b.endSuccess()});return j.apply(this,arguments)}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (h||(h=b("Promise"))).allSettled(a.map(function(a){return i(a,c)}))});return k.apply(this,arguments)}g.downloadDecodedMediaEntries=a}),98);
__d("IGDCOPTransportResultFollowups",["IGDDownloadDecodedMediaEntry","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[];for(var c of a)if(c.success===!0){c.value.result==="handled"&&((a=c.value.followUpParams)==null?void 0:a.decodedMediaEntries)!=null&&((a=c.value.followUpParams)==null?void 0:a.decodedMediaEntries.length)>0&&((a=c.value.followUpParams)==null?void 0:a.protocolMsgId)!=null&&(function(){var a=c.value.followUpParams,d=a.decodedMediaEntries,e=a.isOpenEb,f=a.protocolMsgId,g=a.timestampMs;d.forEach(function(a){b.push({decodedMediaEntry:a,isOpenEb:e,protocolMsgId:f,timestampMs:g})})})()}return b}function c(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a.length>0&&(yield d("IGDDownloadDecodedMediaEntry").downloadDecodedMediaEntries(a,b))});return h.apply(this,arguments)}g.getMediaEntriesToDownload=a;g.maybeFollowupMediaTransportResult=c}),98);
__d("IGDEBMessageRestoreTasks",["IGDCOPTransportResultFollowups","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=5;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.e2ee_ebMessageRestoreTasks.get(b));if(b)return;yield a.e2ee_ebMessageRestoreTasks.add(babelHelpers["extends"]({},c,{tryCount:0}))});return j.apply(this,arguments)}function e(a,d){a.tables.e2ee_ebMessageRestoreTasks.subscribe(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){(e.operation==="add"&&e.value.restorable||e.operation==="put"&&e.value.restorable&&!e.prevValue.restorable)&&c("promiseDone")(m(a,[e.value],d))});return function(a,b){return e.apply(this,arguments)}}())}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.tables.e2ee_ebMessageRestoreTasks.index("restorable")).getKeyRange(!0)));return m(a,c,b)});return l.apply(this,arguments)}function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){a=(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=(yield (h||(h=b("Promise"))).all(c.map(function(b){return e(a,b)}))),f=[],g=[];c.forEach(function(a,b){d[b].success?f.push(a):g.push(a)});yield h.all([].concat(f.map(function(b){b=b.messageId;return a.e2ee_ebMessageRestoreTasks["delete"](b)}),g.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.tryCount;++c>=i?yield a.e2ee_ebMessageRestoreTasks["delete"](b.messageId):yield a.e2ee_ebMessageRestoreTasks.upsert([b.messageId],babelHelpers["extends"]({},b,{tryCount:c}))});return function(a){return c.apply(this,arguments)}}())));return d});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":93"));a=d("IGDCOPTransportResultFollowups").getMediaEntriesToDownload(a);yield d("IGDCOPTransportResultFollowups").maybeFollowupMediaTransportResult(a,"EB")});return n.apply(this,arguments)}g.addEBMessageRestoreTask=a;g.listenForEBMessageRestoreTask=e;g.flushEBMessageRestoreTasks=k}),98);
__d("IGDEBRestoreCipherMessage",["I64","LSAuthorityLevel","LSBitFlag","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return babelHelpers["extends"]({},a,b,{authorityLevel:(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").CLIENT_PARTIAL),displayedContentTypes:d("LSBitFlag").set((i||(i=d("LSIntEnum"))).ofNumber(0),d("LSBitFlag").empty),transportKey:"Instamadillo"})}g["default"]=a}),98);
__d("IGDEBRestoreExistingMessage",["LSDatabaseSingleton","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton),f=(yield j(e,c));if(f){b=(yield l(e,b,c));c=!0;var g=!1,i;try{for(var k=babelHelpers.asyncIterator(b),b,b;b=(yield k.next()),c=b.done,b=(yield b.value),!c;c=!0){b=b;yield a.attachments.add(b);var o=(yield m(e,b)),p=!0,q=!1,r;try{for(var s=babelHelpers.asyncIterator(o),o,o;o=(yield s.next()),p=o.done,o=(yield o.value),!p;p=!0){o=o;yield a.attachment_items.add(o)}}catch(a){q=!0,r=a}finally{try{!p&&s["return"]!=null&&(yield s["return"]())}finally{if(q)throw r}}o=(yield n(e,b));p=!0;q=!1;var t;try{for(var u=babelHelpers.asyncIterator(o),b,o;b=(yield u.next()),p=b.done,o=(yield b.value),!p;p=!0){b=o;yield a.attachment_ctas.add(b)}}catch(a){q=!0,t=a}finally{try{!p&&u["return"]!=null&&(yield u["return"]())}finally{if(q)throw t}}}}catch(a){g=!0,i=a}finally{try{!c&&k["return"]!=null&&(yield k["return"]())}finally{if(g)throw i}}}return f});return i.apply(this,arguments)}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield a.tables.messages.index("messageId").get(b));return a});return k.apply(this,arguments)}function l(a,b,c){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b,c))}function m(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachment_items).getKeyRange(b.attachmentFbid,b.attachmentIndex))}function n(a,b){b=b.defaultCtaId;return b==null?[]:d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b))}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryMessageCore",["I64","InstamadilloMessageFactory","LSAuthorityLevel"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=b.messageId,f=b.metadata,g=b.originalMessage;b=b.senderId;return d("InstamadilloMessageFactory").createBaseMessage(a,{authorityLevel:(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").CLIENT_PARTIAL),messageId:e,offlineThreadingId:g.offlineThreadingId,senderId:h.of_string(b),threadKey:g.threadKey,timestampMs:g.timestampMs},f)}g["default"]=a}),98);
__d("IGDEBRestoreFutureProofMessage",["IGDEBRestorePreliminaryMessageCore","LSBitFlag","LSIntEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.messageId,f=b.originalMessage;b=b.senderId;a=(yield c("IGDEBRestorePreliminaryMessageCore")(a,{messageId:e,originalMessage:f,senderId:b}));return babelHelpers["extends"]({},a,{displayedContentTypes:d("LSBitFlag").set((h||(h=d("LSIntEnum"))).ofNumber(131072),d("LSBitFlag").empty)})});return i.apply(this,arguments)}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryEdit",["I64","IGDEBRestoreUtils","LSIntEnum","LSMessageSendStatus","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=b.backupMetadata,g=b.content;b=b.message;yield a.messages.put(babelHelpers["extends"]({},b,{editCount:(h||(h=d("I64"))).of_int32((e=g.editCount)!=null?e:0),text:g.newContent}));e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(b.messageId)));if(!e){yield a.edit_message_history.add({messageContent:b.text,originalMessagePk:b.messageId,sendStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(e=b.timestampMs)!=null?e:(h||(h=d("I64"))).zero,threadKey:b.threadKey})}yield a.edit_message_history.add({messageContent:g.newContent,originalMessagePk:b.messageId,sendStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(f==null?void 0:f.timestampMs)!=null?d("IGDEBRestoreUtils").longIntToI64(f==null?void 0:f.timestampMs):(h||(h=d("I64"))).zero,threadKey:b.threadKey})});return j.apply(this,arguments)}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryTextMessage",["IGDEBRestorePreliminaryMessageCore","InstamadilloTextMessageUtils","LSBitFlag","LSIntEnum","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.content;b=babelHelpers.objectWithoutPropertiesLoose(b,["content"]);a=(yield c("IGDEBRestorePreliminaryMessageCore")(a,b));b=e.text;return babelHelpers["extends"]({},a,{displayedContentTypes:d("LSBitFlag").set((h||(h=d("LSIntEnum"))).ofNumber(1),d("LSBitFlag").empty),text:b,textHasLinks:d("InstamadilloTextMessageUtils").textHasLinks(b)})});return i.apply(this,arguments)}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryLikeMessage",["IGDEBRestorePreliminaryTextMessage","PolarisDirectConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b.content;b=babelHelpers.objectWithoutPropertiesLoose(b,["content"]);return c("IGDEBRestorePreliminaryTextMessage")(a,babelHelpers["extends"]({},b,{content:{$$unknownFieldCount:0,animatedEmojiCharacterRanges:[],commands:[],isSuggestedReply:!1,text:d("PolarisDirectConstants").DEFAULT_EMOJI_REACTION}}))}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryLinkMessage",["I64","IGDEBRestorePreliminaryMessageCore","InstamadilloMessageFactory","InstamadilloMessageIdUtils","InstamadilloTextMessageUtils","LSAuthorityLevel","LSIntEnum","MessagingAttachmentType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.content,f=babelHelpers.objectWithoutPropertiesLoose(b,["content"]);f=(yield c("IGDEBRestorePreliminaryMessageCore")(a,f));e=e.text;yield k(a,b.originalMessage,b.senderId);return babelHelpers["extends"]({},f,{displayedContentTypes:(h||(h=d("I64"))).of_int32(1+1024+8),text:e,textHasLinks:d("InstamadilloTextMessageUtils").textHasLinks(e)})});return j.apply(this,arguments)}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=d("InstamadilloMessageIdUtils").toProtocolMsgId(b.threadKey,b.offlineThreadingId,e);e=d("InstamadilloMessageFactory").createBaseAttachmentWithProtocolMsgId(e,b.timestampMs);b=babelHelpers["extends"]({},e,{attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:(h||(h=d("I64"))).of_int32(c("LSAuthorityLevel").CLIENT_PARTIAL),hasXma:!0,isSharable:!0});yield a.attachments.put(b)});return l.apply(this,arguments)}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryMediaCollectionMessage",["FBLogger","I64","IGDEBRestorePreliminaryMessageCore","IGDEBRestoreUtils","InstamadilloMessageFactory","InstamadilloMessageIdUtils","LSAuthorityLevel","LSBitFlag","LSIntEnum","MessagingAttachmentType","Promise","asyncToGeneratorRuntime","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.content,g=e.originalMessage,k=e.senderId;e=babelHelpers.objectWithoutPropertiesLoose(e,["content","originalMessage","senderId"]);var l=d("InstamadilloMessageIdUtils").toProtocolMsgId(g.threadKey,g.offlineThreadingId,k);f=c("filterNulls")(f.media.map(function(a){return m(a)}));e=(yield c("IGDEBRestorePreliminaryMessageCore")(a,babelHelpers["extends"]({},e,{originalMessage:g,senderId:k})));yield (j||(j=b("Promise"))).all(f.map(function(b){var e=d("InstamadilloMessageFactory").createBaseAttachmentWithMediaId(l,b.mediaId,g.timestampMs);return a.attachments.put(babelHelpers["extends"]({},e,{attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(b.attachementType),authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").CLIENT_PARTIAL)},b.size))}));return babelHelpers["extends"]({},e,{displayedContentTypes:d("LSBitFlag").set((h||(h=d("LSIntEnum"))).ofNumber(2),d("LSBitFlag").empty)})});return k.apply(this,arguments)}function l(a,b){var e;e=b==null?void 0:(e=b.mediaTransport)==null?void 0:e.mediaId;if(e==null){c("FBLogger")("igd_web_on_msgr").warn("Skip restoring media in collection: Missing mediaId in mediaTransport");return null}return{attachementType:a,displayedContentTypes:2,mediaId:e,size:d("IGDEBRestoreUtils").getPreviewSize(b)}}function m(a){if(a.staticPhoto)return l(c("MessagingAttachmentType").IMAGE,a.staticPhoto);if(a.video)return l(c("MessagingAttachmentType").VIDEO,a.video);c("FBLogger")("igd_web_on_msgr").warn("Unsupported media type for media collection preliminary EB restore.");return null}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryMediaMessage",["FBLogger","I64","IGDEBRestorePreliminaryMessageCore","IGDEBRestoreUtils","InstamadilloMessageFactory","InstamadilloMessageIdUtils","LSAuthorityLevel","LSBitFlag","LSIntEnum","MessagingAttachmentType","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.content,f=b.originalMessage,g=b.senderId;b=babelHelpers.objectWithoutPropertiesLoose(b,["content","originalMessage","senderId"]);var j=d("InstamadilloMessageIdUtils").toProtocolMsgId(f.threadKey,f.offlineThreadingId,g);e=l(e);if(e==null)return null;b=(yield c("IGDEBRestorePreliminaryMessageCore")(a,babelHelpers["extends"]({},b,{originalMessage:f,senderId:g})));g=d("InstamadilloMessageFactory").createBaseAttachmentWithMediaId(j,e.mediaId,f.timestampMs);yield a.attachments.put(babelHelpers["extends"]({},g,{attachmentType:(h||(h=d("LSIntEnum"))).ofNumber(e.attachementType),authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").CLIENT_PARTIAL)},e.size));return babelHelpers["extends"]({},b,{displayedContentTypes:e.displayedContentTypes!=null?d("LSBitFlag").set((h||(h=d("LSIntEnum"))).ofNumber(e.displayedContentTypes),d("LSBitFlag").empty):d("LSBitFlag").empty})});return j.apply(this,arguments)}function k(a,b,e){var f;f=b==null?void 0:(f=b.mediaTransport)==null?void 0:f.mediaId;if(f==null){c("FBLogger")("igd_web_on_msgr").warn("Skip restoring EB preliminary media: Missing mediaId in mediaTransport");return null}b=b.width==null&&b.height==null?void 0:d("IGDEBRestoreUtils").getPreviewSize(b);return{attachementType:a,displayedContentTypes:e,mediaId:f,size:b}}function l(a){if(a.staticPhoto)return k(c("MessagingAttachmentType").IMAGE,a.staticPhoto,2);if(a.video)return k(c("MessagingAttachmentType").VIDEO,a.video,2);if(a.raven){var b;if((b=a.raven.content)==null?void 0:b.staticPhoto)return k(c("MessagingAttachmentType").EPHEMERAL_IMAGE,a.raven.content.staticPhoto,void 0);if((b=a.raven.content)==null?void 0:b.video)return k(c("MessagingAttachmentType").EPHEMERAL_VIDEO,a.raven.content.video,void 0)}if(a.gif)return k(a.gif.isSticker===!0?c("MessagingAttachmentType").STICKER:c("MessagingAttachmentType").ANIMATED_IMAGE,a.gif,8);if(a.voice)return k(c("MessagingAttachmentType").AUDIO,a.voice,4);c("FBLogger")("igd_web_on_msgr").warn("Unsupported media type for preliminary EB restore.");return null}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryReaction",["FBLogger","I64","IGDEBRestoreError","IGDEBRestoreUtils","InstamadilloMessageIdUtils","LSAuthorityLevel","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.backupMetadata,f=b.content,g=b.message.threadKey;b=b.targetMessageOtid;if(f.reactionStatus!=="created")return;e=e||{};var i=e.senderId;e=e.timestampMs;f=f.emoji;if(b==null||i==null||e==null||f==null){c("FBLogger")("igd_web_on_msgr").warn(d("IGDEBRestoreError").formatUnrecoverableProtobufCorruptionWarning("BackupPayload does not have enough data to create preliminary reaction"));return}b=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(g,b);yield a.reactions.put({actorId:(h||(h=d("I64"))).of_string(i),authorityLevel:h.of_int32(c("LSAuthorityLevel").AUTHORITATIVE),messageId:b,reaction:f,threadKey:g,timestampMs:d("IGDEBRestoreUtils").longIntToI64(e)})});return i.apply(this,arguments)}g["default"]=a}),98);
__d("IGDEBRestorePreliminarySupplemental",["IGDEBRestorePreliminaryEdit","IGDEBRestorePreliminaryReaction","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){var e=!0,f=!1,g;try{for(var h=babelHelpers.asyncIterator(d),d,d;d=(yield h.next()),e=d.done,d=(yield d.value),!e;e=!0){var i;d=d;var j=d.payload.supplement;d={backupMetadata:d.metadata,message:b,targetMessageOtid:j==null?void 0:j.targetMessageOtid};(j==null?void 0:(i=j.content)==null?void 0:i.reaction)!=null?yield c("IGDEBRestorePreliminaryReaction")(a,babelHelpers["extends"]({},d,{content:j==null?void 0:j.content.reaction})):(j==null?void 0:(i=j.content)==null?void 0:i.editText)!=null&&(yield c("IGDEBRestorePreliminaryEdit")(a,babelHelpers["extends"]({},d,{content:j==null?void 0:j.content.editText})))}}catch(a){f=!0,g=a}finally{try{!e&&h["return"]!=null&&(yield h["return"]())}finally{if(f)throw g}}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryReceiverFetchMessage",["fbt","FBLogger","I64","IGDEBRestorePreliminaryMessageCore","IGDXMAAttachmentUtil","InstamadilloMessageFactory","InstamadilloMessageIdUtils","InstamadilloTextMessageUtils","LSAuthorityLevel","LSIntEnum","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MessagingAttachmentType","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=h._("__JHASH__qU6mfWAp4JB__JHASH__").toString();function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.content,f=b.originalMessage,g=b.senderId;b=babelHelpers.objectWithoutPropertiesLoose(b,["content","originalMessage","senderId"]);if(e==null)throw c("FBLogger")("igd_web_on_msgr").mustfixThrow("This is not a receiver fetch message. It should not have passed the filter.");var h=m(e);if(h==null)return null;var l=d("InstamadilloMessageIdUtils").toProtocolMsgId(f.threadKey,f.offlineThreadingId,g);b=(yield c("IGDEBRestorePreliminaryMessageCore")(a,babelHelpers["extends"]({},b,{originalMessage:f,senderId:g})));g=8;c("isStringNullOrEmpty")(e.text)||(g+=1);b=babelHelpers["extends"]({},b,{displayedContentTypes:(i||(i=d("I64"))).of_int32(g),text:e.text,textHasLinks:d("InstamadilloTextMessageUtils").textHasLinks(e.text),xmaReceiverFetchParams:JSON.stringify(h)});g=d("InstamadilloMessageFactory").createBaseAttachmentWithProtocolMsgId(l,f.timestampMs);yield a.attachments.put(babelHelpers["extends"]({},g,{attachmentType:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:j.ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),faviconUrl:d("IGDXMAAttachmentUtil").DEFAULT_PROFILE_URL,hasXma:!0,isSharable:!0,previewImageDecorationType:j.ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT),subtitleText:k,titleText:k,xmaLayoutType:j.ofNumber(c("MNLSXMALayoutType").SINGLE)}));return b});return l.apply(this,arguments)}function m(a){if(a.contentRef==null){c("FBLogger")("igd_web_on_msgr").warn("Missing contentRef in receiverFetchXma");return null}try{a=JSON.parse(a.contentRef);return a.fetch_params}catch(a){c("FBLogger")("igd_web_on_msgr").warn("Failed to parse receiverFetchXma.contentRef as JSON")}}g["default"]=a}),226);
__d("IGDEBRestorePreliminaryToplevelMessage",["IGDEBRestorePreliminaryLikeMessage","IGDEBRestorePreliminaryLinkMessage","IGDEBRestorePreliminaryMediaCollectionMessage","IGDEBRestorePreliminaryMediaMessage","IGDEBRestorePreliminaryReceiverFetchMessage","IGDEBRestorePreliminaryTextMessage","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d){d.supplementalBackupPayloads;var e=d.toplevelPayload,f=babelHelpers.objectWithoutPropertiesLoose(d,["supplementalBackupPayloads","toplevelPayload"]);e=babelHelpers["extends"]({},f,{metadata:(f=e.add)==null?void 0:f.metadata});f=d.toplevelPayload.add;if((f==null?void 0:(d=f.content)==null?void 0:d.text)!=null){return c("IGDEBRestorePreliminaryTextMessage")(a,babelHelpers["extends"]({content:(d=f.content)==null?void 0:d.text},e))}if((f==null?void 0:(d=f.content)==null?void 0:d.like)!=null){return c("IGDEBRestorePreliminaryLikeMessage")(a,babelHelpers["extends"]({content:(d=f.content)==null?void 0:d.like},e))}if((f==null?void 0:(d=f.content)==null?void 0:d.link)!=null){return c("IGDEBRestorePreliminaryLinkMessage")(a,babelHelpers["extends"]({content:(d=f.content)==null?void 0:d.link},e))}if((f==null?void 0:(d=f.content)==null?void 0:d.media)!=null){return c("IGDEBRestorePreliminaryMediaMessage")(a,babelHelpers["extends"]({content:(d=f.content)==null?void 0:d.media},e))}if((f==null?void 0:(d=f.content)==null?void 0:d.collection)!=null){return c("IGDEBRestorePreliminaryMediaCollectionMessage")(a,babelHelpers["extends"]({content:(d=f.content)==null?void 0:d.collection},e))}if((f==null?void 0:(d=f.content)==null?void 0:d.receiverFetchXma)!=null){return c("IGDEBRestorePreliminaryReceiverFetchMessage")(a,babelHelpers["extends"]({content:(d=f.content)==null?void 0:d.receiverFetchXma},e))}return(h||(h=b("Promise"))).resolve(null)}g["default"]=a}),98);
__d("IGDEBRestorePreliminaryMessage",["IGDEBRestoreFutureProofMessage","IGDEBRestorePreliminarySupplemental","IGDEBRestorePreliminaryToplevelMessage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=(yield c("IGDEBRestorePreliminaryToplevelMessage")(a,b));if(d){yield c("IGDEBRestorePreliminarySupplemental")(a,d,b.supplementalBackupPayloads);return d}return c("IGDEBRestoreFutureProofMessage")(a,b)});return h.apply(this,arguments)}g["default"]=a}),98);
__d("IGDMergeLocalThreadData",["LSDatabaseSingleton","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j(a.threadKey));return babelHelpers["extends"]({},a,{snippet:(b=b==null?void 0:b.snippet)!=null?b:a.snippet})});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);b=(yield b.tables.threads.get(a));return b});return k.apply(this,arguments)}g["default"]=a}),98);
__d("IGDMessageAuxiliaryInfo",["FBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var d=(yield a.e2ee_igMessageAuxiliaryInfo.get(b.messageId));yield a.e2ee_igMessageAuxiliaryInfo.upsert([b.messageId],babelHelpers["extends"]({},d,b))}catch(a){c("FBLogger")("igd_web_on_msgr").catching(a).warn("Failed to upsert IGMessageAuxiliaryInfo")}});return h.apply(this,arguments)}g.upsertIGMessageAuxiliaryInfoTxn=a}),98);
__d("IGDPreliminaryEBRestore",["FBLogger","I64","IGDEBMessageProtobuf","IGDEBMessageRestoreTasks","IGDEBRestoreCipherMessage","IGDEBRestoreError","IGDEBRestoreExistingMessage","IGDEBRestoreFutureProofMessage","IGDEBRestoreLogging","IGDEBRestorePreliminaryMessage","IGDEBRestoreUtils","IGDMessageAuxiliaryInfo","InstamadilloMessageIdUtils","asyncToGeneratorRuntime","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=d("IGDEBRestoreUtils").getMessageMetadata(b);e=e==null?void 0:e.encrypted_message;if(!e)return b;var f=d("InstamadilloMessageIdUtils").toInstamadilloMessageId(b.threadKey,b.offlineThreadingId),g=(yield c("IGDEBRestoreExistingMessage")(a,b.threadKey,f));if(g!=null)return g;try{g=d("IGDEBRestoreLogging").IGDEBRestoreLogging(f,!0);g.addPoint("preliminary_restore_start",{bool:{openEb:Boolean(e.is_open_eb),preliminaryRestore:!0}});yield d("IGDMessageAuxiliaryInfo").upsertIGMessageAuxiliaryInfoTxn(a,{"final":!1,messageId:f,openEb:Boolean(e.is_open_eb),origin:"EB",originalMessageId:b.messageId});var h=c("qex")._("954");if(!Boolean(h)){g.endCancel("ttlc_not_enabled");return yield k(a,{encryptedMessage:e,messageId:f,originalMessage:b})}h=(yield d("IGDEBMessageProtobuf").getIGDEBMessageBackupPayloads(a,e));if(h==null){g.endCancel("eb_client_not_set");return yield k(a,{encryptedMessage:e,messageId:f,originalMessage:b})}var i=h.supplementalBackupPayloads,l=h.toplevelBackupPayload;g.annotateMessagePayloads(h);h=j(l);if(h==null)return c("IGDEBRestoreCipherMessage")(b,{messageId:f});var m=l.payload,n=d("IGDEBRestoreUtils").isMessageSupportedForEBRestore(m);yield d("IGDEBMessageRestoreTasks").addEBMessageRestoreTask(a,f,{backupPayloads:{supplementalBackupPayloads:i,toplevelBackupPayload:l},ebClientRequired:!1,encryptedMessage:e,messageId:f,restorable:n,threadKey:b.threadKey,timestampMs:b.timestampMs});if(!n){g.endCancel("message_not_supported");return c("IGDEBRestoreFutureProofMessage")(a,{messageId:f,originalMessage:b,senderId:h})}l=(yield c("IGDEBRestorePreliminaryMessage")(a,{messageId:f,originalMessage:b,senderId:h,supplementalBackupPayloads:i,toplevelPayload:m}));g.addPoint("preliminary_restore_end");return l}catch(g){c("FBLogger")("igd_web_on_msgr").catching(g).mustfix("Failed to preliminarily restore message.");yield d("IGDEBMessageRestoreTasks").addEBMessageRestoreTask(a,f,{ebClientRequired:!1,encryptedMessage:e,messageId:f,restorable:!0,threadKey:b.threadKey,timestampMs:b.timestampMs});return c("IGDEBRestoreCipherMessage")(b,{messageId:f})}});return i.apply(this,arguments)}function j(a){a=(a=a.metadata)==null?void 0:a.senderId;a==null&&c("FBLogger")("igd_web_on_msgr").warn(d("IGDEBRestoreError").formatUnrecoverableProtobufCorruptionWarning("senderId is null in toplevel backup payload"));return a}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.encryptedMessage,f=b.messageId;b=b.originalMessage;yield d("IGDEBMessageRestoreTasks").addEBMessageRestoreTask(a,f,{ebClientRequired:!Boolean(e.is_open_eb),encryptedMessage:e,messageId:f,restorable:!1,threadKey:b.threadKey,timestampMs:b.timestampMs});return c("IGDEBRestoreFutureProofMessage")(a,{messageId:f,originalMessage:b,senderId:(h||(h=d("I64"))).to_string(b.senderId)})});return l.apply(this,arguments)}g["default"]=a}),98);
__d("IGDIndexedDbEBRestoreHooks",["I64","IGDMergeLocalThreadData","IGDPreliminaryEBRestore","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;a={onBeforeAdd:function(a){if(a.tableName==="threads")return c("IGDMergeLocalThreadData")(a.value);if(a.tableName==="messages")return c("IGDPreliminaryEBRestore")(a.transaction,a.value);var b=c("justknobx")._("2449");return b&&a.tableName==="messages_ranges_v2__generated"?i(a.value):a.value}};function i(a){return a.hasMoreBefore!==!0?babelHelpers["extends"]({},a,{minTimestampMs:(h||(h=d("I64"))).zero}):a}g["default"]=a}),98);
__d("LSInMemoryTables",[],(function(a,b,c,d,e,f){"use strict";a="community_members";b="community_members_ranges_v2__generated";c="data_trace_addon";d="data_trace_meta";e=[c,d];c=new Set([].concat(e,[a,b]));f.all=c}),66);
__d("createReStoreEphemeralPersistenceForTables",["FBLogger","LSInMemoryTables","createLSReStoreEphemeralPersistence"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),b=new Set([].concat(Array.from(d("LSInMemoryTables").all)));return babelHelpers["extends"]({},a,{logError:function(a,b,d,e){if(d==="dbCorruption"){throw c("FBLogger")("messenger_web_thread_settings").mustfixThrow("Got unexpected undefined in edb for tables, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",b,a,(d=e==null?void 0:e.id)!=null?d:"",(b=e==null?void 0:e.deletedInThisTxn)!=null?b:"")}},shouldApplySync:function(a,c){return a==="notifyInMemoryTable"&&b.has(c)},shouldInline:function(a,b){return!0},shouldSync:function(a,c){return a==="notifyInMemoryTable"&&b.has(c)}})}g["default"]=a}),98);
__d("IndexedDbStorage",["ExecutionEnvironment","FBLogger","LSDBRestoreConfig","LSInMemoryTables","LSPlatformLsInitLog","LSReStoreQplLogger","LSReStoreWrapper","MAWLSVaultingHooks","MessengerLogHistory","asyncToGeneratorRuntime","cr:6946","cr:7693","createReStoreEphemeralPersistenceForTables","createReStoreIndexedDbPersistence","createReStoreTableNameAllowListPersistence","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set([].concat(Array.from(d("LSInMemoryTables").all)));function j(a,b,e){a=c("createReStoreIndexedDbPersistence")(a,b,d("LSDBRestoreConfig").createConfig(),{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionLockQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25303045,"817")),userFlow:d("LSPlatformLsInitLog").lsInitLogger},e);b=c("justknobx")._("440");if(b){e=c("createReStoreEphemeralPersistenceForTables")();return c("createReStoreTableNameAllowListPersistence")(a,e,i)}else return a}function a(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f===void 0&&(f=[]);a=j(a,e,g);g=(h||(h=c("ExecutionEnvironment"))).isInWorker||(h||(h=c("ExecutionEnvironment"))).isInSharedWorker;a=d("LSReStoreWrapper").createLSReStore(a,e,[].concat(b("cr:7693")!=null&&!g?[b("cr:7693")]:[],[c("MAWLSVaultingHooks")],f),void 0,d("LSPlatformLsInitLog").lsInitLogger);e=(yield a.isPersistenceSupported());if(!e)throw c("FBLogger")("ls_web_init").mustfixThrow("PDB is not supported");b("cr:6946")!=null&&(yield b("cr:6946")(a));return a});return k.apply(this,arguments)}g["default"]=a}),98);
__d("MWLSSchemaEphemeralProxy",["MWLSSchemaEphemeral"],(function(a,b,c,d,e,f){"use strict";Object.keys(importNamespace("MWLSSchemaEphemeral")).forEach(function(a){if(a==="default"||a==="__esModule")return;f[a]=importNamespace("MWLSSchemaEphemeral")[a]})}),null);
__d("MWLSSchemaIndexedDB",["FBLogger","IndexedDbStorage","InteractionTracing.xplat","LSMetadata","LSPlatformLsInitLog","MWLSIndexedDBDelete","MWLSIndexedDBName","MWLSSchemaEphemeralProxy","MessengerLogHistory","asyncToGeneratorRuntime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("db_init");f=typeof window!=="undefined"?window:self;var i=f==null?void 0:(f=f.navigator)==null?void 0:f.locks;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=[]);d("LSPlatformLsInitLog").addPoint("support_check_start");var e=l();d("LSPlatformLsInitLog").addPoint("support_check_end");d("LSPlatformLsInitLog").addAnnotations({bool:{pdb_supported:e}});c("InteractionTracing.xplat").getPendingInteractions().forEach(function(a){a.addAnnotationBoolean("pdb_supported",e)});if(!e)return d("MWLSSchemaEphemeralProxy").createDB();d("LSPlatformLsInitLog").addPoint("init_start");try{h.debug("Creating indexeddb persistence"),b=(yield c("IndexedDbStorage")(d("MWLSIndexedDBName").dbName(),d("LSMetadata").schema,b,a))}catch(a){d("LSPlatformLsInitLog").addAnnotations({bool:{pdb_supported:!1}}),c("FBLogger")("ls_web_init").catching(a).info("Failed to create indexeddb persistence, using ephemeral"),b=d("MWLSSchemaEphemeralProxy").createDB(),h.debug("Persistence failed to create")}d("LSPlatformLsInitLog").addPoint("init_end");return b});return j.apply(this,arguments)}function e(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{b.closeDb==null?void 0:b.closeDb(),yield d("MWLSIndexedDBDelete").deleteIndexedDB(a)}catch(a){c("recoverableViolation")("[pdb] Cannot delete db","messenger_web_product")}});return k.apply(this,arguments)}function l(){return!(i==null||typeof indexedDB==="undefined")}g.createDB=a;g.deleteDB=e;g.isSupported=l}),98);/*FB_PKG_DELIM*/
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";e.exports=a}),null);
__d("LSJson",["FBLogger","I64","LSDict","LSVec","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=512,j={useLSTypes:!1};function a(a,b){b=b===void 0?j:b;var e=b.useLSTypes;function f(a,b){return function(){return function(c){c=a()(c);if(c!=null){var d=c[0];c=c[1];return[b(d),c]}}}}function g(a){return JSON.parse('"'+a+'"')}function i(a){return function(){return function(b){var c=g(a);if(b.startsWith(c))return[c,b.substr(c.length)];else return void 0}}}function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){var c=[];a=a;for(var d=0;d<b.length;d++){var e=b[d];e=e()(a);if(e==null)return void 0;a=e[1];c.push(e[0])}return[c,a]}}}function l(a){return function(){return function(b){var c=a.exec(b);return c!=null?[c,b.substr(c[0].length)]:void 0}}}function m(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(){return function(a){for(var c=0;c<b.length;c++){var d=b[c];d=d()(a);if(d!=null)return d}}}}function n(a){return function(){return function(b){var c=a()(b);return c!=null?c:[void 0,b]}}}function o(a){return function(){return function(b){var c=a()(b),d=[];b=b;while(c!=null)b=c[1],d.push(c[0]),c=a()(b);return[d,b]}}}b=l(/^[\n\r\s]*/);var p=f(l(/^\"((?:[^\"\\]|\\.)*)\"/),function(a){a=a[1];return g(a)}),q=f(l(/^-?\d+(?:(?:\.\d+)?[eE][-\+]?\d+|\.\d+)/),function(a){a=a[0];return Number(a)});l=f(l(/^-?\d+/),function(a){a=a[0];return(h||(h=d("I64"))).of_string(a)});var r=f(i("null"),function(a){return null}),s=f(i("true"),function(a){return!0}),t=f(i("false"),function(a){return!1}),u=f(k(b,p,b,i(":"),function(){return v()}),function(a){var b=a[1];a=a[4];return[b,a]});u=f(k(u,o(k(b,i(","),u))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});u=f(k(i("{"),n(u),b,i("}")),function(a){a=a[1];a=a===void 0?[]:a;return e?new(c("LSDict"))(a):Object.fromEntries(a)});o=f(k(function(){return v()},o(k(b,i(","),function(){return v()}))),function(a){var b=a[0];a=a[1];return[b].concat(a.map(function(a){a=a[2];return a}))});n=f(k(i("["),b,n(o),b,i("]")),function(a){a=a[2];a=a===void 0?[]:a;return e?c("LSVec").ofArray(a):a});var v=f(k(b,m(u,p,q,l,n,r,s,t),b),function(a){a=a[1];return a});o=v()(a);if(o==null)throw c("unrecoverableViolation")("error parsing string","messenger_web_product");if(o[1]!=="")throw c("unrecoverableViolation")("unexpected "+o[1],"messenger_web_product");return o[0]}function k(a,b,e){b===void 0&&(b=0);e===void 0&&(e="");if(b>i)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number")return JSON.stringify(a);else if(typeof a==="boolean")return a?"1":"0";else if(a==null)return"null";else if(typeof a==="object")if(Array.isArray(a)){if(a.tag==="ls-array")return"["+a.map(function(a,c){return k(a,b+1,e+"/"+c.toString())}).join(",")+"]";a._tag!=="i64"&&c("FBLogger")("messenger_web_product").warn("LSJson payload contains untagged i64: %s",e);return(h||(h=d("I64"))).to_string(a)}else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+k(a,b+1,e+"/"+d);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: "+(a===null?"null":typeof a)+", path: "+e,"messenger_comet")}g.parse=a;g.stringify=k}),98);
__d("LSDeserializeFromJsonIntoDictionaryV2.nop",["LSDict","LSJson","Promise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){a=d("LSJson").parse(f,{useLSTypes:!0});if(a instanceof c("LSDict"))return(h||(h=b("Promise"))).resolve([a]);throw c("unrecoverableViolation")("unexpected Dictionary type","messenger_web_product")};g["default"]=a}),98);
__d("LSGetIfViewerIsWorkplaceUser",["gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,b=a[a.length-1],d=[];return d[0]=c("gkx")("26374"),b.resolve(d)}a.__sproc_name__="LSCoreGetIfViewerIsWorkplaceUserStoredProcedure";b=a;g["default"]=b}),98);
__d("LSGetThreadParticipantDisplayName",["LSGetIfViewerIsWorkplaceUser"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetIfViewerIsWorkplaceUser")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[0]?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2352696798]),void 0).then(function(a){return d[4]=a})},function(a){return d[2]=d[4]}]):(b=a.item,d[2]=b.name)})},function(a){return d[1]=d[2]}]):c.sequence([function(b){return c.filter(c.db.table(14).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])}).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.nickname)})},function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?c.sequence([function(a){return d[6]=c.i64.cast([-1,4294967295]),c.localizeV2Async(c.i64.cast([0,14617150]),void 0).then(function(a){return d[7]=a})},function(a){return d[4]=d[7]}]):(b=a.item,d[4]=b.firstName==null?b.name:b.firstName)})},function(a){return d[1]=d[2]==null?d[4]:d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetThreadParticipantDisplayNameStoredProcedure";e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";e.exports=a}),null);
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e){var f=e.done;e.value;return f?c.sequence([function(b){return d[0]=a[3]==null?"":a[3],c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:c.i64.cast([0,0]),requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:c.i64.cast([0,0]),capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactVerifyContactRowExistsStoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure";e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2StoredProcedure",["LSVerifyThreadRowExistsV2","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.threadType;d[2]=b.syncGroup;d[3]=b.authorityLevel;return c("LSVerifyThreadRowExistsV2").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWODSProxy",["CurrentMessengerUser","ODS","WABridge","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!((b=c("gkx")("23949"))!=null?b:!1);function a(a,b){var c=a.amount,e=a.entity;a=a.key;b===void 0&&(b=!0);i?(h||(h=d("ODS"))).bumpEntityKey(3185,e,a+"."+(d("CurrentMessengerUser").getAppID()||"unknown"),c):d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{amount:c,entity:e,key:a},b)}g.odsBumpEntityKey=a}),98);
__d("usePolarisFadeTransition",["react","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a){var b=i(5),c=a.duration;a=a.show;var e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={opacity:1},f={opacity:0},g={opacity:0},b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==c?(e=babelHelpers["extends"]({enter:e,from:f,leave:g},c!=null?{config:{duration:c}}:{}),b[3]=c,b[4]=e):e=b[4];return d("react-spring-wwwig").useTransition(a,e)}g["default"]=a}),98);
__d("usePolarisPanAndZoom",["react","react-spring-wwwig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c,j={friction:40,mass:5,tension:350};function a(a,b,c,e){var f=i(9),g=c===void 0?!1:c;f[0]!==e?(c=e===void 0?[]:e,f[0]=e,f[1]=c):c=f[1];e=c;f[2]!==b||f[3]!==a||f[4]!==g?(c=function(){var c;return{config:(c=b)!=null?c:j,from:a,immediate:g,reset:!0,to:a}},f[2]=b,f[3]=a,f[4]=g,f[5]=c):c=f[5];c=d("react-spring-wwwig").useSpring(c,e);e=c[0];c=c[1];var h;f[6]!==c||f[7]!==e?(h={set:c,style:e},f[6]=c,f[7]=e,f[8]=h):h=f[8];return h}g["default"]=a}),98);
__d("PolarisIGAnimate",["PolarisIGAnimated.react","usePolarisFadeTransition","usePolarisPanAndZoom"],(function(a,b,c,d,e,f){"use strict";f.Animated=importDefault("PolarisIGAnimated.react"),f.useFadeTransition=importDefault("usePolarisFadeTransition"),f.usePanAndZoom=importDefault("usePolarisPanAndZoom")}),66);
__d("usePolarisPostToastPosition",["PolarisPostConstants","PolarisPostToastProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.c,k=-4,l=-1,m=16,n=1;function o(a){var b=a.isFeed,c=a.isNarrow,e=a.postToastContainerElem;a=a.setPositionStyles;if(e!=null){e=e.getBoundingClientRect();var f=e.left-(c?m:0);f={left:f};var g=e.right-e.left+(c?2*m:0);b?a({absolutePositionStyles:{left:e.left+n,top:e.bottom+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT-2},width:e.width-n}):a({absolutePositionStyles:babelHelpers["extends"]({},f,{top:e.top+window.pageYOffset-d("PolarisPostConstants").POST_TOAST_HEIGHT+l-(c?k:0)}),width:g})}}function a(a){var b=j(11),c=a.isFeed,e=a.isNarrow;a=d("PolarisPostToastProvider.react").usePostToastContext();var f=a.positionStyles,g=a.postToastContainerElem,h=a.setPositionStyles;a=a.showToast;var k;b[0]!==c||b[1]!==e||b[2]!==g||b[3]!==h?(k=function(){return o({isFeed:c,isNarrow:e,postToastContainerElem:g,setPositionStyles:h})},b[0]=c,b[1]=e,b[2]=g,b[3]=h,b[4]=k):k=b[4];var l;b[5]!==c||b[6]!==e||b[7]!==g||b[8]!==h||b[9]!==a?(l=[c,e,g,h,a],b[5]=c,b[6]=e,b[7]=g,b[8]=h,b[9]=a,b[10]=l):l=b[10];i(k,l);return f}g["default"]=a}),98);
__d("PolarisPostToastImpl.react",["BasePortal.react","ExecutionEnvironment","IGDSText.react","PolarisIGAnimate","PolarisIGCoreButton.react","PolarisPostConstants","PolarisPostStrings","PolarisPostToastProvider.react","PolarisSizing","PolarisUA","browserHistory_DO_NOT_USE","react","stylex","usePolarisDisplayProperties","usePolarisPostToastPosition"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.c,n=3e3,o=350,p={toast:{alignContent:"xc26acl",alignItems:"x6s0dn4",backgroundColor:"xvbhtw8",borderEndColor:"x1nk0tez",borderEndStyle:"xu3j5b3",borderEndWidth:"xm81vs4",borderStartColor:"x1hm1hlx",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",display:"x78zum5",$$css:!0},toastFamiliar:{borderBottomColor:"xh05dso",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}};function a(a){var b=m(27),e=a.isFeedVariant;a=a.isModal;var f;b[0]!==e?(f=e&&d("PolarisUA").isDesktop(),b[0]=e,b[1]=f):f=b[1];var g=f;f=d("PolarisPostToastProvider.react").usePostToastContext();var j=f.ActionText,q=f.BodyText,r=f.actionHref,s=f.setShowToast;f=f.showToast;var t=c("usePolarisDisplayProperties")();t=t.viewportWidth;t=t<d("PolarisSizing").SMALL_SCREEN_MAX;var u;b[2]!==e||b[3]!==t?(u={isFeed:e,isNarrow:t},b[2]=e,b[3]=t,b[4]=u):u=b[4];e=c("usePolarisPostToastPosition")(u);u=(t=e==null?void 0:e.width)!=null?t:0;b[5]!==e||b[6]!==u?(t=e!=null?babelHelpers["extends"]({},e.absolutePositionStyles,{width:u}):null,b[5]=e,b[6]=u,b[7]=t):t=b[7];var v=t,w=u>o;b[8]!==s?(e=function(){var a=window.setTimeout(function(){s(!1)},n);return function(){return window.clearTimeout(a)}},b[8]=s,b[9]=e):e=b[9];l(e);t=f===!0;b[10]!==t?(u={show:t},b[10]=t,b[11]=u):u=b[11];e=d("PolarisIGAnimate").useFadeTransition(u);b[12]!==a?(f=(h||(h=c("ExecutionEnvironment"))).canUseDOM?a?document.body:document.querySelector('[role="main"]'):null,b[12]=a,b[13]=f):f=b[13];b[14]!==v||b[15]!==g||b[16]!==q||b[17]!==r||b[18]!==j||b[19]!==w?(t=function(a,b){return b?k.jsx(d("PolarisIGAnimate").Animated.div,{className:"x10l6tqk xhtitgo",style:babelHelpers["extends"]({},a,v),children:k.jsx("div",{className:(i||(i=c("stylex")))(p.toast,g&&p.toastFamiliar),style:{height:d("PolarisPostConstants").POST_TOAST_HEIGHT},children:k.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np x1szn6h9 xyamay9 x1pi30zi x1l90r2v x1swvt13 xh8yej3",children:[k.jsx("div",{className:"x1iyjqo2",children:k.jsx(c("IGDSText.react").Label,{maxLines:1,textAlign:"start",children:q})}),k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){var a;return d("browserHistory_DO_NOT_USE").redirect((a=r)!=null?a:"/")},children:j!=null&&w?j:d("PolarisPostStrings").POST_PAGE_ACTION_TEXT})]})})}):null},b[14]=v,b[15]=g,b[16]=q,b[17]=r,b[18]=j,b[19]=w,b[20]=t):t=b[20];b[21]!==e||b[22]!==t?(u=e(t),b[21]=e,b[22]=t,b[23]=u):u=b[23];b[24]!==f||b[25]!==u?(a=k.jsx(c("BasePortal.react"),{target:f,children:u}),b[24]=f,b[25]=u,b[26]=a):a=b[26];return a}g["default"]=a}),98);
__d("WAOdsEnums",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({WA_CONNECTIVITY:"wa_connectivity",GET_DEVICES:"armadillo_get_devices",DECRYPTION:"armadillo_msg_decryption",DEVICE_REREG_CHECK:"armadillo_device_rereg_check",DEVICE_REGISTRATION:"armadillo_device_registration",DEVICE_REGISTRATION_NON_EMPLOYEE:"armadillo_device_registration_non_employee",PHASH_MISMATCH:"phash_mismatch",WEB_PLACEHOLDER:"armadillo_web_placeholder",PREKEY_UPLOAD:"armadillo_prekey_upload",PREKEY_DIGEST:"armadillo_prekey_digest",C2C_META_SYNC:"armadillo_c2c_meta_sync",ADMIN_MESSAGE:"armadillo_admin_message",PREVIEW_SNIPPET:"armadillo_snippet",TOTAL_INCOMING_MESSAGE:"armadillo_total_incoming_message",COMPARE_IDENTITY:"armadillo_compare_identity",GET_PREKEY:"armadillo_get_prekey",SECURITY_ALERT_FOR_CONTACT:"armadillo_security_alert_for_contact",SECURITY_ALERT_FOR_SELF:"armadillo_security_alert_for_self",MSG_SEND:"armadillo_message_send",RETRY_MISSING_MSG:"armadillo_retry_missing_msg",REGISTRATION_TYPE:"aramdillo_registration_type",CLOCK_SKEW_UPDATE:"clock_skew_update",STREAM_ERROR:"wajs_stream_error",ICDC:"wajs_icdc",LOAD_MORE_NO_ORIGINAL_MSG_IN_MAW:"load_more_no_original_msg_in_maw",POISON_QUEUE_ENTTITY:"armadillo_poison_queue_entity",PQ_MIGRATION:"wajs_pq_migration",WORM:"wajs_worm",CAT_ROTATION:"cat_rotation",EB_RESTORE:"eb_restore",WA_DISCONNECT:"armadillo_disconnect",GROUP_CREATE:"armadillo_group_create",GROUP_DELETE:"armadillo_group_delete",GROUP_ADD_PARTICIPANT:"armadillo_group_add_participant",GROUP_PROMOTE_PARTICIPANT:"armadillo_group_promote_participant",GROUP_DEMOTE_PARTICIPANT:"armadillo_group_demote_participant",GROUP_REMOVE_PARTICIPANT:"armadillo_group_remove_participant",GROUP_LEAVE_PARTICIPANT:"armadillo_group_leave_participant",GROUP_SKS_INVALID:"armadillo_group_sks_invalid",SEND_READ_RECEIPTS:"armadillo_send_read_receipts",MESSAGE_MISSING_THREAD_JID:"MESSAGE_MISSING_THREAD_JID",MESSAGE_MISSING:"MESSAGE_MISSING",MAW_NON_TIMEOUT:"maw_non_timeout",MAW_TIMEOUT:"maw_timeout",WA_FAIL_STANZA_QUEUE_ITEM:"wa_fail_stanza_queue_item",WA_QUERY_GROUP:"wa_query_group",MAW_MISMATCH_PARTICIPANT:"maw_mismatch_participant",MAW_ONE_TO_ONE_THREAD_PARTICIPANT_CLEANUP:"maw_one_to_one_thread_participant_cleanup",MAW_THREADID_DEPRECATION:"maw_threadid_deprecation",MAW_THREADID_DEPRECATION_DETAILS:"maw_threadid_deprecation_details",MAW_DELETE_DANGLING_PARTICIPANTS:"maw_delete_dangling_participants",S2S_QPL_MISSING_INSTANCE_KEY:"s2s_qpl_missing_instance_key",MAW_DEPRECATED_REDIRECT:"maw_deprecated_redirect",MAW_MUTATION_VALIDATOR:"maw_mutation_validator",MAW_THREAD_UPDATE_MIDDLEWARE:"maw_thread_update_middleware",MAW_MY_USER_JID_GETTER:"maw_my_user_jid_getter",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key",WA_LONG_SESSION_DROP:"wa_long_session_drop",MAW_SEND_REACTION:"maw_send_reaction",MAW_XMA_PROTOCOL_PARSING:"maw_xma_protocol_parsing",IGDW_INSTAMADILLO_MESSAGE_ON_OLD_WORKER:"igdw_new_msg_old_worker",WORKER_SCHEDULER_STUCK:"worker_scheduler_stuck"});f.Entity=a}),66);
__d("getSendPostToInstamadilloRecipient",["fbt","I64","IGDDataclassTypes.flow","LSAuthorityLevel","LSMessageReplySourceTypeV2","LSMessageSendStatus","asyncToGeneratorRuntime","issueSendInstamadilloXMAReceiverFetch","renderInstamadilloOptimisticXmaReceiverFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,e,f,g,j){var k={__typename:"XMSGIgReceiverFetchXmaFeedFetchParams",media_igid:a};e={__typename:"XMSGIgXmaContentRefDataclass",action_type:d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Share,content_type:d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.Feed,fetch_params:k,owner_fbid:e,target_url:g,username:f};var l={contentRef:JSON.stringify(e)},m={authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),isForwarded:j,replySourceTypeV2:j===!0?(i||(i=d("I64"))).of_int32(c("LSMessageReplySourceTypeV2").FORWARD):void 0,sendStatus:i.of_int32(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},n={actionUrl:g,nativeUrl:g,targetId:i.of_string(a),type_:"igd_web_post_share"},o={authorityLevel:i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),subtitleText:h._("__JHASH___C2jDMKyMih__JHASH__").toString(),titleText:f};return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e,f,g){try{var h=(yield c("renderInstamadilloOptimisticXmaReceiverFetch")(a,l,k,o,n,m));yield c("issueSendInstamadilloXMAReceiverFetch")({comment:e,isDisappearingModeSettingOn:b,offlineThreadingId:h,openEb:d,receiverFetchXma:JSON.stringify(l),threadKey:a});f==null?void 0:f(a)}catch(b){g==null?void 0:g(b,a)}});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}()}g["default"]=a}),226);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("leven-2.1.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=[],b=[];g.exports=function(c,d){if(c===d)return 0;var e=c;c.length>d.length&&(c=d,d=e);e=c.length;var f=d.length;if(e===0)return f;if(f===0)return e;while(e>0&&c.charCodeAt(~-e)===d.charCodeAt(~-f))e--,f--;if(e===0)return f;var g=0;while(g<e&&c.charCodeAt(g)===d.charCodeAt(g))g++;e-=g;f-=g;if(e===0)return f;var h,i,j,k=0,l=0;while(k<e)b[g+k]=c.charCodeAt(g+k),a[k]=++k;while(l<f){c=d.charCodeAt(g+l);i=l++;h=l;for(k=0;k<e;k++)j=c===b[g+k]?i:i+1,i=a[k],h=a[k]=i>h?j>h?h+1:j:j>i?i+1:j}return h}}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("leven",["leven-2.1.0"],(function(a,b,c,d,e,f){e.exports=b("leven-2.1.0")()}),null);/*FB_PKG_DELIM*/
__d("EncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYISingleton","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Issuing next range query for thread with thread key ",", server generated next reference timestamp: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["nextTimestampMs was not supplied for thread with thread key ","."]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["handling message range query for thread with thread key ",", hasMoreBefore: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread key for thread id: ",""]);l=function(){return a};return a}function a(a,b,c,e,f,g,n){var o=d("EncryptedBackupsDYISingleton").getSingleton(),p=o.getLogger();o=o.getThreadKeyForThreadId(b);if(o==null){p.WARN(l(),b);return}void p.LOG(k(),b,e);c.length>0&&g(o,b,c);if(!e||f==null){e&&f==null&&void p.ERROR(j(),b);m(o);return}g=(h||(h=d("I64"))).to_string(f);void p.LOG(i(),b,g);void n(a,g,b)}function m(a){var b=d("EncryptedBackupsDYISingleton").getSingleton();b.deleteThreadKeyFromThreadsRestoreInProgress(a)}g.handleMessageRangeQueryRestore=a}),98);
__d("EncryptedBackupsDYIMediaDownloadHandlers",["EncryptedBackupsDYIFileUtils","EncryptedBackupsDYISingleton","FBLogger","Promise","WAResultOrError","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){f=(yield d("EncryptedBackupsDYIFileUtils").getMediaFolderHandle());b=b.split("/")[1];b=c("uuidv4")()+"."+b;yield d("EncryptedBackupsDYIFileUtils").writeFile(f,b,e);f=d("EncryptedBackupsDYISingleton").getSingleton();f.setMediaUrlByPlainTextHash(a,d("EncryptedBackupsDYIFileUtils").DyiMediaFolder+"/"+b);f.deletePlaintextHashFromAttachmentDownloadsInProgress(a);return d("WAResultOrError").makeResult()});return function(b,c,d,e){return a.apply(this,arguments)}}();e=function(){c("FBLogger")("labyrinth_web").debug("[DYIMediaPreviewHandler] Skipping previews for DYI");return(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeResult())};g.DYIMediaDownloadHandler=a;g.DYIMediaPreviewHandler=e}),98);
__d("MAWMIMediaDownloader",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueAttachmentRestoreTaskStoredProcedure","LSMEBTaskCreationSource","MAWCastToMsgrServerMediaType","MAWThreadKeyUtils","MebMIMediaDownloader","MediaDownloadMediator","WAMediaUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var g=e.prototype;g.handle=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);d("MediaDownloadMediator").mapDeliveryObjectIdToMediaDownloader(d("WAMediaUtils").stringToDeliveryObjectId(this.mediaDownloadMetadata.deliveryObjectId),this);var e=d("MAWCastToMsgrServerMediaType").castToMsgrServerMediaType(this.mediaDownloadMetadata.mediaType);if(e==null)throw c("FBLogger")("labyrinth_web").mustfixThrow("Unsupported media type");var g=d("MAWThreadKeyUtils").stringThreadKeyToString(this.mediaDownloadMetadata.threadKey);yield b.runInTransaction(function(b){return c("LSIssueAttachmentRestoreTaskStoredProcedure")(c("LSFactory")(b),{backupEntFbid:(i||(i=d("I64"))).of_string(a.mediaDownloadMetadata.backupEntFbid),deliveryObjectId:a.mediaDownloadMetadata.deliveryObjectId,mediaType:e,messageId:a.mediaDownloadMetadata.messageId,productType:a.mediaDownloadMetadata.productType,serverThreadKey:g,sortOrder:i.of_float(a.mediaDownloadMetadata.sortOrder),source:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").MSGR_DYI),threadId:a.mediaDownloadMetadata.threadId})},"readwrite",void 0,void 0,f.id+":49")});function e(){return a.apply(this,arguments)}return e}();return e}(c("MebMIMediaDownloader"));g.MAWMIMediaDownloader=a}),98);
__d("EncryptedBackupsDYIMessageProcessingUtils",["EncryptedBackupsDYIMediaDownloadHandlers","EncryptedBackupsDYISingleton","IGDMIMediaDownloader","MAWMIMediaDownloader","MebWAMediaDownloader","Promise","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Failed to resign CDN URL: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Media CDN URL has expired and should be renewed"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Successfully downloaded media"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] Failed to download media"]);l=function(){return a};return a}function a(a,b){return{isUnsent:!1,media:new Set(),reactions:[],senderName:m(a),text:"",timestamp:(a=b)!=null?a:0,type:""}}function m(a){var b=d("EncryptedBackupsDYISingleton").getSingleton(),c="Unknown User";if(a!=null){b=b.getContactNameForContactId(a);b!=null&&(c=b)}return c}function c(a,c,e,f,g,m,n,o,p,q){var r=d("EncryptedBackupsDYISingleton").getSingleton(),s=r.getLogger(),t={author:d("WAJids").toMsgrUserJid(n),chat:d("WAJids").toMsgrUserJid(g),externalId:o},u={hash:p,isUrlRenewed:!1,mediaEntry:f,protocolMsgId:t,sortOrderMs:q};n={onDownloadError:function(){void s.ERROR(l(),u.hash);r.deletePlaintextHashFromAttachmentDownloadsInProgress(u.hash);return(h||(h=b("Promise"))).resolve()},onDownloadSuccess:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){void s.LOG(k(),u.hash);var b=a.mimeType;a=a.plaintext;yield d("EncryptedBackupsDYIMediaDownloadHandlers").DYIMediaDownloadHandler(u.hash,b,a,t)});function c(b){return a.apply(this,arguments)}return c}(),onUrlExpired:function(){void s.LOG(j(),u.hash);return(h||(h=b("Promise"))).resolve()}};var v=new(d("MebWAMediaDownloader").MebWAMediaDownloader)(u,n,a),w=f.serverMediaType;f=f.objectId;if(w!=null&&f!=null&&typeof q==="number"){c={backupEntFbid:c,deliveryObjectId:f,hash:p,mediaType:w,messageId:o,productType:e,sortOrder:q,threadId:g,threadKey:m};f={onResignCdnUrlFailure:function(a){void s.ERROR(i(),u.hash,a.message);r.deletePlaintextHashFromAttachmentDownloadsInProgress(u.hash);return(h||(h=b("Promise"))).resolve()},onResignCdnUrlSuccess:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){});function c(){return a.apply(this,arguments)}return c}()};p=e==="msgr"?new(d("MAWMIMediaDownloader").MAWMIMediaDownloader)(c,f):new(d("IGDMIMediaDownloader").IGDMIMediaDownloader)(c,f);v.setNextHandler(p);p.setNextHandler(new(d("MebWAMediaDownloader").MebWAMediaDownloader)(u,n,a))}void v.handle()}g.buildBaseDyiMessage=a;g.getSenderName=m;g.startMediaDownloadChain=c}),98);
__d("EncryptedBackupsDYIThreadsRestore",["EncryptedBackupsDYIGenerateThreadMetadata","EncryptedBackupsDYISingleton","FBLogger","I64","LSFactory","LSThreadsRangesQueryStoredProcedure","MAWThreadKeyUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["mailbox is null"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["DYI failed during thread restore with error ",". Exiting DYI"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Calling initial message range query for ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["No thread ID found for thread with threadKey ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Retrieved thread metadata for thread with threadKey ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Metadata generation complete"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Found a total of "," contacts"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Contact sync complete"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Found "," E2EE threads"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["E2EE DYI - starting thread restore"]);s=function(){return a};return a}a=function(){function a(a,b,e){this.$1=!1,this.$2=(i||(i=d("I64"))).zero,this.$3=i.zero,this.$6=function(){throw c("FBLogger")("labyrinth_web").mustfixThrow("fetchMoreMessages not initialised")},this.$7=function(){throw c("FBLogger")("labyrinth_web").mustfixThrow("threadsFilter not initialised")},this.$8=function(){throw c("FBLogger")("labyrinth_web").mustfixThrow("threadKeyGenerator not initialised")},this.$4=d("EncryptedBackupsDYISingleton").getSingleton(),this.$5=this.$4.getLogger(),this.$6=a,this.$7=b,this.$8=e}var e=a.prototype;e.abort=function(){this.$1=!1,this.resetState()};e.startDYI=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=this,b=d("EncryptedBackupsDYISingleton").getSingleton();try{if(this.$1){b.logDYIQPLPoint("dyi_already_in_progress");return}b.logDYIQPLPoint("thread_restore_start");void this.$5.LOG(s());this.resetState();this.$1=!0;b.logDYIQPLPoint("threads_fetch_start");var c=(yield this.$4.getDB());yield this.$9(c);var e=(yield this.$10(c));b.logDYIQPLPoint("threads_fetch_end",{"int":{thread_count:e.length}});if(e.length===0){var f;yield (f=this.$4)==null?void 0:f.exitDYIEarly(!0,e.length);b.logDYIQPLPoint("no_e2ee_threads");return this.resetState()}void this.$5.LOG(r(),e.length);f=e.map(function(a){return d("MAWThreadKeyUtils").stringThreadKeyFromThreadKey(a.threadKey)});yield this.$8(c);b.logDYIQPLPoint("contacts_sync_start");yield this.$11(c,new Set(f));yield d("EncryptedBackupsDYIGenerateThreadMetadata").EncryptedBackupsDYIGenerateThreadMetadata(f);e=(e=this.$4)==null?void 0:e.getContactNameMap().size;b.logDYIQPLPoint("contacts_sync_end",{"int":{contact_count:e}});void this.$5.LOG(q());e!=null&&void this.$5.LOG(p(),e);void this.$5.LOG(o());(e=this.$4)==null?void 0:e.getThreadMetadataMap().forEach(function(b,c){void a.$5.LOG(n(),c)});f.forEach(function(d){var e,f=b.getThreadIdForThreadKey(d);if(f==null){void a.$5.WARN(m(),d);return}void a.$5.LOG(l(),f);(e=a.$4)==null?void 0:e.addThreadKeyToThreadsRestoreInProgress(d);void a.$6(c,f)});this.resetState();b.logDYIQPLPoint("thread_restore_end")}catch(a){b.logDYIQPLPoint("thread_restore_failure");void this.$5.ERROR(k(),a);this.abort();yield (e=this.$4)==null?void 0:e.exitDYIEarly(!0)}});function c(){return a.apply(this,arguments)}return c}();e.resetState=function(){this.$1=!1,this.$2=(i||(i=d("I64"))).zero,this.$3=i.zero};e.$12=function(a,b,e){void a.runInTransaction(function(a){return c("LSThreadsRangesQueryStoredProcedure")(c("LSFactory")(a),{additionalPagesToFetch:(i||(i=d("I64"))).zero,isLoadingAfter:!1,isLoadingBefore:!0,maxLastActivityTimestampMs:i.max_int,maxThreadKey:i.max_int,minLastActivityTimestampMs:b,minThreadKey:e,parentThreadKey:i.zero,shouldSkipE2eeThreadsRanges:!1})},"readwrite",void 0,void 0,f.id+":197")};e.$9=function(a){var c=this;return new(h||(h=b("Promise")))(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){try{var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.inbox_threads_ranges).getKeyRange((i||(i=d("I64"))).of_int32(1))));if(f==null){c.$5.ERROR(j());e();return}if(f.hasMoreBefore){yield c.$13(a,b);c.$2=f.minThreadKey;c.$3=f.minLastActivityTimestampMs;c.$12(a,f.minLastActivityTimestampMs,f.minThreadKey);return}else{b();return}}catch(a){e(a)}});return function(a,b){return e.apply(this,arguments)}}())};e.$13=function(a,c){var e=this,f=d("ReQL").fromTableAscending(a.tables.inbox_threads_ranges,["hasMoreBefore","minThreadKey","minLastActivityTimestampMs"]).getKeyRange((i||(i=d("I64"))).of_int32(1)),g={contents:function(){}};g.contents=f.subscribe(function(b,f){if(f.operation==="put"){b=f.value;f=b.hasMoreBefore;var h=b.minLastActivityTimestampMs;b=b.minThreadKey;if(f){(!(i||(i=d("I64"))).equal(b,e.$2)||!(i||(i=d("I64"))).equal(h,e.$3))&&(e.$2=b,e.$3=h,e.$12(a,h,b));return}c();g.contents()}});return(h||(h=b("Promise"))).resolve()};e.$10=function(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.threads).filter(this.$7))};e.$11=function(a,c){var e=this;return new(h||(h=b("Promise")))(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,f){f=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.participants,["threadKey","contactId"]).filter(function(a){return a.threadKey!=null&&c.has(d("MAWThreadKeyUtils").stringThreadKeyFromThreadKey(a.threadKey))})));var g=new Set(f.map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)})),h={contents:function(){}};h.contents=d("ReQL").fromTableAscending(a.tables.contacts,["id"]).subscribe(function(c,f){if(f.operation==="add"){c=f.value.id;g.has((i||(i=d("I64"))).to_string(c))&&(e.$14(a,g)&&(b(),h.contents()))}});f=e.$14(a,g);if(f){h.contents();b();return}});return function(a,b){return f.apply(this,arguments)}}())};e.$15=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.contacts)));return new Set(a.map(function(a){return(i||(i=d("I64"))).to_string(a.id)}))});function c(b){return a.apply(this,arguments)}return c}();e.$14=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield this.$15(a));return b.size===0||Array.from(b).every(function(a){return c.has(a)})});function c(b,c){return a.apply(this,arguments)}return c}();return a}();g.EncryptedBackupsDYIThreadsRestoreBase=a}),98);
__d("IGDEncryptedBackupsDYIProcessProtobufs",["EncryptedBackupsDYIMessageProcessingUtils","EncryptedBackupsDYISingleton","FBLogger","IGDMediaUtils","InstamadilloTransportPayload.pb","MebWAMediaDownloader","MessageBackupSupplementalKeyGenerator","WAArmadilloBackupMessage.pb","WAHashUtils","WAMediaUtils","WAStanzaUtils","decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Handling protobuf processing for restored message batch for thread with thread key ",""]);h=function(){return a};return a}function i(a,b){if(a.text!=null){b.text=a.text;b.type="text";return{dyiOutputObject:b,success:!0}}else{c("FBLogger")("labyrinth_web").mustfix("Instamadillo DYI - Unable to find a valid text object in protobuf");return{dyiOutputObject:b,success:!1}}}function j(a,b){var c,d;if(a.avatarSticker!=null)d=a.avatarSticker.mediaTransport,c="Sticker";else if(a.gif!=null)d=a.gif.mediaTransport,c="Gif";else if(a.staticPhoto!=null)d=a.staticPhoto.mediaTransport,c="Image";else if(a.video!=null)d=a.video.mediaTransport,c="Video";else if(a.voice!=null)d=a.voice.mediaTransport,c="Ptt";else if(a.raven!=null){var e;if(((e=a.raven.content)==null?void 0:e.staticPhoto)!=null){d=(e=a.raven.content)==null?void 0:e.staticPhoto.mediaTransport;c="Image"}else if(((e=a.raven.content)==null?void 0:e.video)!=null){d=(e=a.raven.content)==null?void 0:e.video.mediaTransport;c="Video"}}b.type="media";return{mediaTransport:d,mediaType:c}}function k(a,b,e,f,g,h,i,j,k){if(b!=null&&a!=null){var l=b==null?void 0:b.fileSha256,m=b==null?void 0:b.objectId;if(l!=null&&m!=null&&i!=null&&j!=null){e.type="media";l=d("WAHashUtils").stringToPlaintextHash(l);e.media.add(l);d("WAMediaUtils").stringToDeliveryObjectId(m);if(!f.isAttachmentDownloadInProgressForPlaintextHash(l)&&!f.isAttachmentDownloadCompleteForPlaintextHash(l)){f.addPlaintextHashToAttachmentDownloadsInProgress(l);m=d("IGDMediaUtils").mediaTransportToDecodedMediaEntry(b,a);m!=null&&void d("EncryptedBackupsDYIMessageProcessingUtils").startMediaDownloadChain(d("MebWAMediaDownloader").MebWADownloadMediaFromWorker,"-1","igd",m,g,h,i,k,l,j)}return{dyiOutputObject:e,success:!0}}}c("FBLogger")("labyrinth_web").mustfix("Instamadillo DYI - Unable to parse media object and initiate attachment download");return{dyiOutputObject:e,success:!1}}function l(a,b,d,e,f,g,h,i){b.type="link";var l=a.contentRef,m=a.text;a=a.media;var n=!0;if(l!=null){var o=JSON.parse(l);o=o.target_url;o!=null&&(b.url=o)}m!=null&&(b.text=m);if(a!=null){o=j(a,b);var p=o.mediaTransport;o=o.mediaType;o=k(o,p,b,d,e,f,g,h,i);p=o.success;n=p}m==null&&a==null&&l==null&&c("FBLogger")("labyrinth_web").warn("Instamadillo DYI - Unable to find a valid url, text, or media in receiver fetch xma protobuf");return{dyiOutputObject:b,success:n}}function m(a,b){if(a.text!=null){b.text=a.text;b.type="link";return{dyiOutputObject:b,success:!0}}else{c("FBLogger")("labyrinth_web").mustfix("Instamadillo DYI - Unable to find retrieve link content from link protobuf");return{dyiOutputObject:b,success:!1}}}function n(a){a.type="like";a.text="heart_emoji";return{dyiOutputObject:a,success:!0}}function o(a,b,d,e,f,g,h,o){var p=a.content,q;if(p!=null)if(p.text!=null)q=i(p.text,b);else if(p.media!=null){a=j(p.media,b);var r=a.mediaTransport;a=a.mediaType;q=k(a,r,b,d,e,f,g,h,o)}else if(p.link!=null)q=m(p.link,b);else if(p.receiverFetchXma!=null)q=l(p.receiverFetchXma,b,d,e,f,g,h,o);else if(p.like!=null)q=n(b);else if(p.collection!=null){var s=!0;p.collection.media.forEach(function(i){i=j(i,b);var a=i.mediaTransport;i=i.mediaType;i=k(i,a,b,d,e,f,g,h,o);a=i.success;if(!a){c("FBLogger")("labyrinth_web").mustfix("Instamadillo DYI - Media download failed for attachment in collection message protobuf. Attempting to download a total of %d attachments in this collection protobuf",(i=p.collection)==null?void 0:i.media.length)}s=a&&s});q={dyiOutputObject:b,success:s}}(q!=null&&!q.success||q==null)&&c("FBLogger")("labyrinth_web").mustfix("Instamadillo DYI - Unable to successfully process add message protobuf for thread");return q}function p(a,b){a=a.content;if(a!=null){var e;if(((e=a.reaction)==null?void 0:e.emoji)!=null&&((e=a.reaction)==null?void 0:e.reactionStatus)!=null){return{actor:d("EncryptedBackupsDYIMessageProcessingUtils").getSenderName(b),reaction:((e=a.reaction)==null?void 0:e.emoji)||""}}}c("FBLogger")("labyrinth_web").warn("Instamadillo DYI - Unable to process supplemental protobuf reaction for thread");return null}function q(a){a=a.content;if(a!=null){var b;if(((b=a.editText)==null?void 0:b.newContent)!=null)return{editCount:a.editText.editCount,text:a.editText.newContent}}c("FBLogger")("labyrinth_web").warn("Instamadillo DYI - Unable to process supplemental protobuf edit for thread");return null}function r(a,b){if(b.length===0)return a;if(b.length===1)return b[0].text;b=b.filter(function(a){a=a.editCount;return a!=null});if(b.length>0){b=[].concat(b).sort(function(a,b){return b.editCount-a.editCount});return b[0].text}return a}function a(a,b,e){var f=d("EncryptedBackupsDYISingleton").getSingleton(),g=f.getLogger();void g.LOG(h(),b);e.forEach(function(e){try{var g,h=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,e.toplevelProtobuf.decryptedProtobuf),i=d("decodeProtobuf").decodeProtobuf(d("InstamadilloTransportPayload.pb").TransportPayloadSpec,h.payload),j=d("WAStanzaUtils").toStanzaId(e.otid);g=(g=h.metadata)==null?void 0:g.senderId;h=(h=h.metadata)==null?void 0:h.timestampMs;var k=[],l=d("EncryptedBackupsDYIMessageProcessingUtils").buildBaseDyiMessage(g,h);if(i!=null&&i.add!=null&&h!=null){i=i.add;i=o(i,l,f,b,a,g,h,j);i!=null&&(l=i.dyiOutputObject)}for(g=e.supplementalProtobufs,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(h){if(i>=g.length)break;e=g[i++]}else{i=g.next();if(i.done)break;e=i.value}e=e;var m=e[0];e=e[1];var n=d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufAReaction(m),s=d("MessageBackupSupplementalKeyGenerator").isSupplementalProtobufAnEdit(m);if(!n&&!s)continue;e=d("decodeProtobuf").decodeProtobuf(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,e.decryptedProtobuf);e=d("decodeProtobuf").decodeProtobuf(d("InstamadilloTransportPayload.pb").TransportPayloadSpec,e.payload);m=d("MessageBackupSupplementalKeyGenerator").getSupplementalSenderId(m);if(n&&e.supplement!=null){n=p(e.supplement,m);n!=null&&l.reactions.push(n)}if(s&&e.supplement!=null){m=q(e.supplement);m!=null&&k.push(m)}}k.length>0&&(l.text=r(l.text,k));f.setMessagesByThreadKey(a,j,l)}catch(a){c("FBLogger")("labyrinth_web").catching(a).mustfix("Instamadillo DYI: Failed to decode protobuf during DYI")}})}g.processEBProtobufForDYIInstamadillo=a}),98);
__d("LSIssueInstamadilloDYIRangeQueryTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewEbTaskAndGetTaskIDV2","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueInstamadilloDYIRangeQueryTaskStoredProcedure] Unable to get the client state."),d[2]=c.createArray(),void 0!==void 0?d[10]=(d[2].push(void 0),d[2]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueInstamadilloDYIRangeQueryTaskStoredProcedure","Unable to get the client state.",d[2],c.i64.cast([0,3]))},function(e){return d[3]=new c.Map(),d[3].set("error_code",c.i64.cast([0,9])),d[3].set("error_message",a[4]==null?"":a[4]),d[3].set("stored_procedure","issueInstamadilloDYIRangeQueryTask"),d[4]=new c.Map(),d[4].set("act_thread_id",c.i64.to_string(a[1])==null?"":c.i64.to_string(a[1])),d[4].set("source",a[6]),d[4].set("request_id",void 0),d[4].set("restore_operation_type",c.i64.cast([0,2])),d[5]=new c.Map(),d[5].set("restore_context",d[4]),d[5].set("failure",d[3]),d[6]=d[5].get("restore_context"),d[5],d[7]=d[6].get("act_thread_id"),d[6],d[8]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[7]].join(""),c.i64.cast([0,50047]),d[8],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[0]=!1}]):(f=e.item,c.sequence([function(a){return d[9]=f.deviceId,d[8]=f.backupTenancy,d[7]=f.encryptionVersion,d[2]=void 0,c.i64.neq(d[2],void 0)?c.resolve(d[3]=d[2]):c.sequence([function(a){return d[10]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[11]=a[0],a})},function(a){return d[11]?d[20]=(d[10].push(c.i64.cast([0,0])),d[10]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[12]?d[20]=(d[10].push(c.i64.cast([0,2])),d[10]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[13]?d[20]=(d[10].push(c.i64.cast([0,3])),d[10]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[20]=(d[10].push(c.i64.cast([0,4])),d[10]):0,d[15]=c.createArray(),d[16]=c.i64.of_int32(d[10].length),c.i64.gt(d[16],c.i64.cast([0,0]))?c.loopAsync(d[16],function(a){return d[20]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[10],d[20]).then(function(a){return a=a,d[21]=a[0],d[22]=a[1],a})},function(a){return d[23]=(d[15].push(d[21]),d[15])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[20]=c.createArray(),d[21]=c.i64.of_int32(d[15].length),c.i64.gt(d[21],c.i64.cast([0,0]))?c.loopAsync(d[21],function(a){return d[23]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[15],d[23]).then(function(a){return a=a,d[24]=a[0],d[25]=a[1],a})},function(a){return d[26]=(d[20].push(c.i64.to_string(d[24])),d[20])}])}):c.resolve()},function(a){return d[22]=d[20].join(","),d[17]=d[22]}])},function(a){return d[15].some(function(a){return c.i64.eq(d[7],a)})?d[18]=d[7]:d[18]=void 0,c.i64.neq(d[18],void 0)?d[19]=d[18]:d[19]=void 0,d[3]=d[19]}])},function(e){return c.i64.neq(d[3],void 0)?d[4]=d[3]:d[4]=c.i64.cast([0,0]),c.i64.neq(d[8],void 0)?d[5]=d[8]:d[5]=c.i64.cast([0,1]),c.i64.neq(d[9],void 0)?c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.sequence([function(e){return d[10]=new c.Map(),d[10].set("act_thread_id",c.i64.to_string(a[1])),d[10].set("request_id",a[4]),d[10].set("source",a[6]),c.nativeOperation(b("LSBase64Encode.nop"),f.ocmfClientStateBlob).then(function(a){return a=a,d[11]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),f.mailboxRootKeyBlob).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[13]=new c.Map(),d[13].set("ocmf_client_state_blob",d[11]==null?"":d[11]),d[13].set("mailbox_root_key",d[12]==null?"":d[12]),d[14]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[26]=(d[14].push(a.epochId),d[14])})},function(a){return d[24]="Queried locally available epochs. Count: ",d[15]=c.i64.of_int32(d[14].length),d[25]=c.i64.to_string(d[15]),d[16]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[16],d[24],d[16],d[25]].join("")),c.resolve()},function(e){return d[17]=new c.Map(),d[17].set("device_id",d[9]),d[17].set("raw_tokens",d[13]),d[17].set("locally_available_epochs",d[14]),d[18]=new c.Map(),d[18].set("reference_timestamp",a[3]),d[18].set("direction",c.i64.cast([0,1])),d[18].set("server_thread_key",a[1]),d[18].set("device_context",d[17]),d[19]=new c.Map(),d[19].set("restore_context",d[10]),d[19].set("success",d[18]),d[20]=d[19].get("restore_context"),d[19],d[21]=d[20].get("act_thread_id"),d[20],d[22]=c.toJSON(d[19]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[21]].join(""),c.i64.cast([0,50047]),d[22],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[23]=a[0],a})}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueInstamadilloDYIRangeQueryTaskStoredProcedure] server_thread_key is null."),d[10]=c.createArray(),void 0!==void 0?d[18]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueInstamadilloDYIRangeQueryTaskStoredProcedure","server_thread_key is null.",d[10],c.i64.cast([0,3]))},function(e){return d[11]=new c.Map(),d[11].set("error_code",c.i64.cast([0,9])),d[11].set("error_message",a[4]==null?"":a[4]),d[11].set("stored_procedure","issueInstamadilloDYIRangeQueryTask"),d[12]=new c.Map(),d[12].set("act_thread_id",c.i64.to_string(c.i64.cast([-1,4294967295]))==null?"":c.i64.to_string(c.i64.cast([-1,4294967295]))),d[12].set("source",a[6]),d[12].set("request_id",void 0),d[12].set("restore_operation_type",c.i64.cast([0,2])),d[13]=new c.Map(),d[13].set("restore_context",d[12]),d[13].set("failure",d[11]),d[14]=d[13].get("restore_context"),d[13],d[15]=d[14].get("act_thread_id"),d[14],d[16]=c.toJSON(d[13]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[15]].join(""),c.i64.cast([0,50047]),d[16],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[17]=a[0],a})}])},function(a){return d[6]=!0}]):c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsIssueInstamadilloDYIRangeQueryTaskStoredProcedure] Unable to get the client state."),d[10]=c.createArray(),void 0!==void 0?d[18]=(d[10].push(void 0),d[10]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueInstamadilloDYIRangeQueryTaskStoredProcedure","Unable to get the client state.",d[10],c.i64.cast([0,3]))},function(e){return d[11]=new c.Map(),d[11].set("error_code",c.i64.cast([0,9])),d[11].set("error_message",a[4]==null?"":a[4]),d[11].set("stored_procedure","issueInstamadilloDYIRangeQueryTask"),d[12]=new c.Map(),d[12].set("act_thread_id",c.i64.to_string(a[1])==null?"":c.i64.to_string(a[1])),d[12].set("source",a[6]),d[12].set("request_id",void 0),d[12].set("restore_operation_type",c.i64.cast([0,2])),d[13]=new c.Map(),d[13].set("restore_context",d[12]),d[13].set("failure",d[11]),d[14]=d[13].get("restore_context"),d[13],d[15]=d[14].get("act_thread_id"),d[14],d[16]=c.toJSON(d[13]),c.storedProcedure(b("LSIssueNewEbTaskAndGetTaskIDV2"),["encrypted_backups_restore",":",d[15]].join(""),c.i64.cast([0,50047]),d[16],c.i64.cast([0,0]),c.i64.cast([0,93]),c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[17]=a[0],a})},function(a){return d[6]=!1}])},function(a){return d[0]=d[6]}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueInstamadilloDYIRangeQueryTaskStoredProcedure";e.exports=a}),null);
__d("LSIssueInstamadilloDYIRangeQueryTaskStoredProcedure",["LSIssueInstamadilloDYIRangeQueryTask","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.serverThreadKey;d[2]=b.numMessages;d[3]=b.startSortKey;d[4]=b.requestId;d[5]=b.newerNumMessages;d[6]=b.source;return c("LSIssueInstamadilloDYIRangeQueryTask").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("IGDEncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYIHandleMessageRestore","I64","IGDEncryptedBackupsDYIProcessProtobufs","LSFactory","LSIntEnum","LSIssueInstamadilloDYIRangeQueryTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWReStoreDb","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("I64"))).of_int32(c("justknobx")._("1796")),k=(i||(i=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").INSTAMADILLO_DYI),l=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){d("MAWEBRestoreTrackingUtils").markEBRestoreDYI(c("LSMEBTaskCreationSource").INSTAMADILLO_DYI),yield a.runInTransaction(function(a){return c("LSIssueInstamadilloDYIRangeQueryTaskStoredProcedure")(c("LSFactory")(a),{newerNumMessages:(h||(h=d("I64"))).zero,numMessages:j,serverThreadKey:h.of_string(e),source:k,startSortKey:b,threadId:e})},"readwrite",void 0,void 0,f.id+":40")});return function(b,c,d){return a.apply(this,arguments)}}();function a(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var g=(yield d("MAWReStoreDb").getDB(f.id+":60"));void d("EncryptedBackupsDYIHandleMessageRestore").handleMessageRangeQueryRestore(g,a,b,c,e,d("IGDEncryptedBackupsDYIProcessProtobufs").processEBProtobufForDYIInstamadillo,l)});return m.apply(this,arguments)}g.INSTAMADILLO_DYI_BATCH_SIZE=j;g.taskCreationSource=k;g.handleIGDMessageRangeQueryRestore=a}),98);
__d("IGDEncryptedBackupsDYIThreadsRestore",["EncryptedBackupsDYISingleton","EncryptedBackupsDYIThreadsRestore","I64","IGDEncryptedBackupsDYIHandleMessageRestore","IGDInstamadilloUtils","LSFactory","LSIssueInstamadilloDYIRangeQueryTaskStoredProcedure","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWThreadKeyUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){d("MAWEBRestoreTrackingUtils").markEBRestoreDYI(c("LSMEBTaskCreationSource").INSTAMADILLO_DYI),yield a.runInTransaction(function(a){return c("LSIssueInstamadilloDYIRangeQueryTaskStoredProcedure")(c("LSFactory")(a),{newerNumMessages:(h||(h=d("I64"))).zero,numMessages:d("IGDEncryptedBackupsDYIHandleMessageRestore").INSTAMADILLO_DYI_BATCH_SIZE,serverThreadKey:h.of_string(b),source:d("IGDEncryptedBackupsDYIHandleMessageRestore").taskCreationSource,threadId:b})},"readwrite",void 0,void 0,f.id+":39")});return j.apply(this,arguments)}function k(a){return d("IGDInstamadilloUtils").isInstamadilloCutover(a)}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("EncryptedBackupsDYISingleton").getSingleton();a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.threads).filter(k)));a.forEach(function(a){b.setThreadMapping(d("MAWThreadKeyUtils").stringThreadKeyFromThreadKey(a.threadKey),(h||(h=d("I64"))).to_string(a.threadKey))})});return m.apply(this,arguments)}var n=null;function a(){n==null&&(n=new(d("EncryptedBackupsDYIThreadsRestore").EncryptedBackupsDYIThreadsRestoreBase)(i,k,l));return n}g.getInstance=a}),98);
__d("IGDHandleInstamadilloDYIRangeQueryRestore",["IGDEncryptedBackupsDYIHandleMessageRestore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("IGDEncryptedBackupsDYIHandleMessageRestore").handleIGDMessageRangeQueryRestore(a,b,c,e)}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("babel-runtime-7.14.0",["regenerator-runtime-0.13.5"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c,h=a(b("regenerator-runtime-0.13.5"));d={};var i={exports:d};function aa(){function a(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}i.exports=a;i.exports["default"]=i.exports,i.exports.__esModule=!0}var j=!1;function k(){j||(j=!0,aa());return i.exports}f={};var l={exports:f};function ba(){function a(a){var b;typeof Symbol!=="undefined"&&(Symbol.asyncIterator&&(b=a[Symbol.asyncIterator]),b==null&&Symbol.iterator&&(b=a[Symbol.iterator]));b==null&&(b=a["@@asyncIterator"]);b==null&&(b=a["@@iterator"]);if(b==null)throw new TypeError("Object is not async iterable");return b.call(a)}l.exports=a;l.exports["default"]=l.exports,l.exports.__esModule=!0}var m=!1;function ca(){m||(m=!0,ba());return l.exports}a={};var n={exports:a};function da(){function a(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}h.done?b(i):Promise.resolve(i).then(d,e)}function b(b){return function(){var c=this,d=arguments;return new Promise(function(e,f){var g=b.apply(c,d);function h(b){a(g,e,f,h,i,"next",b)}function i(b){a(g,e,f,h,i,"throw",b)}h(void 0)})}}n.exports=b;n.exports["default"]=n.exports,n.exports.__esModule=!0}var o=!1;function ea(){o||(o=!0,da());return n.exports}b={};var p={exports:b};function fa(){function a(a){this.wrapped=a}p.exports=a;p.exports["default"]=p.exports,p.exports.__esModule=!0}var ga=!1;function ha(){ga||(ga=!0,fa());return p.exports}d={};var q={exports:d};function ia(){var a=ha();function b(b){return new a(b)}q.exports=b;q.exports["default"]=q.exports,q.exports.__esModule=!0}var ja=!1;function ka(){ja||(ja=!0,ia());return q.exports}f={};var r={exports:f};function la(){function a(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}r.exports=a;r.exports["default"]=r.exports,r.exports.__esModule=!0}var ma=!1;function na(){ma||(ma=!0,la());return r.exports}a={};var s={exports:a};function oa(){function a(b,c){s.exports=a=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};s.exports["default"]=s.exports,s.exports.__esModule=!0;return a(b,c)}s.exports=a;s.exports["default"]=s.exports,s.exports.__esModule=!0}var pa=!1;function t(){pa||(pa=!0,oa());return s.exports}b={};var u={exports:b};function qa(){function a(){if(typeof Reflect==="undefined"||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(typeof Proxy==="function")return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return!0}catch(a){return!1}}u.exports=a;u.exports["default"]=u.exports,u.exports.__esModule=!0}var ra=!1;function sa(){ra||(ra=!0,qa());return u.exports}d={};var v={exports:d};function ta(){var a=t(),b=sa();function c(d,e,f){b()?(v.exports=c=Reflect.construct,(v.exports["default"]=v.exports,v.exports.__esModule=!0)):(v.exports=c=function(b,c,d){var e=[null];e.push.apply(e,c);c=Function.bind.apply(b,e);b=new c();d&&a(b,d.prototype);return b},(v.exports["default"]=v.exports,v.exports.__esModule=!0));return c.apply(null,arguments)}v.exports=c;v.exports["default"]=v.exports,v.exports.__esModule=!0}var ua=!1;function va(){ua||(ua=!0,ta());return v.exports}f={};var w={exports:f};function wa(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}w.exports=b;w.exports["default"]=w.exports,w.exports.__esModule=!0}var xa=!1;function ya(){xa||(xa=!0,wa());return w.exports}a={};var x={exports:a};function za(){function a(a,b,c){b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}x.exports=a;x.exports["default"]=x.exports,x.exports.__esModule=!0}var Aa=!1;function Ba(){Aa||(Aa=!0,za());return x.exports}b={};var y={exports:b};function Ca(){function a(){y.exports=a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};y.exports["default"]=y.exports,y.exports.__esModule=!0;return a.apply(this,arguments)}y.exports=a;y.exports["default"]=y.exports,y.exports.__esModule=!0}var Da=!1;function Ea(){Da||(Da=!0,Ca());return y.exports}d={};var z={exports:d};function Fa(){function a(b){z.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};z.exports["default"]=z.exports,z.exports.__esModule=!0;return a(b)}z.exports=a;z.exports["default"]=z.exports,z.exports.__esModule=!0}var Ga=!1;function A(){Ga||(Ga=!0,Fa());return z.exports}f={};var B={exports:f};function Ha(){var a=A();function b(b,c){while(!Object.prototype.hasOwnProperty.call(b,c)){b=a(b);if(b===null)break}return b}B.exports=b;B.exports["default"]=B.exports,B.exports.__esModule=!0}var Ia=!1;function Ja(){Ia||(Ia=!0,Ha());return B.exports}a={};var C={exports:a};function Ka(){var a=Ja();function b(c,d,e){typeof Reflect!=="undefined"&&Reflect.get?(C.exports=b=Reflect.get,(C.exports["default"]=C.exports,C.exports.__esModule=!0)):(C.exports=b=function(b,c,d){b=a(b,c);if(!b)return;b=Object.getOwnPropertyDescriptor(b,c);return b.get?b.get.call(d):b.value},(C.exports["default"]=C.exports,C.exports.__esModule=!0));return b(c,d,e||c)}C.exports=b;C.exports["default"]=C.exports,C.exports.__esModule=!0}var La=!1;function Ma(){La||(La=!0,Ka());return C.exports}b={};var D={exports:b};function Na(){var a=t();function b(b,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,writable:!0,configurable:!0}});c&&a(b,c)}D.exports=b;D.exports["default"]=D.exports,D.exports.__esModule=!0}var Oa=!1;function Pa(){Oa||(Oa=!0,Na());return D.exports}d={};var E={exports:d};function Qa(){var a=t();function b(b,c){b.prototype=Object.create(c.prototype),b.prototype.constructor=b,a(b,c)}E.exports=b;E.exports["default"]=E.exports,E.exports.__esModule=!0}var Ra=!1;function Sa(){Ra||(Ra=!0,Qa());return E.exports}f={};var F={exports:f};function Ta(){function a(a){return a&&a.__esModule?a:{"default":a}}F.exports=a;F.exports["default"]=F.exports,F.exports.__esModule=!0}var Ua=!1;function Va(){Ua||(Ua=!0,Ta());return F.exports}a={};var G={exports:a};function Wa(){var a=g("/helpers/typeof")["default"];function b(a){if(typeof WeakMap!=="function")return null;var c=new WeakMap(),d=new WeakMap();return(b=function(a){return a?d:c})(a)}function c(c,d){if(!d&&c&&c.__esModule)return c;if(c===null||a(c)!=="object"&&typeof c!=="function")return{"default":c};d=b(d);if(d&&d.has(c))return d.get(c);var e={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in c)if(g!=="default"&&Object.prototype.hasOwnProperty.call(c,g)){var h=f?Object.getOwnPropertyDescriptor(c,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=c[g]}e["default"]=c;d&&d.set(c,e);return e}G.exports=c;G.exports["default"]=G.exports,G.exports.__esModule=!0}var Xa=!1;function Ya(){Xa||(Xa=!0,Wa());return G.exports}b={};var H={exports:b};function Za(){var a=Ba();function b(b){for(var c=1;c<arguments.length;c++){var d=arguments[c]!=null?Object(arguments[c]):{},e=Object.keys(d);typeof Object.getOwnPropertySymbols==="function"&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable})));e.forEach(function(c){a(b,c,d[c])})}return b}H.exports=b;H.exports["default"]=H.exports,H.exports.__esModule=!0}var $a=!1;function ab(){$a||($a=!0,Za());return H.exports}d={};var I={exports:d};function bb(){function a(a,b){if(a==null)return{};var c={},d=Object.keys(a),e,f;for(f=0;f<d.length;f++){e=d[f];if(b.indexOf(e)>=0)continue;c[e]=a[e]}return c}I.exports=a;I.exports["default"]=I.exports,I.exports.__esModule=!0}var cb=!1;function db(){cb||(cb=!0,bb());return I.exports}f={};var J={exports:f};function eb(){var a=db();function b(b,c){if(b==null)return{};var d=a(b,c),e,f;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(b);for(f=0;f<g.length;f++){e=g[f];if(c.indexOf(e)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(b,e))continue;d[e]=b[e]}}return d}J.exports=b;J.exports["default"]=J.exports,J.exports.__esModule=!0}var fb=!1;function gb(){fb||(fb=!0,eb());return J.exports}a={};var K={exports:a};function hb(){var a=g("/helpers/typeof")["default"],b=k();function c(c,d){return d&&(a(d)==="object"||typeof d==="function")?d:b(c)}K.exports=c;K.exports["default"]=K.exports,K.exports.__esModule=!0}var ib=!1;function jb(){ib||(ib=!0,hb());return K.exports}b={};var L={exports:b};function kb(){function a(a){throw new TypeError('"'+a+'" is read-only')}L.exports=a;L.exports["default"]=L.exports,L.exports.__esModule=!0}var lb=!1;function mb(){lb||(lb=!0,kb());return L.exports}d={};var M={exports:d};function nb(){function a(a){if(Array.isArray(a))return a}M.exports=a;M.exports["default"]=M.exports,M.exports.__esModule=!0}var ob=!1;function pb(){ob||(ob=!0,nb());return M.exports}f={};var N={exports:f};function qb(){function a(a,b){var c=a&&(typeof Symbol!=="undefined"&&a[Symbol.iterator]||a["@@iterator"]);if(c==null)return;var d=[],e=!0,f=!1,g;try{for(c=c.call(a);!(e=(a=c.next()).done);e=!0){d.push(a.value);if(b&&d.length===b)break}}catch(a){f=!0,g=a}finally{try{!e&&c["return"]!=null&&c["return"]()}finally{if(f)throw g}}return d}N.exports=a;N.exports["default"]=N.exports,N.exports.__esModule=!0}var rb=!1;function sb(){rb||(rb=!0,qb());return N.exports}a={};var O={exports:a};function tb(){function a(a,b){(b==null||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}O.exports=a;O.exports["default"]=O.exports,O.exports.__esModule=!0}var ub=!1;function vb(){ub||(ub=!0,tb());return O.exports}b={};var P={exports:b};function wb(){var a=vb();function b(b,c){if(!b)return;if(typeof b==="string")return a(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);d==="Object"&&b.constructor&&(d=b.constructor.name);if(d==="Map"||d==="Set")return Array.from(b);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return a(b,c)}P.exports=b;P.exports["default"]=P.exports,P.exports.__esModule=!0}var xb=!1;function yb(){xb||(xb=!0,wb());return P.exports}d={};var Q={exports:d};function zb(){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Q.exports=a;Q.exports["default"]=Q.exports,Q.exports.__esModule=!0}var Ab=!1;function Bb(){Ab||(Ab=!0,zb());return Q.exports}f={};var R={exports:f};function Cb(){var a=pb(),b=sb(),c=yb(),d=Bb();function e(e,f){return a(e)||b(e,f)||c(e,f)||d()}R.exports=e;R.exports["default"]=R.exports,R.exports.__esModule=!0}var Db=!1;function Eb(){Db||(Db=!0,Cb());return R.exports}a={};var S={exports:a};function Fb(){var a=vb();function b(b){if(Array.isArray(b))return a(b)}S.exports=b;S.exports["default"]=S.exports,S.exports.__esModule=!0}var Gb=!1;function Hb(){Gb||(Gb=!0,Fb());return S.exports}b={};var T={exports:b};function Ib(){function a(a){if(typeof Symbol!=="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}T.exports=a;T.exports["default"]=T.exports,T.exports.__esModule=!0}var Jb=!1;function Kb(){Jb||(Jb=!0,Ib());return T.exports}d={};var U={exports:d};function Lb(){function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}U.exports=a;U.exports["default"]=U.exports,U.exports.__esModule=!0}var Mb=!1;function Nb(){Mb||(Mb=!0,Lb());return U.exports}f={};var V={exports:f};function Ob(){var a=Hb(),b=Kb(),c=yb(),d=Nb();function e(e){return a(e)||b(e)||c(e)||d()}V.exports=e;V.exports["default"]=V.exports,V.exports.__esModule=!0}var Pb=!1;function Qb(){Pb||(Pb=!0,Ob());return V.exports}a={};var W={exports:a};function Rb(){function a(b){typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?(W.exports=a=function(a){return typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0)):(W.exports=a=function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},(W.exports["default"]=W.exports,W.exports.__esModule=!0));return a(b)}W.exports=a;W.exports["default"]=W.exports,W.exports.__esModule=!0}var Sb=!1;function Tb(){Sb||(Sb=!0,Rb());return W.exports}b={};var X={exports:b};function Ub(){var a=ha();function b(b){var c,d;function e(a,b){return new Promise(function(e,g){e={key:a,arg:b,resolve:e,reject:g,next:null};d?d=d.next=e:(c=d=e,f(a,b))})}function f(c,d){try{var e=b[c](d);d=e.value;var h=d instanceof a;Promise.resolve(h?d.wrapped:d).then(function(a){if(h){f(c==="return"?"return":"next",a);return}g(e.done?"return":"normal",a)},function(a){f("throw",a)})}catch(a){g("throw",a)}}function g(a,b){switch(a){case"return":c.resolve({value:b,done:!0});break;case"throw":c.reject(b);break;default:c.resolve({value:b,done:!1});break}c=c.next;c?f(c.key,c.arg):d=null}this._invoke=e;typeof b["return"]!=="function"&&(this["return"]=void 0)}b.prototype[typeof Symbol==="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this};b.prototype.next=function(a){return this._invoke("next",a)};b.prototype["throw"]=function(a){return this._invoke("throw",a)};b.prototype["return"]=function(a){return this._invoke("return",a)};X.exports=b;X.exports["default"]=X.exports,X.exports.__esModule=!0}var Vb=!1;function Wb(){Vb||(Vb=!0,Ub());return X.exports}d={};var Y={exports:d};function Xb(){var a=Wb();function b(b){return function(){return new a(b.apply(this,arguments))}}Y.exports=b;Y.exports["default"]=Y.exports,Y.exports.__esModule=!0}var Yb=!1;function Zb(){Yb||(Yb=!0,Xb());return Y.exports}f={};var Z={exports:f};function $b(){function a(a){return Function.toString.call(a).indexOf("[native code]")!==-1}Z.exports=a;Z.exports["default"]=Z.exports,Z.exports.__esModule=!0}var ac=!1;function bc(){ac||(ac=!0,$b());return Z.exports}a={};var $={exports:a};function cc(){var a=A(),b=t(),c=bc(),d=va();function e(f){var g=typeof Map==="function"?new Map():void 0;$.exports=e=function(e){if(e===null||!c(e))return e;if(typeof e!=="function")throw new TypeError("Super expression must either be null or a function");if(typeof g!=="undefined"){if(g.has(e))return g.get(e);g.set(e,f)}function f(){return d(e,arguments,a(this).constructor)}f.prototype=Object.create(e.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}});return b(f,e)};$.exports["default"]=$.exports,$.exports.__esModule=!0;return e(f)}$.exports=e;$.exports["default"]=$.exports,$.exports.__esModule=!0}var dc=!1;function ec(){dc||(dc=!0,cc());return $.exports}b={};var fc={exports:b};function gc(){fc.exports=h()}var hc=!1;function ic(){hc||(hc=!0,gc());return fc.exports}function c(a){switch(a){case void 0:throw new Error("Cannot require the default exported value from a package listed as excluded");case"/helpers/assertThisInitialized":return k();case"/helpers/asyncIterator":return ca();case"/helpers/asyncToGenerator":return ea();case"/helpers/awaitAsyncGenerator":return ka();case"/helpers/classCallCheck":return na();case"/helpers/construct":return va();case"/helpers/createClass":return ya();case"/helpers/defineProperty":return Ba();case"/helpers/extends":return Ea();case"/helpers/get":return Ma();case"/helpers/getPrototypeOf":return A();case"/helpers/inherits":return Pa();case"/helpers/inheritsLoose":return Sa();case"/helpers/interopRequireDefault":return Va();case"/helpers/interopRequireWildcard":return Ya();case"/helpers/objectSpread":return ab();case"/helpers/objectWithoutProperties":return gb();case"/helpers/objectWithoutPropertiesLoose":return db();case"/helpers/possibleConstructorReturn":return jb();case"/helpers/readOnlyError":return mb();case"/helpers/slicedToArray":return Eb();case"/helpers/toConsumableArray":return Qb();case"/helpers/typeof":return Tb();case"/helpers/wrapAsyncGenerator":return Zb();case"/helpers/wrapNativeSuper":return ec();case"/regenerator":return ic()}}e.exports=c}),null);
__d("react-spring-web",["react-spring-web-9.5.2"],(function(a,b,c,d,e,f){e.exports=b("react-spring-web-9.5.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-composed-ref-1.1.0",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g(),b=function(a,b){if(typeof a==="function"){a(b);return}a.current=b},c=function(c,d){var e=a.useRef();return a.useCallback(function(a){c.current=a;e.current&&b(e.current,null);e.current=d;if(!d)return;b(d,a)},[d])};h["default"]=c}var k=!1;function l(){k||(k=!0,j());return i.exports}function c(a){switch(a){case void 0:return l()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-isomorphic-layout-effect-1.1.2",["react-0.0.0"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h={},i={exports:h};function j(){Object.defineProperty(h,"__esModule",{value:!0});var a=g();a="undefined"!=typeof document?a.useLayoutEffect:a.useEffect;h["default"]=a}var k=!1;function l(){k||(k=!0,j());return i.exports}d={};var m={exports:d};function n(){m.exports=l()}var o=!1;function p(){o||(o=!0,n());return m.exports}function c(a){switch(a){case void 0:return p()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("use-latest-1.2.0",["react-0.0.0","use-isomorphic-layout-effect-1.1.2"],(function(a,b,c,d,e,f){"use strict";function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("react-0.0.0")),h=a(b("use-isomorphic-layout-effect-1.1.2")),i={},j={exports:i};function k(){function a(a){return a&&"object"==typeof a&&"default"in a?a["default"]:a}Object.defineProperty(i,"__esModule",{value:!0});var b=g(),c=a(h());a=function(a){var d=b.useRef(a);return c(function(){d.current=a}),d};i["default"]=a}var l=!1;function m(){l||(l=!0,k());return j.exports}d={};var n={exports:d};function o(){n.exports=m()}var p=!1;function q(){p||(p=!0,o());return n.exports}function c(a){switch(a){case void 0:return q()}}e.exports=c}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("react-textarea-autosize-8.3.2",["babel-runtime-7.14.0","react-0.0.0","use-latest-1.2.0","use-composed-ref-1.1.0"],(function(a,b,c,d,e,f){"use strict";var g=b("babel-runtime-7.14.0"),h=b("react-0.0.0"),i=b("use-latest-1.2.0"),j=b("use-composed-ref-1.1.0"),k={},l={exports:k};function m(){Object.defineProperty(k,"__esModule",{value:!0});var a=g("/helpers/extends"),b=g("/helpers/objectWithoutPropertiesLoose"),c=h(),d=i(),e=j();function f(a){return a&&a.__esModule?a:{"default":a}}var l=f(d),m=f(e),n={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},o=function(a){Object.keys(n).forEach(function(b){a.style.setProperty(b,n[b],"important")})},p=null,q=function(a,b){a=a.scrollHeight;return b.sizingStyle.boxSizing==="border-box"?a+b.borderSize:a-b.paddingSize};function r(a,b,c,d){c===void 0&&(c=1);d===void 0&&(d=Infinity);p||(p=document.createElement("textarea"),p.setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),o(p));p.parentNode===null&&document.body.appendChild(p);var e=a.paddingSize,f=a.borderSize,g=a.sizingStyle,h=g.boxSizing;Object.keys(g).forEach(function(a){a=a;p.style[a]=g[a]});o(p);p.value=b;b=q(p,a);p.value="x";a=p.scrollHeight-e;c=a*c;h==="border-box"&&(c=c+e+f);b=Math.max(c,b);c=a*d;h==="border-box"&&(c=c+e+f);b=Math.min(c,b);return[b,a]}var s=function(){},t=function(a,b){return a.reduce(function(a,c){a[c]=b[c];return a},{})},u=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],v=typeof document!=="undefined"?!!document.documentElement.currentStyle:!1,w=function(a){a=window.getComputedStyle(a);if(a===null)return null;a=t(u,a);var b=a.boxSizing;if(b==="")return null;v&&b==="border-box"&&(a.width=parseFloat(a.width)+parseFloat(a.borderRightWidth)+parseFloat(a.borderLeftWidth)+parseFloat(a.paddingRight)+parseFloat(a.paddingLeft)+"px");b=parseFloat(a.paddingBottom)+parseFloat(a.paddingTop);var c=parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth);return{sizingStyle:a,paddingSize:b,borderSize:c}},x=function(a){var b=l["default"](a);c.useLayoutEffect(function(){var a=function(a){b.current(a)};window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},[])};d=function(d,e){var f=d.cacheMeasurements,g=d.maxRows,h=d.minRows,i=d.onChange,j=i===void 0?s:i;i=d.onHeightChange;var k=i===void 0?s:i;i=b(d,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var l=i.value!==void 0,n=c.useRef(null);d=m["default"](n,e);var o=c.useRef(0),p=c.useRef(),q=function(){var a=n.current,b=f&&p.current?p.current:w(a);if(!b)return;p.current=b;b=r(b,a.value||a.placeholder||"x",h,g);var c=b[0];b=b[1];o.current!==c&&(o.current=c,a.style.setProperty("height",c+"px","important"),k(c,{rowHeight:b}))};e=function(a){l||q(),j(a)};typeof document!=="undefined"&&(c.useLayoutEffect(q),x(q));return c.createElement("textarea",a({},i,{onChange:e,ref:d}))};f=c.forwardRef(d);k["default"]=f}var n=!1;function o(){n||(n=!0,m());return l.exports}c={};var p={exports:c};function q(){p.exports=o()}var r=!1;function s(){r||(r=!0,q());return p.exports}function a(a){switch(a){case void 0:return s()}}e.exports=a}),null);
__d("react-textarea-autosize",["react-textarea-autosize-8.3.2"],(function(a,b,c,d,e,f){e.exports=b("react-textarea-autosize-8.3.2")()}),null);/*FB_PKG_DELIM*/
__d("isInstamadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("662")===!0||c("qex")._("1378")===!0}g["default"]=a}),98);
__d("IGDInstamadilloUtils",["ExecutionEnvironment","LSThreadBitOffset","gkx","isInstamadillo","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(a==null?void 0:a.transportKey)==="Instamadillo"}function j(a){return a==null?!1:d("LSThreadBitOffset").has(214,a)}function a(a){return a==null?!1:d("LSThreadBitOffset").has(212,a)}function k(a){return a==null?!1:d("LSThreadBitOffset").has(38,a)}function b(a){return a==null?!1:d("LSThreadBitOffset").has(211,a)}function e(a){var b=k(a);a=j(a);b=b&&l();a=a&&c("qex")._("426")===!0;return b||a}function l(){return c("gkx")("32941")&&c("qex")._("1377")===!0}function f(a,b){a=i(a)&&a.ephemeralExpirationTs!=null;return b&&a||!b&&!a}function m(a){a=i(a);return!a?!0:c("isInstamadillo")()}function n(){return c("qex")._("675")===!0||c("qex")._("676")===!0}var o=function(){var a={browser:(h||(h=c("ExecutionEnvironment"))).isInBrowser,isLegacyArmadilloTLC:c("qex")._("121")===!0,isMobileDM:c("gkx")("2553"),isMobileInstamadilloTLC:c("gkx")("2322"),isMobileOrWebTTLC:c("gkx")("2406"),isWebTTLC:c("qex")._("954")===!0,sharedWorker:h.isInSharedWorker,worker:h.isInWorker},b="";a=Object.entries(a);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];b+=f+": "+String(e)+"\n"}return b};g.isInstamadilloMessage=i;g.isInstamadilloCutover=j;g.isInstamadilloDMToggleEnabled=a;g.isIGDDisappearingModeEnabled=k;g.isInstamadilloTransportEnabled=b;g.isInstamadilloHardblockEnabled=e;g.isDMHardblockedEnabled=l;g.shouldRenderMessageReply=f;g.canMutateIGDMessage=m;g.isInstamadilloSecurityAlertsEnabled=n;g.getE2EEGatingStateAsString=o}),98);
__d("IGDSVideoChatPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).c,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("rect",{fill:"none",height:"18",rx:"3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"16.999",x:"1",y:"3"}),e=j.jsx("path",{d:"m17.999 9.146 2.495-2.256A1.5 1.5 0 0 1 23 8.003v7.994a1.5 1.5 0 0 1-2.506 1.113L18 14.854",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDShareSheetOnSubmitFactory",["Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f,h,i){var j=e.instamadilloRecipients;e=e.openRecipients;e!=null&&e.size>0&&a(e,f,h,i);e=[];if(j!=null&&j.size>0)for(j of j.values()){var k=j.candidate;e.push(c(k.id,k.isDisappearingModeSettingOn,d(k),f,h,i))}yield (g||(g=b("Promise"))).allSettled(e)});return function(a,b,c,d){return e.apply(this,arguments)}}()}f["default"]=a}),66);
__d("InstagramMediaProductTypeName",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LIVE:"live",FEED:"feed",STORY:"story",DIRECT:"direct",IGTV:"igtv",NAMETAG:"nametag",DIRECT_AUDIO:"direct_audio",CAROUSEL_ITEM:"carousel_item",CAROUSEL_CONTAINER:"carousel_container",PROFILE_PIC:"profile_pic",AD:"ad",AR_EFFECT_PREVIEW:"ar_effect_preview",DIRECT_PERMANENT:"direct_permanent",SELFIE_STICKER:"selfie_sticker",COWATCH_LOCAL:"cowatch_local",CLIPS:"clips",GUIDE_MEDIA_FACADE:"guide_media_facade",FUNDRAISER_COVER:"fundraiser_cover",LIVE_ARCHIVE:"live_archive",HIGHLIGHT_POST_FACADE:"highlight_post_facade",DIRECT_THREAD:"direct_thread",SCHEDULED_LIVE:"scheduled_live",RATINGS_AND_REVIEWS:"ratings_and_reviews",DIRECT_HEADMOJI:"direct_headmoji",CLIPS_PREVIEW:"clips_preview",REPOST_MEDIA_FACADE:"repost_media_facade",STORY_INTERACTION_RESPONSE:"story_interaction_response",MEDIA_KIT:"media_kit",TEXT_POST:"text_post",NOTE_AUDIO:"note_audio",DIRECT_MESSAGE_COMMENT_FACADE:"direct_message_comment_facade"});c=a;f["default"]=c}),66);
__d("IGDThreadTTLCUtils",["IGDInstamadilloUtils","InstagramMediaProductTypeName","LSThreadBitOffset","ZenonRTWebBrowserFeatureSupport","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a==null||d("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(a))return!1;return!c("qex")._("954")?!1:d("LSThreadBitOffset").has(b,a)}function i(a){return h(a,225)}function j(a){if(!c("gkx")("2400"))return!1;return!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()?!1:h(a,235)}function k(a){return h(a,226)}function l(a){return h(a,227)}function m(a){return h(a,228)}function n(a){return h(a,229)}function o(a){return h(a,230)}function p(a){return h(a,231)}function q(a){return h(a,232)}function r(a){return h(a,233)}function s(a){return h(a,234)}function t(a){return h(a,236)}function u(a){return i(a)||j(a)||k(a)||l(a)||m(a)||n(a)||o(a)||p(a)||q(a)||r(a)||s(a)||t(a)}function a(a,b){var d=a.isDisappearingModeSettingOn,e=a.isTTLCClipEnabled,f=a.isTTLCGenericXMAShareEnabled,g=a.isTTLCMediaShareEnabled;a=a.isTTLCStoryShareEnabled;b=c("InstagramMediaProductTypeName").cast(b);if(b==null||d)return!1;if(!c("qex")._("954"))return!1;switch(b){case"feed":case"carousel_container":case"ad":return g;case"clips":return e;case"story":return a;case"live":return f;default:return!1}}function b(a){return new Map([["Text",i(a)],["Clip",k(a)],["Reel Share",l(a)],["Media Share",m(a)],["Story Share",n(a)],["Link",o(a)],["Generic XMA",p(a)],["Profile",t(a)],["Image",q(a)],["Video",r(a)],["Audio",s(a)],["Gif/Sticker/Avatar",void 0],["Raven",void 0],["Media Collection",void 0],["Calling",j(a)],["Rest of Message Types",void 0]])}function e(a){return{is_instamadillo_ttlc:String(u(a)),is_instamadillo_ttlc_audio:String(s(a)),is_instamadillo_ttlc_clip:String(k(a)),is_instamadillo_ttlc_generic_xma:String(p(a)),is_instamadillo_ttlc_image:String(q(a)),is_instamadillo_ttlc_link:String(o(a)),is_instamadillo_ttlc_media_share:String(m(a)),is_instamadillo_ttlc_profile:String(t(a)),is_instamadillo_ttlc_reel_share:String(l(a)),is_instamadillo_ttlc_story_share:String(n(a)),is_instamadillo_ttlc_text:String(i(a)),is_instamadillo_ttlc_video:String(r(a))}}function f(a){return{is_instamadillo_ttlc:u(a),is_instamadillo_ttlc_audio:s(a),is_instamadillo_ttlc_clip:k(a),is_instamadillo_ttlc_generic_xma:p(a),is_instamadillo_ttlc_image:q(a),is_instamadillo_ttlc_link:o(a),is_instamadillo_ttlc_media_share:m(a),is_instamadillo_ttlc_profile:t(a),is_instamadillo_ttlc_reel_share:l(a),is_instamadillo_ttlc_story_share:n(a),is_instamadillo_ttlc_text:i(a),is_instamadillo_ttlc_video:r(a)}}function v(a,b){if(a==null)return!1;switch(a.__typename){case"XMSGIgReceiverFetchXmaFeedFetchParams":return m(b);case"XMSGIgReceiverFetchXmaProfileFetchParams":return p(b);case"XMSGIgReceiverFetchXmaClipFetchParams":return k(b);default:return!1}}g.isInstamadilloTTLCTextEnabled=i;g.isInstamadilloTTLCCallingEnabled=j;g.isInstamadilloTTLCClipEnabled=k;g.isInstamadilloTTLCReelShareEnabled=l;g.isInstamadilloTTLCMediaShareEnabled=m;g.isInstamadilloTTLCStoryShareEnabled=n;g.isInstamadilloTTLCLinkEnabled=o;g.isInstamadilloTTLCGenericXmaEnabled=p;g.isInstamadilloTTLCImageEnabled=q;g.isInstamadilloTTLCVideoEnabled=r;g.isInstamadilloTTLCAudioEnabled=s;g.isInstamadilloTTLCProfileEnabled=t;g.isIGDTTLCEnabledForThread=u;g.isIGDTTLCEnabledForIGDCandidate=a;g.getTtlcMessageTypeMap=b;g.getTTLCLoggingExtraData=e;g.getTTLCBooleanAnnotations=f;g.isXmaReceiverFetchTTLCEnabled=v}),98);
__d("LSAppendDataTraceAddon",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(154).add({addonId:void 0,traceId:a[0],timestampMs:c[0],checkPointId:a[1],syncChannel:a[2],errorMessage:a[3],tags:a[4]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSDataTraceAppendDataTraceAddonStoredProcedure";e.exports=a}),null);
__d("LSArrayGetObjectAt",["I64","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e,f){return(i||(i=b("Promise"))).resolve([e[(h||(h=d("I64"))).to_int32(f)],e])}g.call=a}),98);
__d("LSDeleteThenInsertContactPresence",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(186).put({contactId:a[0],status:a[1],expirationTimestampMs:a[3],lastActiveTimestampMs:a[2],capabilities:a[4],publishId:a[5]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSPresenceDeleteThenInsertContactPresenceStoredProcedure";e.exports=a}),null);
__d("LSFlushSyncTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(153).fetch(),function(c){return b.i64.eq(c.traceType,b.i64.cast([0,2]))&&c.contextOne===a[1]&&c.contextThree===a[0]}),function(a){var b=a.update;a.item;return b({shouldFlush:!0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure";e.exports=a}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var d=c.update;c=c.item;return d({epochId:!a[0]&&b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?c.epochId:void 0,failureCount:b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?b.i64.cast([0,0]):b.i64.add(c.failureCount,b.i64.cast([0,1]))})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure";e.exports=a}),null);
__d("LSLogEventAnnotate.nop",["FBLogger","I64","LSDict","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(a,e,f,g,j,k){a=k.has("error_msg");a&&c("FBLogger")("ls_web_init").warn("LS log event for logCategory %s, logEventId %s, logEventInstanceId %s, annotations %s",(i||(i=d("I64"))).to_string(f),i.to_string(g),i.to_string(j),JSON.stringify(c("LSDict").shapeToRecord(k)));return(h||(h=b("Promise"))).resolve()};g["default"]=a}),98);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.resolve()},function(e){return c.filter(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[2]=",",function(a){c.logger(a).mustfix(a)}(["epoch mismatch",d[2]," db_type=",d[2],c.i64.to_string(a[0]),d[2]," previous_cursor=",d[2],a[2]==null?"null":a[2],d[2]," next_cursor=",d[2],a[3]].join("")),d[3]=new c.Map(),d[3].set("database_id",a[0]),d[3].set("epoch_id",a[1]),d[3].set("sync_status",a[4]),d[3].set("next_cursor",a[3]),d[3].set("error_msg","epoch mismatch"),a[9]?d[4]=!1:d[4]=!0,d[4]?c.resolve():(d[6]=a[9].keys(),d[7]=c.i64.of_int32(d[6].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return d[11]=a[9].get(d[9]),a[9],d[3].set(d[9],d[11])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[3])},function(a){return d[5]=!1,d[0]=d[5]}]):(e.item,c.sequence([function(e){return c.filter(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[4]=",",function(a){c.logger(a).mustfix(a)}(["cursor mismatch",d[4]," db_type=",d[4],c.i64.to_string(a[0]),d[4]," previous_cursor=",d[4],a[2]==null?"null":a[2],d[4]," next_cursor=",d[4],a[3]].join("")),d[5]=new c.Map(),d[5].set("database_id",a[0]),d[5].set("epoch_id",a[1]),d[5].set("sync_status",a[4]),d[5].set("next_cursor",a[3]),d[5].set("error_msg","cursor mismatch"),a[9]?d[6]=!1:d[6]=!0,d[6]?c.resolve():(d[8]=a[9].keys(),d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[10]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(b){return d[13]=a[9].get(d[11]),a[9],d[5].set(d[11],d[13])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[5])},function(a){return d[7]=!1,d[2]=d[7]}]):(e.item,c.sequence([function(b){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.of_float(Date.now()),c.forEach(c.db.table(1).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[4],a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:d[5]})})},function(b){return c.forEach(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.cast([-1,4294967295])})})},function(e){return d[6]=new c.Map(),d[6].set("database_id",a[0]),d[6].set("epoch_id",a[1]),d[6].set("sync_status",a[4]),d[6].set("next_cursor",a[3]),a[9]?d[7]=!1:d[7]=!0,d[7]?c.resolve():(d[9]=a[9].keys(),d[10]=c.i64.of_int32(d[9].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(b){return d[14]=a[9].get(d[12]),a[9],d[6].set(d[12],d[14])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[6])},function(a){return d[8]=!0,d[2]=d[8]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure";e.exports=a}),null);
__d("LSGetViewerFBID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(a){return b.sequence([function(a){return b.db.table(4).fetch([[[b.i64.cast([0,1])]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=b.i64.cast([-1,4294967295]):(d=a.item,c[0]=d.facebookUserId)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetViewerFBIDStoredProcedure";e.exports=a}),null);
__d("LSIssueNewTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[0],httpUrlOverride:a[3],timeoutTimestampMs:a[4],pluginType:a[5],priority:a[6],syncGroupId:a[7],transportKey:a[8],minTimeToSyncTimestampMs:a[9]})},function(d){return b.filter(b.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])&&c.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[1]=b.i64.cast([-1,4294967295]):(d=a.item,c[1]=d.taskId)})},function(a){return function(a){b.logger(a).info(a)}(["LightSpeed NewTask"," ",b.i64.to_string(c[1])].join(""))}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewTaskStoredProcedure";e.exports=a}),null);
__d("LSIssueNewTaskAndGetTaskID",["LSIssueNewTask","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(d){return c.storedProcedure(b("LSIssueNewTask"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10])},function(b){return d[3]=c.i64.to_string(a[1]),c.filter(c.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(b){return b.queueName===a[0]&&b.context===d[3]&&b.taskValue===a[2]}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.taskId)})},function(e){return d[2]=new c.Map(),d[2].set("task_id",d[0]),d[2].set("task_queue_name",a[0]),d[2].set("task_label",d[3]),c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,23]),c.i64.cast([0,0]),d[2])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreIssueNewTaskAndGetTaskIDStoredProcedure";e.exports=a}),null);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreSetRegionHintStoredProcedure";e.exports=a}),null);
__d("LSTruncatePresenceDatabase",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return a[0]?b.forEach(b.db.table(186).fetch(),function(a){return a["delete"]()}):b.forEach(b.db.table(186).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSPresenceTruncatePresenceDatabaseStoredProcedure";e.exports=a}),null);
__d("PolarisDirectActionSendText",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e,f,h){return a!=null?a.sendTextMessage(c,d,e,f,h):(g||(g=b("Promise"))).reject(new Error("MQTT is not instantiated"))}f.sendText=a}),66);
__d("PolarisDirectMQTTInstance",["PolarisDirectLogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("PolarisDirectMQTT").__setRef("PolarisDirectMQTTInstance"),i=null,j=new Set();function a(){return i}function b(a){j.add(a);return function(){j["delete"](a)}}function e(a,b,c,e){var g=new(d("PolarisDirectLogger").DirectLogger)("DirectMQTTInstance",e);g.debugTrace("lazy_load_start");return h.load().then(function(a){return a.DirectMQTT}).then(function(d){g.debugTrace("lazy_load_end");i?(g.debugTrace("disconnect_existing"),i.disconnect()):g.debugTrace("nothing_to_disconnect");i=new d({seq_id:a,snapshot_app_version:"web",snapshot_at_ms:b,subscription_type:c},e);j.forEach(function(a){a(i)});window.__mqtt=i;return i},function(a){g.logError("lazy_load_failed",a);return null})}g.getMqttInstance=a;g.subscribeToMQTTCreated=b;g.createMqttInstance=e}),98);
__d("PolarisPostTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.isVideo===!0)return"video";return a.sidecarChildren&&a.sidecarChildren.length>0?"sidecar":"photo"}f.getPostType=a}),66);
__d("usePolarisMQTT",["PolarisDirectMQTTInstance","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useSyncExternalStore;function a(){return i(d("PolarisDirectMQTTInstance").subscribeToMQTTCreated,d("PolarisDirectMQTTInstance").getMqttInstance,j)}function j(){return null}g["default"]=a}),98);
__d("usePolarisPost",["PolarisReactRedux.react","nullthrows","polarisPostSelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).c;function a(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){c=d("polarisPostSelectors").getPostById(c,a);return b(c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var e=i(3),f;e[0]!==a||e[1]!==b?(f=function(e){var f=d("polarisPostSelectors").getPostById(e,a);e=d("polarisUserSelectors").getUserByIdOrThrows(e,c("nullthrows")((e=f.owner)==null?void 0:e.id));return b(f,e)},e[0]=a,e[1]=b,e[2]=f):f=e[2];return d("PolarisReactRedux.react").useSelector(f)}g.usePost=a;g.usePostAndOwner=b}),98);
__d("useStableCallback",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect,j=b.useRef,k=b.c;function a(a){var b=k(4),c=j(a),d,e;b[0]!==a?(d=function(){c.current=a},e=[a],b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);i(d,e);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(d=function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];var e=b;return c.current.apply(c,e)},b[3]=d):d=b[3];return d}g["default"]=a}),98);